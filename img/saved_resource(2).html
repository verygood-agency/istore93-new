
<!-- saved from url=(0011)about:blank -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="google" content="notranslate"><meta http-equiv="X-UA-Compatible" content="IE=edge"><script type="text/javascript">window.onerror = function g(e,t,n,o,r){r&&r.error&&(r=r.error),r&&r instanceof Error||(r={}),r.stack=r.stack||"empty",r.message="Bundle init error: "+e+" error.message: "+r.message,r.columnNumber=o,r.lineNumber=n,r.url=t,window.parent.__jivoOnError(r)};window.base_langpack = {"botListPickerBlock":"–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–∞ –∏–∑ –∫–Ω–æ–ø–æ–∫ –≤ —á–∞—Ç–µ","botTransferChat":"–î–∏–∞–ª–æ–≥ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω –Ω–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞","businessCopyright":"–ë–∏–∑–Ω–µ—Å-–º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä {0}","byYandex":"—á–µ—Ä–µ–∑ –Ø–Ω–¥–µ–∫—Å","callback_delayed_button_submit":"–ó–∞–∫–∞–∑–∞—Ç—å –∑–≤–æ–Ω–æ–∫","callback_delayed_period_as_possible":"–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è","callback_delayed_period_delimiter":"–≤","callback_delayed_period_today":"–°–µ–≥–æ–¥–Ω—è","callback_delayed_period_tomorrow":"–ó–∞–≤—Ç—Ä–∞","callback_delayed_submit_fail":"–ù–µ —É–¥–∞–ª–æ—Å—å –∑–∞–∫–∞–∑–∞—Ç—å –∑–≤–æ–Ω–æ–∫ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑","callback_delayed_submit_success":"–°–ø–∞—Å–∏–±–æ!\n–ú—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è","callback_delayed_title":"–ö–æ–≥–¥–∞ –≤–∞–º –ø–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç—å?","cancel":"–û—Ç–º–µ–Ω–∞","captchaPlaceholder":"–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏","captchaPlaceholderAgain":"–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –µ—â–µ —Ä–∞–∑","cb_loading":"–ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è...","chat_agent_join":"–û–ø–µ—Ä–∞—Ç–æ—Ä _AGENT_ –ø—Ä–∏–≥–ª–∞—à–µ–Ω –≤ –¥–∏–∞–ª–æ–≥","chat_agent_left":"–û–ø–µ—Ä–∞—Ç–æ—Ä _AGENT_  –≤—ã—à–µ–ª –∏–∑ –¥–∏–∞–ª–æ–≥–∞","chat_on_site":"–ß–∞—Ç c","cobrowseError":"–û—à–∏–±–∫–∞ - —Å—Å—ã–ª–∫–∞ —É—Å—Ç–∞—Ä–µ–ª–∞ –∏–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –Ω–µ –Ω–∞–π–¥–µ–Ω","continue":"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å","conversation_with":"–ò–¥–µ—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä","cwPopupPutPhone":"–û—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞","cwPopupTime":"–ü–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤–∞–º –≤ —É–¥–æ–±–Ω–æ–µ –≤—Ä–µ–º—è","cw_callAfter":"–ü–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤–∞–º —á–µ—Ä–µ–∑","cw_callButtonText":"–ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç–µ –º–Ω–µ","cw_callHeader":"–û–±—Ä–∞—Ç–Ω—ã–π –∑–≤–æ–Ω–æ–∫","cw_call_forward":"–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞–∫–∞–∑ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –∑–≤–æ–Ω–∫–∞! –ù–∞—à–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ø–µ—Ä–µ–∑–≤–æ–Ω—è—Ç –≤–∞–º –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è","cw_call_to":"–ó–≤–æ–Ω–æ–∫ –Ω–∞","cw_code_restrict":"–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –º—ã –Ω–µ –º–æ–∂–µ–º –ø–æ–∑–≤–æ–Ω–∏—Ç—å –Ω–∞ —ç—Ç–æ—Ç –Ω–æ–º–µ—Ä","cw_connecting":"–°–æ–µ–¥–∏–Ω—è–µ–º...","cw_enterPhonePlaceholder":"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω","cw_errInfoText":"–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–≤–æ–Ω–∏—Ç—å –µ—â–µ —Ä–∞–∑, –∏–ª–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –≤ —á–∞—Ç.","cw_form_second":"—Å–µ–∫—É–Ω–¥—É","cw_form_secondd":"—Å–µ–∫—É–Ω–¥","cw_form_seconds":"—Å–µ–∫—É–Ω–¥—ã","cw_pickUpPhone":"–í–æ–∑—å–º–∏—Ç–µ —Ç—Ä—É–±–∫—É","cw_rate_limit":"–í—ã–∑–æ–≤ –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π –Ω–æ–º–µ—Ä –Ω–µ–≤–æ–∑–º–æ–∂–µ–Ω","cw_reason_all_busy":"–í—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∑–∞–Ω—è—Ç—ã","cw_reason_is_busy":"–í—Å–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∑–∞–Ω—è—Ç—ã","cw_reason_not_picked_up":"–ê–±–æ–Ω–µ–Ω—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç","cw_reason_unavailable":"–°–µ—Ä–≤–∏—Å –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω","cw_repeatCall":"–ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç–µ –º–Ω–µ","cw_repeatCallAgain":"–ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç—å –µ—â–µ —Ä–∞–∑","cw_thxForCall":"–°–ø–∞—Å–∏–±–æ –≤–∞–º –∑–∞ –∑–≤–æ–Ω–æ–∫!","cw_typeInChat":"–ù–∞–ø–∏—Å–∞—Ç—å –≤ —á–∞—Ç","cw_unableToConnect":"–ù–µ —Å–º–æ–≥–ª–∏ —Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è?","cw_weCalling":"–ú—ã –≤–∞–º –∑–≤–æ–Ω–∏–º","cw_weRecallAfter":"–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞, –∏ –º—ã –ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º –≤–∞–º –∑–∞","c_callDisconnected":"–í—ã–∑–æ–≤ –∑–∞–≤–µ—Ä—à–µ–Ω","defCallformTitle":"–ù—É–∂–Ω–∞¬†–ø–æ–º–æ—â—å? –ú—ã¬†–ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º —á–µ—Ä–µ–∑ _SEC_¬†—Å–µ–∫—É–Ω–¥!","defOfflineFormText":"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ. \n–£ –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã? –ú—ã —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –æ—Ç–≤–µ—Ç–∏–º!","defOfflineFormText2":"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ. \n–£ –≤–∞—Å –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã? –ú—ã —Å —É–¥–æ–≤–æ–ª—å—Å—Ç–≤–∏–µ–º –æ—Ç–≤–µ—Ç–∏–º!","defOfflineFormText_old":"–û—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —ç—Ç–æ–π —Ñ–æ—Ä–º–µ, –º—ã –ø–æ–ª—É—á–∏–º –µ–≥–æ –Ω–∞ e-mail –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—Ç–≤–µ—Ç–∏–º!","defOfflineWidgetLabel":"–û—Ç–ø—Ä–∞–≤—å—Ç–µ –Ω–∞–º —Å–æ–æ–±—â–µ–Ω–∏–µ","defOfflineWidgetLabelMobile":"–°–æ–æ–±—â–µ–Ω–∏–µ","defOnlineWidgetLabel":"–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º, –º—ã –æ–Ω–ª–∞–π–Ω!","defOnlineWidgetLabelMobile":"–ß–∞—Ç","defRuleInvitationText":"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –Ø –º–æ–≥—É –≤–∞–º —á–µ–º-—Ç–æ –ø–æ–º–æ—á—å?","defRuleRetaining":"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–¥–æ–∂–¥–∏—Ç–µ. –°–µ–π—á–∞—Å –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –∑–∞–Ω—è—Ç—ã, –Ω–æ —Å–∫–æ—Ä–æ –∫—Ç–æ-–Ω–∏–±—É–¥—å –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è –∏ –æ—Ç–≤–µ—Ç–∏—Ç –≤–∞–º!","defRuleRetainingEmail":"–ù–µ—Ç –≤—Ä–µ–º–µ–Ω–∏ –∂–¥–∞—Ç—å –æ—Ç–≤–µ—Ç? –ü–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–∞ –ø–æ—á—Ç—É!","disconnect_msg":"–ù–µ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ç–∏...","downloadChatText":"–°–∫–∞—á–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞","enterEmailPlaceholder":"–í–≤–µ–¥–∏—Ç–µ –≤–∞—à email","error_resend":"–æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ—â–µ —Ä–∞–∑?","error_send":"–ù–µ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ","eula_custom_agreement":"–°—Ç–∞–≤—è –æ—Ç–º–µ—Ç–∫—É, —è –¥–∞—é —Å–≤–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –º–æ–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–∫–æ–Ω–æ–º –∏ –ø—Ä–∏–Ω–∏–º–∞—é —É—Å–ª–æ–≤–∏—è","eula_custom_title":"–°–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö","eula_link":"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ","eula_phone":"–ü–µ—Ä–µ–∑–≤–æ–Ω–∏—Ç—å –Ω–∞ –Ω–æ–º–µ—Ä","file_upl_cancel":"–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç–º–µ–Ω–µ–Ω–∞","file_upl_download":"–°–∫–∞—á–∞—Ç—å","file_upl_error":"–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏","file_upl_error_max_size":"–û—à–∏–±–∫–∞ ‚Äì —Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–µ –±–æ–ª—å—à–µ _FILESIZE_","file_upl_error_no_ext":"–û—à–∏–±–∫–∞ ‚Äì –≤—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª —Å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º","file_upl_expired":"–°—Å—ã–ª–∫–∞ —É—Å—Ç–∞—Ä–µ–ª–∞","introduce_in_chat":"–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ—Å—å –≤ —á–∞—Ç–µ","introduce_or":"–∏–ª–∏","introduce_social":"–õ–∏–±–æ –≤–æ–π–¥–∏—Ç–µ —á–µ—Ä–µ–∑","introduce_text":"–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ—Å—å, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–∫–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã –ø–∏—à—É—Ç –≤–∞–º –æ—Ç–≤–µ—Ç","invalid_email":"–ù–µ–≤–µ—Ä–Ω—ã–π –∞–¥—Ä–µ—Å. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.","invoiceEmail":"Email –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ–∫–∞","label_fb_text":"–°–æ–æ–±—â–µ–Ω–∏–µ –≤ Facebook","label_vk_text":"–°–æ–æ–±—â–µ–Ω–∏–µ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ","lbAbcText":"Apple –°–æ–æ–±—â–µ–Ω–∏—è","lblCallMe":"–ü–æ–∑–≤–æ–Ω–∏—Ç—å","lblCaptcha":"–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ —Å –∫–∞—Ä—Ç–∏–Ω–∫–∏","lblCaptchaError":"–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥, –≤–≤–µ–¥–∏—Ç–µ –µ—â–µ —Ä–∞–∑","lblConnectedToAgent":"–ù–∞–ø–∏—à–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ","lblDeclineFile":"–û—Ç–∫–ª–æ–Ω–∏—Ç—å","lblDefaultCobrowseComment":"–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ","lblEnterMessageHere":"–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ","lblEnterMessageOrPhoneHere":"–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–ª–∏ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–ø–µ—Ä–µ–∑–≤–æ–Ω–∏–º –º–≥–Ω–æ–≤–µ–Ω–Ω–æ)","lblEvaluateCancel":"–û—Ç–º–µ–Ω–∏—Ç—å","lblEvaluatePlease":"–û—Ü–µ–Ω–∏—Ç–µ –∫–∞—á–µ—Å—Ç–≤–æ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è","lblEvaluateThanks":"–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ü–µ–Ω–∫—É!","lblHangUp":"–ó–∞–≤–µ—Ä—à–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ","lblIntroduceName":"–í–∞—à–µ –∏–º—è","lblIntroduceRequest":"–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ—Å—å –≤ —á–∞—Ç–µ","lblIntroduceRequestBefore":"–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ—Å—å –∏ –Ω–∞—á–Ω–∏—Ç–µ —á–∞—Ç!","lblLeaveMessage":"–û—Å—Ç–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ","lblMessageHere":"–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ","lblMessagesApp":"–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –≤ Messages App","lblNewMessage":"–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ!","lblOfflineMessageSend":"–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ","lblOperatorsOnline":"–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –æ–Ω–ª–∞–π–Ω!","lblPencilHint":"–û–ø–µ—Ä–∞—Ç–æ—Ä –Ω–∞–±–∏—Ä–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ","lblPwrBy":"–ß–∞—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω <a href=\"http://www.jivosite.ru/_URL_\" target=\"_blank\"><span class=\"j1\">Jivo</span><span class=\"j2\">Site</span></a>","lblReceiveFile":"–ü—Ä–∏–Ω—è—Ç—å","lblReply":"–û—Ç–≤–µ—Ç–∏—Ç—å","lblSelectDep":"–í—ã–±–µ—Ä–∏—Ç–µ –æ—Ç–¥–µ–ª","lblSend":"–û—Ç–ø—Ä–∞–≤–∏—Ç—å","lblSendBefore":"–ù–∞—á–∞—Ç—å –¥–∏–∞–ª–æ–≥","lblSendingFile":"_AGENT_ –ø–µ—Ä–µ–¥–∞–µ—Ç –≤–∞–º —Ñ–∞–π–ª: _FILE_","lblThanks":"–°–ø–∞—Å–∏–±–æ! üéâ","lblThankYouMessage":"–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ! –ú—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è","lblTransferred":"–î–∏–∞–ª–æ–≥ –ø–µ—Ä–µ–¥–∞–Ω –æ–ø–µ—Ä–∞—Ç–æ—Ä—É _AGENT_","lblView":"–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å","lblYourEmail":"–í–∞—à e-mail","lblYourMessage":"–í–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ","lblYourPhone":"–í–∞—à —Ç–µ–ª–µ—Ñ–æ–Ω","lnkCloseThisWindow":"–ó–∞–∫—Ä—ã—Ç—å","maintenanceBlockedPlaceholder":"–û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞","maintenanceSystemText":"–í–Ω–∏–º–∞–Ω–∏–µ! –ú—ã –ø—Ä–æ–≤–æ–¥–∏–º –ø–ª–∞–Ω–æ–≤—ã–µ —Ä–∞–±–æ—Ç—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å —á–∞—Ç –ª—É—á—à–µ. –í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –æ–Ω –Ω–∞—á–Ω–µ—Ç —Ä–∞–±–æ—Ç—É —Å–Ω–æ–≤–∞. –ë–ª–∞–≥–æ–¥–∞—Ä–∏–º –∑–∞ –æ–∂–∏–¥–∞–Ω–∏–µ.","messageDeleted":"–°–æ–æ–±—â–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–æ","messageEdit":"–æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ","offlineAgentConnected":"–û–ø–µ—Ä–∞—Ç–æ—Ä –ø–æ–¥–∫–ª—é—á–∏–ª—Å—è –∫ –¥–∏–∞–ª–æ–≥—É","offlineBlockedInputPlaceholder":"–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —É–∫–∞–∂–∏—Ç–µ –≤–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã","offlineForceOfflineMessage":"–ü–æ—Ö–æ–∂–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã —Å–µ–π—á–∞—Å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ—ë —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –º—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏","offlineIntroductionText":"–£–∫–∞–∂–∏—Ç–µ –≤–∞—à–∏ –∫–æ–Ω—Ç–∞–∫—Ç—ã, —á—Ç–æ–±—ã –º—ã —Å–º–æ–≥–ª–∏ –æ—Ç–≤–µ—Ç–∏—Ç—å –≤–∞–º","offlineSuccessContactsSubmit":"–¢–µ–ø–µ—Ä—å –≤–∞—à–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ –ø–æ—Ç–µ—Ä—è—é—Ç—Å—è. –û—Ç–≤–µ—Ç –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–≤ –ø—Ä–∏–¥–µ—Ç –≤ —á–∞—Ç –∏ –ø–æ —É–∫–∞–∑–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–∞–∫—Ç–∞–º.","omni_sb_link":"–°–∞–ª—é—Ç","onlineChat":"–û–Ω–ª–∞–π–Ω —á–∞—Ç","paymentsInvoice":"–°—á–µ—Ç ‚Ññ","paymentsPay":"–ó–∞–ø–ª–∞—Ç–∏—Ç—å","paymentsSuccess":"—É—Å–ø–µ—à–Ω–æ –æ–ø–ª–∞—á–µ–Ω","powerBtnMenuTitle":"–ö–∞–∫ –≤–∞–º —É–¥–æ–±–Ω–µ–µ —Å –Ω–∞–º–∏ —Å–≤—è–∑–∞—Ç—å—Å—è?","prechatText":"–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ!","prechatText2":"–ú–Ω–µ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å","prechatText3":"–í—ã –º–æ–∂–µ—Ç–µ –º–Ω–µ –ø–æ–º–æ—á—å?","proactiveReplyTitle":"–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞ –≤ —á–∞—Ç–µ","rateFormCommentTitle":"–í–∞—à –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π","rateFormFinishText":"–†–∞–¥—ã, —á—Ç–æ –≤–∞–º –ø–æ–Ω—Ä–∞–≤–∏–ª–æ—Å—å","rateFormFinishTextNegative":"–ú—ã —Å—Ç—Ä–µ–º–∏–º—Å—è –¥–µ–ª–∞—Ç—å –ª—É—á—à–∏–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –≤–∞—Å. –ù–∞–º –µ—Å—Ç—å –Ω–∞–¥ —á–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å.","rateFormFinishTitle":"–°–ø–∞—Å–∏–±–æ –∑–∞ –æ—Ç–∑—ã–≤","rateFormText":"–ù–∞—Å–∫–æ–ª—å–∫–æ –≤—ã —É–¥–æ–≤–ª–µ—Ç–≤–æ—Ä–µ–Ω—ã –æ—Ç–≤–µ—Ç–∞–º–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞?","rateFormTitle":"–û—Å—Ç–∞–≤—å—Ç–µ –æ—Ç–∑—ã–≤","rate_default_condition_name":"chat_finished","rate_default_condition_value":null,"rate_default_rate_type":"two","reconnect_msg":"–ò–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ","seo_copyrightTextNew":"–ß–∞—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω {0}","service_from":"–°–µ—Ä–≤–∏—Å –æ—Ç","social_fb":"–≤ Facebook","social_get_access":"–ù–µ —Ö–æ—Ç–∏—Ç–µ –∂–¥–∞—Ç—å? \n–ü–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ!","social_get_access_fb":"–ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∂–¥–∞—Ç—å –Ω–∞ —Å–∞–π—Ç–µ! –ú—ã –æ—Ç–ø—Ä–∞–≤–∏–º –æ—Ç–≤–µ—Ç –≤ Messenger","social_get_access_sb":"–ß—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∫—É –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –°–∞–ª—é—Ç, –Ω–∞–≤–µ–¥–∏—Ç–µ –∫–∞–º–µ—Ä—É —Å–º–∞—Ä—Ç—Ñ–æ–Ω–∞ –Ω–∞ QR-–∫–æ–¥","social_im":"–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º","social_online_text":"–û–ø–µ—Ä–∞—Ç–æ—Ä—ã –≤ —Å–µ—Ç–∏ –∏ —Å–∫–æ—Ä–æ –æ—Ç–≤–µ—Ç—è—Ç","social_process_in":"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–∏–∞–ª–æ–≥","social_process_in_fb":"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤","social_process_in_sb":"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–µ—Ä–µ–ø–∏—Å–∫—É –≤","social_process_vk":"–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –¥–∏–∞–ª–æ–≥ _ICON_–í–ö–æ–Ω—Ç–∞–∫—Ç–µ","social_success_email":"–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –æ—Å—Ç–∞–≤–∏–ª–∏ –≤–∞—à –∞–¥—Ä–µ—Å! –ö–æ–≥–¥–∞ –ø—Ä–∏–¥–µ—Ç –æ—Ç–≤–µ—Ç, –æ—Ç–ø—Ä–∞–≤–∏–º –µ–≥–æ –Ω–∞ _EMAIL_ –∏ –≤ —ç—Ç–æ—Ç —á–∞—Ç.","social_success_fb":"Messenger –ø–æ–¥–∫–ª—é—á–µ–Ω! üëç  –ï—Å–ª–∏ –≤—ã —É–π–¥–µ—Ç–µ —Å —Å–∞–π—Ç–∞, —Ç–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏–¥—É—Ç –≤ —ç—Ç–æ—Ç —á–∞—Ç –∏ –≤ Messenger","social_success_sb":"–°–∞–ª—é—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω! üëç\n–ú–æ–∂–µ—Ç–µ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –°–∞–ª—é—Ç. –ü–µ—Ä–µ–ø–∏—Å–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –æ–±–æ–∏—Ö —á–∞—Ç–∞—Ö","social_success_vk":"–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –í–ö–æ–Ω—Ç–∞–∫—Ç–µ –≤–∫–ª—é—á–µ–Ω—ã! üëç  –ï—Å–ª–∏ –≤—ã —É–π–¥–µ—Ç–µ —Å —Å–∞–π—Ç–∞, —Ç–æ —Å–æ–æ–±—â–µ–Ω–∏—è –ø—Ä–∏–¥—É—Ç –≤ —ç—Ç–æ—Ç —á–∞—Ç –∏ –≤–æ –í–ö–æ–Ω—Ç–∞–∫—Ç–µ","social_text_1":"–û–±—ã—á–Ω–æ –æ—Ç–≤–µ—á–∞–µ–º –º–æ–º–µ–Ω—Ç–∞–ª—å–Ω–æ","social_text_2":"–û–±—ã—á–Ω–æ –æ—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∏–Ω—É—Ç","social_text_3":"–û–±—ã—á–Ω–æ –æ—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ —á–∞—Å–∞","social_text_4":"–û–±—ã—á–Ω–æ –æ—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∞—Å–æ–≤","social_text_5":"–û–±—ã—á–Ω–æ –æ—Ç–≤–µ—á–∞–µ–º –≤ —Ç–µ—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –¥–Ω—è","social_vk":"–í–ö–æ–Ω—Ç–∞–∫—Ç–µ","today":"–°–µ–≥–æ–¥–Ω—è","tryAgain":"–ü–æ–≤—Ç–æ—Ä–∏—Ç—å","webrtc_accept_text":"–ü—Ä–∏–º–∏—Ç–µ –∑–≤–æ–Ω–æ–∫ —á–µ—Ä–µ–∑ —Å–∞–π—Ç –∏ –∑–∞–¥–∞–π—Ç–µ –ª—é–±–æ–π –≤–æ–ø—Ä–æ—Å —á–µ—Ä–µ–∑ –º–∏–∫—Ä–æ—Ñ–æ–Ω –∏–ª–∏ –≥–∞—Ä–Ω–∏—Ç—É—Ä—É. –í–∞—à–∞ –∫–∞–º–µ—Ä–∞ –Ω–µ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è.","webrtc_call":"–ó–≤–æ–Ω–æ–∫","webrtc_callfinished":"–ó–∞–≤–µ—Ä—à—ë–Ω","webrtc_call_end":"–ó–≤–æ–Ω–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω","webrtc_call_inprogress":"–ò–¥–µ—Ç –∑–≤–æ–Ω–æ–∫","webrtc_choose_mic":"–í—ã–±–µ—Ä–∏—Ç–µ –º–∏–∫—Ä–æ—Ñ–æ–Ω","webrtc_error":"–û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è","webrtc_from_site":"–ó–≤–æ–Ω–æ–∫ —Å —Å–∞–π—Ç–∞","webrtc_mic":"–ú–∏–∫—Ä–æ—Ñ–æ–Ω","webrtc_mic_blocked":"–£–≤—ã, –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ –æ—Ç–∫–ª—é—á–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É","webrtc_need_mic_access":"–î–ª—è —Ä–∞–∑–≥–æ–≤–æ—Ä–∞ —Ä–∞–∑—Ä–µ—à–∏—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –º–∏–∫—Ä–æ—Ñ–æ–Ω—É","webrtc_not_now":"–°–µ–π—á–∞—Å –Ω–µ –º–æ–≥—É","webrtc_rejected":"–û—Ç–∫–ª–æ–Ω–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º","webrtc_start_call":"–ù–∞—á–∞—Ç—å –∑–≤–æ–Ω–æ–∫","webrtc_try_again":"–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –µ—â–µ —Ä–∞–∑","webrtc_video_text_message":"–Ø —Ö–æ—á—É –ø–æ–ª—É—á–∏—Ç—å –≤–∏–¥–µ–æ–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é","webrtc_video_text_popup":"–ó–∞–∫–∞–∑–∞—Ç—å –≤–∏–¥–µ–æ–∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é","webrtc_wrong":"–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫","yesterday":"–í—á–µ—Ä–∞"};!function(){var e,t,n,a,i={93379:function(e){var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,n){return"number"!=typeof n||t[e]?n:n+"px"}},24048:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(66660);t.openingParenthesis="([\"'{",t.closingParenthesis=")]\"'}",t.parenthesis=t.openingParenthesis.split("").map((function(e,n){return""+e+t.closingParenthesis.charAt(n)})),t.htmlAttributes=["src","data","href","cite","formaction","icon","manifest","poster","codebase","background","profile","usemap","itemtype","action","longdesc","classid","archive"],t.nonLatinAlphabetRanges="\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC",t.TLDs=a.TLDs},15176:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24048),i=n(37182),o=n(68103),r=n(86371),s=function(e){for(var t=[],n=null,i=function(){var i=n.index,s=i+n[0].length,l=n[0];if("/"===e.charAt(s)&&(l+=e.charAt(s),s++),a.closingParenthesis.indexOf(e.charAt(s))>-1&&a.parenthesis.forEach((function(t){var n=t.charAt(0),a=t.charAt(1);r.checkParenthesis(n,a,l,e.charAt(s))&&(l+=e.charAt(s),s++)})),-1!==['""',"''","()"].indexOf(e.charAt(i-1)+e.charAt(s))&&r.isInsideAttribute(e.substring(i-r.maximumAttrLength-15,i)))return"continue";if(e.substring(s,e.length).indexOf("</a>")>-1&&e.substring(0,i).indexOf("<a")>-1&&r.isInsideAnchorTag(l,e,s))return"continue";if(n[o.iidxes.isURL]){var u=(n[o.iidxes.url.path]||"")+(n[o.iidxes.url.secondPartOfPath]||"")||void 0,c=n[o.iidxes.url.protocol1]||n[o.iidxes.url.protocol2]||n[o.iidxes.url.protocol3];t.push({start:i,end:s,string:l,isURL:!0,protocol:c,port:n[o.iidxes.url.port],ipv4:n[o.iidxes.url.ipv4Confirmation]?n[o.iidxes.url.ipv4]:void 0,ipv6:n[o.iidxes.url.ipv6],host:n[o.iidxes.url.byProtocol]?void 0:(n[o.iidxes.url.protocolWithDomain]||"").substr((c||"").length),confirmedByProtocol:!!n[o.iidxes.url.byProtocol],path:n[o.iidxes.url.byProtocol]?void 0:u,query:n[o.iidxes.url.query]||void 0,fragment:n[o.iidxes.url.fragment]||void 0})}else if(n[o.iidxes.isFile]){var d=l.substr(8);t.push({start:i,end:s,string:l,isFile:!0,protocol:n[o.iidxes.file.protocol],filename:n[o.iidxes.file.fileName],filePath:d,fileDirectory:d.substr(0,d.length-n[o.iidxes.file.fileName].length)})}else n[o.iidxes.isEmail]?t.push({start:i,end:s,string:l,isEmail:!0,local:n[o.iidxes.email.local],protocol:n[o.iidxes.email.protocol],host:n[o.iidxes.email.host]}):t.push({start:i,end:s,string:l})};null!==(n=o.finalRegex.exec(e));)i();return t},l=function(e){var t="string"==typeof e?{input:e,options:void 0,extensions:void 0}:e,n=t.input,a=t.options,o=t.extensions;if(o)for(var r=0;r<o.length;r++){var l=o[r];n=n.replace(l.test,l.transform)}var u=s(n),c="";for(r=0;r<u.length;r++)c=(c||(0===r?n.substring(0,u[r].start):""))+i.transform(u[r],a)+(u[r+1]?n.substring(u[r].end,u[r+1].start):n.substring(u[r].end));return c||n};l.list=function(e){return s(e)},l.validate={ip:function(e){return o.ipRegex.test(e)},email:function(e){return o.emailRegex.test(e)},file:function(e){return o.fileRegex.test(e)},url:function(e){return o.urlRegex.test(e)||o.ipRegex.test(e)}},t.default=l},68103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24048),i="([a-z0-9]+(-+[a-z0-9]+)*\\.)+("+a.TLDs+")",o="a-zA-Z\\d\\-._~\\!$&*+,;=:@%'\"\\[\\]()",r="((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",s="\\[(([a-f0-9:]+:+)+[a-f0-9]+)\\]",l="(https?:|ftps?:)\\/\\/",u="((("+l+")?("+i+"|"+r+"|("+l+")("+s+"|"+("([a-z0-9]+(-+[a-z0-9]+)*\\.)+([a-z0-9][a-z0-9-]{0,"+(Math.max.apply(this,a.TLDs.split("|").map((function(e){return e.length})))-2)+"}[a-z0-9])")+"))(?!@\\w)(:(\\d{1,5}))?)|(((https?:|ftps?:)\\/\\/)\\S+))",c=u+"((((\\/((["+o+"]+(\\/["+o+a.nonLatinAlphabetRanges+"]*)*))?)?)((\\?(["+o+"\\/?]*))?)((\\#(["+o+"\\/?]*))?))?\\b(((["+o+"\\/"+a.nonLatinAlphabetRanges+"][a-zA-Z\\d\\-_~+=\\/"+a.nonLatinAlphabetRanges+"]+)?))+)";t.email="\\b(mailto:)?([a-z0-9!#$%&'*+=?^_`{|}~-]+(\\.[a-z0-9!#$%&'*+=?^_`{|}~-]+)*)@("+i+"|"+r+")\\b",t.url="("+c+")|(\\b"+u+"(((\\/(([a-zA-Z\\d\\-._~\\!$&*+,;=:@%'\"\\[\\]()]+(\\/[a-zA-Z\\d\\-._~\\!$&*+,;=:@%'\"\\[\\]()]*)*))?)?)((\\?([a-zA-Z\\d\\-._~\\!$&*+,;=:@%'\"\\[\\]()\\/?]*))?)((\\#([a-zA-Z\\d\\-._~\\!$&*+,;=:@%'\"\\[\\]()\\/?]*))?))?\\b(([\\/]?))+)",t.file="(file:\\/\\/\\/)([a-z]+:(\\/|\\\\)+)?([\\w.]+([\\/\\\\]?)+)+",t.final="("+t.url+")|("+t.email+")|("+t.file+")",t.finalRegex=new RegExp(t.final,"gi"),t.ipRegex=new RegExp("^("+r+"|"+s+")$","i"),t.emailRegex=new RegExp("^("+t.email+")$","i"),t.fileRegex=new RegExp("^("+t.file+")$","i"),t.urlRegex=new RegExp("^("+t.url+")$","i");var d={isURL:0,isEmail:0,isFile:0,file:{fileName:0,protocol:0},email:{protocol:0,local:0,host:0},url:{ipv4:0,ipv6:0,ipv4Confirmation:0,byProtocol:0,port:0,protocol1:0,protocol2:0,protocol3:0,protocolWithDomain:0,path:0,secondPartOfPath:0,query:0,fragment:0}};t.iidxes=d;for(var f=["file:///some/file/path/filename.pdf","mailto:e+_mail.me@sub.domain.com","http://sub.domain.co.uk:3000/p/a/t/h_(asd)/h?q=abc123#dfdf","http://www.ÿπÿ±ÿ®Ÿä.com","http://127.0.0.1:3000/p/a/t_(asd)/h?q=abc123#dfdf","http://[2a00:1450:4025:401::67]/k/something","a.org/abc/·Éò_·Éí·Éí"].join(" "),p=null,h=0;null!==(p=t.finalRegex.exec(f));)0===h&&(d.isFile=p.lastIndexOf(p[0]),d.file.fileName=p.indexOf("filename.pdf"),d.file.protocol=p.indexOf("file:///")),1===h&&(d.isEmail=p.lastIndexOf(p[0]),d.email.protocol=p.indexOf("mailto:"),d.email.local=p.indexOf("e+_mail.me"),d.email.host=p.indexOf("sub.domain.com")),2===h&&(d.isURL=p.lastIndexOf(p[0]),d.url.protocol1=p.indexOf("http://"),d.url.protocolWithDomain=p.indexOf("http://sub.domain.co.uk:3000"),d.url.port=p.indexOf("3000"),d.url.path=p.indexOf("/p/a/t/h_(asd)/h"),d.url.query=p.indexOf("q=abc123"),d.url.fragment=p.indexOf("dfdf")),3===h&&(d.url.byProtocol=p.lastIndexOf("http://www.ÿπÿ±ÿ®Ÿä.com"),d.url.protocol2=p.lastIndexOf("http://")),4===h&&(d.url.ipv4=p.indexOf("127.0.0.1"),d.url.ipv4Confirmation=p.indexOf("0.")),5===h&&(d.url.ipv6=p.indexOf("2a00:1450:4025:401::67"),d.url.protocol3=p.lastIndexOf("http://")),6===h&&(d.url.secondPartOfPath=p.indexOf("·Éí·Éí")),h++},66660:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TLDs="(AAA|AARP|ABARTH|ABB|ABBOTT|ABBVIE|ABC|ABLE|ABOGADO|ABUDHABI|AC|ACADEMY|ACCENTURE|ACCOUNTANT|ACCOUNTANTS|ACO|ACTOR|AD|ADAC|ADS|ADULT|AE|AEG|AERO|AETNA|AF|AFAMILYCOMPANY|AFL|AFRICA|AG|AGAKHAN|AGENCY|AI|AIG|AIGO|AIRBUS|AIRFORCE|AIRTEL|AKDN|AL|ALFAROMEO|ALIBABA|ALIPAY|ALLFINANZ|ALLSTATE|ALLY|ALSACE|ALSTOM|AM|AMERICANEXPRESS|AMERICANFAMILY|AMEX|AMFAM|AMICA|AMSTERDAM|ANALYTICS|ANDROID|ANQUAN|ANZ|AO|AOL|APARTMENTS|APP|APPLE|AQ|AQUARELLE|AR|ARAB|ARAMCO|ARCHI|ARMY|ARPA|ART|ARTE|AS|ASDA|ASIA|ASSOCIATES|AT|ATHLETA|ATTORNEY|AU|AUCTION|AUDI|AUDIBLE|AUDIO|AUSPOST|AUTHOR|AUTO|AUTOS|AVIANCA|AW|AWS|AX|AXA|AZ|AZURE|BA|BABY|BAIDU|BANAMEX|BANANAREPUBLIC|BAND|BANK|BAR|BARCELONA|BARCLAYCARD|BARCLAYS|BAREFOOT|BARGAINS|BASEBALL|BASKETBALL|BAUHAUS|BAYERN|BB|BBC|BBT|BBVA|BCG|BCN|BD|BE|BEATS|BEAUTY|BEER|BENTLEY|BERLIN|BEST|BESTBUY|BET|BF|BG|BH|BHARTI|BI|BIBLE|BID|BIKE|BING|BINGO|BIO|BIZ|BJ|BLACK|BLACKFRIDAY|BLOCKBUSTER|BLOG|BLOOMBERG|BLUE|BM|BMS|BMW|BN|BNPPARIBAS|BO|BOATS|BOEHRINGER|BOFA|BOM|BOND|BOO|BOOK|BOOKING|BOSCH|BOSTIK|BOSTON|BOT|BOUTIQUE|BOX|BR|BRADESCO|BRIDGESTONE|BROADWAY|BROKER|BROTHER|BRUSSELS|BS|BT|BUDAPEST|BUGATTI|BUILD|BUILDERS|BUSINESS|BUY|BUZZ|BV|BW|BY|BZ|BZH|CA|CAB|CAFE|CAL|CALL|CALVINKLEIN|CAM|CAMERA|CAMP|CANCERRESEARCH|CANON|CAPETOWN|CAPITAL|CAPITALONE|CAR|CARAVAN|CARDS|CARE|CAREER|CAREERS|CARS|CASA|CASE|CASEIH|CASH|CASINO|CAT|CATERING|CATHOLIC|CBA|CBN|CBRE|CBS|CC|CD|CEB|CENTER|CEO|CERN|CF|CFA|CFD|CG|CH|CHANEL|CHANNEL|CHARITY|CHASE|CHAT|CHEAP|CHINTAI|CHRISTMAS|CHROME|CHURCH|CI|CIPRIANI|CIRCLE|CISCO|CITADEL|CITI|CITIC|CITY|CITYEATS|CK|CL|CLAIMS|CLEANING|CLICK|CLINIC|CLINIQUE|CLOTHING|CLOUD|CLUB|CLUBMED|CM|CN|CO|COACH|CODES|COFFEE|COLLEGE|COLOGNE|COM|COMCAST|COMMBANK|COMMUNITY|COMPANY|COMPARE|COMPUTER|COMSEC|CONDOS|CONSTRUCTION|CONSULTING|CONTACT|CONTRACTORS|COOKING|COOKINGCHANNEL|COOL|COOP|CORSICA|COUNTRY|COUPON|COUPONS|COURSES|CPA|CR|CREDIT|CREDITCARD|CREDITUNION|CRICKET|CROWN|CRS|CRUISE|CRUISES|CSC|CU|CUISINELLA|CV|CW|CX|CY|CYMRU|CYOU|CZ|DABUR|DAD|DANCE|DATA|DATE|DATING|DATSUN|DAY|DCLK|DDS|DE|DEAL|DEALER|DEALS|DEGREE|DELIVERY|DELL|DELOITTE|DELTA|DEMOCRAT|DENTAL|DENTIST|DESI|DESIGN|DEV|DHL|DIAMONDS|DIET|DIGITAL|DIRECT|DIRECTORY|DISCOUNT|DISCOVER|DISH|DIY|DJ|DK|DM|DNP|DO|DOCS|DOCTOR|DOG|DOMAINS|DOT|DOWNLOAD|DRIVE|DTV|DUBAI|DUCK|DUNLOP|DUPONT|DURBAN|DVAG|DVR|DZ|EARTH|EAT|EC|ECO|EDEKA|EDU|EDUCATION|EE|EG|EMAIL|EMERCK|ENERGY|ENGINEER|ENGINEERING|ENTERPRISES|EPSON|EQUIPMENT|ER|ERICSSON|ERNI|ES|ESQ|ESTATE|ESURANCE|ET|ETISALAT|EU|EUROVISION|EUS|EVENTS|EXCHANGE|EXPERT|EXPOSED|EXPRESS|EXTRASPACE|FAGE|FAIL|FAIRWINDS|FAITH|FAMILY|FAN|FANS|FARM|FARMERS|FASHION|FAST|FEDEX|FEEDBACK|FERRARI|FERRERO|FI|FIAT|FIDELITY|FIDO|FILM|FINAL|FINANCE|FINANCIAL|FIRE|FIRESTONE|FIRMDALE|FISH|FISHING|FIT|FITNESS|FJ|FK|FLICKR|FLIGHTS|FLIR|FLORIST|FLOWERS|FLY|FM|FO|FOO|FOOD|FOODNETWORK|FOOTBALL|FORD|FOREX|FORSALE|FORUM|FOUNDATION|FOX|FR|FREE|FRESENIUS|FRL|FROGANS|FRONTDOOR|FRONTIER|FTR|FUJITSU|FUJIXEROX|FUN|FUND|FURNITURE|FUTBOL|FYI|GA|GAL|GALLERY|GALLO|GALLUP|GAME|GAMES|GAP|GARDEN|GAY|GB|GBIZ|GD|GDN|GE|GEA|GENT|GENTING|GEORGE|GF|GG|GGEE|GH|GI|GIFT|GIFTS|GIVES|GIVING|GL|GLADE|GLASS|GLE|GLOBAL|GLOBO|GM|GMAIL|GMBH|GMO|GMX|GN|GODADDY|GOLD|GOLDPOINT|GOLF|GOO|GOODYEAR|GOOG|GOOGLE|GOP|GOT|GOV|GP|GQ|GR|GRAINGER|GRAPHICS|GRATIS|GREEN|GRIPE|GROCERY|GROUP|GS|GT|GU|GUARDIAN|GUCCI|GUGE|GUIDE|GUITARS|GURU|GW|GY|HAIR|HAMBURG|HANGOUT|HAUS|HBO|HDFC|HDFCBANK|HEALTH|HEALTHCARE|HELP|HELSINKI|HERE|HERMES|HGTV|HIPHOP|HISAMITSU|HITACHI|HIV|HK|HKT|HM|HN|HOCKEY|HOLDINGS|HOLIDAY|HOMEDEPOT|HOMEGOODS|HOMES|HOMESENSE|HONDA|HORSE|HOSPITAL|HOST|HOSTING|HOT|HOTELES|HOTELS|HOTMAIL|HOUSE|HOW|HR|HSBC|HT|HU|HUGHES|HYATT|HYUNDAI|IBM|ICBC|ICE|ICU|ID|IE|IEEE|IFM|IKANO|IL|IM|IMAMAT|IMDB|IMMO|IMMOBILIEN|IN|INC|INDUSTRIES|INFINITI|INFO|ING|INK|INSTITUTE|INSURANCE|INSURE|INT|INTEL|INTERNATIONAL|INTUIT|INVESTMENTS|IO|IPIRANGA|IQ|IR|IRISH|IS|ISMAILI|IST|ISTANBUL|IT|ITAU|ITV|IVECO|JAGUAR|JAVA|JCB|JCP|JE|JEEP|JETZT|JEWELRY|JIO|JLL|JM|JMP|JNJ|JO|JOBS|JOBURG|JOT|JOY|JP|JPMORGAN|JPRS|JUEGOS|JUNIPER|KAUFEN|KDDI|KE|KERRYHOTELS|KERRYLOGISTICS|KERRYPROPERTIES|KFH|KG|KH|KI|KIA|KIM|KINDER|KINDLE|KITCHEN|KIWI|KM|KN|KOELN|KOMATSU|KOSHER|KP|KPMG|KPN|KR|KRD|KRED|KUOKGROUP|KW|KY|KYOTO|KZ|LA|LACAIXA|LAMBORGHINI|LAMER|LANCASTER|LANCIA|LAND|LANDROVER|LANXESS|LASALLE|LAT|LATINO|LATROBE|LAW|LAWYER|LB|LC|LDS|LEASE|LECLERC|LEFRAK|LEGAL|LEGO|LEXUS|LGBT|LI|LIDL|LIFE|LIFEINSURANCE|LIFESTYLE|LIGHTING|LIKE|LILLY|LIMITED|LIMO|LINCOLN|LINDE|LINK|LIPSY|LIVE|LIVING|LIXIL|LK|LLC|LLP|LOAN|LOANS|LOCKER|LOCUS|LOFT|LOL|LONDON|LOTTE|LOTTO|LOVE|LPL|LPLFINANCIAL|LR|LS|LT|LTD|LTDA|LU|LUNDBECK|LUPIN|LUXE|LUXURY|LV|LY|MA|MACYS|MADRID|MAIF|MAISON|MAKEUP|MAN|MANAGEMENT|MANGO|MAP|MARKET|MARKETING|MARKETS|MARRIOTT|MARSHALLS|MASERATI|MATTEL|MBA|MC|MCKINSEY|MD|ME|MED|MEDIA|MEET|MELBOURNE|MEME|MEMORIAL|MEN|MENU|MERCKMSD|METLIFE|MG|MH|MIAMI|MICROSOFT|MIL|MINI|MINT|MIT|MITSUBISHI|MK|ML|MLB|MLS|MM|MMA|MN|MO|MOBI|MOBILE|MODA|MOE|MOI|MOM|MONASH|MONEY|MONSTER|MORMON|MORTGAGE|MOSCOW|MOTO|MOTORCYCLES|MOV|MOVIE|MP|MQ|MR|MS|MSD|MT|MTN|MTR|MU|MUSEUM|MUTUAL|MV|MW|MX|MY|MZ|NA|NAB|NAGOYA|NAME|NATIONWIDE|NATURA|NAVY|NBA|NC|NE|NEC|NET|NETBANK|NETFLIX|NETWORK|NEUSTAR|NEW|NEWHOLLAND|NEWS|NEXT|NEXTDIRECT|NEXUS|NF|NFL|NG|NGO|NHK|NI|NICO|NIKE|NIKON|NINJA|NISSAN|NISSAY|NL|NO|NOKIA|NORTHWESTERNMUTUAL|NORTON|NOW|NOWRUZ|NOWTV|NP|NR|NRA|NRW|NTT|NU|NYC|NZ|OBI|OBSERVER|OFF|OFFICE|OKINAWA|OLAYAN|OLAYANGROUP|OLDNAVY|OLLO|OM|OMEGA|ONE|ONG|ONL|ONLINE|ONYOURSIDE|OOO|OPEN|ORACLE|ORANGE|ORG|ORGANIC|ORIGINS|OSAKA|OTSUKA|OTT|OVH|PA|PAGE|PANASONIC|PARIS|PARS|PARTNERS|PARTS|PARTY|PASSAGENS|PAY|PCCW|PE|PET|PF|PFIZER|PG|PH|PHARMACY|PHD|PHILIPS|PHONE|PHOTO|PHOTOGRAPHY|PHOTOS|PHYSIO|PICS|PICTET|PICTURES|PID|PIN|PING|PINK|PIONEER|PIZZA|PK|PL|PLACE|PLAY|PLAYSTATION|PLUMBING|PLUS|PM|PN|PNC|POHL|POKER|POLITIE|PORN|POST|PR|PRAMERICA|PRAXI|PRESS|PRIME|PRO|PROD|PRODUCTIONS|PROF|PROGRESSIVE|PROMO|PROPERTIES|PROPERTY|PROTECTION|PRU|PRUDENTIAL|PS|PT|PUB|PW|PWC|PY|QA|QPON|QUEBEC|QUEST|QVC|RACING|RADIO|RAID|RE|READ|REALESTATE|REALTOR|REALTY|RECIPES|RED|REDSTONE|REDUMBRELLA|REHAB|REISE|REISEN|REIT|RELIANCE|REN|RENT|RENTALS|REPAIR|REPORT|REPUBLICAN|REST|RESTAURANT|REVIEW|REVIEWS|REXROTH|RICH|RICHARDLI|RICOH|RIGHTATHOME|RIL|RIO|RIP|RMIT|RO|ROCHER|ROCKS|RODEO|ROGERS|ROOM|RS|RSVP|RU|RUGBY|RUHR|RUN|RW|RWE|RYUKYU|SA|SAARLAND|SAFE|SAFETY|SAKURA|SALE|SALON|SAMSCLUB|SAMSUNG|SANDVIK|SANDVIKCOROMANT|SANOFI|SAP|SARL|SAS|SAVE|SAXO|SB|SBI|SBS|SC|SCA|SCB|SCHAEFFLER|SCHMIDT|SCHOLARSHIPS|SCHOOL|SCHULE|SCHWARZ|SCIENCE|SCJOHNSON|SCOR|SCOT|SD|SE|SEARCH|SEAT|SECURE|SECURITY|SEEK|SELECT|SENER|SERVICES|SES|SEVEN|SEW|SEX|SEXY|SFR|SG|SH|SHANGRILA|SHARP|SHAW|SHELL|SHIA|SHIKSHA|SHOES|SHOP|SHOPPING|SHOUJI|SHOW|SHOWTIME|SHRIRAM|SI|SILK|SINA|SINGLES|SITE|SJ|SK|SKI|SKIN|SKY|SKYPE|SL|SLING|SM|SMART|SMILE|SN|SNCF|SO|SOCCER|SOCIAL|SOFTBANK|SOFTWARE|SOHU|SOLAR|SOLUTIONS|SONG|SONY|SOY|SPACE|SPORT|SPOT|SPREADBETTING|SR|SRL|SS|ST|STADA|STAPLES|STAR|STATEBANK|STATEFARM|STC|STCGROUP|STOCKHOLM|STORAGE|STORE|STREAM|STUDIO|STUDY|STYLE|SU|SUCKS|SUPPLIES|SUPPLY|SUPPORT|SURF|SURGERY|SUZUKI|SV|SWATCH|SWIFTCOVER|SWISS|SX|SY|SYDNEY|SYMANTEC|SYSTEMS|SZ|TAB|TAIPEI|TALK|TAOBAO|TARGET|TATAMOTORS|TATAR|TATTOO|TAX|TAXI|TC|TCI|TD|TDK|TEAM|TECH|TECHNOLOGY|TEL|TEMASEK|TENNIS|TEVA|TF|TG|TH|THD|THEATER|THEATRE|TIAA|TICKETS|TIENDA|TIFFANY|TIPS|TIRES|TIROL|TJ|TJMAXX|TJX|TK|TKMAXX|TL|TM|TMALL|TN|TO|TODAY|TOKYO|TOOLS|TOP|TORAY|TOSHIBA|TOTAL|TOURS|TOWN|TOYOTA|TOYS|TR|TRADE|TRADING|TRAINING|TRAVEL|TRAVELCHANNEL|TRAVELERS|TRAVELERSINSURANCE|TRUST|TRV|TT|TUBE|TUI|TUNES|TUSHU|TV|TVS|TW|TZ|UA|UBANK|UBS|UG|UK|UNICOM|UNIVERSITY|UNO|UOL|UPS|US|UY|UZ|VA|VACATIONS|VANA|VANGUARD|VC|VE|VEGAS|VENTURES|VERISIGN|VERSICHERUNG|VET|VG|VI|VIAJES|VIDEO|VIG|VIKING|VILLAS|VIN|VIP|VIRGIN|VISA|VISION|VIVA|VIVO|VLAANDEREN|VN|VODKA|VOLKSWAGEN|VOLVO|VOTE|VOTING|VOTO|VOYAGE|VU|VUELOS|WALES|WALMART|WALTER|WANG|WANGGOU|WATCH|WATCHES|WEATHER|WEATHERCHANNEL|WEBCAM|WEBER|WEBSITE|WED|WEDDING|WEIBO|WEIR|WF|WHOSWHO|WIEN|WIKI|WILLIAMHILL|WIN|WINDOWS|WINE|WINNERS|WME|WOLTERSKLUWER|WOODSIDE|WORK|WORKS|WORLD|WOW|WS|WTC|WTF|XBOX|XEROX|XFINITY|XIHUAN|XIN|XN--11B4C3D|XN--1CK2E1B|XN--1QQW23A|XN--2SCRJ9C|XN--30RR7Y|XN--3BST00M|XN--3DS443G|XN--3E0B707E|XN--3HCRJ9C|XN--3OQ18VL8PN36A|XN--3PXU8K|XN--42C2D9A|XN--45BR5CYL|XN--45BRJ9C|XN--45Q11C|XN--4GBRIM|XN--54B7FTA0CC|XN--55QW42G|XN--55QX5D|XN--5SU34J936BGSG|XN--5TZM5G|XN--6FRZ82G|XN--6QQ986B3XL|XN--80ADXHKS|XN--80AO21A|XN--80AQECDR1A|XN--80ASEHDB|XN--80ASWG|XN--8Y0A063A|XN--90A3AC|XN--90AE|XN--90AIS|XN--9DBQ2A|XN--9ET52U|XN--9KRT00A|XN--B4W605FERD|XN--BCK1B9A5DRE4C|XN--C1AVG|XN--C2BR7G|XN--CCK2B3B|XN--CG4BKI|XN--CLCHC0EA0B2G2A9GCD|XN--CZR694B|XN--CZRS0T|XN--CZRU2D|XN--D1ACJ3B|XN--D1ALF|XN--E1A4C|XN--ECKVDTC9D|XN--EFVY88H|XN--FCT429K|XN--FHBEI|XN--FIQ228C5HS|XN--FIQ64B|XN--FIQS8S|XN--FIQZ9S|XN--FJQ720A|XN--FLW351E|XN--FPCRJ9C3D|XN--FZC2C9E2C|XN--FZYS8D69UVGM|XN--G2XX48C|XN--GCKR3F0F|XN--GECRJ9C|XN--GK3AT1E|XN--H2BREG3EVE|XN--H2BRJ9C|XN--H2BRJ9C8C|XN--HXT814E|XN--I1B6B1A6A2E|XN--IMR513N|XN--IO0A7I|XN--J1AEF|XN--J1AMH|XN--J6W193G|XN--JLQ61U9W7B|XN--JVR189M|XN--KCRX77D1X4A|XN--KPRW13D|XN--KPRY57D|XN--KPU716F|XN--KPUT3I|XN--L1ACC|XN--LGBBAT1AD8J|XN--MGB9AWBF|XN--MGBA3A3EJT|XN--MGBA3A4F16A|XN--MGBA7C0BBN0A|XN--MGBAAKC7DVF|XN--MGBAAM7A8H|XN--MGBAB2BD|XN--MGBAH1A3HJKRD|XN--MGBAI9AZGQP6J|XN--MGBAYH7GPA|XN--MGBBH1A|XN--MGBBH1A71E|XN--MGBC0A9AZCG|XN--MGBCA7DZDO|XN--MGBCPQ6GPA1A|XN--MGBERP4A5D4AR|XN--MGBGU82A|XN--MGBI4ECEXP|XN--MGBPL2FH|XN--MGBT3DHD|XN--MGBTX2B|XN--MGBX4CD0AB|XN--MIX891F|XN--MK1BU44C|XN--MXTQ1M|XN--NGBC5AZD|XN--NGBE9E0A|XN--NGBRX|XN--NODE|XN--NQV7F|XN--NQV7FS00EMA|XN--NYQY26A|XN--O3CW4H|XN--OGBPF8FL|XN--OTU796D|XN--P1ACF|XN--P1AI|XN--PBT977C|XN--PGBS0DH|XN--PSSY2U|XN--Q7CE6A|XN--Q9JYB4C|XN--QCKA1PMC|XN--QXA6A|XN--QXAM|XN--RHQV96G|XN--ROVU88B|XN--RVC1E0AM3E|XN--S9BRJ9C|XN--SES554G|XN--T60B56A|XN--TCKWE|XN--TIQ49XQYJ|XN--UNUP4Y|XN--VERMGENSBERATER-CTB|XN--VERMGENSBERATUNG-PWB|XN--VHQUV|XN--VUQ861B|XN--W4R85EL8FHU5DNRA|XN--W4RS40L|XN--WGBH1C|XN--WGBL6A|XN--XHQ521B|XN--XKC2AL3HYE2A|XN--XKC2DL3A5EE0H|XN--Y9A3AQ|XN--YFRO4I67O|XN--YGBI2AMMX|XN--ZFR164B|XXX|XYZ|YACHTS|YAHOO|YAMAXUN|YANDEX|YE|YODOBASHI|YOGA|YOKOHAMA|YOU|YOUTUBE|YT|YUN|ZA|ZAPPOS|ZARA|ZERO|ZIP|ZM|ZONE|ZUERICH|ZW|TEST)"},37182:function(e,t){"use strict";function n(e,t,n){return"function"==typeof n?n(e,t):n}Object.defineProperty(t,"__esModule",{value:!0}),t.transform=function(e,t){var a="",i=1/0,o={},r=!1;if(t&&t.specialTransform)for(var s=0;s<t.specialTransform.length;s++){var l=t.specialTransform[s];if(l.test.test(e.string))return l.transform(e.string,e)}return t&&t.exclude&&n(e.string,e,t.exclude)?e.string:(t&&t.protocol&&(a=n(e.string,e,t.protocol)),e.protocol?a="":a||(a=e.isEmail?"mailto:":e.isFile?"file:///":"http://"),t&&t.truncate&&(i=n(e.string,e,t.truncate)),t&&t.middleTruncation&&(r=n(e.string,e,t.middleTruncation)),t&&t.attributes&&(o=n(e.string,e,t.attributes)),"<a "+Object.keys(o).map((function(e){return!0===o[e]?e:e+'="'+o[e]+'" '})).join(" ")+'href="'+a+e.string+'">'+(e.string.length>i?r?e.string.substring(0,Math.floor(i/2))+"‚Ä¶"+e.string.substring(e.string.length-Math.ceil(i/2),e.string.length):e.string.substring(0,i)+"‚Ä¶":e.string)+"</a>")}},86371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(24048);t.checkParenthesis=function(e,t,n,a){return a===t&&(n.split(e).length-n.split(t).length==1||e===t&&n.split(e).length%2==0||void 0)},t.maximumAttrLength=a.htmlAttributes.sort((function(e,t){return t.length-e.length}))[0].length,t.isInsideAttribute=function(e){return/\s[a-z0-9-]+=('|")$/i.test(e)||/: ?url\(('|")?$/i.test(e)},t.isInsideAnchorTag=function(e,t,n){for(var a=e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),i=new RegExp("(?=(<a))(?!([\\s\\S]*)(<\\/a>)("+a+"))[\\s\\S]*?("+a+")(?!\"|')","gi"),o=null;null!==(o=i.exec(t));){if(o.index+o[0].length===n)return!0}return!1}},54720:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=n(9393);const r=a(n(4855)).default.name("BaseComponent");var{EventEmitter:s}=n(89766);class l extends i.default.Component{constructor(e){super(e),this.listeners=[],this.emitter=new s}subscribe(e,t){return this.emitter.addListener(e,t)}trigger(e,t){this.emitter.emit(e,t)}delegate(e,t){return function(n){for(var a=n.target;a!==n.currentTarget;){var i=a.getAttribute("dgName");if(i&&i===e)return n.delegateTarget=a,t(n);a=a.parentNode}}}on(){var e,t=Array.prototype.slice.call(arguments),n=t[0],a="JivoStore"==n.__type?t[1]:t[2],i="JivoStore"==n.__type?"update":t[1];if("object"!=typeof i)if("function"==typeof n.on?e="on":"function"==typeof n.addListener&&(e="addListener"),e){var o=n[e](i,a);this.listeners.push({type:e,target:n,event:i,callback:a,subscription:o})}else r.error("error cant find type");else for(var s in i)"string"==typeof s&&this.on(n,s,i[s])}off(){for(var e;e=this.listeners.shift();){var t;t="on"==e.type?"off":"removeListener",e.target[t]?e.target[t](e.event,e.callback):e.subscription&&"function"==typeof e.subscription.remove?e.subscription.remove():r.error("error cant find type")}}getClasses(e){var t={},n=e.styles||{};return(0,o.each)(n,((n,a)=>{t[a]={};var i="";n[1]&&(t[a].style=n[1]),(0,o.each)(n[0],((t,n)=>{i+=t?(e.style?e.style[n]:n)+" ":""}))," "===i.charAt(i.length-1)&&(i=i.substr(0,i.length-1)),t[a].className=i})),t}getRenderData(){}renderData(){}render(){var e=this.getRenderData(),t=this.getClasses(e);return this.renderData(e.data||{},t)}componentWillUnmount(){this.off(),this.emitter.removeAllListeners()}}t.default=l},50789:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.ApiProvider=void 0;var i=n(97615),o=n(44145),r=n(69882),s=n(95911),l=a(n(1039)),u=n(31343);const c=new class{getCustomerIoInvites(e,t){const n=i.EnvironmentManager.isDevelopment()&&l.default.mockRequests&&l.default.mockRequests.customerIO?"/configs/development/customerIO.json":this.getApiHost()+`/api/1/sites/${l.default.site_id}/widgets/${l.default.widget_id}/invitation/`,a={user_token:e};this.sendApiRequest(n,a,t)}acceptWebRTCCall(e,t){const n=(0,o.getClient)(),a=this.getTelephonyHost()+`/api/1/sites/${l.default.site_id}/widgets/${l.default.widget_id}/clients/${n.clientId.split(".")[0]}/telephony/widget-call/accept`,i={call_id:e};this.sendPostApiRequest(a,i,t)}declineWebRTCCall(e,t){const n=(0,o.getClient)(),a=this.getTelephonyHost()+`/api/1/sites/${l.default.site_id}/widgets/${l.default.widget_id}/clients/${n.clientId.split(".")[0]}/telephony/widget-call/decline`,i={call_id:e};this.sendPostApiRequest(a,i,t)}sendApiRequest(e,t,n){s.xhrRequest.get(e,n,{params:t})}sendPostApiRequest(e,t,n){s.xhrRequest.post(e,n,{headers:{"Content-Type":u.CONTENT_TYPE.X_WWW_FORM},body:t})}getApiHost(){return(0,r.getProtocol)()+"//"+l.default.api_host}getTelephonyHost(){return(0,r.getProtocol)()+"//"+l.default.tel_host}};t.ApiProvider=c},86961:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(83778),o=n(97615),r=n(44145),s=n(95911),l=a(n(1039));t.default=class{static getStatus(e){this.getChatServerData("status",{},e)}static getVisitorNumber(e){this.getChatServerData("visitor_number",{},e)}static getMessages(e,t){this.getChatServerData("messages",e,t)}static getChatServerData(e,t,n){const a=(0,r.getClient)(),o=a.visitorId?`/${a.visitorId}`:"",s=this.shouldMockRequest(e)?`/configs/development/${e}.json`:(0,i.chatServerHost)()+`/widget/${e}/${l.default.site_id}/${l.default.widget_id}${o}`;this.sendChatServerRequest(s,t,n)}static getHistoryMessages(e,t,n){const a=(0,r.getClient)(),o=this.shouldMockRequest("new_messages")?"/configs/development/new_messages.json":(0,i.chatServerHost)()+`/client/${l.default.site_id}/${l.default.widget_id}/${e}`,s={"x-jv-client-id":a.clientId,"x-visitor-id":a.visitorId};this.sendChatServerRequest(o,t,n,s)}static sendChatServerRequest(e,t,n,a){s.xhrRequest.get(e,n,{headers:a,params:t})}static shouldMockRequest(e){return o.EnvironmentManager.isDevelopment()&&l.default.mockRequests&&l.default.mockRequests[e]}}},44733:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.isJvKeyForStoreToGet=t.StorageProvider=void 0;var i=a(n(1039)),o=n(38632),r=n(10895),s=n(39731),l=n(38392),u=n(53401);const c=i.default.widget_id,d=e=>{let[t]=e;return(e=>/^jv_/.test(e))(t)},f=e=>/^jv_store/.test(e);t.isJvKeyForStoreToGet=f;const p=(e,t)=>{const n=`jv_${e}_${c}`;return t?`${n}_${t}`:n},h=e=>{if((e=>/^store_[a-z]*$/.test(e))(e)){const[t,n]=(0,s.splitString)(e,"_");return p(t,n)}return p(e)},g={get:e=>o.parentLS.get(h(e)),set:(e,t)=>o.parentLS.set(h(e),t),remove:e=>o.parentLS.remove(h(e)),migrate:(0,r.compose)((e=>e.forEach((e=>{let[t,n]=e;const a=f(t)?(0,s.splitString)(t,"_")[0]:t;o.parentLS.set(a,n),(0,u.deleteCookie)(t)}))),(e=>e.filter(d)),u.splitCookieOnEntries),createKeyForStore:e=>`store_${e}`,duplicateClientStateInCookie:e=>{const t=p("store",`client_${c}`),n=(0,l.pick)(e,"client_id","jv_sess_id","user_token","visitorId");return(0,u.setCookie)(t,n)}};t.StorageProvider=g},20758:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(16016),o=n(21951),r=n(44733),s=n(69882),l=n(9393),u=n(90991),c=a(n(1039)),d=n(52028);const{EventEmitter:f}=n(89766),p=1500;var h=new class{constructor(e){if(this.readMessages={},this.lastBufferUpdatedTime=(new Date).getTime(),this.initBufferFn=(0,u.debounce)(this.initBuffer.bind(this),500),this.initBuffer(),this.emitter=new f,(0,s.isWixEditor)()||d.isDesignerEditor)return;const t=(0,s.getPageWindow)();(0,o.addListener)(t,"storage",(e=>{(e||t.event).key==="jv_eBuffer_"+c.default.widget_id&&this.parseNewEvents()}))}initBuffer(){const e=r.StorageProvider.get("eBuffer")||[],t=this.filterOldEvents(e);(0,l.each)(t,(e=>{this.readMessages[e.id]})),e.length!==t.length&&r.StorageProvider.set("eBuffer",t)}sendEvent(e,t){const n={time:(new Date).getTime(),id:(0,i.generateGUIDCount)(2),name:e,data:t||{}},a=this.filterOldEvents(r.StorageProvider.get("eBuffer")||[]);a.push(n),this.readMessages[n.id]=!0,r.StorageProvider.set("eBuffer",a),setTimeout((()=>{this.initBufferFn()}),1505)}filterOldEvents(e){var t=[];return(0,l.each)(e,(e=>{(new Date).getTime()-e.time>p?delete this.readMessages[e.id]:t.push(e)})),t}parseNewEvents(){const e=r.StorageProvider.get("eBuffer");e&&(0,l.each)(e,(e=>{!this.readMessages[e.id]&&(new Date).getTime()-e.time<p&&this.triggerEvent(e)}))}triggerEvent(e){this.readMessages[e.id]=!0,this.emitter.emit("tabsEvent_"+e.name,e.data)}on(e,t){return this.emitter.addListener("tabsEvent_"+e,t)}};t.default=h},34973:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(6131)),o=n(16016),r=n(44733),s=n(92560),l=n(90991),u=n(9393),c=a(n(20758)),d=n(52028),f=n(97615);const p=a(n(4855)).default.name("ArrayStore"),{EventEmitter:h}=n(89766);class g{constructor(e){this.settings=e,this.emitter=new h,this.store=[],this.initArrayStore(),this.protectOthersTabs(),this.triggerFn=(0,l.debounce)(this.trigger,100)}initArrayStore(){const e=r.StorageProvider.get(this.settings.name+"_items")||[];(0,u.each)(e,(e=>{if(!r.StorageProvider.get(e))return;const t=new(this.settings.itemClass||i.default)({type:this.settings.type,name:e,keys:this.settings.keys});this.addTriggers(t),this.store.push(t),this.sort()}))}addTriggers(e){e.on("all",(()=>{this.trigger("update",e)})),e.on("destroy",this.onRemoveItem.bind(this,e))}push(e){const t=this.createInst(e);return this.addTriggers(t),t.set(e),this.store.push(t),this.sort(),this.backup(t),this.triggerFn("create",t),t.unStorage&&t.unStorage()||c.default.sendEvent(`${this.settings.name}_addArrayItem`,{name:t.getName()}),t}createInst(e){let t=this.settings.type;(e.body&&e.body.unsave||d.isDesignerEditor)&&(t="memory");let n={};const a=this.settings.itemClass||i.default;for(let e=0;e<3&&(n=new a({type:t,name:(0,o.generateGUIDCount)(2),keys:this.settings.keys}),!(n instanceof a));e++);return n}sort(){}pushAll(e){var t=[];return(0,u.each)(e,(e=>{t.push(this.push(e))})),t}getAll(){return this.store}toJSON(){var e=[];return(0,u.each)(this.store,(t=>{e.push(t.toJSON())})),e}each(e){(0,u.each)(this.store,(t=>{e(t.toJSON(),t)}))}onRemoveItem(e){const t=this.store.findIndex((t=>t===e));this.store.splice(t,1),this.trigger("remove"),this.backup(),c.default.sendEvent(`${this.settings.name}_removeArrayItem`,{name:e.getName()})}backup(){const e=[];(0,u.each)(this.store,(t=>{t.unStorage&&t.unStorage()||e.push(t.getName())})),r.StorageProvider.set(this.settings.name+"_items",e.length?e:[])}protectOthersTabs(){c.default.on(`${this.settings.name}_addArrayItem`,(e=>{const t=new(this.settings.itemClass||i.default)({type:this.settings.type,name:e.name,keys:this.settings.keys});(0,s.isEmpty)(t)?p.warn(`${this.settings.name}_addArrayItem inst is empty!`,e,t):(this.addTriggers(t),this.store.push(t),this.sort(),this.trigger("create",t,!0))})),c.default.on(`${this.settings.name}_removeArrayItem`,(e=>{const t=this.store.findIndex((t=>t.getName()===e.name));t>=0&&(this.store.splice(t,1),this.sort(),this.trigger("remove"))}))}trigger(e,t,n){setTimeout((()=>{this.emitter.emit(e,t,n)}),0)}itemTrigger(){}on(e,t){return this.emitter.addListener(e,t)}onItem(e){return this.emitter.addListener(`${this.settings.name}_update`,cb)}destroy(){const e=this.store;this.store=[],e.forEach((e=>{e.destroy()})),this.backup(),this.trigger("remove")}}t.default=g,f.EnvironmentManager.isDevelopment()&&(window.parent.ArrayStore=g)},66547:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(9393),o=a(n(73687));const r=a(n(4855)).default.name("SessionStore","color: grey"),s="sess_";var l=new class{constructor(){r.log("init session store"),this.sessionKeysList=this.initSessionKeysList(),this.startTimer()}initSessionKeysList(){return o.default.getKeysByPrefix(o.default.getPrefix()+s)}set(e,t){-1===this.sessionKeysList.indexOf(e)&&this.sessionKeysList.push(e),o.default.set(s+e,t,43200)}get(e){return o.default.get(s+e)}startTimer(){setInterval((()=>{r.log("startTimer",this.sessionKeysList),(0,i.each)(this.sessionKeysList,(e=>{const t=this.get(e);t&&(r.log("update session",e,t),this.set(e,t))}))}),6e4)}};t.default=l},6131:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(16016),o=a(n(20758)),r=n(44733),s=n(97615),l=n(60277),u=n(90991),c=n(9393);const d=a(n(4855)).default.name("Store"),{EventEmitter:f}=n(89766),p=[];class h{constructor(e){if(this.registrName(e.name))return d.warn("Dublicate name for Store keyName"),{};this.settings=e,this.store=this.getDefaultKeys(),this.emitter=new f,"session"===e.type?this.initSessionStore():"default"===e.type?this.initDefaultStore():"memory"===e.type&&this.initMemoryStore(),this.protectOthersTabs(),this.allKeysUpdateDebounce=(0,u.debounce)(this.allKeysUpdate,150)}registrName(e){return p.indexOf(e)>-1||(p.push(e),!1)}initDefaultStore(){var e=r.StorageProvider.get(this.settings.name)||{};this.store=(0,l.extend)(this.store,e)}initMemoryStore(){}initSessionStore(){let e=r.StorageProvider.get(this.settings.name)||{};if(e){d.log("resetSession store");var t=(0,i.generateGUIDCount)(2);e=this.store,e._id=t,e._clearTime=(new Date).getTime()+5e3,r.StorageProvider.set(this.settings.name,e),o.default.sendEvent(`${this.settings.name}_resetSessionStore`)}this.store=e}getDefaultKeys(){var e={};return(0,c.each)(this.settings.keys,((t,n)=>{"function"==typeof t?e[n]=t():null!==t&&"{}"!==JSON.stringify(t)&&(e[n]=t)})),e}isDeepName(e){return"string"==typeof e&&e.split(".").length>1}getDeepName(e){const t=e.split(".");return this.isDeepName(e)?t:[e]}set(e,t){if("object"!=typeof e)return this.setKey(e,t);(0,c.each)(e,((e,t)=>{this.set(t,e)}))}setDeepKey(e,t,n){if("string"==typeof n&&(n=n.split(".")),!(n.length>1))return null===t?delete e[n[0]]:e[n[0]]=t,t;{const a=n.shift();null!=e[a]&&"object"==typeof e[a]||(e[a]={}),this.setDeepKey(e[a],t,n)}}setKey(e,t,n){return void 0===this.settings.keys[this.getDeepName(e)[0]]?(d.error("Error: set not initialized key "+e),null):(this.get(e)===t||(this.isDeepName(e)?this.setDeepKey(this.store,t,e):null===t?delete this.store[e]:this.store[e]=t,this.trigger(e,t),n||this.triggerAndBackup(e)),t)}get(e){return this.isDeepName(e)?void 0===this.settings.keys[this.getDeepName(e)[0]]?(d.error("Error: get not initialized key "+e),null):this.findObj(this.store,e):void 0===this.settings.keys[e]?(d.error("Error: get not initialized key "+e),null):this.store[e]||null}findObj(e,t){const n=t.split(".");let a,i=e;for(a=0;a<n.length;++a){if(null==i[n[a]])return null;i=i[n[a]]}return i}destroy(){this.trigger("destroy"),r.StorageProvider.remove(this.settings.name),this.store={},this.emitter.removeAllListeners()}toJSON(){return this.store}triggerAndBackup(e){"memory"!==this.settings.type&&(this.unStorage&&this.unStorage()||r.StorageProvider.set(this.settings.name,this.store),o.default.sendEvent(`${this.settings.name}_updateStore`,{name:this.settings.name,keyName:e,val:this.get(e)||null}))}allKeysUpdate(){this.emitter.emit(`${this.settings.name}_change_all`,this.store)}trigger(e,t){this.emitter.emit(`${this.settings.name}_change_${e}`,t),this.allKeysUpdateDebounce()}on(e,t){return this.emitter.addListener(`${this.settings.name}_change_${e}`,t)}protectOthersTabs(){o.default.on(`${this.settings.name}_updateStore`,(e=>{e.name===this.settings.name&&this.setKey(e.keyName,e.val,!0)})),o.default.on(`${this.settings.name}_resetSessionStore`,(()=>{this.store={}}))}getName(){return this.settings.name}}var g=h;t.default=g,s.EnvironmentManager.isDevelopment()&&(window.parent.Store=h)},73687:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(9393),o=a(n(1039)),r=n(44733),s=n(38632);const l=a(n(4855)).default.name("TempStore","color: grey"),u="temp_";var c=new class{constructor(){this.cleanExpiredKeys()}set(e,t,n){if(l.log("set",e,t,n),!n)throw new Error("cant set in TempStore without seconds");if(null===t)return l.log("remove key on data",e),void r.StorageProvider.remove(u+e);t={val:t,expire:(new Date).setTime((new Date).getTime()+1e3*n)},r.StorageProvider.set(u+e,t)}get(e){const t=r.StorageProvider.get(u+e);return t&&t.expire?t.expire<(new Date).getTime()?null:t.val:t}cleanExpiredKeys(){const e=this.getKeysByPrefix(u);(0,i.each)(e,(e=>{const t=u+e,n=r.StorageProvider.get(t);n&&n.expire&&n.expire<(new Date).getTime()&&(l.log("delete key on init expire:",t),r.StorageProvider.remove(t))}))}getKeysByPrefix(e){const t=[],n=s.parentLS;if(n)for(const a in n)if(a&&0==a.search(new RegExp("^jv_"+e))){const n=a.replace(`jv_${e}`,"").replace(`_${o.default.widget_id}`,"");t.push(n)}return t}getPrefix(){return u}};t.default=c},53049:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestName=void 0;t.TestName={}},97939:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BotType=void 0;t.BotType={DEFAULT:"default",ASSISTANT:"assistant"}},47245:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Component=void 0;t.Component={ROOT_COMPONENT:"RootComponent",CALL_CONTAINER:"CallContainer",CHAT_CONTAINER:"ChatContainer",DRAG:"Drag",INTRODUCE:"Introduce",WIDGET_CONTAINER:"WidgetContainer",WIDGET_CONTAINER_COMPONENT:"WidgetContainerComponent",INPUT:"Input",AUTORESIZER:"autoResizer",CHAT_INPUT:"ChatInput",CHAT_INTRODUCE:"ChatIntroduce",SCROLL_CONTAINER:"ScrollContainer",PRECHAT:"PrechatMessage",LABEL:"Label",HEADER:"Header",MORE_BUTTON:"MoreButton",MOUSE_TRACK:"MouseTrack",CHAT_BODY:"ChatBody",SOUND_AGENT_MESSAGE:"SOUND_AGENT_MESSAGE",SOUND_NOTIFICATION:"SOUND_NOTIFICATION",SOUND_OUTGOING_MESSAGE:"SOUND_OUTGOING_MESSAGE",MESSAGES_CONTAINER:"MESSAGES_CONTAINER",MOBILE_CONTAINER:"MOBILE_CONTAINER",RATE_FORM:"RateForm"}},4425:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatMode=void 0;t.ChatMode={OFFLINE:"offline",ONLINE:"online"}},94537:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContactsType=void 0;t.ContactsType={DURING_CHAT_NO_CLOSE:-1,DURING_CHAT:0,BEFORE_CHAT:1,DISABLED:2,SOCIAL:3}},18073:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emojiList=void 0;t.emojiList={angel:"1f607",unicorn_face:"1f984",confused:"1f615",rage:"1f621",imp:"1f608",disappointed:"1f61e",kissing_heart:"1f618",yum:"1f60b",disappointed_relieved:"1f625",weary:"1f629",grin:"1f601",laughing:"1f606",wink:"1f609",sunglasses:"1f60e",neutral_face:"1f610",winking_eye:"1f61c",hushed:"1f62e",thumbsup:"1f44d",thumbsdown:"1f44e",smile:"1f603"}},87884:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Environment=void 0;t.Environment={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"}},12494:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileUploadError=void 0;t.FileUploadError={FILE_SIZE_EXCEEDED:"FILE_SIZE_EXCEEDED",RESTRICTED_FILE_TYPE:"RESTRICTED_FILE_TYPE",NO_EXTENSION:"NO_EXTENSION",REQUEST_FAILED:"REQUEST_FAILED",UPLOAD_CANCELED:"UPLOAD_CANCELED"}},3571:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Feature=void 0;t.Feature={RECAPTCHA:"recaptcha"}},57930:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Locator=void 0;t.Locator={LABEL_COPYRIGHT_POPUP:"LABEL_COPYRIGHT_POPUP",HEADER:"HEADER",HEADER_TEXT:"HEADER_TEXT",HEADER_LEAF:"HEADER_LEAF",HEADER_AGENT_NAME:"HEADER_AGENT_NAME",HEADER_AGENT_POSITION:"HEADER_AGENT_POSITION",HEADER_AVATAR:"HEADER_AVATAR",HEADER_AVATAR_ANON:"HEADER_AVATAR_ANON",CHAT_AVATAR:"CHAT_AVATAR",CHAT_AVATAR_ANON:"CHAT_AVATAR_ANON",HEADER_CALLBACK_BUTTON:"HEADER_CALLBACK_BUTTON",CHAT_COPYRIGHT:"CHAT_COPYRIGHT",INPUT:"INPUT",INPUT_SUBMIT:"INPUT_SUBMIT",FILE_UPLOAD:"FILE_UPLOAD",CONTACTS_FORM:"CONTACTS_FORM",CONTACTS_FORM_NAME:"CONTACTS_FORM_NAME",CONTACTS_FORM_PHONE:"CONTACTS_FORM_PHONE",CONTACTS_FORM_EMAIL:"CONTACTS_FORM_EMAIL",CONTACTS_FORM_SUBMIT:"CONTACTS_FORM_SUBMIT",CONTACTS_FORM_INPUT:"CONTACTS_FORM_INPUT",CALLBACK_BUTTON:"CALLBACK_BUTTON",CALLBACK_VIDEO_BUTTON:"CALLBACK_VIDEO_BUTTON",WA_BUTTON:"WA_BUTTON",CLOSE_BUTTON:"CLOSE_BUTTON",POWER_BUTTON:"POWER_BUTTON",MOBILE_POPUP_CLOSE_BUTTON:"MOBILE_POPUP_CLOSE_BUTTON",INPUT_MORE_BTN:"INPUT_MORE_BTN",INPUT_EMOJI_PANEL:"INPUT_EMOJI_PANEL",INPUT_UPLOAD_ICON:"INPUT_UPLOAD_ICON",RATE_TITLE:"RATE_TITLE",RATE_FORM_TEXT:"RATE_FORM_TEXT",RATE_COMMENT_TITLE:"RATE_COMMENT_TITLE",RATE_FORM_INPUT:"RATE_FORM_INPUT",RATE_SUBMIT_BUTTON:"RATE_SUBMIT_BUTTON",RATE_POSITIVE_SUBMIT_TEXT:"RATE_POSITIVE_SUBMIT_TEXT",RATE_FORM_CLOSE_ICON:"RATE_FORM_CLOSE_ICON",RATE_GOOD:"RATE_GOOD",RATE_GOODNORMAL:"RATE_GOODNORMAL",RATE_NORMAL:"RATE_NORMAL",RATE_BADNORMAL:"RATE_BADNORMAL",RATE_BAD:"RATE_BAD",PRECHAT_BUTTON:"PRECHAT_BUTTON_",LABEL_TEXT:"LABEL_TEXT_"}},81152:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageType=t.MessageStatus=t.MessageName=t.MessageInitiator=t.MediaType=t.MediaStatus=void 0;t.MessageType={MESSAGE:"message",PROACTIVE:"proactive",MEDIA:"media",COBROWSE:"cobrowse",INVOICE:"invoice",SYSTEM:"system",PREFORM:"botsystem",FORM:"form",TEMPORARY:"temporary",SOCIAL:"social",EMAIL:"email",SEPARATOR:"separator",FOR_TEST:"fortest",PRECHAT:"prechat",BOT:"bot",INVITE:"invite",EMPTY:null,LISTPICKER:"keyboard",WEB_RTC_CALL:"webrtccall",RATE_FORM:"rateform",CALL:"call"};t.MessageStatus={SENT:"sended",DELIVERED:"delivered",READ:"read",NOT_DELIVERED:"notDelivered",FAILED:"failed",DELETED:"deleted",EMPTY:null};t.MessageInitiator={AGENT:"agent",CLIENT:"client",SYSTEM:"system",FORM:"bot",BOT:"bot_agent",EMPTY:null};t.MediaStatus={UPLOADING:"uploading",COMPLETE:"complete",ERROR:"error",EXPIRED:"expired"};t.MediaType={VIDEO:"video",PHOTO:"photo",LOCATION:"location",VOICE:"voice",STICKER:"sticker",RICH_LINK:"rich_link"};t.MessageName={DELAYED_CALL_SUCCESS:"delayedCallSuccess",CALL_END:"callEnd",CALL_MESSAGE_START:"callMessageStart"}},31343:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REQUEST_OPTIONS=t.METHODS=t.CONTENT_TYPE=t.ACCEPT=void 0;t.METHODS={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH",HEAD:"HEAD"};t.ACCEPT="application/json, text/plain, */*";t.CONTENT_TYPE={X_WWW_FORM:"application/x-www-form-urlencoded",APP_JSON:"application/json"};t.REQUEST_OPTIONS={body:null,headers:{},responseType:"json",timeout:3e3,withCredentials:!1,validateStatus:e=>e>=200&&e<300,onTimeout:null,onUpload:null,onDownload:null}},62168:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PermissionStatus=t.Permission=void 0;t.PermissionStatus={UNKNOWN:0,ALLOWED:1,BLOCKED:2};t.Permission={AUDIO:"audio",VIDEO:"video"}},15174:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RateType=t.RateState=t.RateIconType=t.RateIconMap=t.RateConditions=t.RateColors=void 0;const n={BAD:"bad",BAD_NORMAL:"badnormal",NORMAL:"normal",GOOD_NORMAL:"goodnormal",GOOD:"good"};t.RateState=n;t.RateConditions={MESSAGE_COUNT:"message_count",CHAT_FINISHED:"chat_finished"};t.RateType={TWO:"two",THREE:"three",FIVE:"five"};t.RateIconType={SMILE:"smile",STAR:"star"};const a={three:[n.BAD,n.NORMAL,n.GOOD],five:[n.BAD,n.BAD_NORMAL,n.NORMAL,n.GOOD_NORMAL,n.GOOD]};t.RateIconMap=a;t.RateColors={color:"#FFCE00",color2:"#EE9547",hoverColor:"#FFDB5E",disabledColor:"#D1D5DA",disabledColor2:"#83878C"}},22271:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Regexp=void 0;t.Regexp={SERVICEZONE_DOMAIN:/^https:\/\/servicezone+\S+jivosite.com/}},47060:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterEvent=t.RouteList=t.Route=void 0;const n={HIDDEN:"hidden",LABEL:"label",LABEL_INVITATION:"label/invitation",DEPARTMENTS:"departments",INTRODUCE:"introduce",MOBILE_MENU:"mobilemenu",CHAT:"chat",CHAT_MIN:"chat/min",CHAT_EULA:"chat/eula",CHAT_SOCIAL:"chat/social",CHAT_INTRODUCE:"chat/introduce",CHAT_EVAL:"chat/eval",CHAT_CALL:"chat/call",CHAT_SETUP_CALL:"chat/setupcall",CALL:"call",CALL_EULA:"call/eula",CALL_POPUP:"call/popup",DEBUG:"debug"};t.Route=n;t.RouterEvent={Submit:"submit",Cancel:"cancel",CloseWindow:"closeWindow",Hide:"hide",Navigate:"navigate",Error:"error",ToChat:"toChat",ToCall:"toCall",ToSocial:"toSocial",ToIntroduce:"toIntroduce",ToEula:"toEula",ApiOpen:"apiOpen",ToDebug:"toDebug",ToLabelInvitation:"toLabelInvitation",ToMobileMenu:"toMobileMenu",ToCallPopup:"toCallPopup",ToCallSetup:"ToCallSetup"};let a=[];for(const e in n)n.hasOwnProperty(e)&&a.push(n[e]);const i=a;t.RouteList=i},83907:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UtmSource=t.RuleTypes=t.RuleConditions=t.DeviceType=void 0;t.RuleTypes={PROACTIVE:"proactive",OPEN_OFFLINE:"open_offline",HIDE:"hide",SYSTEM_MESSAGE:"system_message",SYSTEM_EMAIL:"system_message_email",SHOW_CALLFORM:"show_callform"};t.RuleConditions={ONLINE:"online",PAGE_URL:"page_url",PAGE_TITLE:"page_title",HOUR:"hour",WEEK_DAY:"week_day",TIME_AFTER_CLOSE:"time_after_close",TIME_AFTER_FIRST_MSG:"time_after_first_message",TIME_AFTER_INVITAION:"time_after_invitation",TIME_ON_PAGE:"time_on_page",TIME_ON_SITE:"time_on_site",NUMBER_OF_VISITS:"number_of_visits",GOAL_CLOSE:"goal_close",GOAL_SCROLL:"goal_scroll",PAGES_COUNT:"pages_count",COUNTRY:"country",CITY:"city",ONCE_A_DAY:"once_a_day",UTM_SOURCE:"utm_source",DEVICE:"device"};t.DeviceType={MOBILE:"mobile",DESKTOP:"desktop"};t.UtmSource={BING:"bing",YANDEX:"yandex",GOOGLE:"google",YAHOO:"yahoo",DIRECT:"direct"}},51542:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Shards=void 0;t.Shards={SBER:"sber1"}},60718:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatType=void 0;t.StatType={INIT:"init",VISIT:"visit",SHOWN:"shown",CHAT_INIT:"chat_init",CONTACT_FILL:"contacts_fill"}},47138:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebRTCCallStatus=t.DelayedCallStatus=t.ChatState=t.CallStatus=t.CallPopupStatus=void 0;t.ChatState={NOT_STARTED_OR_CLOSED:"NOT_STARTED_OR_CLOSED",STARTED:"STARTED",ACCEPTED:"ACCEPTED"};t.CallStatus={WAIT:"cw_wait",CONNECTING:"cw_connecting",CONNECTED:"cw_connected",ENDED:"cw_call_end",ERROR:"cw_error"};t.DelayedCallStatus={WAIT:0,SUCCESS:1,MAX_REQUESTS_LIMIT:2,NOT_WORK_TIME:3,BAD_CALLBACK_TIME:4,BLOCKED:5,BAD_DIRECTION:6};t.WebRTCCallStatus={INITIAL:0,ACCEPTED:1,DECLINED:2,ERROR:3,ENDED:4};t.CallPopupStatus={ENABLED:"enabled",DISABLED:"disabled",ONLY_TRIGGERS:"only_triggers",ONLY_BUTTON_CLICK:"only_button_click"}},71047:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STORAGE_TYPE=t.STORAGE_STATUS=t.STORAGED_ID=void 0;t.STORAGED_ID={APP:"app",CALLBACK:"callback",CLIENT:"client",POSITION:"position"};t.STORAGE_STATUS={AVAILABLE:"available",UNAVAILABLE:"unavailable",EXCEED:"exceed"};t.STORAGE_TYPE={LOCAL:"localStorage",SESSION:"sessionStorage"}},83170:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TelemetryName=t.RateLimit=void 0;t.TelemetryName={STARTUP_OK:"startup_ok",RESUME_OK:"resume_ok",NEWOFFLINE_FIRST_MESSAGE:"offline_first_message",NEWOFFLINE_FORM_SUBMIT:"offline_form_submit",NEWOFFLINE_MESSAGE_AFTER_FORM:"offline_message_after_form",NEWOFFLINE_AGENT_ACCEPT:"offline_agent_accept",NEWOFFLINE_FORCE_OFFLINE:"offline_force_offline",CHAT_ACCEPTED:"chat_accepted",CHAT_ACCEPTED_CONTACTS:"chat_accepted_contacts",CHAT_BOT_ACCEPTED:"chat_bot_accepted",STARTUP_ERROR:"startup_error",CALL_END:"cw_call_end",CALL_ERROR:"cw_call_error",FORCE_OFFLINE:"force_offline",SOCIAL_HAS_INTEGRATION:"social_receive_has_integration_",CHAT_INTRODUCE_SOCIAL:"chat_introduce_social",CALL_START:"cw_start_call",API_CALL_OPEN:"cw_api_call_open",INTRODUCE:"introduce",EULA_SHOWN:"eula_shown",EULA_ACCEPTED:"eula_accepted",OFFLINE_SENT:"offline_sent",CLIENT_MESSAGE_SEND_ERROR:"client_message_send_error",CHAT_INTRODUCE:"chat_introduce",CHAT_INVITE:"chat_invite",INVITE_ACCEPTED:"invite_accepted",COBROWSE_SUCCESS:"cobrowse_success",COBROWSE_FAILED:"cobrowse_failed",CLIENT_MESSAGE_FLUSH_BUFFER:"client_message_flush_buffer",CLIENT_MESSAGE_SPAM:"client_message_spam",CDN_LOAD_TIME:"cdn_load_time",IN_IFRAME_STARTED:"in_iframe_started",API_GET_MESSAGES_REQUEST:"api_get_messages_request",API_GET_MESSAGES_ERROR:"api_get_messages_error",API_GET_MESSAGES_RECEIVED:"api_get_messages_received",FILE_UPLOAD_ERROR:"file_upload_error",FILE_UPLOAD_ERROR_NO_MIME_TYPE:"file_upload_error_no_mime_type",CW_BUTTON_CLICK:"cw_button_click",WA_BUTTON_CLICK:"wa_button_click",WIDGET_CLOSE_CLICK:"widget_close_click",SITE_CUSTOM_COPYRIGHT:"site_custom_copyright",EULA_CANCEL_BTN:"eula_cancel_btn",EULA_LINK_CLICKED:"eula_link_clicked",FILE_UPLOAD_SUCCESS:"file_upload_success",FILE_UPLOAD_CANCELED:"file_upload_canceled",FILE_UPLOAD_NO_LOCATION:"file_upload_no_location",MOBILE_CHAT_CLOSE:"mobile_chat_close",MOBILE_CLOSE_CALLBACK:"mobile_close_callback",EMOJI_OPEN_SMILE_LIST:"emoji_open_smile_list",EMOJI_INSERT_SMILE:"emoji_insert_smile",WIDGET_CLICK:"widget_click",LABEL_BUTTONS_SHOW:"label_buttons_show",LABEL_BUTTONS_CHAT:"label_buttons_chat",LABEL_BUTTONS_CALL:"label_buttons_call",LABEL_BUTTONS:"label_buttons_",LABEL_BUTTONS_WA:"label_buttons_wa",LABEL_BUTTONS_SB:"label_buttons_sb",LABEL_BUTTONS_TG:"label_buttons_tg",COBROWSE_CLICK_BUTTON:"cobrowse_click_button",EMAIL_MESSAGE_SUBMITTED:"Introduce_message_email_submitted",POWERBUTTON_OPEN:"powerbtn_open_",POWERBUTTON_OPEN_CHAT:"powerbtn_open_chat",POWERBUTTON_OPEN_CALLBACK:"powerbtn_open_callback",POWERBUTTON_CLOSE_MENU:"powerbtn_close_menu",POWERBUTTON_OPEN_MENU:"powerbtn_open_menu",CONTINUE_IN_VK:"Continue_in_VK",CONTINUE_IN_FB:"Continue_in_FB",ZOOM_OVERLAY_SHOW:"zoom_overlay_show",ZOOM_OVERLAY_HIDE:"zoom_overlay_hide",WIDGET_STATUS:"widget_status",CW_ONLINE_HEADER_BUTTON:"cw_online_header_button",CW_OFFLINE_HEADER_BUTTON:"cw_offline_header_button",SOCIAL_SHOW_FACEBOOK:"social_show_facebook",SOCIAL_SHOW_VK:"social_show_vk",SOCIAL_CONFIGURED_NOT_LOGGED:"social_configured_not_logged",VISITORS_FAIL:"visitors_fail",VISITORS_INVITE:"visitors_invite",OFFLINE_INVITE:"offline_invite",VISITOR_MSG_SENT:"visitor_msg_sent",AGENT_MESSAGE:"agent_message",API_OPEN:"api_open",API_CLOSE:"api_close",API_GET_CONTACT_INFO:"api_getcontactinfo",API_GET_VISITOR_NUMBER:"api_getvisitornumber_async",API_SET_USER_TOKEN:"api_setusertoken",API_SET_CUSTOM_DATA:"api_setcustomdata",API_SEND_MESSAGE:"api_sendmessage",API_SET_CONTACT_INFO:"api_setcontactinfo",API_SET_CONTACT_INFO_BAD_DATA:"api_setcontantactinfo_bad_data",API_SHOW_PROACTIVE:"api_showproactiveinvitation",API_SEND_OFFLINE_MESSAGE:"api_sendofflinemessage",API_SEND_OFFLINE_MESSAGE_BAD_DATA:"api_sendofflinemessage_bad_data",API_SET_RULES:"api_setrules",API_CHAT_MODE:"api_chatmode",API_SET_WIDGET_COLOR:"api_setwidgetcolor",API_SEND_PAGE_TITLE:"api_sendpagetitle",API_IS_CALLBACK_ENABLED:"api_iscallbackenabled",API_GET_UTM:"api_getutm",OFFLINE_SENT_FAIL:"offline_sent_fail",DEBUG_PANEL_OPENED:"debug_panel_opened",MORE_CLICK:"more_click",DOWNLOAD_CHAT_LOG_CLICK:"download_chat_log_click",ERROR_DOWNLOADING_CHAT_LOG:"error_downloading_chat_log",WIDGET_DELETED:"widget_deleted",INVITE_CLOSE:"invite_close",PRECHAT:"prechat",RECEIVE_API_INVITATION:"receive_api_invitation",READ_API_INVITATION:"read_api_invitation",ANSWER_API_INVITATION:"answer_api_invitation",API_INVITATION_OPEN_CHAT:"api_invitation_open_chat",CLICK_LINK_API_INVITAION:"click_link_api_invitation",BOT_BUTTON_CLICK:"bot_button_click",CLIENT_MESSAGE_BOT:"client_message_bot",CLIENT_MESSAGE_ASSISTANT:"client_message_assistant",CONFIG_LIMIT:"config_limit",VI_STATUS_FAIL:"vi_status_fail",MARKDOWN_LINK_CLICK:"markdown_link_click",MORE_BTN_CLICK:"more_btn_click",BOT_TRANSFER_CHAT:"bot_transfer_chat",DELAYED_ERR:"delayed_query_error",RECAPTCHA_SUCCESS:"recaptcha_success",RECAPTCHA_FAILURE:"recaptcha_failure",RECAPTCHA_ERROR:"recaptcha_error",BUNDLE_LOADED:"bundle_loaded",CWP_SHOW_ON_PROACTIVE:"cwp_show_on_proactive",CWP_SUBMIT:"cwp_submit",CWP_DISABLED_SUBMIT_CLICK:"cwp_disabled_submit_click",CWP_CLOSE_CLICK:"cwp_close_click",CW_TO_CHAT_CLICK:"cw_to_chat_click",CW_ERROR_SUBMIT_PHONE:"cw_error_submit_phone",CW_SELECT_COUNTRY_CLICK:"cw_select_country_click",RESEND_CLICK:"resend_click",CHAT_VIEW:"chat_view",TOP100_HOVER:"top100_hover",TOP100_LINK_CLICK:"top100_link_click",MEDIA_SIGN:"media_get_sign_success",MEDIA_SIGN_ERROR:"media_get_sign_error",WEBRTC_ACCEPT_CALL:"webrtc_accept_call",WEBRTC_DENY_CALL:"webrtc_deny_all",QR_ERROR:"qr_error",PAGE_HIDE:"page_hide",RATE_FORM_ADD:"rate_form_add",RATE_FORM_CLOSE:"rate_form_close",RATE_FORM_SUBMIT:"rate_form_submit",RATE_FORM_SELECT:"rate_form_select",RECONNECTION:"reconnection",STORAGE_ERROR:"storage_error",LOGO_CLICK:"logo_click",ASSET_ERROR:"asset_error",SET_UTM_ERROR:"set_utm_error"};t.RateLimit={Low:1,High:10}},20361:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptName=void 0;t.ScriptName={OPEN_WIDGET:"OPEN_WIDGET",CLOSE_WIDGET:"CLOSE_WIDGET",MINIMIZE_WIDGET:"MINIMIZE_WIDGET",MAXIMIZE_WIDGET:"MAXIMIZE_WIDGET",MIN_WIDGET:"MIN_WIDGET"}},26022:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClientStatus=void 0;t.ClientStatus={ON_CHAT:"on_chat",INVITE_SENT:"invite_sent",ON_SITE:"on_site",PROACTIVE_SHOW:"proactive_show",ON_CALL:"on_call"}},40228:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=n(88928),r=a(n(45697)),s=a(n(21135)),l=a(n(14945)),u=a(n(21651)),c=n(58663),d=n(47138),f=a(n(19955));const p=e=>{let{route:t,isOnline:n,color:a,bubbleColor:r,button:p,baseUrl:h,widgetId:g,eula:m,callTime:_,isDelayedCallback:v,callbackAvailable:b,delayedCallStatus:y,separateForm:E,enableRequestVideocall:T,videoCall:C,callbackStatus:S,callbackError:O,clientPhone:A}=e;const w=(0,o.useSelector)((e=>e.callback.delayedPeriods),o.shallowEqual),I=(0,c.getShowButton)(p,b);return i.default.createElement(i.default.Fragment,null,I?i.default.createElement(s.default,{allowedRoutes:(0,c.getCallbackButtonAllowedRoutes)(),currentRoute:t},i.default.createElement(l.default,{isCallButtonEnabled:!0,videoButton:!1,color:(0,c.getCallbackButtonColor)(a),onClick:()=>{(0,c.onButtonClick)(!1)}})):null,(0,c.isVideoButton)(T,C,n)?i.default.createElement(s.default,{allowedRoutes:(0,c.getCallbackButtonAllowedRoutes)(),currentRoute:t},i.default.createElement(l.default,{videoButton:!0,color:(0,c.getCallbackButtonColor)(a),onClick:()=>{(0,c.onButtonClick)(!0)},isCallButtonEnabled:I})):null,!b&&E==d.CallPopupStatus.DISABLED||!E||f.default.mobileOrTablet()?null:i.default.createElement(s.default,{allowedRoutes:(0,c.getCallbackPopupAllowedRoutes)(),currentRoute:t},i.default.createElement(u.default,{callTime:_,checkEula:!!m,eulaLink:(0,c.getEulaLink)(h,g),onSubmit:c.onPopupSubmitClick,onClose:c.onPopupCloseClick,isDelayed:!(!v||!w),delayedCallPeriods:(0,c.getDelayedCallPeriods)(w,{month:"long",day:"numeric"}),delayedCallError:(0,c.getDelayedCallError)(y),onDisabledSubmitClick:c.onDisabledSubmitClick,color:r,status:S,error:O,phone:A})))};p.propTypes={route:r.default.string,isOnline:r.default.bool,callbackAvailable:r.default.bool,isDelayedCallback:r.default.bool,callTime:r.default.number,color:r.default.string,bubbleColor:r.default.string,button:r.default.bool,baseUrl:r.default.string,widgetId:r.default.string,eula:r.default.any,delayedCallStatus:r.default.any,separateForm:r.default.string,enableRequestVideocall:r.default.bool,videoCall:r.default.number,callbackStatus:r.default.oneOfType([r.default.string,()=>null]),callbackError:r.default.oneOfType([r.default.string,()=>null]),clientPhone:r.default.string};var h=(0,o.connect)(((e,t)=>({route:e.app.route,isOnline:e.app.isOnline,callbackAvailable:e.callback.available,isDelayedCallback:e.callback.isDelayed,callbackStatus:e.callback.status,callbackError:e.callback.error,clientPhone:e.client.phone,callTime:e.settings.user.callback.time,color:e.settings.user.callbackButtonColor,bubbleColor:e.settings.user.bubbleColor,button:e.settings.user.callback.button,baseUrl:e.settings.system.baseUrl,widgetId:e.settings.system.widgetId,eula:e.settings.features.eula&&!e.client.eulaAccepted,delayedCallStatus:e.callback.delayedStatus,separateForm:e.callback.separateForm,enableRequestVideocall:e.settings.features.enableRequestVideocall,videoCall:e.settings.features.modules?e.settings.features.modules.videoCall:null})),{})(p);t.default=h},58663:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.onPopupSubmitClick=t.onPopupCloseClick=t.onDisabledSubmitClick=t.onButtonClick=t.isVideoButton=t.getShowButton=t.getEulaLink=t.getDelayedCallPeriods=t.getDelayedCallError=t.getCallbackPopupAllowedRoutes=t.getCallbackButtonColor=t.getCallbackButtonAllowedRoutes=void 0;var i=n(52028),o=n(26932),r=n(21476),s=n(47060),l=n(54415),u=n(83170),c=n(20361),d=a(n(19955)),f=n(69882),p=a(n(91275)),h=n(33069),g=a(n(71323)),m=a(n(138)),_=n(44145),v=n(47138),b=a(n(84726)),y=n(65465),E=a(n(2559));t.getCallbackButtonAllowedRoutes=()=>[s.Route.LABEL];t.onButtonClick=e=>{i.isDesignerEditor||(o.userDispatchers.setCallHeaderText(null),o.appDispatchers.setChatOpenByClient(!0),e?(y.messageActions.sendClientMessage((0,b.default)("webrtc_video_text_message")),o.transitionDispatchers.startTransition(c.ScriptName.OPEN_WIDGET),r.Router.next(s.RouterEvent.ToChat)):[v.CallPopupStatus.ENABLED,v.CallPopupStatus.ONLY_BUTTON_CLICK].includes((0,_.getCallback)().separateForm)?r.Router.next(s.RouterEvent.ToCallPopup):(o.transitionDispatchers.startTransition(c.ScriptName.OPEN_WIDGET),r.Router.next(s.RouterEvent.ToCall),m.default.trackCallClick()),l.Monitoring.telemetry(u.TelemetryName.CW_BUTTON_CLICK,{param1:e?"isVideo":null}))};t.getShowButton=(e,t)=>e&&t&&!d.default.mobileOrTablet()&&!(0,f.isChatPage)()&&!(0,f.isAppCobrowse)()||i.isDesignerEditor;t.isVideoButton=(e,t,n)=>e&&t&&n&&!i.isDesignerEditor&&!d.default.mobileOrTablet()&&!(0,f.isChatPage)()&&!(0,f.isAppCobrowse)();t.getCallbackButtonColor=e=>e||E.default.GREEN_80;t.getCallbackPopupAllowedRoutes=()=>[s.Route.CALL_POPUP];t.getEulaLink=(e,t)=>window.parent.location.protocol+e+"/script/eula/"+t;t.onPopupCloseClick=()=>{l.Monitoring.telemetry(u.TelemetryName.CWP_CLOSE_CLICK),r.Router.next(s.RouterEvent.CloseWindow)};t.onPopupSubmitClick=(e,t)=>{g.default.acceptEula(),t?((0,h.requestDelayedCall)({phone:e,dateTime:t}),o.transitionDispatchers.startTransition(c.ScriptName.OPEN_WIDGET),r.Router.next(s.RouterEvent.Submit),l.Monitoring.telemetry(u.TelemetryName.CWP_SUBMIT,{param1:"delayed"})):(p.default.startCall(e),setTimeout((()=>{o.transitionDispatchers.startTransition(c.ScriptName.OPEN_WIDGET),r.Router.next(s.RouterEvent.Submit)}),1e3),l.Monitoring.telemetry(u.TelemetryName.CWP_SUBMIT,{param1:"direct"}))};t.getDelayedCallPeriods=(e,t)=>(0,h.formatPeriodsToSelectModel)(e,t);t.getDelayedCallError=e=>(0,h.isErrorStatusCode)(e);t.onDisabledSubmitClick=()=>{l.Monitoring.telemetry(u.TelemetryName.CWP_DISABLED_SUBMIT_CLICK)}},36071:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(54720)),o=a(n(91275)),r=a(n(39976)),s=a(n(1039)),l=a(n(84726)),u=a(n(19955)),c=n(21476),d=n(47060),f=n(31984),p=a(n(71323)),h=n(54415),g=n(83170);const m=a(n(4855)).default.name("Call");class _ extends i.default{initTimer(e,t,n){this.callTimer=r.default,this.callTimer.timerText=e,this.callTimer.seconds=s.default.callback_settings.time,this.callTimer.on("handling",t),this.callTimer.on("tick",n)}setTimerNull(){this.callTimer&&this.callTimer.setTimerNull()}startTimer(){this.callTimer&&this.callTimer.handle("start_timer")}submitPhone(e,t,n){const a=this._inputPhone;if(m.log("submitPhone",t,n,a,this._inputPhone),a&&a.isValid()){u.default.tablet()&&a&&a.base&&a.base.blur();const e="+"+a.getFullPhoneNumber();let i="";i=n?this.getMaskedPhoneByCode(e,n):(0,f.getMaskedPhone)(e),!this.props.eulaAccepted&&s.default.eula?(this.phone=e,p.default.showEula(`${(0,l.default)("eula_phone")}<br/>${i}`,null,"cb"),c.Router.next(d.RouterEvent.Submit)):(this.setTimerNull(),this.startCall(e,t),h.Monitoring.telemetry(g.TelemetryName.CWP_SUBMIT,{param1:"direct"}))}else h.Monitoring.telemetry(g.TelemetryName.CW_ERROR_SUBMIT_PHONE)}startCall(e,t,n){m.log("start call",e,t),o.default.startCall(e,t,n)}getMaskedPhoneByCode(e,t){if(m.log("getMaskedPhoneByCode",e,t),!e)return e;const n=this.getPhoneNumberInfoByCode(e,t);return m.log("phoneNumberCode",n),n?"+"+t+" "+(0,f.getMaskedValue)(n.innerNumber,n.phoneFormat):null}getPhoneNumberInfoByCode(e,t){const n=s.default.callback_settings.countries,a=null==n?void 0:n.find((e=>e.phone_code===t));return m.log("getPhoneNumberInfoByCode",a,t),a?(0,f.getPhoneInfo)(a,e):null}}t.default=_},81455:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=n(31984),r=a(n(1039)),s=a(n(84726)),l=a(n(4855)),u=a(n(36071)),c=a(n(51313)),d=a(n(13639)),f=n(81152),p=a(n(32325)),h=a(n(40704)),g=a(n(46528)),m=n(21476),_=n(47060),v=n(65465),b=n(88928),y=a(n(19955)),E=n(92560),T=n(54415),C=a(n(87538)),S=a(n(43893));const O=l.default.name("CallChat"),A="chat_popup";class w extends u.default{constructor(e){super(e),this.state={mode:!1,pin:!0,close:!0,error:!1,hide:!1,is_invalid_phone:!1,submit:!1,blocked:!1},this._blockTimeout=null,this._inputPhone=null,this._timer=null,this.processState=this.processState.bind(this)}componentDidUpdate(e){(0,b.shallowEqual)(this.props,e)||this.props.route!==_.Route.LABEL&&(this.props.callback!==e.callback&&this.processState(),this.props.route===_.Route.CHAT_CALL&&this.props.display&&!this.state.hide&&this._inputPhone&&this._inputPhone.focus())}componentDidMount(){if((0,E.isEmpty)(r.default.callback_settings))return void O.log("Callwidget not configured yet.");this.initTimer(this._timer,(e=>{O.log("timer_finished",this.state.mode,this._timer),"timer_finished"===e.inputType&&"cw_wait"===this.state.mode&&this.setState({mode:"cw_connecting"})}),(e=>{this.setState({timer:e.toFixed(1).replace(".",",")})})),this.processState(!0),this._inputPhone&&(this._inputPhone.subscribe("onEnter",((e,t)=>{this.submitCall(e,A,t)})),this._inputPhone.subscribe("onChange",(()=>{this.setState({is_invalid_phone:!this._inputPhone.isValid()})})));const e=t=>{O.log("submit_eula_success",t),t===_.Route.CHAT_CALL&&(this.submitPhone(null,A),m.Router.off("submit_eula_success",e),T.Monitoring.telemetry("startCall_eula"))};m.Router.on("submit_eula_success",e)}processState(e){const t=this.getState(e);(0,b.shallowEqual)(t,this.state)&&this.props.callback.status===this.state.mode||this.setState(t)}getState(e){const t={mode:this.props.callback.webRTCCallStatus||this.props.callback.status,error:!1,hide:!1,isDelayedCall:!!this.props.callback.isDelayed,delayedCallPeriods:this.props.callback.delayedPeriods,delayedCallStatus:this.props.callback.delayedStatus};switch(t.mode){case"cw_wait":e&&!this.props.callback.webRTCCallStatus&&v.messageActions.systemCallMessage(`${(0,s.default)("cw_call_to")} ${(0,o.getMaskedPhone)(this.props.clientPhone)}`,f.MessageName.CALL_MESSAGE_START),Object.assign(t,{hide:!1,pin:!1,close:!1,submit:!1}),this.startTimer();break;case"cw_connecting":Object.assign(t,{pin:!1,close:!1,hide:!1,submit:!1}),this.setTimerNull();break;case"cw_connected":t.hide=!0;break;case"cw_error":Object.assign(t,{pin:!y.default.mobileOrTablet(),close:!0,submit:!1,error:this.props.callback.error});break;case"cw_call_end":this.setTimerNull(),Object.assign(t,{pin:!0,close:!0,submit:!1})}return t}submitCall(e,t,n){this.state.blocked||(this.submitPhone(e,t,n),T.Monitoring.telemetry("startCall_enter")),this.startBlockTimeout()}submitFormCall(e){this.state.blocked||this.submitPhone(e,A,this._inputPhone.getCurrentCode()),this.startBlockTimeout()}startBlockTimeout(){this.setState({blocked:!0},(()=>{clearTimeout(this._blockTimeout),this._blockTimeout=setTimeout((()=>{this.setState({blocked:!1})}),3e3)}))}renderInputForm(e){const{isDelayedCall:t,delayedCallStatus:n,delayedCallPeriods:a}=this.state;return t&&!this.props.callback.webRTCCallStatus?i.default.createElement(g.default,{status:this.props.callback.status,error:this.props.callback.error,phone:this.props.clientPhone,statusCode:n,periods:a,color:r.default.bubble_color}):-1===["cw_wait","cw_connecting","cw_connected"].indexOf(this.state.mode)?i.default.createElement("jdiv",null,this.state.error?i.default.createElement("jdiv",{className:e.text},this.state.error):i.default.createElement("jdiv",{className:e.text},(0,s.default)("cw_weRecallAfter")," ",r.default.callback_settings.time," ",(0,s.default)((0,o.getTextSeconds)(r.default.callback_settings.time)),"!"),i.default.createElement("jdiv",{className:e.callBox},i.default.createElement(c.default,{type:"inForm",status:this.props.callback.status,error:this.props.callback.error,phone:this.props.clientPhone,ref:e=>{this._inputPhone=e}}),i.default.createElement(d.default,{click:e=>this.submitFormCall(e),disabled:this.state.blocked||this.state.submit,type:"input-button",iconName:"icon-v-email",ref:e=>{this._submitBtn=e}}),i.default.createElement("jdiv",{id:"callme-start-call",className:this.state.blocked||this.state.is_invalid_phone||this.state.submit?"":"can-call",onPointerDown:e=>this.submitFormCall(e)}))):void 0}getRenderData(){return{styles:{main:[{main:!0},{display:"cw_connected"===this.state.mode?"none":"block"}],waitBox:[{waitBox:!0},{display:"cw_wait"===this.state.mode?"block":"none"}],timerBox:[{timerBox:!0}]},style:C.default}}renderData(e,t){if(!(0,E.isEmpty)(r.default.callback_settings))return i.default.createElement("jdiv",t.main,this.renderInputForm(C.default),i.default.createElement("jdiv",t.waitBox,i.default.createElement("jdiv",{className:C.default.waitText}," ",(0,s.default)("cw_callAfter")),i.default.createElement("jdiv",t.timerBox,i.default.createElement("jdiv",{className:C.default.count},this.state.timer||r.default.callback_settings.time)),i.default.createElement("jdiv",{className:C.default.waitText}," ",(0,s.default)((0,o.getTextSeconds)(r.default.callback_settings.time)))),i.default.createElement("jdiv",{style:{display:"cw_connecting"===this.state.mode?"block":"none"}},i.default.createElement("jdiv",{className:C.default.waitText},(0,s.default)("cw_connecting")),i.default.createElement("jdiv",{className:C.default.connectBox},i.default.createElement(h.default,{color:"#fff",iconName:"icon-connect2",className:C.default.connectIcon}),i.default.createElement("jdiv",{className:S.default.pinBox},i.default.createElement("jdiv",{className:S.default.pin1}),i.default.createElement("jdiv",{className:S.default.pin2}),i.default.createElement("jdiv",{className:S.default.pin3})))),i.default.createElement("jdiv",{className:C.default.pin,style:{display:this.state.pin?"block":"none"}}),this.state.close&&i.default.createElement(p.default,{onClose:e=>{e.stopPropagation()}}));O.log("Callwidget not configured yet.")}}var I=(0,b.connect)((e=>({callback:e.callback,clientPhone:e.client.phone,eulaAccepted:e.client.eulaAccepted,showEula:e.app.showEula})))(w);t.default=I},22129:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackDelayedBodyInfo=t.CallbackChatDelayedBodyInfo=void 0;var i=a(n(98661)),o=a(n(99645));t.CallbackDelayedBodyInfo=e=>{let{children:t}=e;return i.default.createElement("jdiv",{className:o.default.bodyInfo},i.default.createElement("jdiv",{className:o.default.bodyInfoText,dangerouslySetInnerHTML:{__html:t}}))};t.CallbackChatDelayedBodyInfo=e=>{let{children:t}=e;return i.default.createElement("jdiv",{className:o.default.bodyInfoChat},i.default.createElement("jdiv",{className:o.default.bodyInfoChatText,dangerouslySetInnerHTML:{__html:t}}))}},93645:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(61125)),o=a(n(98661)),r=n(33069),s=a(n(91275)),l=n(21476),u=n(80161),c=n(54415),d=n(83170);class f extends o.default.Component{constructor(e){super(e),(0,i.default)(this,"onSubmit",(()=>{const{activePeriodIndex:e,phoneNumber:t,eulaAccepted:n}=this.state,a=this.state.periods[e].value,i=t;this.state.phoneInvalid||s.default.submitShowEula(i)||(s.default.checkConnection((()=>{(0,r.requestDelayedCall)({dateTime:a,phone:i})})),c.Monitoring.telemetry(d.TelemetryName.CWP_SUBMIT,{param1:"delayed"}))})),(0,i.default)(this,"onPeriodChange",(e=>{const{activeOptionIndex:t}=e;this.setState({activePeriodIndex:t})})),(0,i.default)(this,"onPhoneChange",(e=>{const{invalidPhone:t,value:n,code:a}=e;this.setState({phoneInvalid:t,phoneNumber:n,phoneCode:a})})),this.state={periods:(0,r.formatPeriodsToSelectModel)(this.props.periods),activePeriodIndex:0,phoneInvalid:!0}}componentDidMount(){u.RouterUtils.needToShowEula()&&l.Router.on("submit_eula_success",function(){this.onSubmit()}.bind(this))}componentWillReceiveProps(e){const{periods:t,phone:n}=e,a={};a.periods=(0,r.formatPeriodsToSelectModel)(t),n&&n!==this.state.phone&&(a.phoneNumber=n.replace(/\+/,"")),this.setState(a)}}t.default=f},46528:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(84726)),r=a(n(51313)),s=a(n(87316)),l=a(n(66400)),u=a(n(93645)),c=n(22129),d=n(33069),f=n(44145),p=n(81152),h=n(47138),g=a(n(50732));class m extends u.default{render(){const{statusCode:e,color:t,status:n,error:a,phone:u}=this.props,{periods:m,activePeriodIndex:_}=this.state,v=e===h.DelayedCallStatus.WAIT,b=v;let y=(0,o.default)("callback_delayed_title");if((0,d.isErrorStatusCode)(e)&&(y=(0,o.default)("callback_delayed_submit_fail")),e===h.DelayedCallStatus.SUCCESS){const e=(0,f.getLastMessageByName)(p.MessageName.DELAYED_CALL_SUCCESS);return i.default.createElement(c.CallbackChatDelayedBodyInfo,{mode:"chat"},(null==e?void 0:e.text)||(0,o.default)("callback_delayed_submit_success"))}return i.default.createElement("jdiv",{className:g.default.body},i.default.createElement("jdiv",{className:g.default.message},y),i.default.createElement(s.default,{theme:"inset",height:"sm",invalid:(0,d.isErrorStatusCode)(e),disabled:v,classNameWrap:g.default.periodSelectWrap,activeOptionIndex:_,options:m,onChange:this.onPeriodChange,color:t}),i.default.createElement(r.default,{type:"inForm",status:n,error:a,phone:u,classNameContainer:g.default.classNameInputPhone,onChange:this.onPhoneChange,onEnter:this.onSubmit}),i.default.createElement(l.default,{height:"sm",widthFluid:!0,disabled:b,onClick:this.onSubmit},(0,o.default)("callback_delayed_button_submit")))}}t.default=m},48639:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(88928),o=a(n(54720)),r=n(21951),s=n(67597),l=n(92560),u=n(45950),c=a(n(1039)),d=a(n(19955)),f=a(n(84726)),p=n(31984),h=n(97615),g=n(21476);class m extends o.default{constructor(e){super(e),(0,l.isEmpty)(c.default.callback_settings)?console.log("Callwidget not configured yet."):(this.parseCurrentPhone(),this.initState(),this.documentOnClicked=this.documentOnClicked.bind(this),this.documentOnKeyPress=this.documentOnKeyPress.bind(this),this._input=null,this.linkRefs={})}componentDidUpdate(e){(0,i.shallowEqual)(this.props,e)||("cw_error"!==this.props.status||this.props.error!==(0,f.default)("cw_call_forward")?this.props.phone!==e.phone&&(this.parseCurrentPhone(),this.initState()):this.setState({number:""}))}componentDidMount(){this.state.currentCountry.phone_format&&this.setNumber(),g.Router.on("route_change",(()=>{this.props.clientPhone&&!this.state.number&&this.initState()})),this.triggerOnChangeProp()}initState(){this.state={number:this.getCurrentNumber(),showList:!1,errorPhone:!1,countries:this.getAllowCountries(),currentCountry:this.getCurrentCountry(),placeholder:this.getCurrentCountry().phone_format,color:c.default.bubble_color||"green"}}parseCurrentPhone(){this.props.clientPhone&&(this.clientPhoneInfo=(0,p.getPhoneNumberInfo)(this.props.clientPhone))}getCurrentNumber(){return this.clientPhoneInfo?this.clientPhoneInfo.innerNumber:""}getAllowCountries(){return this.countries=this.countries||(0,u.sortBy)(c.default.callback_settings.countries,"name")}getCurrentCountry(){let e;this.clientPhoneInfo?e=this.clientPhoneInfo.countryCode:c.default.geoip&&(e=c.default.geoip.split(";")[0]);return this.getAllowCountries().find((t=>t.code===e))||this.getAllowCountries()[0]}toggleCountriesList(e){this.state.countries.length<2||(this.state.showList?this.hideCountriesList():this.showCountriesList(),e.stopPropagation())}showCountriesList(){this.setState({showList:!0,isFocusedInput:!0}),(0,r.addListener)(window.parent.document,"keypress",this.documentOnKeyPress),(0,r.addListener)(window.parent.document,"click",this.documentOnClicked)}hideCountriesList(){this.setState({showList:!1,isFocusedInput:!1}),(0,r.removeEvent)(window.parent.document,"click",this.documentOnClicked),(0,r.removeEvent)(window.parent.document,"keypress",this.documentOnKeyPress)}validPhoneNumber(){if(this._input&&this.state.currentCountry.phone_format){const e=this.state.currentCountry.phone_format,t=this._input&&this._input.value.toString();return(0,p.checkPhoneLength)(t,e,this.state.currentCountry.code)}return this.getFullPhoneNumber().length>9&&this.getFullPhoneNumber().length<16}getFullPhoneNumber(){return this.state.currentCountry.phone_code+this.state.number.replace(/\D+/g,"")}getCurrentCode(){return this.state.currentCountry.phone_code}isShowErrorState(){let e;return e=!this.state.number||0===this.state.number.length||!this.validPhoneNumber(),e}inputOnBlur(){this.setState({isFocusedInput:!1,invalidPhone:this.isShowErrorState()})}inputOnFocus(){this.setState({isFocusedInput:!0,showList:!1})}triggerOnChangeProp(){const{onChange:e}=this.props;if(void 0!==e){e({value:this.getFullPhoneNumber(),invalidPhone:this.isShowErrorState(),code:this.getCurrentCode()})}}triggerOnEnterProp(){const{onEnter:e}=this.props;void 0!==e&&e()}inputOnInput(){this.setNumber((()=>{this.setState({invalidPhone:this.isShowErrorState()}),this.trigger("onChange",this._input&&this._input.value.toString().replace(/\D+/g,"")),this.triggerOnChangeProp()}))}inputPhoneKeyUp(e){this.setNumber((()=>{if("keyup"===e.type&&(13===e.keyCode||13===e.which)){this.validPhoneNumber()?(this.trigger("onEnter",this.getFullPhoneNumber(),this.state.currentCountry),this.triggerOnEnterProp()):this.setState({invalidPhone:!0})}}))}codeOnClick(){d.default.desktop()&&this._input&&this._input.focus()}documentOnKeyPress(e){const t=this.getChar(e),n=Object.keys(this.linkRefs).filter((e=>"link_"===e.substr(0,5))).find((e=>e.substr(5,1).toUpperCase()===t.toUpperCase()));n&&this.linkRefs[n].scrollIntoView(!0)}documentOnClicked(e){e.target.closest("#countryList")||this.hideCountriesList()}getChar(e){return null==e.which?e.keyCode<32?null:String.fromCharCode(e.keyCode):0!=e.which&&0!=e.charCode?e.which<32?null:String.fromCharCode(e.which):null}countrySelect(e){const t=e.delegateTarget&&e.delegateTarget.getAttribute("data-code")||e.target.value;this.setNumber((()=>{const e=this.state.countries.find((e=>e.code===t));this.setState({currentCountry:e,showList:!1,placeholder:e.phone_format,invalidPhone:this.isShowErrorState()}),d.default.desktop()&&this._input&&this._input.focus(),this.triggerOnChangeProp()}))}getFlagIconLink(e){const t=`/images/flags/${e}.png`;return'url("'+(h.EnvironmentManager.isDevelopment()?"/public"+t:(0,s.staticUrl)(t,!0))+'")'}setNumber(e){const t=this._input&&this._input.value.toString();this.setState({number:this.getMaskedNumber(t)},(()=>{e&&e()}))}getMaskedNumber(e){return(0,p.getMaskedValue)(e,this.state.currentCountry.phone_format)}focus(){d.default.desktop()&&this._input&&this._input.focus()}isValid(){const e=this.validPhoneNumber();return this.setState({invalidPhone:!e}),e}numberMaxLength(){return this.state.currentCountry.phone_format?this.state.currentCountry.phone_format.length:15-this.state.currentCountry.phone_code.length}}t.default=m},51313:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(61125)),r=a(n(98661)),s=a(n(48639)),l=a(n(72953)),u=a(n(88155)),c=a(n(94184)),d=a(n(40704));class f extends s.default{getRenderData(){return{styles:{container:[{container:!0,__singleMod:"single"===this.props.type,__inFormMod:"inForm"===this.props.type}],inputWrap:[{inputWrap:!0,__focused:this.state.isFocusedInput,__error:!this.state.isFocusedInput&&this.state.invalidPhone,__alone:1===this.state.countries.length,["_"+this.state.color]:!(!this.state.color||"green"===this.state.color)}],input:[{phoneInput:!0}],countryWrap:[{countryWrap:!0,_isScroll:this.state.countries.length>4},{display:this.state.showList?"block":"none"}]},style:l.default}}renderCountryList(e,t){return r.default.createElement("jdiv",{className:l.default.countryList,onPointerDown:this.delegate("listItem",this.countrySelect.bind(this))},this.state.countries.map(((e,t)=>r.default.createElement("jdiv",{className:l.default.listItem,key:t,dgName:"listItem","data-code":e.code,ref:t=>{this.linkRefs["link_"+e.name]=t}},r.default.createElement("jdiv",{className:l.default.flagIcon+" "+l.default.list,style:{backgroundImage:this.getFlagIconLink(e.code)}}),r.default.createElement("jdiv",{className:l.default.countryName},e.name),r.default.createElement("jdiv",{className:l.default.countryCode},"+"+e.phone_code)))))}renderData(e,t){const n=(0,c.default)(l.default.flagIcon,this.props.classNameIcon),a=(0,c.default)(t.container.className,this.props.classNameContainer,{});return r.default.createElement("jdiv",(0,i.default)({},t.container,{className:a}),r.default.createElement("jdiv",t.inputWrap,r.default.createElement("jdiv",{className:l.default.flagWrap,onClick:this.toggleCountriesList.bind(this)},r.default.createElement("jdiv",{className:n,style:{backgroundImage:this.getFlagIconLink(this.state.currentCountry.code)}}),r.default.createElement("jdiv",{className:l.default.flagArrow,style:{display:this.state.countries.length<2?"none":null}},r.default.createElement(d.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:l.default.iconSelect}))),r.default.createElement("jdiv",{className:l.default.phoneCodeWrap,onClick:this.codeOnClick.bind(this)},"+"+this.state.currentCountry.phone_code),r.default.createElement("input",(0,i.default)({},t.input,{onBlur:this.inputOnBlur.bind(this),placeholder:this.state.placeholder,onFocus:this.inputOnFocus.bind(this),type:"text",maxLength:this.numberMaxLength(),value:this.getMaskedNumber(this.state.number),onInput:this.inputOnInput.bind(this),onKeyUp:this.inputPhoneKeyUp.bind(this),"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:e=>{this._input=e}})),r.default.createElement("jdiv",t.countryWrap,this.state.countries.length>4?r.default.createElement(u.default,{railClass:l.default.rail,position:"relative"},this.renderCountryList(e,t)):this.renderCountryList(e,t))))}}t.default=f,(0,o.default)(f,"defaultProps",{fillBorderAround:!0})},14945:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(90146)),s=a(n(45697)),l=a(n(94184)),u=n(90361),c=n(57930),d=a(n(40704)),f=a(n(84726)),p=n(94019);const h=e=>{let{videoButton:t,color:n,onClick:a,isCallButtonEnabled:s}=e;const{labelBubble:h,callbackPosition:g}=(0,p.useEnhanced)();return o.default.createElement("jdiv",{className:(0,l.default)({[r.default.wrap]:!0,[r.default._show]:!0,[r.default._powerBtn]:h,[r.default._powerBtnPositionLeft]:"left"===g,__jivoCallbackBtn:s,__jivoVideoBtn:t}),style:{backgroundColor:n},onClick:a},o.default.createElement("jdiv",(0,i.default)({className:r.default.button,style:{backgroundColor:n}},(0,u.withLocator)(t?c.Locator.CALLBACK_VIDEO_BUTTON:c.Locator.CALLBACK_BUTTON))),o.default.createElement("jdiv",{className:r.default.iconWrap},o.default.createElement(d.default,{iconName:t?"icon-video":"icon-tube",color:"#fff",className:r.default.logoCallback}),t?o.default.createElement("jdiv",{className:r.default.popup},(0,f.default)("webrtc_video_text_popup")):null))};h.propTypes={videoButton:s.default.bool,color:s.default.string,onClick:s.default.func,isCallButtonEnabled:s.default.bool};var g=o.default.memo(h);t.default=g},94019:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(){const e=(0,r.useSelector)(i.selectLabelBubble),t=(0,r.useSelector)(i.selectWidgetOrientation),n=(0,r.useSelector)(i.selectWidgetPadding),[s,l]=(0,o.useState)(e?(0,a.getPowerButtonDesktopPosition)(t,n):"right");return(0,o.useEffect)((()=>{e&&l((0,a.getPowerButtonDesktopPosition)(t,n))}),[t,n]),{labelBubble:e,callbackPosition:s}};var a=n(80598),i=n(87692),o=n(98661),r=n(88928)},21651:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(13279)),s=a(n(45697)),l=n(90361),u=n(57930),c=a(n(40704)),d=a(n(51313)),f=a(n(66400)),p=a(n(87316)),h=a(n(82656)),g=n(31984),m=n(53285),_=a(n(84726)),v=n(70010),b=n(44145);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}a(n(4855)).default.name("CallbackPopup");const E=e=>{let{checkEula:t,callTime:n,onSubmit:a,onClose:s,eulaLink:y,color:E,status:T,error:C,phone:S,isDelayed:O,delayedCallError:A,delayedCallPeriods:w,onDisabledSubmitClick:I}=e;const[M,R]=(0,o.useState)(!1),[N,P]=(0,o.useState)(!1),[D,L]=(0,o.useState)(null),[k,x]=(0,o.useState)(null),[B,j]=(0,o.useState)(null),[F,H]=(0,o.useState)(null),U=(0,o.useRef)(null),W=(0,o.useRef)(null),G=(0,o.useRef)(null);(0,o.useEffect)((()=>{G&&G.current&&G.current._input&&G.current._input.focus()}),[]);const z=()=>o.default.createElement("jdiv",{className:r.default.input},o.default.createElement(d.default,{type:"inForm",status:T,error:C,phone:S,onChange:e=>{let{value:t,invalidPhone:n}=e;n||L("+"+t),H(!n)},onEnter:e=>{V&&V()},ref:G})),V=()=>{if(t&&!M)P(!0);else if(O){if(!k||!B){const e=(0,m.getSelectedDateTime)(U,W);if(!e)return;return void(a&&a(D,e))}a&&a(D,`${k}|${B}`)}else a&&a(D)},q=(0,b.getUserSettings)().callHeaderText||(0,_.default)("cwPopupPutPhone");return o.default.createElement("jdiv",{className:r.default.wrap},o.default.createElement("jdiv",{className:r.default.popup},o.default.createElement("jdiv",{className:r.default.hand}),o.default.createElement("jdiv",{onClick:()=>{s&&s()}},o.default.createElement(c.default,(0,i.default)({iconName:"icon-close-chat",color:"#7D8999",hoverColor:"#7D8999",className:r.default.closeIcon},(0,l.withLocator)(u.Locator.CLOSE_BUTTON)))),o.default.createElement("jdiv",{className:r.default.contentWrap},o.default.createElement("jdiv",{className:r.default.title},q),O?o.default.createElement("jdiv",{className:r.default.subtitle},(0,_.default)("cwPopupTime")):o.default.createElement("jdiv",{className:r.default.subtitle},(0,_.default)("cw_callAfter")," ",o.default.createElement("b",null,n)," "+(0,_.default)((0,g.getTextSeconds)(n))),O&&w?(()=>{const e=(0,m.getDelayedDays)(w),t=(0,m.getSelectedDay)(U),n=(0,m.getDelayedTimes)(w,k||(t?t.value:null));return o.default.createElement("jdiv",{className:r.default.delayedWrap},o.default.createElement("jdiv",{className:r.default.periodsWrap},o.default.createElement("jdiv",null,(0,_.default)("lblCallMe")),o.default.createElement(p.default,{disabled:!1,classNameWrap:r.default.periodSelectWrap,invalid:A,options:e,theme:"inset",onChange:e=>{let{option:t}=e;x(t.value)},ref:U,color:E,isCallbackPopup:!0}),o.default.createElement("jdiv",null,(0,_.default)("callback_delayed_period_delimiter")),o.default.createElement(p.default,{disabled:!1,classNameWrap:r.default.periodSelectWrap,invalid:A,options:n,theme:"inset",onChange:e=>{let{option:t}=e;j(t.value)},ref:W,color:E})),z())})():z(),o.default.createElement(f.default,{height:"md",widthFluid:!0,disabled:O&&(!k||!B)||!F||t&&!M||N||A,onDisabledClick:()=>{I&&I()},onClick:V},O?(0,_.default)("callback_delayed_button_submit"):(0,_.default)("cw_callButtonText")),(()=>{if(!t)return null;const e=(0,v.getEulaState)();return o.default.createElement("jdiv",{className:r.default.eula},o.default.createElement(h.default,{checked:M,error:N,onClick:()=>{R(!M),P(!1)}}),o.default.createElement("jdiv",{className:r.default.eulaText},(0,v.getAgreementText)(e.agreementBasis),(0,v.getEulaLink)((()=>{(0,v.trackClick)()}))))})())))};E.propTypes={checkEula:s.default.bool,callTime:s.default.number,onSubmit:s.default.func,onClose:s.default.func,eulaLink:s.default.string,color:s.default.string,isDelayed:s.default.bool,delayedCallError:s.default.bool,delayedCallPeriods:s.default.any,status:s.default.oneOfType([s.default.string,s.default.bool]),error:s.default.string,phone:s.default.string,onDisabledSubmitClick:s.default.func};var T=o.default.memo(E);t.default=T},53285:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSelectedTime=t.getSelectedDay=t.getSelectedDateTime=t.getDelayedTimes=t.getDelayedDays=void 0;const n=e=>{if(!e)return[];const t=[],n=new Set;for(let a=0;a<e.length;a++){const i=e[a].label.split(",")[0],o=e[a].value.split("|")[0];n.has(o)||(n.add(o),t.push({label:"–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è"===i?"–°–µ–≥–æ–¥–Ω—è":i,value:o}))}return t};t.getDelayedDays=n;t.getDelayedTimes=(e,t)=>{if(!e)return[];if(!t){const a=n(e);if(!a.length)return[];t=a[0].value}const a=[];for(let n=0;n<e.length;n++){const i=e[n].label,o=e[n].value.split("|")[0],r=e[n].value.split("|")[1];o===t&&a.push({label:"–í –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è"===i?i:r,value:r})}return a};t.getSelectedDay=e=>{if(e&&e.current){return e.current.props.options[e.current.state.activeOptionIndex]}return{label:null,value:null}};t.getSelectedTime=e=>{if(e&&e.current){return e.current.props.options[e.current.state.activeOptionIndex]}return{label:null,value:null}};t.getSelectedDateTime=(e,t)=>{if(e.current&&t.current){const n=e.current.props.options[e.current.state.activeOptionIndex],a=t.current.props.options[t.current.state.activeOptionIndex];if(n&&n.value&&a&&a.value)return`${n.value}|${a.value}`}}},79601:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=M(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=a(n(45697)),s=a(n(94184)),l=n(21721),u=n(97615),c=n(69882),d=n(73549),f=n(47060),p=n(21476),h=a(n(81455)),g=a(n(1039)),m=a(n(22866)),_=a(n(41963)),v=a(n(19955)),b=a(n(36207)),y=a(n(62887)),E=a(n(905)),T=a(n(33744)),C=a(n(82521)),S=a(n(84726)),O=a(n(8972)),A=a(n(65885)),w=a(n(57597)),I=n(80161);function M(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(M=function(e){return e?n:t})(e)}const R=i.default.lazy((()=>n.e(711).then(n.bind(n,34285)))),N=i.default.lazy((()=>n.e(772).then(n.bind(n,93393)))),P=[f.Route.CHAT,f.Route.CHAT_CALL,f.Route.CHAT_EULA,f.Route.CHAT_MIN,f.Route.CHAT_SOCIAL,f.Route.CHAT_SETUP_CALL,f.Route.DEPARTMENTS,f.Route.INTRODUCE,f.Route.DEBUG],D=[f.Route.CHAT,f.Route.CHAT_CALL,f.Route.CHAT_SOCIAL],L=[f.Route.CHAT,f.Route.CHAT_CALL,f.Route.CHAT_SOCIAL],k=e=>{let{canRenderCall:t,showHeaderText:n,showBody:a,isOnline:o,widgetId:r,hasIntegration:M,route:k,callbackStatus:x}=e;const B=(0,i.useRef)(null),[j,F]=(0,i.useState)({inputHeight:0}),H=!v.default.mobileOrTablet()&&(p.Router.getCurrentRoute()===f.Route.INTRODUCE||"cw_connected"===x&&p.Router.getCurrentRoute()===f.Route.CALL),U=()=>{if("sb"===M)return;return g.default.joint&&(g.default.joint.vk||g.default.joint.fb||g.default.joint.sb)?i.default.createElement(d.Path,{paths:[f.Route.CHAT_SOCIAL],withMountTransition:!0,withUnmountTransition:!0,transition:"PopupSlideUpEULA",name:"ChatSocialPopup",duration:300,cheap:!0},i.default.createElement("jdiv",{className:w.default.popupFull},i.default.createElement(A.default,{onClose:()=>{p.Router.next(f.RouterEvent.ToChat)}}))):null},W=()=>i.default.createElement(l.DisconnectAlert,{route:f.Route.CHAT},i.default.createElement("jdiv",{className:w.default.popup},t?i.default.createElement(d.Path,{paths:[f.Route.CHAT_CALL],withMountTransition:!0,withUnmountTransition:!0,transition:"Fade",name:"ChatBodyCallPopup",style:{top:0,position:"absolute",width:"100%"},cheap:!0},i.default.createElement(h.default,{route:"chat",status:x,display:!0})):null));return i.default.createElement("jdiv",{className:(0,s.default)({[w.default.main]:!v.default.mobileOrTablet()&&!(0,c.isChatPage)(),[w.default.mobile]:v.default.mobileOrTablet()||(0,c.isChatPage)(),[w.default.__static]:H,[w.default.noShadow]:!n}),ref:B},i.default.createElement(d.Path,{paths:P,name:"ChatHeader",className:w.default.headerBox,isStatic:H},i.default.createElement("jdiv",{className:w.default.header},i.default.createElement(y.default,{showHeaderText:a}))),i.default.createElement(d.Path,{paths:D,name:"ChatBody"},i.default.createElement("jdiv",{className:(0,s.default)({[w.default.body]:!0,[w.default.show]:a})},i.default.createElement(O.default,{inputHeight:j.inputHeight})),W(),U()),(()=>{if(-1!==L.indexOf(k))return i.default.createElement(d.Path,{paths:L,name:"ChatInput",transition:"Fade",shouldWait:0,className:(0,s.default)({[w.default.input]:!0,[w.default.show]:!0})},i.default.createElement(E.default,{onInputChangeHeight:e=>{j.inputHeight!==e&&F({inputHeight:e})}}))})(),I.RouterUtils.canShowIntroduceForm()?i.default.createElement(d.Path,{paths:[f.Route.INTRODUCE],name:"Introduce",withMountTransition:!0,transition:p.Router.getPrevRoute()===f.Route.LABEL?"FadeWithDelay":"Fade",waitBeforeUnmount:100},i.default.createElement("jdiv",{className:(0,s.default)({[w.default.body]:!0,[w.default.show]:a})},g.default.new_widget_introduce?i.default.createElement(C.default,null):i.default.createElement(T.default,null))):null,g.default.departments?i.default.createElement(d.Path,{paths:[f.Route.DEPARTMENTS],name:"Departments",shouldWait:0,className:(0,s.default)({[w.default.body]:!0,[w.default.show]:a})},i.default.createElement(_.default,null)):null,g.default.eula?i.default.createElement(d.Path,{paths:[f.Route.CHAT_EULA],withMountTransition:!0,withUnmountTransition:!0,transition:"PopupSlideUpEULA",name:"ChatBodyEulaPopup",fixed:!0,duration:300,cheap:!0},i.default.createElement("jdiv",{className:w.default.popupFull},i.default.createElement(b.default,{showCallback:()=>{},hideCallback:()=>{}}))):null,k!==f.Route.DEBUG?null:i.default.createElement(d.Path,{paths:[f.Route.DEBUG],name:"Debug",shouldWait:0,className:(0,s.default)({[w.default.body]:!0,[w.default.show]:a})},i.default.createElement(i.default.Suspense,{fallback:i.default.createElement("jdiv",{className:w.default.loading},(0,S.default)("cb_loading"))},i.default.createElement(R,{online:o,version:u.EnvironmentManager.getVersion(),branch:u.EnvironmentManager.getBranch(),widgetId:r,hasErrors:m.default.getInstance().pageHasErrors(),closeButtonClick:()=>{p.Router.next(f.RouterEvent.ToChat)}}))),k!==f.Route.CHAT_SETUP_CALL?null:i.default.createElement(d.Path,{paths:[f.Route.CHAT_SETUP_CALL],withMountTransition:!0,withUnmountTransition:!0,transition:"PopupSlideUpEULA",name:"ChatBodySetupCallPopup",fixed:!0,duration:300,cheap:!0},i.default.createElement("jdiv",{className:w.default.popupFull},i.default.createElement(i.default.Suspense,{fallback:i.default.createElement("jdiv",{className:w.default.loading},(0,S.default)("cb_loading"))},i.default.createElement(N,null)))))};k.propTypes={isOnline:r.default.bool,canRenderCall:r.default.bool.isRequired,showHeaderText:r.default.bool,showBody:r.default.bool,widgetId:r.default.string,hasIntegration:r.default.bool,route:r.default.string,callbackStatus:r.default.oneOfType([r.default.string,r.default.bool])};var x=(0,o.connect)((e=>({isOnline:e.app.isOnline,widgetId:e.settings.system.widgetId,route:e.app.route,callbackStatus:e.callback.status,hasIntegration:e.client.hasIntegration})))(k);t.default=x},82656:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(35595)),r=a(n(94184)),s=a(n(45697));const l=e=>{let{checked:t,error:n,onClick:a}=e;return i.default.createElement("jdiv",{className:(0,r.default)({[o.default.checkbox]:!0,[o.default._checked]:t,[o.default._error]:n}),onClick:()=>{a&&a()}})};l.propTypes={checked:s.default.bool,error:s.default.bool,onClick:s.default.func,color:s.default.string};var u=i.default.memo(l);t.default=u},47548:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(94184)),s=a(n(45697)),l=n(57930),u=n(90361),c=a(n(4244)),d=a(n(5243)),f=a(n(40704));const p=e=>{let{onClick:t,drag:n,callEnabled:a,inCall:s,show:p,ignoreDragHeight:h}=e;return o.default.createElement(o.default.Fragment,null,o.default.createElement("jdiv",{className:(0,r.default)({[d.default.wrap]:!0,[d.default.__show]:p,[d.default.__call]:s}),dir:"ltr",id:"jivo_action"},o.default.createElement("jdiv",{className:d.default.closeButton,onClick:t,id:"jivo_close_button"},o.default.createElement(f.default,(0,i.default)({iconName:"icon-close-chat",color:"#7D8999",hoverColor:"#7D8999",className:d.default.closeIcon},(0,u.withLocator)(l.Locator.CLOSE_BUTTON))))),n?o.default.createElement(c.default,{isNarrow:a,IsIgnoreHeight:h}):null)};p.propTypes={onClick:s.default.func.isRequired,drag:s.default.bool,callEnabled:s.default.bool,inCall:s.default.bool,show:s.default.bool,ignoreDragHeight:s.default.bool};var h=o.default.memo(p);t.default=h},16586:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(94184)),r=a(n(45697)),s=a(n(84726)),l=a(n(47084));const u=e=>{let{show:t=0,isMobile:n}=e;const a=(0,o.default)({[l.default.main]:!0,[l.default.__mobile]:n});return t?i.default.createElement("jdiv",{className:a},i.default.createElement("jdiv",{className:l.default.text},(0,s.default)("lblPencilHint"))):null};u.propTypes={show:r.default.bool,isMobile:r.default.bool};var c=i.default.memo(u);t.default=c},87736:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(94184)),s=a(n(45697)),l=n(90361),u=n(57930),c=a(n(30123));const d=e=>{let{expanded:t=!1,dark:n=!0,inCall:a=!1,inChat:s=!1,isMobile:d=!1,isTablet:f=!1,url:p=null,headerColor:h=null,isBot:g=!1}=e;const m=p?{backgroundImage:`url(${p})`}:{},_=(0,r.default)({[c.default.avatar]:!0,[c.default._connected]:!s&&a,[c.default._expanded]:t,[c.default._mobile]:d,[c.default._tablet]:f,[c.default._chatStyle]:s}),v=(0,r.default)({[c.default.avatarImg]:!0,[c.default.__isBot]:!p&&g}),b=s?"CHAT":"HEADER",y=p?u.Locator[`${b}_AVATAR`]:u.Locator[`${b}_AVATAR_ANON`];return o.default.createElement("jdiv",{className:_},o.default.createElement("jdiv",(0,i.default)({className:n?c.default.darkAvatar:c.default.lightAvatar},(0,l.withLocator)(y)),o.default.createElement("jdiv",{className:v,style:m}),s||g?null:o.default.createElement("jdiv",{className:c.default.onlineBadge,style:h?{borderColor:h}:null})))};d.propTypes={expanded:s.default.bool,dark:s.default.bool.isRequired,inCall:s.default.bool,inChat:s.default.bool,isMobile:s.default.bool,isTablet:s.default.bool,url:s.default.string,headerColor:s.default.string,isBot:s.default.bool};var f=o.default.memo(d);t.default=f},51120:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(94184)),r=a(n(45697)),s=a(n(30123));const l=e=>{let{isHeader:t=!1,url:n=null}=e;const a=(0,o.default)({[s.default.botIcon]:!0,[s.default.__header]:t});return i.default.createElement("jdiv",{className:a},n&&i.default.createElement("jdiv",{className:s.default.img,style:{backgroundImage:`url(${n})`}}))};l.propTypes={isHeader:r.default.bool,url:r.default.string};var u=i.default.memo(l);t.default=u},32042:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(30123)),r=a(n(94184)),s=a(n(45697));const l=e=>{let{urls:t,bgColor:n,dark:a=!1,expanded:s=!1,inCall:l=!1,inChat:u=!1,isMobile:c=!1,isTablet:d=!1}=e;const f=`_width${t.length}`,p=(0,r.default)({[o.default.avatar]:!0,[o.default._connected]:!u&&l,[o.default._expanded]:s,[o.default._mobile]:c,[o.default._tablet]:d,[o.default._chatStyle]:u,[o.default[f]]:!0});return i.default.createElement("jdiv",{className:p},i.default.createElement("jdiv",{className:o.default.avatarList},t.map(((e,s)=>t.length>3&&s===t.length-1?i.default.createElement("jdiv",{className:(0,r.default)({[o.default.dotsItem]:!0,[o.default._dark]:a,[o.default._light]:!a}),style:{borderColor:n}},i.default.createElement("jdiv",null,"...")):i.default.createElement("jdiv",{className:(0,r.default)({[o.default.avatarItem]:!0,[o.default.darkAvatar]:a,[o.default.lightAvatar]:!a}),style:{backgroundColor:n,borderColor:n}},i.default.createElement("jdiv",{className:o.default.avatarListImg,style:{backgroundImage:e?`url(${e})`:null}}))))))};l.propTypes={urls:s.default.arrayOf(s.default.string).isRequired,bgColor:s.default.string.isRequired,dark:s.default.bool.isRequired,expanded:s.default.bool,inCall:s.default.bool,inChat:s.default.bool,isMobile:s.default.bool,isTablet:s.default.bool};var u=i.default.memo(l);t.default=u},13639:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(54720)),s=a(n(40704)),l=a(n(1039)),u=a(n(19955)),c=a(n(4855)),d=n(90361),f=n(57930),p=n(47713),h=a(n(71528));c.default.name("Button");const g=l.default.bubble_color||"green";class m extends r.default{constructor(e){super(e)}getRenderData(){return{styles:{button:[{button:!0,["_"+g]:!0,_disabled:this.props.disabled,_medium:this.props.medium,__ios:u.default.ios()}],inputButton:[{inputButton:!0,["_"+g]:!0,_disabled:this.props.disabled,__mobileChat:this.props.chatMobile}]},style:h.default}}renderData(e,t){return"input-button"===this.props.type?o.default.createElement("jdiv",(0,i.default)({},t.inputButton,{onClick:this.props.click.bind(this)}),o.default.createElement(s.default,{color:"#fff",iconName:this.props.iconName,className:h.default.buttonIcon})):o.default.createElement("jdiv",(0,i.default)({},t.button,(0,p.onClickHandler)((()=>{this.props.click()}),!0,!0),{ref:e=>{this._submitBtn=e}},(0,d.withLocator)(f.Locator[this.props["data-qa-id"]])),o.default.createElement("jdiv",{className:h.default.text},this.props.text))}}t.default=m},32083:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(45697)),s=a(n(94184)),l=a(n(2903));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=(0,o.forwardRef)(((e,t)=>{let{children:n,color:a,compact:r,component:u,disabled:c,fullWidth:d,leftIcon:f,radius:p,rightIcon:h,size:g,type:m,uppercase:_,variant:v,isIos:b,...y}=e;const E=u||"button",T=(0,s.default)({[l.default.root]:!0,[l.default[v]]:!0,[l.default.__compact]:r,[l.default.__disabled]:c&&"button"!==u,[l.default.__fullWidth]:d,[l.default.__uppercase]:_,[l.default.__ios]:b,[l.default["__"+a]]:!0,[l.default["__"+g+"Size"]]:!0,[l.default["__"+p+"Radius"]]:!0}),C=(0,s.default)({[l.default.icon]:!0,[l.default.__left]:f}),S=(0,s.default)({[l.default.icon]:!0,[l.default.__right]:h});return o.default.createElement(E,(0,i.default)({ref:t,type:m,disabled:c,className:T},y),o.default.createElement("span",{className:l.default.content},f&&o.default.createElement("span",{className:C},f),n,h&&o.default.createElement("span",{className:S},h)))}));c.displayName="Button",c.defaultProps={color:"green",size:"sm",radius:"sm",type:"button",variant:"filled"},c.propTypes={children:r.default.node.isRequired,color:r.default.string,compact:r.default.bool,component:r.default.any,disabled:r.default.bool,fullWidth:r.default.bool,leftIcon:r.default.node,rightIcon:r.default.node,uppercase:r.default.bool,radius:r.default.oneOf(["xs","sm","md","lg","xl"]),size:r.default.oneOf(["xs","sm","md","lg","xl"]),type:r.default.oneOf(["button","reset","submit"]),variant:r.default.oneOf(["light","outline","subtle","filled","default","white"]),isIos:r.default.bool};var d=c;t.default=d},22048:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=n(88928),s=a(n(54720)),l=a(n(84726)),u=a(n(1039)),c=a(n(13639)),d=a(n(22760)),f=n(21476),p=n(47060),h=a(n(98960)),g=n(90361),m=n(57930),_=n(92560),v=n(9393),b=n(26932),y=a(n(4855)),E=n(94537);const T=y.default.name("Buttons");class C extends s.default{constructor(e){super(e),this.successCallback=e.successCallback||function(){},this.errorCallback=e.errorCallback||function(){},this.focusPopupInput=e.focusPopupInput||function(){},this._submitBtn=null,this._submitBy=null}submitForm(e){if(e&&(e.preventDefault(),e.stopPropagation(),this._submitBy=e.view?"byClick":"byEnter"),this.props.disabled)return void T.log("Button is disabled.");const t=this.props.values,n={};this.values=!1,(0,v.each)(t,(function(e){"name"==e.name&&(e.name="client_name");const t="string"==typeof e.value?e.value.trim():e.value;n[e.name]=t||null}));const a=this.isValid(t);if(T.log("submitForm",t,a),a.error)e.preventDefault(),this.errorCallback(a.data),this.values=!1;else{const e={};(0,v.each)(a.data,(t=>{e[t.name]=t.value})),u.default.eula&&!this.props.eulaAccepted&&this.countNotEmptyValues(e)?this.values=e:this.resetForm(e)}}componentDidUpdate(e){this.props.eulaAccepted!==e.eulaAccepted&&u.default.eula&&this.props.eulaAccepted&&this.values&&(this.resetForm(this.values),this.values=!1)}countNotEmptyValues(e){const t=Object.values(e).filter((e=>e)).length;return 1===t&&e.message?0:t}cancel(){b.clientDispatchers.setIsIntroduced(!0),f.Router.next(p.RouterEvent.Cancel)}isValid(e){let t=!1;for(const n in e)if(n){let a=n;"client_name"==n&&(a="name");const i=u.default.contacts_settings[a]&&u.default.contacts_settings[a].required;e[n]&&(h.default[n](e[n].value||"")||(0,_.isEmpty)(e[n].value)&&!i&&"message"!==n?e[n].error=!1:(t=!0,e[n].error=!0))}return{data:e,error:t}}resetForm(e){u.default.eula&&!this.props.eulaAccepted&&this.countNotEmptyValues(e)||this.setInfo(e)}setInfo(e){T.log("setInput",e),this._submitBtn.disabled=!0,this.successCallback(e,this._submitBy)}getRenderData(){let e=u.default.contacts_ask===E.ContactsType.BEFORE_CHAT&&this.props.isOnline&&f.Router.getCurrentRoute()===p.Route.INTRODUCE?(0,l.default)("lblSendBefore"):(0,l.default)("lblSend");return u.default.eula&&!this.props.eulaAccepted&&(e=(0,l.default)("continue")),{styles:{},style:d.default,data:{text:e}}}renderData(e,t){return o.default.createElement(o.default.Fragment,null,o.default.createElement(c.default,(0,i.default)({click:this.submitForm.bind(this),text:e.text,ref:e=>{this._submitBtn=e},disabled:this.props.disabled},(0,g.withLocator)(m.Locator.CONTACTS_FORM_SUBMIT))))}}var S=(0,r.connect)((e=>({isOnline:e.app.isOnline,eulaAccepted:e.client.eulaAccepted})))(C);t.default=S},36672:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=n(68403),s=a(n(3501)),l=a(n(19955)),u=a(n(45697)),c=a(n(94184)),d=a(n(71207)),f=n(47713);const p=e=>{let{hide:t,onClick:n,icon:a,text:u}=e;const p=(0,c.default)({[d.default.scrollForm]:!0,[d.default.__hide]:t,[d.default.__ad]:(0,r.showAd)(),[d.default.__mobile]:l.default.mobileOrTablet()});return o.default.createElement("jdiv",(0,i.default)({className:p},(0,f.onClickHandler)(n)),o.default.createElement("jdiv",{className:d.default.textToForm},o.default.createElement(s.default,{icon:a,alone:!1,className:"emojiMessages",style:!0})," ",u))};p.displayName="ChatPopupButton",p.propTypes={hide:u.default.bool.isRequired,onClick:u.default.func.isRequired,icon:u.default.string.isRequired,text:u.default.string.isRequired};var h=p;t.default=h},21721:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.DisconnectAlert=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(94184)),s=n(47060),l=n(36522),u=a(n(84726)),c=a(n(40375)),d=a(n(40704)),f=a(n(2559));const p=e=>{let{route:t,children:n}=e;const{isOnline:a,isOffline:o,isReconnect:s,onTransition:p}=(0,l.useEnhanced)(t),h=(0,r.default)({[c.default.main]:!0,[c.default.offline]:o,[c.default.reconnect]:s});return i.default.createElement(i.default.Fragment,null,i.default.createElement("jdiv",{className:c.default.container},i.default.createElement("jdiv",{className:(0,r.default)({[c.default.wrapper]:!0,[c.default.__show]:o||s})},i.default.createElement("jdiv",{className:h,onTransitionEnd:p},o&&(0,u.default)("disconnect_msg"),s&&i.default.createElement(i.default.Fragment,null,(0,u.default)("reconnect_msg"),i.default.createElement(d.default,{iconName:"check",color:f.default.GREEN_80,className:c.default.icon}))))),a&&n?n:null)};t.DisconnectAlert=p,p.propTypes={route:o.default.oneOf([s.Route.CHAT,s.Route.CALL,s.Route.INTRODUCE]).isRequired,children:o.default.node}},36522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(e){const[t,n]=(0,a.useReducer)(h,p),g=(0,l.useIsOnline)(),m=(0,i.useSelector)(u.selectChatStarted),_=t.stage===c,v=t.stage===d,b=t.stage===f;return(0,a.useEffect)((function(){return g||b?g&&v?n({type:f}):void 0:n({type:d})}),[v,g,b]),(0,s.useDidUpdate)((function(){m&&o.Monitoring.telemetry(r.TelemetryName.RECONNECTION,{param1:e,param2:t.reconnects,param3:Math.floor(t.reconnectTime-t.disconnectTime)/1e3})}),[t.reconnectTime]),{isOnline:_,isOffline:v,isReconnect:b,onTransition:function(e){e.stopPropagation(),b&&n({type:c})}}};var a=n(98661),i=n(88928),o=n(54415),r=n(83170),s=n(49862),l=n(81366),u=n(35233);const c="online",d="offline",f="reconnect",p={stage:c,reconnects:0,disconnectTime:null,reconnectTime:null};function h(e,t){switch(t.type){case c:return{...e,stage:c};case d:return{...e,stage:d,disconnectTime:Date.now()};case f:return{...e,stage:f,reconnects:e.reconnects+1,reconnectTime:Date.now()};default:return e}}},96340:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=n(88928),s=a(n(54720)),l=a(n(1039)),u=n(43025),c=a(n(19955)),d=n(90361),f=n(57930),p=a(n(22760));class h extends s.default{constructor(e){super(e);let t=this.props.name;"client_name"===t&&(t="name"),this.state={text:this.props.clientInfo[this.props.name]?this.props.clientInfo[this.props.name]:"",error:e.error,key:t},this.onBlur=e.onBlur||function(){},this.onFocus=()=>{this.setState({error:!1}),e.onFocus&&e.onFocus()},this.handleChange=(t,n)=>{n.target.value!==this.props.value&&e.handleChange&&e.handleChange(t,n)},this._input=null}componentDidMount(){this._input&&(this._input.value=this.props.value)}getType(e){switch(e){case"phone":return"tel";case"email":return"email";default:return"text"}}setValue(e){this._input.value=e,this.handleChange(this.props.name,{target:{value:e,required:this.props.required}})}needRender(){return l.default.contacts_settings&&l.default.contacts_settings[this.state.key]&&l.default.contacts_settings[this.state.key].show||this.props.show}getRenderData(){return{styles:{inputField:[{inputField:!0,_error:this.props.submited?this.props.error:this.props.submited,["_"+this.props.color]:!(!this.props.color||"green"===this.props.color),__mobile:c.default.mobileOrTablet(),__valid:this.props.valid,__bluredEmpty:!(this._input&&this._input.value)}]},style:p.default,data:{placeholder:this.props.placeholder+(this.props.required||l.default.contacts_settings[this.state.key].required?"*":"")}}}renderData(e,t){if(this.needRender())return o.default.createElement("jdiv",{className:p.default.fieldWrap},o.default.createElement("input",(0,i.default)({},t.inputField,{type:this.getType(this.state.key),autoComplete:this.getType(this.state.key),onKeyPress:e=>{e.stopPropagation(),u.getNextSiblingNodeFocus.call(this,e)},onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),placeholder:e.placeholder,onInput:e=>{e.stopPropagation(),this.handleChange.call(this,this.props.name,e)},onKeyUp:e=>{e.stopPropagation(),this.handleChange.call(this,this.props.name,e)},onKeyDown:e=>{e.stopPropagation()},ref:e=>{this._input=e}},(0,d.withLocator)(f.Locator[`CONTACTS_FORM_${this.state.key.toUpperCase()}`]),{maxLength:"email"==this.state.key?255:null})))}}var g=(0,r.connect)((e=>{const{name:t,phone:n,email:a,description:i}=e.client;return{clientInfo:{client_name:t,phone:n,email:a,description:i}}}))(h);t.default=g},43569:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(45697)),s=a(n(94184)),l=n(79641),u=n(21733),c=n(55330),d=a(n(11880)),f=a(n(86762));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const h=(0,o.forwardRef)(((e,t)=>{let{color:n,component:a,disabled:r,error:p,radius:h,required:g,size:m,variant:_,placeholder:v,label:b,rightSection:y,rightSectionWidth:E,rightSectionProps:T,classNames:C,fontSize:S,lineHeight:O,value:A,...w}=e;const I=a||"input",[M,R]=(0,o.useState)((()=>!!A)),[N,P]=(0,o.useState)(""),D=(0,o.useRef)(null),L=(0,c.useMergeRefs)(D,t),k=e=>g?e+"*":e,x=(0,s.default)({[f.default.root]:!0,[f.default[_]]:!0,[f.default.__invalid]:p,[f.default["__"+n]]:n,[f.default["__"+m+"Size"]]:!0,[f.default["__"+h+"Radius"]]:!0,[C.input]:C.input,[f.default.__withLabel]:b,[f.default.__active]:M||""!==A}),B=(0,s.default)({[f.default.label]:!0,[f.default["__"+m+"Size"]]:!0,[f.default["__"+n]]:n,[f.default.__invalid]:p}),j=(0,s.default)({[f.default.rightSection]:y,[C.rightSection]:C.rightSection}),F=(0,s.default)({[f.default.error]:!0,[f.default["__"+m+"Size"]]:!0});return(0,o.useEffect)((function(){D.current&&!N&&P(D.current.style.paddingRight)}),[N]),(0,o.useEffect)((function(){D.current&&D.current.style.setProperty("padding-right",y?E+"px":N,"important")}),[N,y,E]),(0,o.useEffect)((function(){D.current&&(0,l.isNumber)(S)&&D.current.style.setProperty("font-size",S+"px","important")}),[S]),(0,o.useEffect)((function(){D.current&&(0,u.isString)(O)&&D.current.style.setProperty("line-height",O,"important")}),[O]),o.default.createElement(d.default,null,o.default.createElement(d.default,null,o.default.createElement(I,(0,i.default)({ref:L,className:x,disabled:r,placeholder:!b&&v?k(v):" ",value:A,onFocus:()=>R(!0),onBlur:()=>R(!1)},w)),b&&o.default.createElement("jdiv",{className:B},k(b)),y&&o.default.createElement("jdiv",(0,i.default)({},T,{className:j,style:{width:E}}),y)),(0,u.isString)(p)&&o.default.createElement("jdiv",{className:F},p))}));h.displayName="Input",h.defaultProps={color:"green",radius:"sm",size:"sm",variant:"default",rightSectionWidth:38,value:"",classNames:{input:null,rightSection:null}},h.propTypes={color:r.default.string,component:r.default.any,error:r.default.oneOfType([r.default.string,r.default.bool]),label:r.default.string,placeholder:r.default.string,radius:r.default.oneOf(["xs","sm","md","lg","xl"]),required:r.default.bool,disabled:r.default.bool,size:r.default.oneOf(["xs","sm","md","lg","xl"]),variant:r.default.oneOf(["default","filled","inset","unstyled"]),rightSection:r.default.node,rightSectionWidth:r.default.number,rightSectionProps:r.default.object,value:r.default.string,fontSize:r.default.number,lineHeight:r.default.string,classNames:r.default.shape({input:r.default.string,rightSection:r.default.string})};var g=h;t.default=g},60165:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(54720)),s=a(n(1039)),l=a(n(19955)),u=n(43025),c=n(90361),d=n(57930),f=a(n(4855)),p=a(n(22760)),h=n(88928);f.default.name("InputChat");class g extends r.default{constructor(e){super(e);let t=this.props.name;"client_name"===t&&(t="name"),this.state={text:this.props.clientInfo[this.props.name]?this.props.clientInfo[this.props.name]:"",error:e.error,key:t},this.onFocus=t=>{this._focused=!0,this.setState({error:!1}),e.onFocus&&e.onFocus(t)},this.onBlur=t=>{this._focused=!1,e.onBlur&&e.onBlur(t)},this.handleChange=(t,n)=>{this.setState({error:!1}),e.handleChange(t,n),e.onChange(t,n)},this.onSubmit=()=>{e.onSubmit&&e.onSubmit(this.state.key,e.error)},this._input=null,this._focused=null}componentDidMount(){this._input&&(this._input.value=this.props.value)}componentWillReceiveProps(e){this._input&&(this._input.value=e.value)}getType(e){switch(e){case"phone":return"tel";case"email":return"email";case"name":return"name";default:return"text"}}needRender(){return s.default.contacts_settings&&s.default.contacts_settings[this.state.key]&&s.default.contacts_settings[this.state.key].show}getRenderData(){const e=this._input&&this.props.valid&&""!==this._input.value;return{styles:{inputField:[{inputField:!0,_error:this.props.submited?this.props.error:this.props.submited,["_"+this.props.color]:!(!this.props.color||"green"===this.props.color),__mobile:l.default.mobileOrTablet(),__valid:e,__bluredEmpty:!(this._input&&this._input.value),__inputChat:!0}]},style:p.default,data:{isValid:e,placeholder:this.props.placeholder+(s.default.contacts_settings[this.state.key].required?"*":"")}}}renderData(e,t){if(this.needRender()){const n=this.props.hint&&this._input&&(""!==this._input.value||l.default.ie()&&this._focused);return o.default.createElement("jdiv",{className:p.default.fieldWrap},n?o.default.createElement("jdiv",{className:p.default.hint},e.placeholder):null,o.default.createElement("input",(0,i.default)({},t.inputField,{type:this.getType(this.state.key),name:this.state.key,autoComplete:this.getType(this.state.key),onKeyPress:e=>{e.stopPropagation(),e.keyCode&&13==e.keyCode&&e.currentTarget.blur(),u.getNextSiblingNodeFocus.call(this,e)},onBlur:this.onBlur.bind(this),onFocus:this.onFocus.bind(this),placeholder:e.placeholder,onInput:e=>{e.stopPropagation(),this.handleChange.call(this,this.props.name,e)},onKeyUp:e=>{e.stopPropagation(),this.handleChange.call(this,this.props.name,e)},onKeyDown:e=>{e.stopPropagation()},disabled:this.props.disabled,title:e.placeholder,ref:e=>{this._input=e}},(0,c.withLocator)(d.Locator[`CONTACTS_FORM_${this.state.key.toUpperCase()}`]),{maxLength:"email"==this.state.key?255:null})),e.isValid?o.default.createElement("jdiv",{className:p.default.iconValid}):null)}}}var m=(0,h.connect)((e=>{const{name:t,phone:n,email:a,description:i}=e.client;return{clientInfo:{client_name:t,phone:n,email:a,description:i}}}))(g);t.default=m},11880:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(45697)),s=a(n(44064));const l=e=>{let{children:t,component:n,...a}=e;const r=n||"jdiv";return o.default.createElement(r,(0,i.default)({className:s.default.wrapper},a),t)};l.propTypes={children:r.default.node.isRequired,component:r.default.any};var u=l;t.default=u},46133:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(45697)),s=n(21733),l=a(n(43569)),u=a(n(20404)),c=a(n(40704));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const f=(0,o.forwardRef)(((e,t)=>{let{color:n,data:a,disabled:r,error:d,placeholder:f,radius:p,required:h,rightSectionWidth:g,size:m,value:_,variant:v,onChange:b,...y}=e;const E=a.map((e=>(0,s.isString)(e)?{label:e,value:e}:e)).map((e=>o.default.createElement("option",{key:e.value,value:e.value,disabled:e.disabled},e.label)));return o.default.createElement(l.default,(0,i.default)({component:"select",ref:t,readOnly:!0,classNames:{input:u.default.select},color:n,disabled:r,error:d,radius:p,required:h,size:m,value:_,variant:v,placeholder:f,onChange:e=>b(e.target.value),rightSectionWidth:g,rightSection:o.default.createElement(c.default,{iconName:"icon-v",color:"#8B9096",hoverColor:"#222D38",className:u.default.dropIcon})},y),E)}));f.displayName="NativeSelect",f.defaultProps={color:"green",radius:"sm",size:"sm",variant:"default",rightSectionWidth:38},f.propTypes={color:r.default.oneOf(["green","blue","grey"]),data:r.default.arrayOf(r.default.oneOfType([r.default.string,r.default.shape({label:r.default.string,value:r.default.oneOfType([r.default.string,r.default.number]),disabled:r.default.bool})])),disabled:r.default.bool,error:r.default.oneOfType([r.default.string,r.default.bool]),value:r.default.oneOfType([r.default.string,r.default.number]),placeholder:r.default.string,radius:r.default.oneOf(["xs","sm","md","lg","xl"]),required:r.default.bool,rightSectionWidth:r.default.number,size:r.default.oneOf(["xs","sm","md","lg","xl"]),variant:r.default.oneOf(["default","filled","inset","unstyled"]),onChange:r.default.func};var p=f;t.default=p},13114:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(45697)),s=a(n(94184)),l=a(n(80810));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=(0,o.forwardRef)(((e,t)=>{let{children:n,component:a,radius:r,shadow:u,padding:c,withBorder:d,addClassname:f,...p}=e;const h=a||"jdiv",g=(0,s.default)({[l.default.root]:!0,[l.default["__"+r+"Radius"]]:r,[l.default["__"+c+"Padding"]]:c,[l.default["__"+u+"Shadow"]]:u,[l.default.__withBorder]:d,[f]:f});return o.default.createElement(h,(0,i.default)({ref:t,className:g},p),n)}));c.defaultProps={radius:"sm",shadow:"sm"},c.displayName="Paper",c.propTypes={children:r.default.node.isRequired,component:r.default.any,radius:r.default.oneOf(["xs","sm","md","lg","xl"]),padding:r.default.oneOf(["xs","sm","md","lg","xl"]),shadow:r.default.oneOf(["xs","sm","md","lg","xl"]),withBorder:r.default.bool,addClassname:r.default.string};var d=c;t.default=d},12593:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(45697)),s=a(n(94184)),l=n(85455),u=n(96231),c=n(55004),d=n(49862),f=a(n(17666)),p=a(n(35247));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=e=>{let{arrowSize:t,arrowStyle:n,children:a,forceUpdateDependencies:r,gutter:h,modifiers:g,mounted:m,placement:_,position:v,referenceElement:b,withArrow:y,withinPortal:E,zIndex:T}=e;const C=y?h+t:h,S="center"===_?v:`${v}-${_}`,[O,A]=(0,o.useState)(null),{styles:w,attributes:I,forceUpdate:M}=(0,l.usePopper)(b,O,{placement:S,modifiers:[{name:"offset",options:{offset:[0,C]}},...g]});(0,d.useDidUpdate)((()=>{(0,c.isFunction)(M)&&M()}),r);const R=(0,s.default)({[p.default.arrow]:!0,[p.default["__"+v]]:!0}),N={...n,...(0,u.getArrowStyles)({position:v,placement:_,arrowSize:t})};return m?o.default.createElement(f.default,{withinPortal:E,zIndex:T},o.default.createElement("jdiv",(0,i.default)({ref:A,style:w.popper},I.popper),o.default.createElement("jdiv",null,a,y&&o.default.createElement("jdiv",{style:N,className:R})))):null};g.defaultProps={arrowSize:2,forceUpdateDependencies:[],gutter:5,modifiers:[],placement:"center",position:"bottom",withArrow:!1,withinPortal:!0,zIndex:300},g.propTypes={arrowSize:r.default.number,arrowStyle:r.default.object,children:r.default.node.isRequired,forceUpdateDependencies:r.default.array,gutter:r.default.number,modifiers:r.default.array,mounted:r.default.bool,placement:r.default.oneOf(["start","center","end"]),position:r.default.oneOf(["top","left","bottom","right"]),referenceElement:r.default.oneOfType([r.default.element.isRequired,()=>null]),withArrow:r.default.bool,withinPortal:r.default.bool,zIndex:r.default.number};var m=g;t.default=m},17666:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(10739));const s=e=>{let{children:t,className:n,withinPortal:a=!0,zIndex:o=300}=e;return a?i.default.createElement(r.default,{className:n,zIndex:o},t):i.default.createElement("jdiv",{ref:e=>{e&&e.style.setProperty("z-index",o,"important")},className:n,style:{position:"relative"}},t)};s.propTypes={children:o.default.node.isRequired,className:o.default.string,withinPortal:o.default.bool,zIndex:o.default.number};var l=s;t.default=l},96231:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArrowStyles=void 0;const n={top:["left","bottom","right"],bottom:["left","top","right"],left:["top","right","bottom"],right:["top","left","bottom"]};t.getArrowStyles=e=>{let{position:t,placement:a,arrowSize:i}=e;const o=2*i,r=`calc(50% - ${i}px)`,s=-i,l={width:o,height:o},[u,c,d]=n[t];switch(a){case"start":return{...l,[u]:o,[c]:s};case"center":return{...l,[u]:r,[c]:s};case"end":return{...l,[d]:o,[c]:s};default:return l}}},32325:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(40704)),r=a(n(42805)),s=n(21476),l=n(47060),u=a(n(45697));const c=e=>{let{onClose:t}=e;return i.default.createElement("jdiv",{className:r.default.popupClose,onClick:e=>{e.stopPropagation(),s.Router.next(l.RouterEvent.Cancel),t&&t(e)}},i.default.createElement(o.default,{className:r.default.closeIcon,iconName:"icon-popup-close",color:"#959DA5",hoverColor:"#222D38"}))};c.propTypes={onClose:u.default.func};var d=i.default.memo(c);t.default=d},10739:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(98661),r=a(n(45697)),s=n(21733);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const u=e=>{let{children:t,className:n,position:a="relative",target:r,zIndex:l=1}=e;const u=(0,i.useRef)(),[c,d]=(0,i.useState)(!1);return(0,i.useLayoutEffect)((()=>(d(!0),u.current=r?(0,s.isString)(r)?document.querySelector(r):r:document.createElement("jdiv"),r||document.body.appendChild(u.current),()=>{!r&&document.body.removeChild(u.current)})),[r]),c?(0,o.createPortal)(i.default.createElement("div",{className:n,style:{position:a,zIndex:l}},t),u.current):null};u.propTypes={children:r.default.node.isRequired,className:r.default.string,position:r.default.string,target:r.default.element,zIndex:r.default.number};var c=u;t.default=c},88155:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=h(n(98661)),r=n(21951),s=n(69882),l=n(43025),u=h(n(54087)),c=a(n(53879)),d=n(61699),f=a(n(19955));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function h(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}const g=function(){return"string"==typeof maybe},m=function(){return!1};let _,v;Math.easeInOutQuad=function(e,t,n,a){return(e/=a/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t};class b extends o.Component{constructor(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];super(e,...n),this.getScrollLeft=this.getScrollLeft.bind(this),this.getScrollTop=this.getScrollTop.bind(this),this.getScrollWidth=this.getScrollWidth.bind(this),this.getScrollHeight=this.getScrollHeight.bind(this),this.getClientWidth=this.getClientWidth.bind(this),this.getClientHeight=this.getClientHeight.bind(this),this.getValues=this.getValues.bind(this),this.getThumbHorizontalWidth=this.getThumbHorizontalWidth.bind(this),this.getThumbVerticalHeight=this.getThumbVerticalHeight.bind(this),this.getScrollLeftForOffset=this.getScrollLeftForOffset.bind(this),this.getScrollTopForOffset=this.getScrollTopForOffset.bind(this),this.getScrollDiff=this.getScrollDiff.bind(this),this.scrollLeft=this.scrollLeft.bind(this),this.scrollTop=this.scrollTop.bind(this),this.scrollToLeft=this.scrollToLeft.bind(this),this.scrollToTop=this.scrollToTop.bind(this),this.scrollToRight=this.scrollToRight.bind(this),this.scrollToBottom=this.scrollToBottom.bind(this),this.handleTrackMouseEnter=this.handleTrackMouseEnter.bind(this),this.handleTrackMouseLeave=this.handleTrackMouseLeave.bind(this),this.handleHorizontalTrackMouseDown=this.handleHorizontalTrackMouseDown.bind(this),this.handleVerticalTrackMouseDown=this.handleVerticalTrackMouseDown.bind(this),this.handleHorizontalThumbMouseDown=this.handleHorizontalThumbMouseDown.bind(this),this.handleVerticalThumbMouseDown=this.handleVerticalThumbMouseDown.bind(this),this.handleWindowResize=this.handleWindowResize.bind(this),this.handleScroll=this.handleScroll.bind(this),this.handleMouseWheel=this.handleMouseWheel.bind(this),this.handleDrag=this.handleDrag.bind(this),this.handleDragEnd=this.handleDragEnd.bind(this),this.state={didMountUniversal:!1},this.ignore=!1,this.callbackCounter=0,this.view={}}componentDidMount(){this.addListeners(),this.update(),this.componentDidMountUniversal()}componentDidMountUniversal(){const{universal:e}=this.props;e&&this.setState({didMountUniversal:!0})}componentDidUpdate(){this.update()}componentWillUnmount(){this.removeListeners(),this.requestFrame&&(0,u.cancel)(this.requestFrame),clearTimeout(this.hideTracksTimeout),clearInterval(this.detectScrollingInterval)}setIgnore(e){this.ignore=e}getIgnore(){return this.ignore}getScrollLeft(){return this.view?this.view.scrollLeft:0}getScrollTop(){return this.view.scrollTop}getScrollWidth(){return this.view.scrollWidth}getScrollHeight(){return this.view.scrollHeight}getScrollDiff(){return this.getScrollHeight()-this.getScrollTop()-this.getClientHeight()}hasScroll(){return this.getScrollHeight()>this.getClientHeight()}getClientWidth(){return this.view.clientWidth}getClientHeight(){return this.view.clientHeight}getValues(){const{scrollLeft:e,scrollTop:t,scrollWidth:n,scrollHeight:a,clientWidth:i,clientHeight:o}=this.view;return{left:e/(n-i)||0,top:t/(a-o)||0,scrollLeft:e,scrollTop:t,scrollWidth:n,scrollHeight:a,clientWidth:i,clientHeight:o}}getThumbHorizontalWidth(){const{thumbSize:e,thumbMinSize:t}=this.props,{scrollWidth:n,clientWidth:a}=this.view,i=(0,l.getInnerWidth)(this.trackHorizontal),o=Math.ceil(a/n*i);return i===o?0:e||Math.max(o,t)}getThumbVerticalHeight(){const{thumbSize:e,thumbMinSize:t}=this.props,{scrollHeight:n,clientHeight:a}=this.view,i=(0,l.getInnerHeight)(this.trackVertical),o=Math.ceil(a/n*i);return i===o?0:e||Math.max(o,t)}getScrollLeftForOffset(e){const{scrollWidth:t,clientWidth:n}=this.view;return e/((0,l.getInnerWidth)(this.trackHorizontal)-this.getThumbHorizontalWidth())*(t-n)}getScrollTopForOffset(e){const{scrollHeight:t,clientHeight:n}=this.view;return e/((0,l.getInnerHeight)(this.trackVertical)-this.getThumbVerticalHeight())*(t-n)}scrollLeft(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view.scrollLeft=e}scrollTop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.view.scrollTop=e}scrollToLeft(){this.view.scrollLeft=0}scrollToTop(){this.view.scrollTop=0}scrollToRight(){this.view.scrollLeft=this.view.scrollWidth}scrollToBottom(){if(!this.hasScroll())return;const e=this.getScrollHeight();this.view.scrollTop=0!==e?this.view.scrollHeight:e}setBottomPosition(){_=this.view.childNodes[0].clientHeight-(this.container.parentNode.clientHeight||254),this.view.style.bottom=_+"px"}addListeners(){if("undefined"==typeof document)return;const{view:e,trackHorizontal:t,trackVertical:n,thumbHorizontal:a,thumbVertical:i,container:o}=this;(0,r.addListener)(e,"scroll",this.handleScroll,!0),(0,r.addListener)(e,"mousewheel",this.handleMouseWheel),(0,l.getScrollBarWidth)()&&(t&&(t.addEventListener("mouseenter",this.handleTrackMouseEnter),t.addEventListener("mouseleave",this.handleTrackMouseLeave),t.addEventListener("mousedown",this.handleHorizontalTrackMouseDown)),o&&o.addEventListener("mouseenter",this.handleTrackCheckHide.bind(this)),n&&(n.addEventListener("mouseenter",this.handleTrackMouseEnter),n.addEventListener("mouseleave",this.handleTrackMouseLeave),n.addEventListener("mousedown",this.handleVerticalTrackMouseDown)),a&&a.addEventListener("mousedown",this.handleHorizontalThumbMouseDown),i&&i.addEventListener("mousedown",this.handleVerticalThumbMouseDown),window.addEventListener("resize",this.handleWindowResize))}removeListeners(){if("undefined"==typeof document)return;const{view:e,trackHorizontal:t,trackVertical:n,thumbHorizontal:a,thumbVertical:i}=this;e.removeEventListener("scroll",this.handleScroll),e.removeEventListener("mousewheel",this.handleMouseWheel),(0,l.getScrollBarWidth)()&&(t&&(t.removeEventListener("mouseenter",this.handleTrackMouseEnter),t.removeEventListener("mouseleave",this.handleTrackMouseLeave),t.removeEventListener("mousedown",this.handleHorizontalTrackMouseDown)),n&&(n.removeEventListener("mouseenter",this.handleTrackMouseEnter),n.removeEventListener("mouseleave",this.handleTrackMouseLeave),n.removeEventListener("mousedown",this.handleVerticalTrackMouseDown)),a&&a.removeEventListener("mousedown",this.handleHorizontalThumbMouseDown),i&&i.removeEventListener("mousedown",this.handleVerticalThumbMouseDown),window.removeEventListener("resize",this.handleWindowResize),this.teardownDragging())}handleScroll(e){const{onScroll:t,onScrollFrame:n}=this.props;t&&t(e),this.update((e=>{const{scrollLeft:t,scrollTop:a}=e;this.viewScrollLeft=t,this.viewScrollTop=a,n&&n(e)})),this.detectScrolling()}handleTouchMove(e){if(-1===["INPUT","TEXTAREA"].indexOf(e.target.tagName)){e.stopPropagation(),e.preventDefault();const t=this.view.childNodes[0].clientHeight-this.container.parentNode.clientHeight,n=_-(e.touches[0].pageY+v);t>n&&0<n&&(_-=e.touches[0].pageY+v,this.view.style.bottom=_+"px")}}handleTouchStart(e){-1===["INPUT","TEXTAREA","A"].indexOf(e.target.tagName)&&(e.stopPropagation(),e.preventDefault(),v=-1*e.touches[0].pageY)}handleMouseWheel(e){e.stopPropagation();const t=e.wheelDelta||e.originalEvent&&e.originalEvent.wheelDelta||-e.detail,n=this.view.scrollTop+this.view.clientHeight-this.view.scrollHeight>=0,a=this.view.scrollTop<=0;(t<0&&n||t>0&&a)&&e.preventDefault()}handleScrollStart(){const{onScrollStart:e}=this.props;e&&e(),this.handleScrollStartAutoHide()}handleScrollStartAutoHide(){const{autoHide:e}=this.props;e&&this.showTracks()}handleScrollStop(){const{onScrollStop:e}=this.props;e&&e(),this.handleScrollStopAutoHide()}handleScrollStopAutoHide(){const{autoHide:e}=this.props;e&&this.hideTracks()}handleWindowResize(){this.update()}handleHorizontalTrackMouseDown(e){e.preventDefault();const{target:t,clientX:n}=e,{left:a}=t.getBoundingClientRect(),i=this.getThumbHorizontalWidth(),o=Math.abs(a-n)-i/2;this.view.scrollLeft=this.getScrollLeftForOffset(o)}handleVerticalTrackMouseDown(e){e.preventDefault();const{target:t,clientY:n}=e,{top:a}=t.getBoundingClientRect(),i=this.getThumbVerticalHeight(),o=Math.abs(a-n)-i/2;this.view.scrollTop=this.getScrollTopForOffset(o)}handleHorizontalThumbMouseDown(e){e.preventDefault(),this.handleDragStart(e);const{target:t,clientX:n}=e,{offsetWidth:a}=t,{left:i}=t.getBoundingClientRect();this.prevPageX=a-(n-i)}handleVerticalThumbMouseDown(e){e.preventDefault(),this.handleDragStart(e);const{target:t,clientY:n}=e,{offsetHeight:a}=t,{top:i}=t.getBoundingClientRect();this.prevPageY=a-(n-i)}setupDragging(){const e=(0,s.getPageWindow)().document;(0,c.default)(e.body,d.disableSelectStyle),e.addEventListener("mousemove",this.handleDrag),e.addEventListener("mouseup",this.handleDragEnd),e.onselectstart=m}teardownDragging(){const e=(0,s.getPageWindow)().document;(0,c.default)(e.body,d.disableSelectStyleReset),e.removeEventListener("mousemove",this.handleDrag),e.removeEventListener("mouseup",this.handleDragEnd),e.onselectstart=void 0}handleDragStart(e){this.dragging=!0,e.stopImmediatePropagation(),this.setupDragging()}handleDrag(e){if(this.prevPageX){const{clientX:t}=e,{left:n}=this.trackHorizontal.getBoundingClientRect(),a=this.getThumbHorizontalWidth()-this.prevPageX,i=-n+t-a;this.view.scrollLeft=this.getScrollLeftForOffset(i)}if(this.prevPageY){const{clientY:t}=e,{top:n}=this.trackVertical.getBoundingClientRect(),a=this.getThumbVerticalHeight()-this.prevPageY,i=-n+t-a;this.view.scrollTop=this.getScrollTopForOffset(i)}return!1}handleDragEnd(){this.dragging=!1,this.prevPageX=this.prevPageY=0,this.teardownDragging(),this.handleDragEndAutoHide()}handleDragEndAutoHide(){const{autoHide:e}=this.props;e&&this.hideTracks()}handleTrackCheckHide(){const{autoHide:e}=this.props;e&&this.view&&this.trackVertical&&(this.hasScroll()?this.showTracks():(0,c.default)(this.trackVertical,{opacity:0}))}handleTrackMouseEnter(){this.hasScroll()&&(this.trackMouseOver=!0,this.handleTrackMouseEnterAutoHide())}handleTrackMouseEnterAutoHide(){const{autoHide:e}=this.props;e&&this.showTracks()}handleTrackMouseLeave(){this.dragging||(this.trackMouseOver=!1,this.handleTrackMouseLeaveAutoHide())}handleTrackMouseLeaveAutoHide(){const{autoHide:e}=this.props;e&&this.hideTracks()}showTracks(){clearTimeout(this.hideTracksTimeout),this.trackHorizontal&&(0,c.default)(this.trackHorizontal,{opacity:1}),(0,c.default)(this.trackVertical,{opacity:1})}hideTracks(){if(this.dragging)return;if(this.scrolling)return;if(this.trackMouseOver)return;const{autoHideTimeout:e}=this.props;clearTimeout(this.hideTracksTimeout),this.hideTracksTimeout=setTimeout((()=>{this.trackHorizontal&&(0,c.default)(this.trackHorizontal,{opacity:0}),(0,c.default)(this.trackVertical,{opacity:0})}),e)}detectScrolling(){this.scrolling||(this.scrolling=!0,this.handleScrollStart(),this.detectScrollingInterval=setInterval((()=>{this.lastViewScrollLeft===this.viewScrollLeft&&this.lastViewScrollTop===this.viewScrollTop&&(clearInterval(this.detectScrollingInterval),this.scrolling=!1,this.handleScrollStop()),this.lastViewScrollLeft=this.viewScrollLeft,this.lastViewScrollTop=this.viewScrollTop}),100))}raf(e){this.requestFrame&&(0,u.cancel)(this.requestFrame);const t=this.enableFallback?(0,s.getPageWindow)().requestAnimationFrame:u.default;this.requestFrame=t((()=>{this.requestFrame=void 0,this.callbackCounter++,e()}))}update(e){this.raf((()=>this._update(e))),setTimeout((()=>{const e=(0,s.getPageWindow)();!this.callbackCounter&&e.requestAnimationFrame&&(this.enableFallback=!0)}),1e3)}_update(e){const{onUpdate:t,hideTracksWhenNotNeeded:n}=this.props;if(!this.view)return;const a=this.getValues();if((0,l.getScrollBarWidth)()){if(this.trackHorizontal){const{scrollLeft:e,clientWidth:t,scrollWidth:n}=a;(0,l.getInnerWidth)(this.trackHorizontal),this.getThumbHorizontalWidth()}const{scrollTop:e,clientHeight:t,scrollHeight:i}=a,o=(0,l.getInnerHeight)(this.trackVertical),r=this.getThumbVerticalHeight(),s={height:r,transform:`translateY(${e/(i-t)*(o-r)}px)`};if(n){if(this.trackHorizontal){const e={visibility:scrollWidth>clientWidth?"visible":"hidden"};(0,c.default)(this.trackHorizontal,e)}const e={visibility:i>t?"visible":"hidden"};(0,c.default)(this.trackVertical,e)}this.thumbHorizontal&&(0,c.default)(this.thumbHorizontal,thumbHorizontalStyle),(0,c.default)(this.thumbVertical,s)}t&&t(a),"function"==typeof e&&e(a)}render(){const e=(0,l.getScrollBarWidth)(),{onScroll:t,onScrollFrame:n,onScrollStart:a,onScrollStop:i,onUpdate:r,renderView:s,renderTrackHorizontal:u,renderTrackVertical:c,renderThumbHorizontal:p,renderThumbVertical:h,tagName:m,hideTracksWhenNotNeeded:_,autoHide:v,autoHideTimeout:b,autoHideDuration:y,thumbSize:E,thumbMinSize:T,onlyY:C,universal:S,autoHeight:O,autoHeightMin:A,autoHeightMax:w,scrollMarginTop:I,railClass:M,scrollWrapClass:R,position:N,style:P,children:D,...L}=this.props,{didMountUniversal:k}=this.state,x={...d.containerStyleDefault,...O&&{...d.containerStyleAutoHeight,minHeight:A,maxHeight:w},...P},B={...d.viewStyleDefault,display:"block",marginRight:e?-e:0,marginBottom:!C&&e?-e:0,...O&&{...d.viewStyleAutoHeight,minHeight:g()?`calc(${A} + ${e}px)`:A+e,maxHeight:g()?`calc(${w} + ${e}px)`:w+e},...O&&S&&!k&&{minHeight:A,maxHeight:w},...S&&!k&&d.viewStyleUniversalInitial};N&&(B.position=N),C&&(B.overflowX="hidden",f.default.mobileOrTablet||(B.overflowY="scroll"));const j={transition:`opacity ${y}ms`,opacity:0},F={...d.trackHorizontalStyleDefault,...v&&j,...(!e||S&&!k)&&{display:"none"}},H={...d.trackVerticalStyleDefault,...v&&j,...(!e||S&&!k)&&{display:"none"}},U=[(0,o.cloneElement)(s({style:B},R),{key:"view",ref:e=>{this.view=e}},D)];return C||U.push((0,o.cloneElement)(u({style:F}),{key:"trackHorizontal",ref:e=>{this.trackHorizontal=e}},(0,o.cloneElement)(p({style:d.thumbHorizontalStyleDefault}),{ref:e=>{this.thumbHorizontal=e}}))),U.push((0,o.cloneElement)(c({style:H},this.props.scrollMarginTop,this.props.railClass),{key:"trackVertical",ref:e=>{this.trackVertical=e}},(0,o.cloneElement)(h({style:d.thumbVerticalStyleDefault}),{ref:e=>{this.thumbVertical=e}}))),(0,o.createElement)(m,{...L,style:x,ref:e=>{this.container=e}},U)}}t.default=b,b.defaultProps={renderView:function(e,t){return o.default.createElement("jdiv",(0,i.default)({className:t},e))},renderTrackHorizontal:function(e){let{style:t,...n}=e;const a={...t,right:2,bottom:2,left:2,borderRadius:3};return o.default.createElement("jdiv",(0,i.default)({style:a},n))},renderTrackVertical:function(e,t,n){let{style:a,...r}=e;const s={...a,right:3,bottom:2,top:t||2,borderRadius:4,width:8};return o.default.createElement("jdiv",(0,i.default)({className:n,style:s},r))},renderThumbHorizontal:function(e){let{style:t,...n}=e;const a={...t,cursor:"pointer",borderRadius:"inherit",backgroundColor:"#d6dce4"};return o.default.createElement("jdiv",(0,i.default)({style:a},n))},renderThumbVertical:function(e){let{style:t,...n}=e;const a={...t,cursor:"pointer",borderRadius:"inherit",backgroundColor:"#d6d4d4"};return o.default.createElement("jdiv",(0,i.default)({style:a},n))},tagName:"jdiv",thumbMinSize:30,hideTracksWhenNotNeeded:!0,autoHide:!1,autoHideTimeout:1e3,autoHideDuration:200,autoHeight:!1,autoHeightMin:0,autoHeightMax:200,onlyY:!0,universal:!1,railClass:"null",scrollWrapClass:null}},61699:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.viewStyleUniversalInitial=t.viewStyleDefault=t.viewStyleAutoHeight=t.trackVerticalStyleDefault=t.trackHorizontalStyleDefault=t.thumbVerticalStyleDefault=t.thumbHorizontalStyleDefault=t.disableSelectStyleReset=t.disableSelectStyle=t.containerStyleDefault=t.containerStyleAutoHeight=void 0;t.containerStyleDefault={position:"relative",overflow:"hidden",width:"100%",height:"100%",display:"block",WebkitOverflowScrolling:"touch"};t.containerStyleAutoHeight={height:"auto"};t.viewStyleDefault={position:"absolute",maxHeight:"100%",top:"auto",left:0,right:0,bottom:0,overflow:"scroll",WebkitOverflowScrolling:"touch"};const n={position:"relative",top:void 0,left:void 0,right:void 0,bottom:void 0};t.viewStyleAutoHeight=n;t.viewStyleUniversalInitial={overflow:"hidden",marginRight:0,marginBottom:0};t.trackHorizontalStyleDefault={position:"absolute",height:0};t.trackVerticalStyleDefault={position:"absolute",width:8};t.thumbHorizontalStyleDefault={position:"relative",display:"block",height:"100%"};t.thumbVerticalStyleDefault={position:"relative",display:"block",width:"100%"};t.disableSelectStyle={userSelect:"none"};t.disableSelectStyleReset={userSelect:""}},33126:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=_(n(98661)),o=a(n(45697)),r=a(n(94184)),s=n(55004),l=n(21733),u=n(49862),c=a(n(43569)),d=a(n(11880)),f=_(n(59083)),p=a(n(43711)),h=a(n(42960)),g=a(n(40704));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}const v=e=>{let{data:t,itemComponent:n,color:a,disabled:o,error:m,label:_,radius:v,required:b,size:y,variant:E,placeholder:T,name:C,gutter:S,initialValue:O,initialOpened:A,shadow:w,maxDropdownHeight:I,zIndex:M,dropdownPosition:R,positionDependencies:N,onDropdownOpen:P,onDropdownClose:D,rightSectionWidth:L,withinPortal:k,onChange:x,onKeyDown:B,onFocus:j,onBlur:F}=e;const H=(0,i.useRef)(null),U=(0,i.useRef)(null),W=(0,i.useRef)({}),[G,z]=(0,i.useState)(O),[V,q]=(0,i.useState)(A),[$,K]=(0,i.useState)(-1),Y=t.map((e=>(0,l.isString)(e)?{label:e,value:e}:e)),X=Y.find((e=>e.value===G)),Z=Y.findIndex((e=>e.value===G)),[J,Q]=(0,i.useState)(null==X?void 0:X.label),ee=(e,t)=>{var n;const a=W.current[null===(n=Y[e])||void 0===n?void 0:n.value];a&&a.parentNode&&(a.parentNode.scrollTop=t(a))},te=()=>window.setTimeout((()=>{ee(Z,(e=>e.offsetTop-(U.current.clientHeight-e.offsetHeight)/2))}),0),ne=e=>{if(V!==e){const t=e?P:D;(0,s.isFunction)(t)&&t(),q(e)}},ae=e=>{(null==X?void 0:X.value)===e.value||((e=>{z(e.value),Q(e.label),x(e)})(e),K(-1)),q(!1)},ie=(e,t,n)=>{let a=e;for(;n(a);)if(a=t(a),!Y[a].disabled)return a;return e};return(0,u.useDidUpdate)((()=>{K(ie(-1,(e=>e+1),(e=>e<Y.length-1)))}),[J]),i.default.createElement(d.default,{onMouseLeave:()=>K(-1)},i.default.createElement("input",{type:"hidden",name:C,value:G}),i.default.createElement(c.default,{type:"text",ref:H,readOnly:!0,classNames:{input:(0,r.default)({[h.default.input]:!o})},color:a,disabled:o,error:m,radius:v,required:b,size:y,value:J,variant:E,placeholder:T,label:_,rightSectionWidth:L,rightSection:i.default.createElement(g.default,{iconName:"icon-v",color:"#666666",className:h.default.dropIcon}),onMouseDown:()=>{const e=!V;ne(e),G&&e&&(K(Z),te())},onKeyDown:e=>{switch((0,s.isFunction)(B)&&B(e),e.nativeEvent.code){case"ArrowUp":e.preventDefault(),V?K((e=>{const t=ie(e,(e=>e-1),(e=>e>0));return ee(t,(e=>e.offsetTop<U.current.scrollTop?e.offsetTop-f.DROPDOWN_GAP:U.current.scrollTop)),t})):(K(Z),q(!0),te());break;case"ArrowDown":e.preventDefault(),V?K((e=>{const t=ie(e,(e=>e+1),(e=>e<Y.length-1));return ee(t,(e=>{const t=e.offsetTop+e.offsetHeight,{scrollTop:n,clientHeight:a}=U.current;return t>n+a?t-a-f.DROPDOWN_GAP:n})),t})):(K(Z),q(!0),te());break;case"Escape":e.preventDefault(),q(!1),K(-1);break;case"Space":Y[$]&&V?(e.preventDefault(),ae(Y[$])):(q(!0),K(Z),te());break;case"Enter":e.preventDefault(),Y[$]&&V&&ae(Y[$])}},onFocus:e=>{(0,s.isFunction)(j)&&j(e),q(!0),te()},onBlur:e=>{(0,s.isFunction)(F)&&F(e),ne(!1)}}),i.default.createElement(f.default,{ref:U,dropdownPosition:R,gutter:S,maxDropdownHeight:I,mounted:Y.length>0&&V,positionDependencies:N,radius:v,referenceElement:H.current,shadow:w,withinPortal:k,zIndex:M},Y.map(((e,t)=>{const o=n||p.default;return i.default.createElement(o,{key:e.value,itemsRefs:W,value:e.value,label:e.label,color:a,size:y,radius:v,selected:G===e.value,hovered:$===t,withinSelected:!!X,onItemSelect:()=>ae(e),onItemHover:()=>K(t)})}))))};v.defaultProps={color:"green",dropdownPosition:"bottom",initialOpened:!1,initialValue:"",rightSectionWidth:38,radius:"sm",size:"sm",variant:"default",withinPortal:!1},v.propTypes={color:o.default.oneOf(["green","blue","grey"]),data:o.default.arrayOf(o.default.oneOfType([o.default.string,o.default.shape({label:o.default.string,value:o.default.oneOfType([o.default.string,o.default.number]),disabled:o.default.bool})])),disabled:o.default.bool,dropdownPosition:o.default.oneOf(["top","left","bottom","right"]),error:o.default.oneOfType([o.default.string,o.default.bool]),gutter:o.default.number,initialOpened:o.default.bool,initialValue:o.default.oneOfType([o.default.string,o.default.number]),itemComponent:o.default.func,maxDropdownHeight:o.default.number,name:o.default.string,onDropdownClose:o.default.func,onDropdownOpen:o.default.func,placeholder:o.default.string,label:o.default.string,positionDependencies:o.default.array,radius:o.default.oneOf(["xs","sm","md","lg","xl"]),required:o.default.bool,rightSectionWidth:o.default.number,shadow:o.default.oneOf(["xs","sm","md","lg","xl"]),size:o.default.oneOf(["xs","sm","md","lg","xl"]),variant:o.default.oneOf(["default","filled","inset","unstyled"]),zIndex:o.default.number,withinPortal:o.default.bool,onChange:o.default.func,onKeyDown:o.default.func,onFocus:o.default.func,onBlur:o.default.func};var b=v;t.default=b},59083:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.DROPDOWN_GAP=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(45697)),r=a(n(12593)),s=a(n(13114)),l=a(n(42960));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}t.DROPDOWN_GAP=5;const c=(0,i.forwardRef)(((e,t)=>{let{children:n,dropdownPosition:a,gutter:o,maxDropdownHeight:u,mounted:c,positionDependencies:d,radius:f,referenceElement:p,shadow:h,withinPortal:g,zIndex:m}=e;return i.default.createElement(r.default,{forceUpdateDependencies:d,gutter:o,mounted:c,position:a,referenceElement:p,withinPortal:g,zIndex:m,modifiers:[{name:"sameWidth",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:e=>{let{state:t}=e;t.styles.popper.width=`${t.rects.reference.width}px`},effect:e=>{let{state:t}=e;t.elements.popper.style.width=`${t.elements.reference.offsetWidth}px`}}]},i.default.createElement(s.default,{withBorder:!0,radius:f,shadow:h,onMouseDown:e=>e.preventDefault()},i.default.createElement("jdiv",{ref:t,style:{display:"flex",flexDirection:"column",margin:4,maxHeight:u,overflow:"auto"},className:l.default.dropDown},n)))}));c.displayName="SelectDropdown",c.propTypes={children:o.default.node.isRequired,dropdownPosition:o.default.oneOf(["top","left","bottom","right"]).isRequired,gutter:o.default.number.isRequired,maxDropdownHeight:o.default.number,mounted:o.default.bool.isRequired,positionDependencies:o.default.array,radius:o.default.oneOf(["xs","sm","md","lg","xl"]).isRequired,referenceElement:o.default.oneOfType([o.default.element.isRequired,()=>null]),shadow:o.default.oneOf(["xs","sm","md","lg","xl"]),withinPortal:o.default.bool.isRequired,zIndex:o.default.number};var d=c;t.default=d},43711:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(45697)),s=a(n(94184)),l=a(n(97629));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=e=>{let{color:t,disabled:n,hovered:a,itemsRefs:r,label:u,radius:c,selected:d,size:f,value:p,withinSelected:h,onItemSelect:g,onItemHover:m,..._}=e;const v=(0,o.useRef)();(0,o.useEffect)((()=>{r.current&&v.current&&(r.current[p]=v.current)}),[r,p]);const b=(0,s.default)({[l.default.root]:!0,[l.default.__selected]:!n&&d,[l.default.__hovered]:!n&&a,[l.default.__withinSelected]:h,[l.default.__disabled]:n,[l.default["__"+t]]:t,[l.default["__"+c+"Radius"]]:c,[l.default["__"+f+"Size"]]:f});return o.default.createElement("jdiv",(0,i.default)({ref:v,className:b,onMouseEnter:m,onMouseDown:g},_),u)};c.propTypes={color:r.default.oneOf(["green","blue","grey"]),disabled:r.default.bool,hovered:r.default.bool,itemsRefs:r.default.shape({current:r.default.any}).isRequired,label:r.default.string.isRequired,radius:r.default.oneOf(["xs","sm","md","lg","xl"]),selected:r.default.bool,size:r.default.oneOf(["xs","sm","md","lg","xl"]),value:r.default.oneOfType([r.default.string,r.default.number]).isRequired,withinSelected:r.default.bool,onItemSelect:r.default.func.isRequired,onItemHover:r.default.func.isRequired};var d=c;t.default=d},6139:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(94184)),s=a(n(42217)),l=n(21733),u=n(79641);const c=e=>{let{h:t,w:n,component:a,addClassname:o}=e;const c=a||"div",d=(0,r.default)({[s.default.spacer]:!0,[s.default["__"+t+"H"]]:(0,l.isString)(t),[s.default["__"+n+"W"]]:(0,l.isString)(n),[o]:o}),f={...(0,u.isNumber)(t)&&{height:t,minHeight:t},...(0,u.isNumber)(n)&&{width:n,minWidth:n}};return i.default.createElement(c,{style:f,className:d})};c.propTypes={h:o.default.oneOfType([o.default.number,o.default.oneOf(["xs","sm","md","lg","xl"])]),w:o.default.oneOfType([o.default.number,o.default.oneOf(["xs","sm","md","lg","xl"])]),addClassname:o.default.string,component:o.default.any};var d=c;t.default=d},91325:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(54720)),s=a(n(84726)),l=a(n(19955)),u=n(90361),c=n(57930),d=a(n(22760));class f extends r.default{constructor(e){super(e),this._textarea=null,this.handleChange=e.handleChange||function(){}}onInput(e){e.stopPropagation(),e.target.value!==this.props.value&&this.handleChange.call(this,"message",e)}getRenderData(){return{styles:{fieldWrap:[{fieldWrap:!0}],inputField:[{inputField:!0,["_"+this.props.color]:!(!this.props.color||"green"===this.props.color),__textarea:!0,_error:this.props.error,__mobile:l.default.mobileOrTablet(),__bluredEmpty:!this.props.value}]},style:d.default}}renderData(e,t){return o.default.createElement("jdiv",t.fieldWrap,o.default.createElement("textarea",(0,i.default)({},t.inputField,{value:this.props.value||void 0,maxLength:"1000",onInput:this.onInput.bind(this),onKeyUp:e=>{e.stopPropagation()},onKeyDown:e=>{e.stopPropagation()},placeholder:(0,s.default)("lblYourMessage")+"*","data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:e=>{this._textarea=e}},(0,u.withLocator)(c.Locator.CONTACTS_FORM_INPUT))))}}t.default=f},1497:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(45697)),s=a(n(94184)),l=n(21733),u=n(55330),c=a(n(19955)),d=a(n(11880)),f=a(n(28402));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const h=(0,o.forwardRef)(((e,t)=>{let{color:n,error:a,disabled:r,label:p,placeholder:h,radius:g,required:m,rows:_,size:v,variant:b,rightSection:y,rightSectionWidth:E,rightSectionProps:T,classNames:C,value:S,...O}=e;const[A,w]=(0,o.useState)((()=>!!S)),[I,M]=(0,o.useState)(""),R=(0,o.useRef)(null),N=(0,u.useMergeRefs)(R,t),P=e=>m?e+"*":e,D=(0,s.default)({[f.default.root]:!0,[f.default.__invalid]:a,[f.default.__isIos]:c.default.ios(),[f.default[b]]:b,[f.default["__"+n]]:n,[f.default["__"+v+"Size"]]:v,[f.default["__"+g+"Radius"]]:g,[C.textarea]:C.textarea,[f.default.__active]:A||""!==S}),L=(0,s.default)({[f.default.label]:!0,[f.default["__"+v+"Size"]]:v,[f.default["__"+n]]:n,[f.default.__invalid]:a}),k=(0,s.default)({[f.default.rightSection]:y,[C.rightSection]:C.rightSection}),x=(0,s.default)({[f.default.error]:!0,[f.default["__"+v+"Size"]]:!0});return(0,o.useEffect)((()=>{if(R.current){if(!I)return M(R.current.style.paddingRight);R.current.style.setProperty("padding-right",y?E+"px":I,"important")}}),[I,y,E]),o.default.createElement(d.default,null,o.default.createElement("textarea",(0,i.default)({ref:N,className:D,placeholder:!p&&h?P(h):" ",disabled:r,rows:_,"data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",value:S,onFocus:()=>w(!0),onBlur:()=>w(!1)},O)),p&&o.default.createElement("jdiv",{className:L},P(p)),y&&o.default.createElement("jdiv",(0,i.default)({},T,{className:k,style:{width:E}}),y),(0,l.isString)(a)&&o.default.createElement("jdiv",{className:x},a))}));h.displayName="Textarea",h.defaultProps={color:"green",radius:"sm",rows:2,size:"sm",variant:"default",rightSectionWidth:38,classNames:{input:null,rightSection:null}},h.propTypes={color:r.default.string,error:r.default.oneOfType([r.default.string,r.default.bool]),placeholder:r.default.string,label:r.default.string,radius:r.default.oneOf(["xs","sm","md","lg","xl"]),required:r.default.bool,disabled:r.default.bool,rows:r.default.number,size:r.default.oneOf(["xs","sm","md","lg","xl"]),variant:r.default.oneOf(["default","filled","unstyled","inset"]),rightSectionWidth:r.default.number,rightSection:r.default.node,rightSectionProps:r.default.object,value:r.default.string,classNames:r.default.shape({textarea:r.default.string,rightSection:r.default.string})};var g=h;t.default=g},19367:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=_;var i=a(n(23101)),o=a(n(98661)),r=a(n(94184)),s=a(n(45697)),l=a(n(84726)),u=a(n(43973)),c=n(90361),d=n(57930),f=n(56436),p=a(n(78269)),h=n(39731),g=n(63664),m=n(83170);function _(e){let{top:t,bottom:n}=e;(0,g.useErrorCatcher)(_.displayName);const[a,s]=(0,h.splitString)((0,l.default)("businessCopyright"),"{0}"),{hidden:v,fontColor:b,isMobile:y,isTablet:E,billRu:T,isOnline:C,reportTelemetry:S,route:O}=(0,f.useEnhanced)(),A=(0,r.default)({[u.default.chatCopyright]:!0,[u.default.__mobile]:y,[u.default.__tablet]:E,[u.default.__hidden]:v,[u.default.__chat]:!0,[u.default.__call]:n,[u.default.__top]:t});return o.default.createElement("jdiv",(0,i.default)({className:A},(0,c.withLocator)(d.Locator.CHAT_COPYRIGHT)),o.default.createElement("jdiv",{className:u.default.text},o.default.createElement(p.default,{billRu:T,isOnline:C,fontColor:b,onClick:()=>{S(m.TelemetryName.LOGO_CLICK,O)},startText:a,isChat:!0}),s))}_.displayName="ChatCopyrightContainer",_.propTypes={top:s.default.bool,bottom:s.default.bool}},43147:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var i=a(n(98661)),o=a(n(45697)),r=a(n(8471)),s=a(n(24818)),l=n(56436),u=n(63664),c=n(47060);function d(e){let{bg:t,logoHovered:n,refWrap:a}=e;(0,u.useErrorCatcher)(d.displayName);const{color:o,color2:f,fontColor:p,billRu:h,isOnline:g,orientation:m,iconLocale:_,enabled:v,customEl:b,route:y,reportTelemetry:E}=(0,l.useEnhanced)();if(v)return b&&b.current?i.default.createElement(s.default,{logoHovered:y==c.Route.LABEL&&n,customEl:b.current,bg:t,billRu:h,isOnline:g,fontColor:p,color:o,color2:f,orientation:m,iconLocale:_,reportTelemetry:E,refWrap:a}):i.default.createElement(r.default,{route:y,bg:t,color:o,color2:f,orientation:m,fontColor:p,billRu:h,isOnline:g,reportTelemetry:E})}d.displayName="CustomCopyright",d.propTypes={bg:o.default.string,logoHovered:o.default.bool,refWrap:o.default.func}},24818:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(98661)),r=a(n(45697)),s=n(21951),l=n(69882),u=n(9393),c=n(40754),d=n(83170),f=a(n(78269)),p=a(n(43973));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=e=>{let{logoHovered:t,customEl:n,bg:a,color:r,color2:h,orientation:g,refWrap:m,iconLocale:_,billRu:v,isOnline:b,fontColor:y,reportTelemetry:E}=e;const[T,C]=(0,i.useState)(!1),S=()=>C(!0),O=()=>C(!1),A={color:y,display:t||T?"block":"none",background:a};if((0,i.useLayoutEffect)((()=>{if(!n)return;const e="jivo_copyright_corner";if(!(0,l.getPageWindow)().document.getElementById(e)){const t=(0,l.getPageWindow)().document.createElement("div");t.id=e,t.className="jivo-"+g,n.appendChild(t);const a=(0,c.getBgBorderStyle)(r,h,g);let s;if(Object.assign(t.style,a),(0,u.each)(n.childNodes,(e=>{"A"===e.tagName&&(s=e)})),s){const e=document.createElement("jdiv");e.className=p.default.customWrap,n.replaceChild(e,s),o.default.render(i.default.createElement(f.default,{billRu:v,isOnline:b,fontColor:y,onClick:()=>{E(d.TelemetryName.LOGO_CLICK)},startText:null}),e)}E(d.TelemetryName.SITE_CUSTOM_COPYRIGHT)}return(0,s.addListener)(n,"mouseover",S),(0,s.addListener)(n,"mouseout",O),function(){(0,s.removeEvent)(n,"mouseover",S),(0,s.removeEvent)(n,"mouseout",O)}}),[]),n){const e=(()=>{const e=(0,c.getTooltipPosition)(n,m,g,_);return Object.assign(A,e)})();n.className=p.default.copyright,Object.assign(n.style,e)}return i.default.createElement("jdiv",{className:p.default.hide})};g.displayName="CustomCopyright",g.propTypes={logoHovered:r.default.bool,customEl:r.default.object,bg:r.default.string,color:r.default.string,color2:r.default.string,orientation:r.default.string,iconLocale:r.default.string,billRu:r.default.bool,isOnline:r.default.bool,fontColor:r.default.string,reportTelemetry:r.default.func,refWrap:r.default.func};var m=g;t.default=m},8471:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var i=a(n(23101)),o=a(n(98661)),r=a(n(94184)),s=a(n(45697)),l=a(n(84726)),u=a(n(43973)),c=n(90361),d=n(57930),f=a(n(78269)),p=n(40754),h=n(83170),g=n(39731);function m(e){let{bg:t,color:n,color2:a,orientation:s,billRu:m,isOnline:_,fontColor:v,route:b,reportTelemetry:y}=e;const[E,T]=(0,g.splitString)((0,l.default)("businessCopyright"),"{0}"),C=(0,r.default)({[u.default.copyright]:!0,[u.default["_"+s]]:!0,[u.default.__ru]:!!m}),S=(0,p.getBgBorderStyle)(n,a,s);return o.default.createElement("jdiv",(0,i.default)({className:C},(0,c.withLocator)(d.Locator.LABEL_COPYRIGHT_POPUP),{style:{background:t}}),o.default.createElement("jdiv",{className:u.default.text,style:{color:v}},o.default.createElement(f.default,{billRu:m,isOnline:_,fontColor:v,onClick:()=>{y(h.TelemetryName.LOGO_CLICK,b)},startText:E}),T),o.default.createElement("jdiv",{className:u.default.corner,style:S}))}m.propTypes={bg:s.default.string.isRequired,color:s.default.string.isRequired,color2:s.default.string,orientation:s.default.string.isRequired,billRu:s.default.bool.isRequired,isOnline:s.default.bool.isRequired,fontColor:s.default.string.isRequired,route:s.default.string.isRequired,reportTelemetry:s.default.func.isRequired}},78269:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var i=a(n(98661)),o=n(67597),r=a(n(94184)),s=a(n(45697)),l=a(n(43973)),u=a(n(40704)),c=a(n(2559));function d(e){let{billRu:t,isOnline:n,fontColor:a,onClick:s,startText:d,isChat:f}=e;const p=t?"logo-jivosite":"logo-jivochat",h=n||f?c.default.GREEN_80:"#62666c",g=f?"#323648":a,m=(0,o.getUtmLink)("label_tooltip"),_=(0,r.default)({[l.default.link]:!0,[l.default.__ru]:t});return i.default.createElement("a",{href:m,rel:"nofollow noopener noreferrer",target:"_blank",className:_,onClick:s},d,i.default.createElement(u.default,{iconName:p,color:g,color2:h,className:l.default.logoIcon}))}d.propTypes={billRu:s.default.bool,isOnline:s.default.bool,fontColor:s.default.string,onClick:s.default.func,startText:s.default.string,isChat:s.default.bool}},40754:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reportTelemetry=t.getTooltipPosition=t.getBgBorderStyle=void 0;var a=n(43025),i=n(54415);t.reportTelemetry=(e,t)=>{const n=t?{param1:t}:null;i.Monitoring.telemetry(e,n)};t.getBgBorderStyle=(e,t,n)=>{let a={};const i=t||e;switch(n){case"left":a={borderRightColor:e};break;case"right":a={borderLeftColor:i};break;case"bottom":a={borderTopColor:i}}return a};t.getTooltipPosition=(e,t,n,i)=>{let o,r,s={top:0,left:0};switch(null!==e&&t&&t()&&(r=(0,a.getElementPosition)(t())),n){case"left":o=10,s={top:20+(r?r.top:0)+"px",left:40+o+"px"};break;case"right":o="en"===i?80:60,s={top:20+(r?r.top:0)+"px",right:"50px"};break;case"bottom":s={bottom:"48px",right:(r?r.windowWidth-r.width-r.left+30:42)+"px"}}return s}},56436:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(){const e=l.default.mobileOrTablet()||(0,s.isChatPage)(),t=l.default.tablet()||l.default.desktop()&&(0,s.isChatPage)(),n=(0,o.useSelector)(c.selectWidgetFontColor),a=(0,o.useSelector)(c.selectWidgetColor),p=(0,o.useSelector)(c.selectWidgetColor2),h=(0,o.useSelector)(c.selectWidgetOrientation),g=(0,o.useSelector)(c.selectBillRu),m=(0,o.useSelector)(u.selectIsOnline),_=(0,o.useSelector)(u.selectRoute),v=(0,r.getTextColor)(n),[b,y]=(0,i.useState)(!0),E=(0,i.useRef)((0,s.getPageWindow)().document.getElementById("jivo_copyright"));return(0,i.useEffect)((()=>{y(_==d.Route.LABEL)}),[_]),{color:a,color2:p,enabled:b,fontColor:v,isMobile:e,isTablet:t,billRu:g,isOnline:m,orientation:h,route:_,customEl:E,reportTelemetry:f.reportTelemetry}};var i=n(98661),o=n(88928),r=n(80598),s=n(69882),l=a(n(19955)),u=n(35233),c=n(87692),d=n(47060),f=n(40754)},75132:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(94184)),s=a(n(14072));const l=e=>{let{textSize:t,color:n,departments:a,isIos:o,isMobileOrTablet:l,isShowAd:u,onClick:c}=e;return i.default.createElement("jdiv",{className:(0,r.default)({[s.default.main]:!0,[s.default.__logo]:u,[s.default.__mobile]:l,[s.default["__"+n]]:!0})},a.map((e=>{let{id:n,name:a}=e;return i.default.createElement("jdiv",{key:n,className:s.default.department,style:o?{"-webkit-text-size-adjust":t}:null,onClick:()=>c(n)},a,i.default.createElement("jdiv",{className:s.default.circle}))})))};l.propTypes={textSize:o.default.string,color:o.default.string.isRequired,departments:o.default.array.isRequired,isIos:o.default.bool.isRequired,isMobileOrTablet:o.default.bool.isRequired,isShowAd:o.default.bool.isRequired,onClick:o.default.func.isRequired};var u=l;t.default=u},41963:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=g(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=n(26932),s=n(47060),l=n(21476),u=n(87692),c=n(68403),d=a(n(19367)),f=a(n(75132)),p=a(n(19955)),h=a(n(74379));function g(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(g=function(e){return e?n:t})(e)}const m=a(n(4855)).default.name("Departments");var _=()=>{const e=(0,o.useSelector)(u.selectBubbleColor),t=(0,o.useSelector)(u.selectDepartments),n=p.default.ios(),a=p.default.mobileOrTablet(),g=(0,c.showAd)(),[_,v]=(0,i.useState)(n?h.default.getLineHeight():null);(0,i.useEffect)((()=>{h.default.listenChangeZoom((()=>{n&&v(h.default.getTextSize())}))}),[n]);return t.length?i.default.createElement(i.default.Fragment,null,g&&i.default.createElement(d.default,{type:"chat",bottom:!0}),i.default.createElement(f.default,{color:e,departments:t,textSize:_,isIos:n,isMobileOrTablet:a,isShowAd:g,onClick:e=>{r.clientDispatchers.setDepartmentId(+e),l.Router.next(s.RouterEvent.Navigate),m.log("set department id",e)}})):null};t.default=_},4244:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=n(88928),r=a(n(45697)),s=a(n(95554)),l=n(42932),u=n(77004),c=n(87692);const d=e=>{let{isNarrow:t,IsIgnoreHeight:n}=e;const a=(0,o.useSelector)(c.selectWidgetOrientation),r=(0,o.useSelector)(c.selectWidgetPadding),d=(0,o.useDispatch)();return i.default.createElement(s.default,{orientation:a,padding:r,isNarrow:t,IsIgnoreHeight:n,onSetIsInDrag:e=>d((0,l.setIsInDrag)(e)),onSetPosition:e=>d((0,u.initializePositionStore)(e))})};d.propTypes={isNarrow:r.default.bool,IsIgnoreHeight:r.default.bool};var f=d;t.default=f},95554:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(10611)),r=a(n(94184)),s=a(n(45697)),l=n(9709),u=n(21863);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=e=>{let{orientation:t,padding:n,isNarrow:a,IsIgnoreHeight:s,onSetIsInDrag:c,onSetPosition:d}=e;const f=(0,i.useRef)(null),[p,h]=(0,i.useState)({dragStarted:!1}),{startDrag:g,drag:m,stopDrag:_}=(0,l.dragEvents)({orientation:t,padding:n,onSetIsInDrag:c,IsIgnoreHeight:s,onSetPosition:d});return i.default.createElement("jdiv",{className:(0,r.default)({[o.default.wrap]:!0,[o.default.__short]:a,[o.default.__active]:p.dragStarted,[o.default.__abTop]:(0,u.isAbTop100Enabled)()}),ref:f,onMouseDown:e=>{p.dragStarted||(h({dragStarted:!0}),g(e))},onMouseMove:e=>{p.dragStarted&&m(e)},onMouseUp:()=>{p.dragStarted&&(_(),h({dragStarted:!1}))},onMouseOut:()=>{p.dragStarted&&(h({dragStarted:!1}),_())}})};d.propTypes={orientation:s.default.string,padding:s.default.number,isNarrow:s.default.bool,IsIgnoreHeight:s.default.bool,onSetIsInDrag:s.default.func,onSetPosition:s.default.func};var f=i.default.memo(d);t.default=f},9709:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.dragEvents=void 0;var i=n(43914),o=n(52274),r=n(47245),s=n(43025),l=n(69882),u=a(n(19955)),c=a(n(75686)),d=n(2982),f=n(47060),p=n(44145);let h,g,m,_,v,b=null;const y=e=>{b=c.default.get(r.Component.SCROLL_CONTAINER),b&&b.style&&(b.style.display=e?"block":"none")},E=e=>{let{e:t,onSetIsInDrag:n,mainSide:a}=e;n(!0),_=t.screenX,v=t.screenY,y(!1);const i=c.default.get(r.Component.WIDGET_CONTAINER),u=a;var f;if("right"===u&&null===(0,d.getProperty)("right",i)&&((0,d.setProperty)("right",(f=i,(0,l.getPageWindow)().document.body.clientWidth-(f.offsetLeft||40)-f.offsetWidth+"px"),i),(0,d.setProperty)("left",null,i)),"left"===u&&null!==(0,d.getProperty)("right",i)){const e=i.offsetLeft+"px";(0,d.setProperty)("left",e,i),(0,d.setProperty)("right",null,i)}if("left"===u&&""===(0,d.getProperty)("left",i)){const e=i.offsetLeft||"40px";(0,d.setProperty)("left",e,i),(0,d.setProperty)("right",null,i)}const p=(0,s.getElementPosition)(i),b=i.offsetHeight;h=parseInt((0,d.getProperty)(u,i)),g=parseInt(b),p.minLeft="left"===u?40:30,p.maxLeft=p.windowWidth-p.width-p.minLeft,p.maxLeft-=30,p.minHeight=o.MINIMAL_WIDGET_HEIGHT,p.height=b<p.minHeight?p.minHeight:b,p.maxHeight=(0,l.getPageWindow)().innerHeight-30,m=p},T=e=>{let{onSetIsInDrag:t,onSetPosition:n}=e;y(!0);const{width:a,height:s,left:l,right:u}=(()=>{const e=c.default.get(r.Component.WIDGET_CONTAINER);let t=parseInt((0,d.getProperty)("height",e));t&&t<o.MINIMAL_WIDGET_HEIGHT&&(t=o.MINIMAL_WIDGET_HEIGHT),t||(t=o.DEFAULT_WIDGET_HEIGHT);const n=(0,d.getProperty)("left",e),a=(0,d.getProperty)("right",e);return{width:o.CHAT_WIDTH+"px",height:t+"px",left:n,right:a}})();n({height:s,left:l,right:u}),t(!1),(0,i._callUserFunction)("onResizeCallback",{width:a,height:s})},C=e=>{let{e:t,ignoreHeight:n,mainSide:a}=e,i=_-t.screenX;const o=v-t.screenY,s=a;"left"==s&&(i=-i);const l=m,b=h?h+i:l.minLeft+i,y=c.default.get(r.Component.WIDGET_CONTAINER);b<l.minLeft?(0,d.setProperty)(s,l.minLeft+"px",y):b>l.maxLeft?(0,d.setProperty)(s,l.maxLeft+"px",y):(0,d.setProperty)(s,b+"px",y);let E=g+o;if(E!==l.height&&(E>l.minHeight||E>l.height)&&((()=>{const e=(0,p.getApp)().route;return-1!==[f.Route.CALL,f.Route.INTRODUCE,f.Route.CALL_EULA].indexOf(e)})()&&(E="auto"),E>m.maxHeight&&(E=m.maxHeight),m.height=E,n||(0,d.setProperty)("height",E+"px",y)),u.default.safari()&&!u.default.mobileOrTablet()){const e=(0,d.getSavedLabelPosition)();e&&((0,d.setProperty)("labelright",e.right,y),(0,d.setProperty)("labelleft",e.left,y),(0,d.setProperty)("labelwidth",e.offsetWidth+"px",y)),(0,d.updateKeyframes)(y,!0)}};t.dragEvents=e=>{let{orientation:t,padding:n,IsIgnoreHeight:a,onSetIsInDrag:i,onSetPosition:o}=e;const r="left"===t||0===n&&"bottom"===t?"left":"right";return{startDrag:e=>E({e:e,onSetIsInDrag:i,mainSide:r}),drag:e=>C({e:e,IsIgnoreHeight:a,mainSide:r}),stopDrag:()=>T({onSetIsInDrag:i,onSetPosition:o})}}},59963:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(3501)),r=n(18073);const s=[];var l=()=>i.default.createElement(i.default.Fragment,null,s.length?s:(Object.keys(r.emojiList).forEach((e=>{s.push(i.default.createElement(o.default,{icon:e}))})),Object.entries(r.emojiList)));t.default=l},3501:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(94184)),s=n(69882),l=n(67597),u=n(18073),c=n(66488),d=n(54415),f=n(83170),p=a(n(89411)),h=a(n(69427));const g=e=>{let{icon:t,customStyle:n,className:a,alone:o=!1}=e;const g=(0,r.default)({[h.default.emojiIcon]:!0,[h.default[a]]:a,[h.default.__alone]:o});if(!(0,p.default)(t)){const e=u.emojiList[t]?u.emojiList[t]:t,n=(0,c.fromCodePoint)(e),a=(0,l.cdnLinkToEmoji)(e);return a.endsWith("/.svg")?(d.Monitoring.telemetryOnce(f.TelemetryName.ASSET_ERROR,{param1:"emoji",param2:t}),null):i.default.createElement("jdiv",{className:g,draggable:!1,alt:n,style:{backgroundImage:`url('${a}')`}},(0,s.isTextEmojiDisabled)()?null:n)}const m=`url("data:image/svg+xml,${encodeURIComponent((0,p.default)(t))}")`,_=(0,c.fromCodePoint)(u.emojiList[t]);return i.default.createElement("jdiv",{className:g,style:n,"jv-emoji":t},i.default.createElement("jdiv",{className:h.default.icon,style:{backgroundImage:m},alt:_},(0,s.isTextEmojiDisabled)()?null:_))};g.propTypes={icon:o.default.string.isRequired,customStyle:o.default.object,className:o.default.oneOf(["emojiMessages","iconSuccess"]),alone:o.default.bool};var m=i.default.memo(g);t.default=m},27523:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.replaceEmoji=function(e){return(0,s.replace)(e,(e=>{const t=(0,s.toCodePoint)(e),n=document.createElement("jdiv");return(0,o.render)(i.default.createElement(r.default,{className:"emojiMessages",icon:t,alone:!1}),n),n.childNodes[0].outerHTML}))};var i=a(n(98661)),o=n(98661),r=a(n(3501)),s=n(66488)},89411:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(69861)),o=a(n(22783)),r=a(n(69860)),s=a(n(44544)),l=a(n(12239)),u=a(n(70881)),c=a(n(92380)),d=a(n(74373)),f=a(n(67567)),p=a(n(57737)),h=a(n(14534)),g=a(n(78393)),m=a(n(79378)),_=a(n(5541)),v=a(n(87966)),b=a(n(94475)),y=a(n(45152)),E=a(n(63365)),T=a(n(22426)),C=a(n(56482)),S=a(n(23791));var O=function(e){return{angel:i.default,unicorn_face:o.default,confused:r.default,rage:s.default,imp:l.default,disappointed:u.default,kissing_heart:c.default,yum:d.default,disappointed_relieved:f.default,weary:p.default,grin:h.default,laughing:g.default,wink:m.default,sunglasses:_.default,neutral_face:v.default,winking_eye:b.default,hushed:y.default,thumbsup:C.default,thumbsdown:E.default,smile:T.default,tada:S.default}[e]};t.default=O},66488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromCodePoint=l,t.getEmojiRegExp=void 0,t.replace=function(e,t){return String(e).replace(i,t)},t.replaceEmoji=function(e){return e.replace(/:\w+:/g,(e=>{const t=e.replace(/:/g,"");return a.emojiList[t]?l(a.emojiList[t]):e}))},t.toCodePoint=void 0;var a=n(18073);const i=/(?:\ud83d[\udc68\udc69])(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddb0-\uddb3])|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f|(?:\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f)|[\u0023\u002a\u0030-\u0039]\ufe0f?\u20e3|(?:[\u00a9\u00ae\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c[\udf85\udfc2-\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4-\udeb6\udec0\udecc]|\ud83e[\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\uddb5\uddb6\uddb8\uddb9\uddd1-\udddd]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf5\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a-\udc6d\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\udeeb\udeec\udef4-\udef9]|\ud83e[\udd10-\udd17\udd1d\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd40-\udd45\udd47-\udd70\udd73-\udd76\udd7a\udd7c-\udda2\uddb4\uddb7\uddc0-\uddc2\uddd0\uddde-\uddff]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g,o=String.fromCharCode,r=/\uFE0F/g,s=String.fromCharCode(8205);function l(e){let t="string"==typeof e?parseInt(e,16):e;return t<65536?o(t):(t-=65536,o(55296+(t>>10),56320+(1023&t)))}t.toCodePoint=(e,t)=>function(e,t){const n=[];let a=0,i=0,o=0;for(;o<e.length;)a=e.charCodeAt(o++),i?(n.push((65536+(i-55296<<10)+(a-56320)).toString(16)),i=0):55296<=a&&a<=56319?i=a:n.push(a.toString(16));return n.join(t||"-")}(e.indexOf(s)<0?e.replace(r,""):e,t);t.getEmojiRegExp=()=>i},17101:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=a(n(45697)),s=n(87692);function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const u=(0,i.lazy)((()=>n.e(152).then(n.bind(n,13411)))),c=e=>(0,o.useSelector)(s.selectEula)?i.default.createElement(i.Suspense,null,i.default.createElement(u,e)):(e.isOpened&&console.warn("Check condition allowing EULA to appear."),null);c.propTypes={isOpened:r.default.bool.isRequired,onAgree:r.default.func.isRequired,onDisagree:r.default.func.isRequired};var d=c;t.default=d},36207:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=n(88928),s=a(n(54720)),l=a(n(84726)),u=a(n(19955)),c=a(n(74379)),d=a(n(1039)),f=a(n(88155)),p=n(43025),h=a(n(25778)),g=n(21476),m=n(47060),_=n(54415),v=n(83170),b=a(n(75686)),y=n(2982),E=n(47245),T=a(n(71323)),C=n(70010);class S extends s.default{constructor(e){super(e),this.state=(0,C.getEulaState)(),this._titleRef=null,this._callRef=null}componentDidUpdate(e,t){if(this.state.text!==t.text){const e=this.getTopOffset();this._textRef&&this._textRef.style&&e&&(this._textRef.style.top=e+"px")}this.state.show||this.props.eulaAccepted||!this.props.showEula||(this.setState({show:!0,text:this.props.showEula}),u.default.mobileOrTablet()&&(0,p.blurActiveElement)())}componentDidMount(){c.default.listenChangeZoom((()=>{const e=c.default.getTextSize();this.state.textSize!==e&&this.setState({textSize:e})}))}submitCheckbox(){this.setState({checked:!0,show:!1,text:this.props.showEula}),T.default.eulaLink&&(window.open(T.default.eulaLink),T.default.eulaLink=null),T.default.acceptEula(),setTimeout((()=>{g.Router.next(m.RouterEvent.Submit)}),500)}cancel(e){g.Router.next(m.RouterEvent.Cancel),u.default.safari()&&!u.default.mobileOrTablet()&&setTimeout((()=>{const e=b.default.get(E.Component.WIDGET_CONTAINER);(0,y.updateKeyframes)(e)}),0),setTimeout((()=>{this.setState({show:!1}),T.default.showEula(!1),e&&_.Monitoring.telemetry(v.TelemetryName.EULA_CANCEL_BTN,{param1:T.default.context})}),200)}trackClick(){_.Monitoring.telemetry(v.TelemetryName.EULA_LINK_CLICKED,{param1:T.default.context})}renderAgreement(){return(0,C.getAgreementText)(this.state.agreementBasis)}renderLink(){return(0,C.getEulaLink)(this.trackClick.bind(this))}renderCancel(){return o.default.createElement("jdiv",{className:h.default.cancel,onPointerDown:this.cancel.bind(this),onTouchStart:e=>{e.preventDefault(),u.default.isPointerEnabled()||this.cancel(e)}},(0,l.default)("cancel"))}getTopOffset(){return(this.state.text&&this._callRef&&this._callRef.offsetHeight)+(this._titleRef&&this._titleRef.offsetHeight)}getRenderData(){const e=u.default.ios()?{"-webkit-text-size-adjust":this.state.textSize}:{},t="string"==typeof this.state.text;return{styles:{wrap:[{eulaPopup:!0,_mobile:u.default.mobile(),_tablet:u.default.tablet(),["_"+d.default.bubble_color]:!(!d.default.bubble_color||"green"===d.default.bubble_color),__call:this.props.callContainer,__offlineForm:u.default.mobile()&&this.props.offlineForm}],popupContent:[{popupContent:!0},e],textBlock:[{textBlock:!0,__call:t}],text:[{text:!0},Object.assign(e,u.default.ios()?{lineHeight:c.default.getLineHeight(1.5)}:{})],title:[{title:!0,__hidden:!t},Object.assign(e,u.default.ios()?{lineHeight:c.default.getLineHeight(1.4)}:{})],formText:[{formText:!0},Object.assign(e,u.default.ios()?{lineHeight:c.default.getLineHeight(1.375)}:{})],checkbox:[{checkbox:!0,_checked:this.state.checked}],error:[{error:!0},{display:this.state.error?"block":"none"}]},style:h.default,data:{isCallText:t}}}renderText(){return o.default.createElement("jdiv",{className:h.default.scrollText},this.renderAgreement(),this.renderLink())}renderData(e,t){return d.default.eula?o.default.createElement("jdiv",t.wrap,o.default.createElement("jdiv",t.popupContent,o.default.createElement("jdiv",t.text,o.default.createElement("jdiv",(0,i.default)({},t.title,{dangerouslySetInnerHTML:{__html:this.state.text},ref:e=>{this._callRef=e}})),o.default.createElement("jdiv",(0,i.default)({},t.formText,{ref:e=>{this._titleRef=e}}),o.default.createElement("jdiv",{className:h.default.popupCheckbox},o.default.createElement("jdiv",(0,i.default)({},t.checkbox,{onClick:this.submitCheckbox.bind(this)}))),this.state.customTitle),o.default.createElement("jdiv",(0,i.default)({},t.textBlock,{ref:e=>{this._textRef=e}}),u.default.mobileOrTablet()?this.renderText():o.default.createElement(f.default,{position:"relative",railClass:h.default.rail},this.renderText())))),this.renderCancel()):null}}var O=(0,r.connect)((e=>({showEula:e.app.showEula,eulaAccepted:e.client.eulaAccepted,route:e.app.route})))(S);t.default=O},70010:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.trackClick=t.getEulaUrl=t.getEulaState=t.getEulaLink=t.getAgreementText=void 0;var i=a(n(98661)),o=a(n(84726)),r=n(44145),s=n(54415),l=n(83170);const u=()=>{const e=(0,r.getSystemSettings)();return`${window.parent.location.protocol+e.baseUrl}/script/eula/${e.widgetId}`};t.getEulaUrl=u;const c=()=>{const e=(0,r.getFeatures)().eula,t={show:!1,checked:!1,text:!1,url:e&&e.externalLink?e.externalLink:u(),agreementBasis:e&&e.customAgreement?e.customAgreement:"–∑–∞–∫–æ–Ω–æ–º ‚Ññ152-–§–ó ¬´–û –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö¬ª –æ—Ç 27.07.2006",textSize:null,customTitle:"–°–æ–≥–ª–∞—Å–µ–Ω –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö",customLink:"–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è"};return e&&e.useGdpr&&(t.customTitle=e.customTitle||(0,o.default)("eula_custom_title"),t.customLink=e.titleExternalLink||!1,t.agreementBasis=e.customAgreement||(0,o.default)("eula_custom_agreement")),t};t.getEulaState=c;t.getAgreementText=e=>{const t=(0,r.getFeatures)().eula;return t&&!t.useGdpr?`–°—Ç–∞–≤—è –æ—Ç–º–µ—Ç–∫—É, —è –¥–∞—é —Å–≤–æ–µ —Å–æ–≥–ª–∞—Å–∏–µ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É –º–æ–∏—Ö –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å\n            ${e} –∏ –ø—Ä–∏–Ω–∏–º–∞—é —É—Å–ª–æ–≤–∏—è `:`${e} `};t.getEulaLink=e=>{const t=(0,r.getFeatures)().eula,n=c();return!t.useGdpr||t.useGdpr&&t.externalLink?i.default.createElement("a",{href:t.externalLink||u(),onClick:e,target:"_blank",rel:"noopener noreferrer"},n.customLink):null};t.trackClick=()=>{s.Monitoring.telemetry(l.TelemetryName.EULA_LINK_CLICKED,{param1:"call_popup"})}},23535:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var i=a(n(98661)),o=a(n(45697)),r=n(63664),s=n(16016),l=n(44145),u=n(66934),c=a(n(4578));const d=a(n(4855)).default.name("FileUpload");function f(e){let{disabled:t}=e;(0,r.useErrorCatcher)(f.displayName);return i.default.createElement(c.default,{disabled:t,onClick:(e=>{!(0,l.getApp)().isOnline&&t||(0,u.openIntroduce)(e)}).bind(this),onChange:e=>{(e=>{if(!e.target.files)return;const t=e.target.files[0];d.log("fileinfo:",t),t&&(t&&t.name&&(0,u.startUploadMedia)(t,(0,s.generateGUID)()),e.target.value="")})(e)}})}f.displayName="FileUpload",f.propTypes={disabled:o.default.bool}},4578:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(40704)),s=a(n(39771)),l=a(n(45697)),u=a(n(94184)),c=a(n(26411)),d=n(90361),f=n(57930);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const h=c.default.map((e=>"."+e.extension)).join(","),g=e=>{let{disabled:t,onClick:n,onChange:a}=e;const l=(0,o.useRef)(null),c=(0,u.default)({[s.default.wrap]:!0,[s.default.__disabled]:t});return o.default.createElement("jdiv",{className:c},o.default.createElement(r.default,{iconName:"icon-attach",color:t?"#c9cdd3":"#a3aab5",className:s.default.iconAttach2}),o.default.createElement("jdiv",{className:s.default.uploadFwrap},o.default.createElement("input",(0,i.default)({className:s.default.uploadButton,type:"file",ref:l,onClick:n,onChange:a,disabled:t,accept:h},(0,d.withLocator)(f.Locator.INPUT_UPLOAD_ICON)))))};g.propTypes={disabled:l.default.bool.isRequired,onClick:l.default.func.isRequired,onChange:l.default.func.isRequired};var m=o.default.memo(g);t.default=m},66934:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.startUploadMedia=t.sendMedia=t.openIntroduce=t.getUrlEmoji=t.getTextMediaEmoji=t.getMediaDataFormatted=t.getMediaData=t.checkForDelivered=void 0;var i=n(16016),o=a(n(14264)),r=a(n(35802)),s=n(21476),l=n(47060),u=n(54415),c=n(83170),d=n(69625),f=n(81152),p=n(83778),h=n(53489),g=a(n(71277)),m=n(26932),_=n(77294),v=n(52274),b=n(65465),y=n(55329),E=n(13077),T=n(54346),C=n(44145),S=a(n(4855)),O=n(80161);const A=S.default.name("FileUploadHelpers"),w=e=>{const t=r.default.getInstance().managers.connection;t.isOpen()?t.send(e):t.open((()=>{t.send(e)}),!0)};t.sendMedia=w;t.openIntroduce=e=>{O.RouterUtils.canShowIntroduceForm()&&(e.preventDefault(),e.stopPropagation(),s.Router.next(l.RouterEvent.ToIntroduce))};const I=e=>{let t="";return t=e.indexOf("image")>=0?"üì∏":e.indexOf("video")>=0?"üìΩÔ∏è":e.indexOf("audio")>=0?"üîâ":"üìÑ",t};t.getTextMediaEmoji=I;const M=e=>{const t={},n=e.get("body");if(n&&!n.error&&(n.file_url||n.file)){const e=!!n.status,a=n.file_url||n.file,i=`${I(e?n.mime_type:n.type)} ${a}`,o={...n};A.warn("getMediaData",e,o,i),o.file=a,delete o.file_url,e?(delete o.loadedSize,delete o.status):o.type=(0,p.detectType)(n.type),t.message=i,t.media=o,A.warn("data to send:",t)}return t};t.getMediaDataFormatted=M;const R=(e,t)=>{let n="";return n=e.indexOf("image")>=0?"üì∏":e.indexOf("video")>=0?"üìΩÔ∏è":e.indexOf("audio")>=0?"üîâ":"üìÑ",n+" "+t};t.getUrlEmoji=R;t.getMediaData=e=>{try{return M(e)}catch(e){return u.Monitoring.reportException(e),!1}};t.startUploadMedia=(e,t)=>{t||(t=(0,i.generateGUID)()),(0,T.markInvitationAnswered)(),m.messagesDispatchers.addMessage({type:f.MessageType.MEDIA,from:f.MessageInitiator.CLIENT,private_id:t,body:{type:(0,p.detectType)(e.type),file_name:(0,h.sanitize)(e.name),file_size:e.size,mime_type:e.type,loadedSize:0,status:f.MediaStatus.UPLOADING}});const n=(0,C.getMessageByPrivateId)(t);d.mediaUploader.startUpload(n,e,(a=>{A.warn("file url:",n,e,a);const i=(0,p.detectType)(e.type),o={file:a.fullUrl,file_name:e.name,file_size:e.size,type:i,mime_type:e.type},r={...n.body},s=(0,_.isVideo)(e.type);if("photo"===i||s){s||(r.width=e.width,r.height=e.height,o.width=e.width,o.height=e.height);const t=(0,_.getSize)(o);o.thumb=`${a.fullUrl}?width=${t.width||v.MAX_IMAGE_WIDTH}&thumb`,r.thumb=o.thumb}r.status=f.MediaStatus.COMPLETE,r.file=a.fullUrl,r.file_size=e.size;const l=R(e.type,a.fullUrl);m.messagesDispatchers.updateMessage({privateId:t},{text:l,body:{...n.body,...r}});const d={name:"client_message",message:l,private_id:t,media:o};m.appDispatchers.setChatStarted(!0),w(d),(0,y.prechatEnabled)()&&b.messageActions.deletePrechatMsg(),(0,E.getRuleLocal)("firstMessageTime")||(0,E.setRuleLocal)("firstMessageTime",new Date),b.messageActions.startContactFormIfNeed(),g.default.play("outgoing_message"),u.Monitoring.telemetry(c.TelemetryName.FILE_UPLOAD_SUCCESS,{param1:e.type})}))};t.checkForDelivered=e=>{e&&!e.get("msg_id")&&(A.warn("bufferMessageForMessageState",e),m.messagesDispatchers.updateMessage({privateId:e.get("private_id")},{status:f.MessageStatus.NOT_DELIVERED}),o.default.trigger("update"),u.Monitoring.telemetry(c.TelemetryName.CLIENT_MESSAGE_SEND_ERROR,{param1:(0,C.getApp)().isOnline,param2:e.get("type"),param3:(0,C.getClient)().isBlacklisted?"black":"timeout"}))}},50890:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(54720)),s=a(n(1039)),l=n(60277),u=n(9393),c=n(21476),d=a(n(19955)),f=n(88928),p=a(n(50754)),h=a(n(98960)),g=a(n(4855)),m=a(n(11531)),_=n(54415),v=n(83170),b=n(90361),y=n(57930),E=n(26932),T=n(21733),C=n(68403),S=n(94537);const O=g.default.name("FormContainer");class A extends r.default{constructor(e){super(e),this.successCallback=this.successCallback.bind(this),this._form=this.getInitForm(),O.log("init config",this._form),this._submited=!1}componentDidUpdate(e){const t={name:e.client.name,email:e.client.email,phone:e.client.phone},n={name:this.props.client.name,email:this.props.client.email,phone:this.props.client.phone};(0,f.shallowEqual)(t,n)||(this._form=this.getInitForm(),this.setState((e=>({x:e.x?e.x+=1:1}))))}componentDidMount(){d.default.mobileOrTablet()||d.default.ie()||c.Router.on("route_change",(()=>{setTimeout((()=>{if(this.props.isFocused&&c.Router.isFormRoute()&&this.base&&this.base.querySelector){const e=this.base.querySelector("input, textarea");e&&e.focus&&e.focus()}}),500)}))}getInitForm(){return{message:{name:"message",value:this.props.client.lastMessage&&s.default.contacts_ask===S.ContactsType.BEFORE_CHAT?this.props.client.lastMessage:"",error:!1,required:"chat"!=this.props.type,show:"chat"!=this.props.type},client_name:{name:"client_name",value:this.props.client.name?this.props.client.name:"",error:!1,required:s.default.contacts_settings.name&&s.default.contacts_settings.name.required,show:s.default.contacts_settings.name&&s.default.contacts_settings.name.show},email:{name:"email",value:this.props.client.email?this.props.client.email:"",error:!1,required:s.default.contacts_settings.email&&s.default.contacts_settings.email.required,show:s.default.contacts_settings.email&&s.default.contacts_settings.email.show},phone:{name:"phone",value:this.props.client.phone?this.props.client.phone:"",error:!1,required:s.default.contacts_settings.phone&&s.default.contacts_settings.phone.required,show:s.default.contacts_settings.phone&&s.default.contacts_settings.phone.show}}}successCallback(e,t){const n=this.getData();O.log("SUBMIT CALLBACK",n),(0,u.each)(this.getData(),(function(e){const t=(0,T.isString)(e.value)?e.value.trim():e.value;n[e.name].value=t||null}));const a=this.isValid(n);if(this._submited=!0,this._form=a.data,a.error){if(O.log("FORM NOT VALID"),this.props.errorCallback(a.data),this.setState({form:a.data}),this.isIntroduceForm()||!this.props.isOnline){O.log("checkData",a);const e=[],t={name:0,phone:1,email:2};this.props.isOnline||(t.message=3),(0,u.each)(a.data,(n=>{if(n.error){const a=n.required?"*":"",i="client_name"==n.name?"name":n.name;e[t[i]]=`${i}${a}:${n.value}`}}));const n=this.props.isOnline?v.TelemetryName.CHAT_INTRODUCE:v.TelemetryName.OFFLINE_SENT_FAIL;_.Monitoring.telemetry(n,{param1:"formSubmitFail",param2:(0,C.getContactSettingsInfo)(),param3:e.filter((e=>e)).join(";")})}}else O.log("FORM VALID"),this.isIntroduceForm()&&_.Monitoring.telemetry(v.TelemetryName.CHAT_INTRODUCE,{param1:"formSubmit",param2:(0,C.getContactSettingsInfo)(),param3:t}),E.clientDispatchers.updateClient({lastMessage:a.data.message.value||null}),this.props.successCallback(a.data)}isIntroduceForm(){return!this.props.client.isIntroduced&&-1!==[0,-1].indexOf(s.default.contacts_ask)&&this.props.isOnline}isAnyNotEmpty(e){let t=!1;return(0,u.each)(e,(e=>{!("chat"==this.props.type&&"message"==e.name)&&e.value&&(t=!0)})),t}isValid(){let e=!1;const t=this.getData();return s.default.contacts_ask===S.ContactsType.BEFORE_CHAT||this.isAnyNotEmpty(t)||(0,C.isAnyRequired)(s.default.contacts_settings)?((0,u.each)(t,(n=>{n.show&&n.required&&!n.value&&(t[n.name].error=!0),n.required||n.value||(t[n.name].error=!1),n.show&&t[n.name].error&&(e=!0),O.log("item validation:",n)})),{data:t,error:e}):((0,u.each)(t,(e=>{"chat"==this.props.type&&"message"==e.name||(t[e.name].error=!0)})),{data:t,error:!0})}errorCallback(){O.log("ERROR CALLBACK")}resetForm(){}getData(){return this._form}setError(e,t){if(e)return this._form[e].error=t}getError(e){if(e)return this._form[e].error}getValue(e){if(e)return this._form[e].value}handleData(e,t){const n=t.target;if(O.log("handleData",e,n.value,typeof n.value),n){let t=n.value;if("email"==e)try{t=p.default.toUnicode(t)}catch(e){}let a=!h.default[e](t)||!t;n.required||n.value||(a=!1),this._form[e]=(0,l.extend)(this._form[e],{value:t,error:a}),this.setState({form:this._form})}}checkValue(e){const t=this.getValue(e);return!(!t||!h.default[e](t))}getRenderData(){return{styles:{main:[{main:!0}]},style:m.default}}renderData(e,t){const n=o.default.Children.map(this.props.children,(e=>{let t={};if(!e)return null;if(e.props&&e.props.name){const n=e.props.name;t={handleChange:this.handleData.bind(this),error:this.getError(n),value:this.getValue(n),color:s.default.bubble_color||"green",submited:this._submited}}return e.props&&e.props.type&&(t={successCallback:this.successCallback.bind(this),errorCallback:this.errorCallback.bind(this)}),o.default.cloneElement(e,t)})),a=c.Router.isFormRoute()?"form":"jdiv";return o.default.createElement("jdiv",t.main,o.default.createElement(a,(0,i.default)({ref:e=>{this._formRef=e},autocomplete:"on",onSubmit:e=>{e.preventDefault()}},(0,b.withLocator)(y.Locator.CONTACTS_FORM)),n))}}t.default=A},62887:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var i=a(n(98661)),o=a(n(45697)),r=a(n(27745)),s=n(63121),l=n(68408),u=n(21863),c=a(n(53517)),d=n(85962),f=n(63664);function p(e){let{showHeaderText:t}=e;(0,f.useErrorCatcher)(p.displayName);const{isOnline:n,color:a,joinedBots:o,mainText:h,subText:g,avatars:m,background:_,showBackButton:v,showCallButton:b,showLeaf:y,showMenu:E,isChatPage:T,isPowerPhone:C,isClickable:S,isIOS:O,isTablet:A,isLightColor2:w,isIntroduce:I,isChatMin:M,inCall:R,darkText:N,leafBackground:P,patternUrl:D,powerPhone:L}=(0,d.useEnchanced)();return i.default.createElement(r.default,{avatars:m,backButton:v,headerColor:a,background:_,callButton:b,clickable:S,darkText:N,inCall:R,isIos:O,isTablet:A,isChatPage:T,isLightColor2:w,leaf:y,leafBackground:P,mainText:h,online:n,pattern:D,subText:g,onCallClick:l.onCallClick,onCloseClick:l.onCloseClick,onHeaderClick:l.onHeaderClick,showHeaderText:t,showMenu:E,MenuComponent:c.default,onMenuButtonClick:l.onMenuButtonClick,isIntroduce:I,isChatMin:M,isPowerPhone:C,powerPhone:L,onInitSwipe:s.initSwipe,onReportTelemetry:u.reportTelemetry,isAbTop100:(0,u.isAbTop100Enabled)(),onDebugClick:l.onDebugClick,joinedBots:o})}p.displayName="HeaderContainer",p.propTypes={showHeaderText:o.default.bool}},27745:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(94184)),s=a(n(45697)),l=n(57930),u=n(90361),c=a(n(87736)),d=a(n(57147)),f=a(n(32042)),p=a(n(40704)),h=n(83170),g=n(47713),m=n(57985),_=n(9335),v=a(n(48966)),b=a(n(9218));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const E=e=>{let{avatars:t=[],backButton:n=!1,background:a="#44BB6E",callButton:s=!1,clickable:y=!1,darkText:E=!0,inCall:T=!1,isIos:C=!1,isTablet:S=!1,isChatPage:O=!1,leaf:A=!0,isLightColor2:w,leafBackground:I="#44BB6E",mainText:M="",onCallClick:R,onCloseClick:N,onHeaderClick:P,online:D=!0,pattern:L=!1,subText:k="",showHeaderText:x,showMenu:B,MenuComponent:j,onMenuButtonClick:F,isIntroduce:H,isChatMin:U,headerColor:W,isPowerPhone:G,powerPhone:z,onInitSwipe:V,onReportTelemetry:q,onDebugClick:$,isAbTop100:K,joinedBots:Y}=e;const[X,Z]=(0,_.useToggle)(!1),J=(0,o.useRef)(null),Q=(0,o.useRef)(null),ee=(0,o.useRef)(null);V&&V(Q,N),(0,m.useClickOutside)(ee,(()=>{X&&Z(!1)}));const te=()=>A?o.default.createElement("jdiv",{className:b.default.callIcon}):o.default.createElement(p.default,{color:E?"#272433":"#fff",iconName:"icon-tube",className:b.default.callIcon}),ne=(0,r.default)({[b.default.headerBox]:!0,[b.default.hideCorners]:!1,[b.default.__mobile]:!A}),ae=(0,r.default)({[b.default.header]:!0,[b.default._expanded]:y,[b.default._light]:!E,[b.default._dark]:E,[b.default._mobile]:!A,[b.default.__ios]:C,[b.default._tablet]:S,[b.default._offline]:!D,[b.default.showContent]:x}),ie=(0,r.default)({[b.default.headerContainer]:!0,[b.default.__chatpage]:O});return o.default.createElement("jdiv",(0,i.default)({ref:J,className:ne,style:{background:a}},(0,u.withLocator)(l.Locator.HEADER)),o.default.createElement("jdiv",{className:(0,r.default)({[b.default.pattern]:L}),style:{backgroundImage:L||null}},A?o.default.createElement(d.default,(0,i.default)({orientation:"bottom",backgroundColor:I,online:D},(0,g.onClickHandler)($),(0,u.withLocator)(l.Locator.HEADER_LEAF))):null,o.default.createElement("jdiv",(0,i.default)({className:ae},(0,g.onClickHandler)(P,!1,!1)),o.default.createElement("jdiv",{className:ie},(()=>{if(H)return null;if(!D||0===t.length||t.length>3)return null;if(1===t.length){const e=t[0].url||null,n=!(!Y||!Y.length);return o.default.createElement(c.default,{dark:E,expanded:y,isMobile:!A,inCall:T,url:e,headerColor:W,isBot:n})}{const e=t.map((e=>e.url));return o.default.createElement(f.default,{bgColor:a,urls:e,dark:E,expanded:y,inCall:T,isMobile:!A,isTablet:S})}})(),o.default.createElement("jdiv",(0,i.default)({className:b.default.info},(0,u.withLocator)(l.Locator.HEADER_TEXT)),A?null:o.default.createElement("jdiv",(0,i.default)({ref:Q,className:(0,r.default)({[b.default.toDebugPanel]:!0,[b.default._leftButton]:n,[b.default._topButton]:K,[b.default._rightButton]:B||s})},O&&(0,g.onClickHandler)($))),(()=>{const e=(0,r.default)({[b.default.agentName]:!0,[b.default.__agents]:!k,[b.default.__call]:s,[b.default.__top100]:K});return o.default.createElement("jdiv",(0,i.default)({className:e},(0,u.withLocator)(l.Locator.HEADER_AGENT_NAME)),M)})(),(()=>{if(!k)return null;const e=(0,r.default)({[b.default.title]:!0,[b.default.__call]:s});return o.default.createElement("jdiv",(0,i.default)({className:e},(0,u.withLocator)(l.Locator.HEADER_AGENT_POSITION)),k)})())),K?o.default.createElement("jdiv",{className:(0,r.default)({[b.default.topIcon]:!0,[b.default.__call]:s})},o.default.createElement(v.default,{onClick:()=>{},onLinkClick:()=>{q(h.TelemetryName.TOP100_LINK_CLICK)},onIconHover:()=>{q(h.TelemetryName.TOP100_HOVER,!0)},isChat:!0,popupBackground:a,color:E?"#272433":"#fff",isCall:s,isMobile:!A,isChatMin:U})):null,!s||B?null:G?o.default.createElement("a",(0,i.default)({href:z,className:b.default.callMe},(0,g.onClickHandler)(R),(0,u.withLocator)(l.Locator.HEADER_CALLBACK_BUTTON)),te()):o.default.createElement("jdiv",(0,i.default)({className:b.default.callMe},(0,g.onClickHandler)(R,!0,!0),(0,u.withLocator)(l.Locator.HEADER_CALLBACK_BUTTON)),te()),A||!n?null:o.default.createElement("jdiv",(0,i.default)({className:b.default.closeBox},(0,g.onClickHandler)(N,!0,!0)),o.default.createElement(p.default,{color:E?"#272433":"#fff",iconName:"icon-close",className:b.default.mobileBack})),B?o.default.createElement("jdiv",(0,i.default)({className:b.default.menuButtonWrap},(0,g.onClickHandler)((()=>{Z(),F&&F()}),!0,!0),(0,u.withLocator)(l.Locator.HEADER_CALLBACK_BUTTON)),A?o.default.createElement("jdiv",{className:b.default.menuIcon}):o.default.createElement(p.default,{color:E||w?"#272433":"#fff",iconName:"iconHamburger",className:b.default.menuIcon})):null,B?o.default.createElement("jdiv",{ref:ee},o.default.createElement(j,{show:X,referenceElement:J,onCancelClick:Z})):null)))};E.propTypes={avatars:s.default.arrayOf(s.default.any),backButton:s.default.bool,background:s.default.string,callButton:s.default.bool,clickable:s.default.bool,darkText:s.default.bool,inCall:s.default.bool,isIos:s.default.bool,isTablet:s.default.bool,isChatPage:s.default.bool,leaf:s.default.bool,leafBackground:s.default.string,mainText:s.default.string,onCallClick:s.default.func,onCloseClick:s.default.func,onHeaderClick:s.default.func,online:s.default.bool,pattern:s.default.string,subText:s.default.string,showHeaderText:s.default.bool,showMenu:s.default.bool,MenuComponent:s.default.oneOfType([s.default.arrayOf(s.default.node),s.default.node,s.default.func]),onMenuButtonClick:s.default.func,onInitSwipe:s.default.func,onReportTelemetry:s.default.func,onDebugClick:s.default.func,isIntroduce:s.default.bool,isChatMin:s.default.bool,isAbTop100:s.default.bool,isLightColor2:s.default.bool,headerColor:s.default.string,isPowerPhone:s.default.bool,powerPhone:s.default.string,joinedBots:s.default.array};var T=o.default.memo(E);t.default=T},68408:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.onMenuButtonClick=t.onHeaderClick=t.onDebugClick=t.onCloseClick=t.onCallClick=t.isPowerPhone=t.getPowerPhone=void 0;var i=n(21476),o=n(47060),r=n(26932),s=n(44145),l=n(54415),u=n(83170),c=n(69882),d=a(n(19955)),f=a(n(4855)),p=n(20361),h=a(n(138)),g=n(31802);const m=f.default.name("HeaderContainer"),_=()=>!(0,s.getCallback)().available&&(0,s.getUserSettings)().powerButtonPhone&&(d.default.mobileOrTablet()||(0,c.isChatPage)());t.isPowerPhone=_;t.getPowerPhone=()=>`tel:${(0,s.getUserSettings)().powerButtonPhone}`;t.onCallClick=()=>{m.log("onCallClick");const e=i.Router.getCurrentRoute();_()?h.default.trackMobileCallClick():i.Router.getCurrentRoute()===o.Route.CHAT_CALL?i.Router.next(o.RouterEvent.ToChat):i.Router.next(o.RouterEvent.ToCall),e===o.Route.CHAT_MIN&&r.transitionDispatchers.startTransition(p.ScriptName.MAXIMIZE_WIDGET)};t.onCloseClick=e=>{(0,g.closeWidget)(),i.Router.next(o.RouterEvent.CloseWindow),l.Monitoring.telemetry(u.TelemetryName.MOBILE_CHAT_CLOSE,{param1:e?"bySwipeDown":"byTap"})};t.onHeaderClick=()=>{(0,s.getApp)().route===o.Route.CHAT_MIN&&(r.appDispatchers.setAppIsFocused(!0),i.Router.next(o.RouterEvent.Navigate),r.transitionDispatchers.startTransition(p.ScriptName.MAXIMIZE_WIDGET))};t.onDebugClick=()=>{i.Router.next(o.RouterEvent.ToDebug)};t.onMenuButtonClick=()=>{}},63121:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.moveMobileContainer=t.initSwipe=t.getTexts=t.getShowMenuOverlay=t.getShowMenu=t.getPatternUrl=t.getInCall=t.getHideMenuTitle=t.getDarkText=t.getClickable=t.getCallButton=t.getAvatars=t.checkIsIntroduce=void 0;var i=n(69882),o=n(67597),r=n(54034),s=a(n(19955)),l=n(21476),u=n(47060),c=a(n(84726)),d=a(n(50754)),f=n(97615),p=a(n(75686)),h=n(47245),g=n(73055),m=a(n(79868)),_=a(n(4855)),v=n(68403);const b=_.default.name("HeaderHelpers");t.getPatternUrl=e=>e?`url(${(0,o.staticUrl)((f.EnvironmentManager.isDevelopment()?"/public":"")+"/images/pattern/"+e+".svg",!0)})`:null;t.getAvatars=(e,t,n,a,i)=>{const r=(0,v.getJoinedAgents)(t,n),s=(0,v.getJoinedAgents)(a,i,!0);if(r.length||s.length){if(r.length){return r.map((t=>({url:t.avatarUrl?(0,o.getAvatarApiUrl)(e,t.avatarUrl):null})))}return s.map((t=>({url:t.avatarUrl?(0,o.getAvatarApiUrl)(e,t.avatarUrl):null})))}return[]};t.getCallButton=e=>{const t=-1!==[u.Route.DEPARTMENTS,u.Route.CHAT_EULA,u.Route.INTRODUCE].indexOf(l.Router.getCurrentRoute()),n=s.default.mobileOrTablet()&&e;return(r.CallbackUtils.isCallbackEnabled()||n)&&!r.CallbackUtils.isCallActive()&&!t};t.getDarkText=e=>"dark"===e;t.getInCall=()=>r.CallbackUtils.isCallActive();t.getTexts=(e,t,n,a,o,s,d,f,p)=>{if(!e)return{mainText:o||a,subText:""};const h=l.Router.getCurrentRoute();if(h===u.Route.DEPARTMENTS)return{mainText:(0,c.default)("lblSelectDep"),subText:""};if(h===u.Route.INTRODUCE&&!r.CallbackUtils.isCallActive()||h===u.Route.CHAT_EULA&&l.Router.getPrevRoute()===u.Route.INTRODUCE)return{mainText:(0,c.default)("lblIntroduceRequestBefore"),subText:""};if((0,i.isWixEditor)()&&(t||n))return{mainText:t||(0,c.default)("lblConnectedToAgent"),subText:n||(0,c.default)("lblOperatorsOnline")};const g=(0,v.getJoinedAgents)(s,d,!1),m=(0,v.getJoinedAgents)(f,p,!0);if(1===g.length)return{mainText:g[0].name,subText:g[0].title};if(g.length>3)return{mainText:y(),subText:""};if(g.length>1){const e=[];return g.forEach((t=>{e.push(t.name.replace(/ /g,"¬†"))})),{mainText:e.join(", "),subText:""}}return m.length?{mainText:m[0].name,subText:m[0].title}:{mainText:(0,c.default)("lblConnectedToAgent"),subText:(0,c.default)("lblOperatorsOnline")}};const y=()=>{const e=(0,i.getPageWindow)().location.hostname.replace("www.","");if(""===e)return(0,c.default)("lblOperatorsOnline");try{return d.default.toUnicode(e)}catch(t){return e}};t.getClickable=e=>e===u.Route.CHAT_MIN;t.getShowMenu=(e,t,n)=>{const a=!!(m.default.getJoints().count||t||n),o=[u.Route.INTRODUCE,u.Route.CHAT_CALL].includes(e);return!(!(0,i.isChatPage)()||o||!a)};t.getShowMenuOverlay=()=>(0,i.isChatPage)()&&s.default.mobile();t.getHideMenuTitle=()=>(0,i.isChatPage)()&&(s.default.tablet()||s.default.desktop());t.checkIsIntroduce=(e,t,n)=>e==u.Route.INTRODUCE||e==u.Route.CHAT_EULA&&1==t&&!n;const E=e=>{const t=p.default.get(h.Component.MOBILE_CONTAINER);t&&t.style&&t.style.setProperty("transform",e?`translateY(${Math.abs(e)}px)`:null,"important")};t.moveMobileContainer=E;t.initSwipe=(e,t)=>{e&&((0,i.isChatPage)()||!s.default.tablet()&&!s.default.mobile()||(0,g.useSwipeDetector)({element:e,horizontalSwipeThreshold:120,onDownSwipe:()=>{t&&t(!0)},onLeftSwipe:()=>{},onDownCount:e=>{b.warn("onDownCount"),l.Router.debugClicks=0,E(e)},onTouchEnd:()=>{b.warn("onTouchEnd"),E(0),l.Router.next(u.RouterEvent.ToDebug)}}))}},85962:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnchanced=function(){const e=(0,d.useSelector)(l.selectChats),t=e[e.length-1],n=t&&t.joinedAgents?t.joinedAgents:[],a=t.joinedBots?t.joinedBots:[],b=(0,d.useSelector)(o.selectIsOnline),y=(0,d.useSelector)(c.selectPattern),E=(0,d.useSelector)(c.selectWidgetColor),T=(0,d.useSelector)(c.selectWidgetColor2),C=(0,d.useSelector)(c.selectPowerButtonColor),S=(0,d.useSelector)(c.selectPowerGradient),O=(0,d.useSelector)(c.selectPowerButtonPhone),A=(0,d.useSelector)(c.selectAvatarUrl),w=(0,d.useSelector)(c.selectWidgetFontColor),I=(0,d.useSelector)(c.selectWixAgentDisplayName),M=(0,d.useSelector)(c.selectWixAgentTitle),R=(0,d.useSelector)(c.selectOfflineWidgetLabel),N=(0,d.useSelector)(c.selectOfflineFormTitle),P=(0,d.useSelector)(o.selectRoute),D=(0,d.useSelector)(i.selectAgents),L=(0,d.useSelector)(r.selectBots),k=(0,d.useSelector)(s.selectIsCallbackAvailable),x=(0,d.useSelector)(c.selectContactsAsk),B=(0,d.useSelector)(u.selectIsIntroduced),j=(0,f.getClickable)(P),F=p.default.ios(),H=p.default.tablet()||p.default.desktop()&&(0,g.isChatPage)(),U=T&&"black"===h.default.getContrast(T),W=(0,f.checkIsIntroduce)(P,x,B),G=P===_.Route.CHAT_MIN,z=(0,f.getInCall)(),V=!p.default.desktop()&&!(0,g.isChatPage)(),q=(0,f.getCallButton)(O),$=p.default.desktop()&&!(0,g.isChatPage)(),K=(0,f.getShowMenu)(P,k,O),Y=(0,f.getDarkText)(w),X=T||E,Z=(0,f.getPatternUrl)(y),J=(0,m.getPowerPhone)(),{mainText:Q,subText:ee}=(0,f.getTexts)(b,I,M,R,N,n,D,a,L),te=(0,f.getAvatars)(A,n,D,a,L),ne=(0,v.getBackground)(E,T,S,C,p.default.mobileOrTablet());return{isOnline:b,color:E,joinedBots:a,mainText:Q,subText:ee,avatars:te,background:ne,showBackButton:V,showCallButton:q,showLeaf:$,showMenu:K,isChatPage:(0,g.isChatPage)(),isPowerPhone:(0,m.isPowerPhone)(),isClickable:j,isIOS:F,isTablet:H,isLightColor2:U,isIntroduce:W,isChatMin:G,inCall:z,darkText:Y,leafBackground:X,patternUrl:Z,powerPhone:J}};var i=n(99258),o=n(35233),r=n(14376),s=n(65210),l=n(55623),u=n(45959),c=n(87692),d=n(88928),f=n(63121),p=a(n(19955)),h=a(n(27104)),g=n(69882),m=n(68408),_=n(47060),v=n(80598)},52733:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(45697)),s=a(n(40704)),l=n(90361),u=n(57930),c=a(n(94184)),d=n(47713),f=a(n(2559));const p=e=>{let{isMobile:t,disabled:n,onClick:a,hasError:r,theme:p,styles:h,isPointer:g}=e;p.color=r||n?"#f1f0f0":p.color;const m=(0,c.default)({[h.sendButton]:!0,[h.__disabled]:r||n});return o.default.createElement("jdiv",(0,d.onClickHandler)(a),o.default.createElement(s.default,(0,i.default)({iconName:t?"mobile-send-button":"send-button",color:p.color,color2:r?"#dedede":f.default.WHITE_100,hoverColor:r?null:p.hoverColor,className:m},(0,l.withLocator)(u.Locator.INPUT_SUBMIT))))};p.propTypes={isMobile:r.default.bool,disabled:r.default.bool,onClick:r.default.func,hasError:r.default.bool,theme:r.default.shape({color:r.default.string,hoverColor:r.default.string}),styles:r.default.shape({sendButton:r.default.string}),isPointer:r.default.bool};var h=o.default.memo(p);t.default=h},32891:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=D(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=a(n(45697)),s=n(21476),l=n(47060),u=a(n(16586)),c=a(n(3807)),d=a(n(19955)),f=a(n(75686)),p=n(47245),h=a(n(94184)),g=a(n(54162)),m=n(62096),_=n(68403),v=n(69882),b=n(43374),y=n(43025),E=n(52028),T=a(n(9836)),C=a(n(94722)),S=a(n(63925)),O=a(n(52733)),A=n(26932),w=a(n(91275)),I=n(54415),M=n(83170),R=n(89177),N=a(n(19367)),P=n(81311);function D(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(D=function(e){return e?n:t})(e)}const L=a(n(4855)).default.name("InputContainer"),k=e=>{let{appStore:t,contactsAsk:n,disableEmoji:a,onInputChangeHeight:o,isInputDisabled:r,isIntroduced:D,disableFiletransfer:k,inputText:x,agentTyping:B,lastMessage:j}=e;const F=(0,i.useRef)(null),{isBotBlocked:H}=(0,P.useEnchanced)(),[U,W]=(0,i.useState)({hasError:!1,text:x||j||"",disabled:!!((0,R.getDisabled)()||r||H)}),[G,z]=(0,i.useState)((0,R.getColorTheme)(U.disabled)),[V,q]=(0,i.useState)(0),[$,K]=(0,i.useState)(0),[Y,X]=(0,i.useState)(0),[Z,J]=(0,i.useState)(!1),Q=f.default.get(p.Component.AUTORESIZER),ee=(0,R.getIsMobile)(),te=e=>{(0,R.startTyping)(e)};$||K({run:(0,b.throttle)(te,1e3)}),(0,i.useEffect)((()=>{(0,R.checkOfflineForm)(),z((0,R.getColorTheme)(U.disabled)),(0,E.designerBind)("setBubbleColor",(()=>{z((0,R.getColorTheme)(U.disabled))}));const e=f.default.get(p.Component.INPUT);L.log("init",e),f.default.set(p.Component.AUTORESIZER,new T.default(e,{maxSize:90,minSize:ee?16:60,onResize:()=>{(()=>{const e=F.current.base;if(!e)return;const t=e.parentNode.offsetHeight;Y!==t&&(o&&o(t),X(t))})()}})),oe(U.disabled),!ee&&s.Router.isChatInputRoute(t.route)&&e&&!(0,R.isActiveElementFocused)()&&e.focus()}),[]);const ne=e=>{W((t=>({...t,text:e})))},ae=(e,a)=>{e&&(e.preventDefault(),e.stopPropagation());const i=a||U.text;L.log("inputSendMessage",i);const o=!!i&&(0,R.replaceEmojiValue)((0,R.getText)(i));if(o){if(A.clientDispatchers.setLastMessage(o),ne(""),1===n&&!D&&t.isOnline)return A.appDispatchers.setAppIsFocused(!0),s.Router.next(l.RouterEvent.ToIntroduce),ne(""),void A.clientDispatchers.setInputText("");if(!o.trim())return W((e=>({...e,hasError:!0}))),!1;ne(""),A.clientDispatchers.setInputText(""),(0,R.onInputSubmit)(o),setTimeout((()=>{Q&&Q.check();const e=f.default.get(p.Component.INPUT);e&&e.focus()}),50),ee&&document.activeElement===F&&e&&e.preventDefault()}},ie=e=>{U.disabled!==e&&(W((t=>({...t,text:e?"":x,disabled:!!e}))),z((0,R.getColorTheme)(!!e)),oe(e))},oe=e=>{(0,R.setPlaceholder)((0,R.getPlaceholder)(e,H))},re=e=>e.replace(/[\u202E]/gi,""),se=m.reduxStore.getState().settings.features,le=(0,h.default)({[g.default.input]:!0,[g.default.__mobile]:ee,[g.default.inputPhone]:d.default.windowsPhone()}),ue=()=>(0,R.getDisabled)()||r||H?(ie(!0),!0):(ie(!1),!1),ce=k||(0,R.isFileUploadDisabled)(),de=d.default.tablet()&&d.default.chromeIOS();return de&&(0,R.setPaddingForFocus)(Z),i.default.createElement("jdiv",{className:g.default.wrapMargin,style:{marginBottom:de&&Z?44:null}},i.default.createElement("jdiv",{className:le,ref:e=>{e&&f.default.set(p.Component.CHAT_INPUT,e)}},i.default.createElement(c.default,{text:U.text,disabled:ue(),onInput:e=>{e.stopPropagation();const t=re(e.target.value);if(""===t)return e.target.value="",""!==U.text&&W((e=>({...e,text:"",hasError:!0}))),A.clientDispatchers.setInputText(t),void w.default.typingInsight("");W((e=>({...e,text:t,hasError:!1}))),z((0,R.getColorTheme)(!!U.disabled)),A.clientDispatchers.setInputText(t),setTimeout((()=>{Q&&Q.check()}),150),$.run(t),clearTimeout(V),q(setTimeout(R.stopTyping,5e3))},onKeyPress:e=>{((e,t)=>{let n=re(e.target.value);L.log("onKeyPress",n,t),e.stopPropagation(),U.text&&(n=U.text);const a=e.keyCode;if(!ee&&""!==n&&(e.ctrlKey||e.metaKey||e.shiftKey)&&-1!==[10,13].indexOf(a)){if(!e.shiftKey&&!d.default.edge()){const t=(0,y.addNewLine)(e.target,n);t&&(W((e=>({...e,text:t}))),A.clientDispatchers.setInputText(t))}return!1}13===a?(e.preventDefault(),ae(e,n)):8===a&&""===n&&(W((e=>({...e,text:""}))),A.clientDispatchers.setInputText(""))})(e,U.text)},onFocus:e=>{(0,R.onFocus)(e),J(!0)},onBlur:()=>{J(!1)},onPaste:e=>{ee&&W((e=>({...e,hasError:!1}))),(0,R.onPaste)(e)},disableFileUpload:ce,ref:F}),ee&&(0,_.showAd)()?i.default.createElement(N.default,{type:"chat"}):null,ee&&1==se.typingInsight?i.default.createElement(u.default,{show:B,isMobile:ee}):null,i.default.createElement(O.default,{isMobile:ee,disabled:ue(),onClick:ae,hasError:U.hasError||!U.text,theme:(0,R.getColorTheme)(U.disabled),styles:g.default,isPointer:d.default.isPointerEnabled()})),i.default.createElement(C.default,{disabled:ue(),disableFileUpload:ce,insertEmoji:e=>{if(!t.isOnline&&U.disabled)return;const n=e.target.getAttribute("jv-emoji");if(null===n)return;const a=":"+n+":";if(U.text&&0===U.text.length)ae(null,a),$.run(a);else{const e=U.text+a;W((t=>({...t,text:e}))),$.run(e),A.clientDispatchers.setInputText(e)}I.Monitoring.telemetry(M.TelemetryName.EMOJI_INSERT_SMILE),setTimeout((()=>{(0,R.afterEmojiInserted)(Q),A.appDispatchers.setAppIsFocused(!0)}),150)},isPopupMenuVisible:d.default.desktop()&&!(0,v.isChatPage)()&&(0,R.isNeedDownloadChat)(m.reduxStore.getState().messages),isOnline:t.isOnline,disableEmoji:ee||a}),(0,R.isSocialButtonEnabled)()?i.default.createElement(S.default,null):null)};k.propTypes={appStore:r.default.shape({isOnline:r.default.bool.isRequired,route:r.default.string.isRequired,isFocused:r.default.bool.isRequired}).isRequired,contactsAsk:r.default.number,onInputChangeHeight:r.default.func,isInputDisabled:r.default.bool,disableEmoji:r.default.bool,isIntroduced:r.default.bool,disableFiletransfer:r.default.bool,inputText:r.default.string,agentTyping:r.default.bool,isBotBlocked:r.default.bool,lastMessage:r.default.string};var x=(0,o.connect)((e=>{const t=e.chats[e.chats.length?e.chats.length-1:0];return{appStore:e.app,contactsAsk:e.settings.user.contactsAsk,disableEmoji:e.settings.features.disableEmoji,isInputDisabled:e.app.isInputDisabled,isIntroduced:e.client.isIntroduced,disableFiletransfer:!!e.settings.features.disableFiletransfer,inputText:e.client.inputText,agentTyping:!!t&&t.agentTyping,lastMessage:e.client.isIntroduced||e.app.isOnline?null:e.client.lastMessage}}),{})(k);t.default=x},3807:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(54162)),s=a(n(94184)),l=a(n(45697)),u=n(90361),c=n(57930),d=a(n(75686)),f=n(47245);const p=e=>{let{text:t,disabled:n,onInput:a,onFocus:l,onBlur:p,onPaste:h,onKeyPress:g,disableFileUpload:m}=e;const _=(0,s.default)({[r.default.tdTextarea]:!0,[r.default.__filedisabled]:m});return o.default.createElement("jdiv",{className:_},o.default.createElement("textarea",(0,i.default)({maxLength:"1000",className:(0,s.default)({[r.default.inputField]:!0}),key:"inputField",onInput:a,onKeyPress:g,onKeyUp:e=>{e.stopPropagation()},onKeyDown:e=>{e.stopPropagation()},onFocus:l,onBlur:p,onPaste:h,value:n?"":t,disabled:n,autoComplete:"false","data-gramm":"false","data-gramm_editor":"false","data-enable-grammarly":"false",ref:e=>{e&&d.default.set(f.Component.INPUT,e)}},(0,u.withLocator)(c.Locator.INPUT))))};p.propTypes={text:l.default.string,disabled:l.default.bool,onInput:l.default.func.isRequired,onFocus:l.default.func.isRequired,onBlur:l.default.func,onPaste:l.default.func.isRequired,onKeyPress:l.default.func.isRequired,disableFileUpload:l.default.bool};var h=o.default.memo(p);t.default=h},905:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=n(88928),r=a(n(45697)),s=a(n(32891));a(n(4855)).default.name("InputWrap");const l=e=>{let{onInputChangeHeight:t}=e;return i.default.createElement(s.default,{onInputChangeHeight:t})};l.propTypes={onInputChangeHeight:r.default.func};var u=(0,o.connect)((e=>({})),{})(l);t.default=u},89177:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.afterEmojiInserted=function(e){e&&e.check();const t=h.default.get(g.Component.INPUT);t&&(t.focus(),R(t,t.value))},t.checkOfflineForm=function(){c.messageActions.handleContactsForm()},t.getColorTheme=function(e){let t=i.default.bubble_color||"green";e&&(t="disabled");switch(t){case"disabled":return{color:"#c9cdd3",hoverColor:"#c9cdd3"};case"blue":return{color:A.default.BLUE_80,hoverColor:A.default.BLUE_90};case"grey":return{color:A.default.STEEL_80,hoverColor:A.default.STEEL_90};default:return{color:A.default.GREEN_80,hoverColor:A.default.GREEN_90}}},t.getDisabled=function(){if(i.default.maintenance)return!0;return(0,s.isOfflineCanSend)()},t.getIsMobile=void 0,t.getPlaceholder=function(e,t){let n="";if(e){if(n=(0,o.default)("offlineBlockedInputPlaceholder"),i.default.maintenance&&(n=(0,o.default)("maintenanceBlockedPlaceholder")),b.default.getInstance().managers.feature.isEnabled(_.Feature.RECAPTCHA)){const e=b.default.getInstance().managers.recaptcha;e&&e.isBlocked()&&(n=(0,o.default)("maintenanceBlockedPlaceholder"))}}else n=r.default.mobileOrTablet()?(0,o.default)("lblMessageHere"):(0,o.default)("lblEnterMessageHere");t&&(n=(0,o.default)("botListPickerBlock"));return n},t.getText=M,t.isActiveElementFocused=void 0,t.isFileUploadDisabled=function(){if(i.default.bots&&!i.default.bot_media&&!u.default.agent_id)return!0;return!N()},t.isFileUploadEnabled=N,t.isNeedDownloadChat=void 0,t.isSocialButtonEnabled=function(){return i.default.joint&&(i.default.joint.vk||i.default.joint.fb)&&!r.default.mobileOrTablet()&&!(0,C.isChatContactForm)()&&!(0,m.isChatPage)()},t.onFocus=function(){I.log("onFocus");const e=h.default.getComponent(g.Component.SCROLL_CONTAINER);e&&e.setIgnore(!1)},t.onInputSubmit=function(e){c.messageActions.sendClientMessage(e),l.default.typingInsight(""),l.default.clientTyping(!1),d.default.play("outgoing_message")},t.onPaste=function(e){if(N()&&!w.RouterUtils.canShowIntroduceForm()){const t=e.clipboardData;if(t&&t.files&&t.files.length){e.preventDefault();const n=t.files[0];(0,E.startUploadMedia)(n)}}},t.replaceEmojiValue=function(e){return e.replace((0,S.getEmojiRegExp)()," $& ")},t.setCursorEnd=R,t.setPaddingForFocus=void 0,t.setPlaceholder=function(e){if(e=e.replace(/&quot;/g,'"').replace(/&#039;/g,"'"),f.Router.getCurrentRoute()!==p.Route.LABEL){const t=h.default.get(g.Component.INPUT);t&&t.setAttribute("placeholder",e);const n=h.default.get(g.Component.AUTORESIZER);n&&n.check()}},t.startTyping=function(e){if(e){const t=M(e);I.log("startTyping",t),l.default.clientTyping(t),l.default.typingInsight(t)}},t.stopTyping=function(){I.log("stopTyping"),l.default.clientTyping(!1)};var i=a(n(1039)),o=a(n(84726)),r=a(n(19955)),s=n(81722),l=a(n(91275)),u=a(n(26754)),c=n(65465),d=a(n(71277)),f=n(21476),p=n(47060),h=a(n(75686)),g=n(47245),m=n(69882),_=n(3571),v=n(43025),b=a(n(35802)),y=n(44145),E=n(66934),T=n(81152),C=n(68403),S=n(66488),O=a(n(4855)),A=a(n(2559)),w=n(80161);const I=O.default.name("InputHelpers");function M(e){return i.default.disable_emoji?e:(0,S.replaceEmoji)(e)}function R(e,t){e.setSelectionRange&&e.setSelectionRange(t.length+2,t.length+2)}function N(){const e=!i.default.disable_filetransfer&&0!==i.default.options;return(0,y.getApp)().isOnline?(i.default.bot_media||!u.default.bot_id)&&e:e&&(0,y.getClient)().isIntroduced}t.getIsMobile=()=>r.default.mobileOrTablet()||(0,m.isChatPage)();t.isActiveElementFocused=()=>{const e=(0,m.getPageWindow)().document.activeElement;return!!e&&(0,v.isInput)(e)};t.isNeedDownloadChat=e=>!!(e||[]).find((e=>e.from==T.MessageInitiator.AGENT));t.setPaddingForFocus=e=>{const t=h.default.getComponent(g.Component.MESSAGES_CONTAINER);t&&t.style&&(t.style.paddingBottom=e?"44px":"0px")}},81311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useEnchanced=function(){const e=(0,a.useSelector)(i.selectBotBlockedMessages),t=(0,a.useSelector)(o.selectLastChatOpened);return{isBotBlocked:!!t&&e}};var a=n(88928),i=n(66311),o=n(35233)},64713:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(40704)),s=a(n(91059)),l=a(n(45697)),u=a(n(59963)),c=a(n(67061)),d=a(n(94184)),f=n(90361),p=n(57930);const h=e=>{let{opened:t=!1,disabled:n=!1,width:a=227,height:l=182,offsetRight:h=15,onClick:g,onItemClick:m}=e;return o.default.createElement("jdiv",(0,i.default)({className:s.default.emojiWrap,onClick:n?null:g},(0,f.withLocator)(p.Locator.INPUT_EMOJI_PANEL)),o.default.createElement(r.default,{iconName:"icon-emoji",color:n?"#c9cdd3":"#a3aab5",className:(0,d.default)({[s.default.iconEmoji]:!0,[s.default.__disabled]:n})}),o.default.createElement(c.default,{show:t,onClick:m,width:a,height:l,offsetRight:h},o.default.createElement(u.default,null)))};h.propTypes={opened:l.default.bool.isRequired,onClick:l.default.func.isRequired,onItemClick:l.default.func.isRequired,width:l.default.number,height:l.default.number,offsetRight:l.default.number,disabled:l.default.bool};var g=o.default.memo(h);t.default=g},94722:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(45697)),r=a(n(94184)),s=a(n(19955)),l=n(21951),u=n(69882),c=a(n(23535)),d=n(54415),f=n(83170),p=a(n(64713)),h=a(n(64508)),g=a(n(22866)),m=a(n(31308));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}const v=a(n(4855)).default.name("InputIconsPure"),b=e=>{let{disabled:t=!1,disableFileUpload:n=!1,insertEmoji:a,isPopupMenuVisible:o,isOnline:_,disableEmoji:b}=e;const[y,E]=(0,i.useState)({emojiListOpened:!1,menuOpened:!1,link:{fileName:"",url:""}}),T=()=>{v.log("closeMenu"),(0,l.removeEvent)((0,u.getPageWindow)(),"click",T),E((e=>({...e,menuOpened:!1})))},C=e=>{if(v.log("menuClick"),e.stopPropagation(),t)return;y.menuOpened||(0,l.addListener)((0,u.getPageWindow)(),"click",T);const n=g.default.getInstance().messagesFormatter.getMessagesAsHTML();E((e=>({...e,menuOpened:!e.menuOpened,emojiListOpened:!1,link:n}))),d.Monitoring.telemetryOnce(f.TelemetryName.MORE_CLICK),n.url||d.Monitoring.telemetryOnce(f.TelemetryName.ERROR_DOWNLOADING_CHAT_LOG,{param1:e.message})},S=()=>{v.log("closeEmojiList"),(0,l.removeEvent)((0,u.getPageWindow)(),"click",S),E((e=>({...e,emojiListOpened:!1})))},O=e=>{v.log("toggleEmojiList"),e.stopPropagation(),!_&&t||(y.emojiListOpened||(0,l.addListener)((0,u.getPageWindow)(),"click",S),E((e=>({...e,emojiListOpened:!e.emojiListOpened,menuOpened:!1}))),y.emojiListOpened&&d.Monitoring.telemetryOnce(f.TelemetryName.EMOJI_OPEN_SMILE_LIST))},A=()=>{const e=!n;return o&&!e?15:o&&e?45:o||e?15:0},w=(0,r.default)({[m.default.iconPanel]:!0,[m.default.__mobile]:s.default.mobileOrTablet()||(0,u.isChatPage)()});return i.default.createElement("jdiv",{className:w},(()=>{if(o)return i.default.createElement(h.default,{show:y.menuOpened,disabled:t,link:y.link,onClick:C,onItemClick:()=>{d.Monitoring.telemetryOnce(f.TelemetryName.DOWNLOAD_CHAT_LOG_CLICK)}})})(),(()=>{if(!n)return i.default.createElement(c.default,{disabled:t})})(),(()=>{if(!b)return i.default.createElement(p.default,{disabled:t,opened:y.emojiListOpened,onClick:O,onItemClick:a,offsetRight:A()})})())},y=b.propTypes={disabled:o.default.bool.isRequired,disableFileUpload:o.default.bool.isRequired,insertEmoji:o.default.func.isRequired,isOnline:o.default.bool,isPopupMenuVisible:o.default.bool,disableEmoji:o.default.bool};t.componentProps=y;var E=i.default.memo(b);t.default=E},67061:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(30240)),r=a(n(94184)),s=a(n(45697));const l=e=>{let{show:t=!0,width:n=100,height:a=100,offsetRight:s=0,children:l,onClick:u}=e;return i.default.createElement("jdiv",{className:(0,r.default)({[o.default.popup]:!0,[o.default.show]:!!t}),style:{width:`${n}px`,height:`${a}px`,right:`${s}px`,top:`-${38+a}px`},onClick:u},i.default.createElement("jdiv",{className:o.default.childrenWrap},l),i.default.createElement("jdiv",{className:o.default.pip,style:{left:`${2+s}px`}}))};l.propTypes={show:s.default.bool.isRequired,width:s.default.number.isRequired,onClick:s.default.func.isRequired,children:s.default.oneOfType([s.default.arrayOf(s.default.node),s.default.node]).isRequired,height:s.default.number,offsetRight:s.default.number};var u=i.default.memo(l);t.default=u},64508:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(2037)),s=a(n(40704)),l=a(n(45697)),u=a(n(94184)),c=a(n(84726)),d=n(90361),f=n(57930);const p=e=>{let{disabled:t,onClick:n,onItemClick:a,link:l,show:p}=e;return o.default.createElement("jdiv",{className:r.default.menuWrap},o.default.createElement("jdiv",(0,i.default)({onClick:n},(0,d.withLocator)(f.Locator.INPUT_MORE_BTN)),o.default.createElement(s.default,{iconName:"icon-more",color:t?"#c9cdd3":"#a3aab5",hoverColor:t?null:"#a3aab5",disabled:t,className:(0,u.default)({[r.default.iconMenu]:!0,[r.default.__disabled]:t})})),o.default.createElement("jdiv",{className:(0,u.default)({[r.default.menu]:!0,[r.default.show]:!!p})},o.default.createElement("jdiv",{className:r.default.menuItem,onClick:a},o.default.createElement("a",{download:l.fileName,href:l.url,target:"_blank",rel:"nofollow noopener noreferrer"},(0,c.default)("downloadChatText"))),o.default.createElement("jdiv",{className:r.default.pip})))};p.propTypes={show:l.default.bool.isRequired,onClick:l.default.func.isRequired,onItemClick:l.default.func.isRequired,link:l.default.shape({fileName:l.default.string.isRequired,url:l.default.string.isRequired}).isRequired,disabled:l.default.bool};var h=o.default.memo(p);t.default=h},93589:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(45697)),r=a(n(94184)),s=n(57985),l=n(9335),u=a(n(88155)),c=a(n(22760)),d=a(n(40704));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p=e=>{let{selectedDepartmentId:t,departments:n,isMobile:a,isIos:o,bgColor:f,onDepartmentSelect:p}=e;const h=(0,i.useRef)(null),[g,m]=(0,i.useState)((()=>n.find((e=>e.id>>0==t>>0))??n[0])),[_,v]=(0,l.useToggle)(!1);(0,s.useClickOutside)(h,(()=>{_&&v(!1)}));const b=(0,r.default)({[c.default.selectPopup]:!0,[c.default.__ios]:o,[c.default.__scroll]:n.length>3}),y=(0,r.default)({[c.default.currentItem]:!0,[c.default["_"+f]]:!0,[c.default._open]:_,[c.default.__mobile]:a}),E=()=>n.map((e=>i.default.createElement("jdiv",{key:e.id,className:e.id===g.id?c.default.itemSelected:c.default.item,onClick:()=>{return t=e.id,n=e.name,m({id:t,name:n}),v(!1),void p(t);var t,n}},e.name)));return i.default.createElement("jdiv",{className:c.default.fieldWrap},i.default.createElement("jdiv",{className:c.default.select},i.default.createElement("jdiv",{className:y,onClick:e=>{e.preventDefault(),v()}},g.name,i.default.createElement(d.default,{iconName:"icon-v",color:"#8B9096",hoverColor:"#222D38",className:c.default.iconSelect})),_&&i.default.createElement("jdiv",{ref:e=>{e&&(h.current=e,e.style.setProperty("z-index",1,"important"))},className:b},n.length>3?i.default.createElement(u.default,{railClass:c.default.rail,hideTracksWhenNotNeeded:!1},E()):E())))};p.propTypes={selectedDepartmentId:o.default.number,departments:o.default.arrayOf(o.default.shape({id:o.default.string,name:o.default.string})).isRequired,isMobile:o.default.bool.isRequired,isIos:o.default.bool.isRequired,bgColor:o.default.string.isRequired,onDepartmentSelect:o.default.func.isRequired};var h=p;t.default=h},33744:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=I(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(94184)),r=a(n(50890)),s=a(n(96340)),l=a(n(91325)),u=a(n(22048)),c=a(n(93589)),d=a(n(40704)),f=a(n(19367)),p=n(26932),h=n(47245),g=n(9393),m=n(68403),_=n(69882),v=n(21476),b=n(47060),y=n(15787),E=n(49862),T=n(85620),C=a(n(84726)),S=a(n(75686)),O=a(n(39604)),A=n(33813),w=n(23336);function I(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(I=function(e){return e?n:t})(e)}var M=i.default.memo((()=>{const[e,t]=(0,i.useState)(null),{isAnon:n,eula:a,eulaEnabled:I,departments:M,selectedDepartmentId:R,isMobile:N,isIos:P,bgColor:D,client:L,description:k,route:x,isOnline:B,isFocused:j}=(0,T.useEnhanced)();return(0,E.useDidUpdate)((function(){if(e&&(!I||a)){(0,w.reportCampaignContactsStat)(),p.clientDispatchers.setIsIntroduced(!0),M.length&&!R&&p.clientDispatchers.setDepartmentId(+M[0].id);const t={description:k};(0,g.each)(e,(e=>t[e.name]=e.value));const n=e.message&&e.message.value?e.message.value:null;(0,y.sendIntroduceAndMessage)(t,n),v.Router.next(b.RouterEvent.Submit),setTimeout((()=>{(0,A.fixSafariKeyframes)(!0)}),50)}}),[a,I,e]),x!==b.Route.INTRODUCE?null:i.default.createElement("jdiv",{className:(0,o.default)({[O.default.main]:!0,[O.default.__mobile]:N||(0,_.isChatPage)()}),ref:e=>{S.default.set(h.Component.INTRODUCE,e)}},(0,m.showAd)()?i.default.createElement(f.default,{bottom:!0}):null,i.default.createElement(r.default,{client:L,isOnline:B,isFocused:j,errorCallback:()=>{},successCallback:e=>{t(e),I&&!a&&v.Router.next(b.RouterEvent.Submit)}},n&&!N&&i.default.createElement("jdiv",{className:O.default.avatarBox},i.default.createElement(d.default,{iconName:"icon-anonymous",className:O.default.iconAnonymous})),i.default.createElement(s.default,{name:"client_name",placeholder:(0,C.default)("lblIntroduceName")}),i.default.createElement(s.default,{name:"phone",placeholder:(0,C.default)("lblYourPhone")}),i.default.createElement(s.default,{name:"email",placeholder:(0,C.default)("lblYourEmail")}),M.length?i.default.createElement(c.default,{selectedDepartmentId:R,departments:M,isMobile:N,isIos:P,bgColor:D,onDepartmentSelect:e=>p.clientDispatchers.setDepartmentId(+e)}):null,i.default.createElement(l.default,{name:"message"}),i.default.createElement(u.default,{type:"submit"})))}));t.default=M},85620:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(){const e=(0,i.useSelector)(o.selectContactsSettings),t=(0,i.useSelector)(o.selectEulaEnabled),n=(0,i.useSelector)(o.selectDepartments),a=(0,i.useSelector)(r.selectDepartmentId),c=(0,i.useSelector)(o.selectBubbleColor),d=(0,i.useSelector)(r.selectClient),f=(0,i.useSelector)(r.selectEulaAccepted),p=(0,i.useSelector)(r.selectDescription),h=(0,i.useSelector)(u.selectRoute),g=(0,i.useSelector)(u.selectIsOnline),m=(0,i.useSelector)(u.selectIsFocused),_=l.default.mobileOrTablet(),v=l.default.safari(),b=l.default.ios();return{isAnon:function(){let t=0;return(0,s.each)(e,(e=>{e.show&&(t+=1)})),t<2}(),eula:f,eulaEnabled:t,departments:n,selectedDepartmentId:a,isMobile:_,isSafari:v,isIos:b,bgColor:c,client:d,description:p,route:h,isOnline:g,isFocused:m}};var i=n(88928),o=n(87692),r=n(45959),s=n(9393),l=a(n(19955)),u=n(35233)},54413:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(45697)),s=a(n(94184)),l=n(69665),u=n(57930),c=n(47713),d=n(49862),f=n(2535),p=n(81366),h=n(90361),g=a(n(32083)),m=a(n(3501)),_=a(n(43569)),v=a(n(46133)),b=a(n(33126)),y=a(n(43711)),E=a(n(18292)),T=a(n(40704)),C=a(n(1497));const S=e=>{let{color:t,fields:n,currentDepartmentId:a,departments:r,isDesktop:S,isIos:O,size:A,initialName:w,initialPhone:I,initialEmail:M,initialMessage:R,submitButtonText:N,onFailedSubmit:P,onSuccessSubmit:D}=e;const L=(0,p.useIsOnline)(),{errors:k,values:x,setFieldValue:B,getInputProps:j,formRef:F,submitCount:H,isSubmitted:U,isValid:W,onSubmit:G}=(0,f.useForm)({initialValues:{name:w,email:M,phone:I,departmentId:a||(r.length?r[0].value:null),message:R},validate:e=>(0,l.validateFn)(n,e),focusOnFirstError:!0});(0,d.useDidUpdate)((()=>{W||P(k)}),[H]);const z=e=>B("departmentId",e.value),V=e=>{let{isDirty:t,isValid:n}=e;return{show:U&&!t,name:n?"iconValid":"iconWarning"}},q=e=>{let{isDirty:n}=e;return n||!U?null:t},$=S&&Object.keys(n).length<2,K=j("message"),Y=V(K.state),X=G(D),Z=e=>"Enter"===e.code&&X(e);return o.default.createElement(o.default.Fragment,null,$&&o.default.createElement("jdiv",{className:E.default.helloBox},o.default.createElement(m.default,{icon:"1f44b",className:"emojiMessages",alone:!0})),o.default.createElement("form",(0,i.default)({ref:F,className:E.default.form},(0,h.withLocator)(u.Locator.CONTACTS_FORM)),Object.entries(n).map((e=>{let[t,n]=e;const{attrs:a,state:r}=j(t),{show:s,name:c}=V(r),d=u.Locator[`CONTACTS_FORM_${t.toUpperCase()}`];return o.default.createElement(_.default,(0,i.default)({key:t,color:q(r),size:A,required:n.required,variant:"inset",isIos:O,rightSectionWidth:32,rightSection:s&&o.default.createElement(T.default,{iconName:c,className:E.default.icon}),onKeyDown:Z},a,l.getFieldProps[t],(0,h.withLocator)(d)))})),!!r.length&&S&&o.default.createElement(b.default,(0,i.default)({color:t,data:r,gutter:2,initialValue:x.departmentId,maxDropdownHeight:94,size:A,variant:"inset",rightSectionWidth:32,itemComponent:e=>{let{selected:t,hovered:n,...a}=e;return o.default.createElement(y.default,(0,i.default)({},a,{className:(0,s.default)({[E.default.selectItem]:!0,[E.default.__selected]:t,[E.default.__hovered]:n})}))}},l.getFieldProps.department,{onChange:z})),!!r.length&&!S&&o.default.createElement(v.default,(0,i.default)({color:t,data:r,value:x.departmentId,size:A,variant:"inset",rightSectionWidth:32},l.getFieldProps.department,{onChange:e=>z({value:e})})),o.default.createElement(C.default,(0,i.default)({rows:2,color:q(K.state),size:A,required:!0,variant:"inset",rightSectionWidth:32,rightSection:Y.show&&o.default.createElement(T.default,{iconName:Y.name,className:E.default.icon}),classNames:{textarea:null,rightSection:E.default.overriddenTextareaRightSection}},l.getFieldProps.message,K.attrs,(0,h.withLocator)(u.Locator.CONTACTS_FORM_INPUT))),o.default.createElement(g.default,(0,i.default)({component:"jdiv",type:"submit",disabled:!L,color:t,size:A,fullWidth:!0},(0,c.onClickHandler)(X)),N)))};S.defaultProps={initialName:"",initialPhone:"",initialEmail:"",initialMessage:"",size:"sm",departments:[]},S.propTypes={color:r.default.string.isRequired,fields:r.default.shape({name:r.default.shape({show:r.default.bool,required:r.default.bool}),phone:r.default.shape({show:r.default.bool,required:r.default.bool}),email:r.default.shape({show:r.default.bool,required:r.default.bool})}).isRequired,currentDepartmentId:r.default.number,departments:r.default.arrayOf(r.default.shape({value:r.default.oneOfType([r.default.string,r.default.number]),label:r.default.string})),isDesktop:r.default.bool.isRequired,isIos:r.default.bool.isRequired,submitButtonText:r.default.string.isRequired,initialName:r.default.string,initialEmail:r.default.string,initialPhone:r.default.string,initialMessage:r.default.string,size:r.default.oneOf(["xs","sm","md","lg","xl"]),onFailedSubmit:r.default.func.isRequired,onSuccessSubmit:r.default.func.isRequired};var O=S;t.default=O},82521:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=k(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=a(n(94184)),s=n(45959),l=n(87692),u=n(26932),c=n(47245),d=n(21721),f=n(9393),p=n(68403),h=n(69882),g=n(21733),m=n(54415),_=n(34425),v=n(21476),b=n(47060),y=n(35233),E=n(15787),T=n(83170),C=n(49862),S=n(63664),O=a(n(19367)),A=a(n(19955)),w=a(n(17101)),I=a(n(71323)),M=a(n(54413)),R=a(n(84726)),N=a(n(75686)),P=a(n(18292)),D=n(33813),L=n(23336);function k(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(k=function(e){return e?n:t})(e)}const x=()=>{(0,S.useErrorCatcher)(x.displayName);const[e,t]=(0,i.useState)(null),[n,a]=(0,i.useState)(!1),k=(0,o.useSelector)(l.selectBubbleColor),B=(0,o.useSelector)(l.selectContactsSettingsToShow),j=(0,o.useSelector)(s.selectDepartmentId),F=(0,o.useSelector)(l.selectDepartments),H=(0,o.useSelector)(s.selectClientEmail),U=(0,o.useSelector)(s.selectDescription),W=(0,o.useSelector)(s.selectInputText),G=(0,o.useSelector)(s.selectLastMessage),z=(0,o.useSelector)(s.selectEulaAccepted),V=(0,o.useSelector)(l.selectEulaEnabled),q=(0,o.useSelector)(s.selectClientName),$=(0,o.useSelector)(s.selectClientPhone),K=(0,o.useSelector)(y.selectIsOnline),Y=(0,o.useSelector)(y.selectRoute),X=(0,h.isChatPage)(),Z=A.default.desktop(),J=A.default.ios()&&A.default.safari(),Q=(0,p.showAd)(),ee=V&&!z,te=!V||z,ne=e=>{const t={...e,description:U};return(0,f.each)(t,(e=>(0,g.isString)(e)?e.trim():"")),t},ae=e=>{const t=+e.departmentId;t&&u.clientDispatchers.setDepartmentId(t),(0,L.reportCampaignContactsStat)(),u.clientDispatchers.setIsIntroduced(!0),(0,E.sendIntroduceAndMessage)(e,e.message),v.Router.next(b.RouterEvent.Submit),setTimeout((()=>{(0,D.fixSafariKeyframes)(!0)}),50)};(0,C.useDidUpdate)((function(){e&&te&&ae(e)}),[e,te]);const ie=F.map((e=>{let{id:t,name:n}=e;return{value:t,label:n}}));return Y!==b.Route.INTRODUCE?null:i.default.createElement("jdiv",{className:(0,r.default)({[P.default.wrapper]:!0,[P.default.__mobile]:!Z||X})},i.default.createElement(d.DisconnectAlert,{route:b.Route.INTRODUCE}),i.default.createElement("jdiv",{className:(0,r.default)({[P.default.container]:!0,[P.default.__mobile]:!Z||X}),ref:e=>{N.default.set(c.Component.INTRODUCE,e)}},Q&&i.default.createElement(O.default,{type:"chat",bottom:!0}),i.default.createElement(M.default,{color:k,fields:B,currentDepartmentId:j,departments:ie,isDesktop:Z,isIos:J,size:"md",initialName:q,initialPhone:$,initialEmail:H,initialMessage:W||G,submitButtonText:ee?(0,R.default)("continue"):(0,R.default)("lblSendBefore"),onFailedSubmit:e=>{const t=K?T.TelemetryName.CHAT_INTRODUCE:T.TelemetryName.OFFLINE_SENT_FAIL,n=(0,_.redefineProps)(ne(e),{name:"client_name"},!0);m.Monitoring.telemetry(t,{param1:"formSubmitFail",param2:(0,p.getContactSettingsInfo)(),param3:JSON.stringify(n)})},onSuccessSubmit:e=>{const n=(0,_.redefineProps)(ne(e),{name:"client_name"},!0);if(t(n),m.Monitoring.telemetry(T.TelemetryName.CHAT_INTRODUCE,{param1:"formSubmit",param2:(0,p.getContactSettingsInfo)()}),ee)return a(!0);ae(n)}})),i.default.createElement(w.default,{isOpened:n,onAgree:()=>{a(!1),I.default.acceptEula(),v.Router.next(b.RouterEvent.Submit)},onDisagree:()=>{a(!1)}}))};x.displayName="NewIntroduce";var B=x;t.default=B},69665:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.validateFn=t.getFieldProps=void 0;var i=a(n(84726)),o=a(n(98960));const r={name:{name:"name",type:"text",maxLength:null,autoComplete:"name",label:(0,i.default)("lblIntroduceName")},phone:{name:"phone",type:"tel",maxLength:null,autoComplete:"tel",label:(0,i.default)("lblYourPhone")},email:{name:"email",type:"email",maxLength:255,autoComplete:"email",label:(0,i.default)("lblYourEmail")},department:{name:"department",type:"text",maxLength:null,autoComplete:null,label:(0,i.default)("lblSelectDep")},message:{name:"message",type:null,maxLength:1e3,autoComplete:"off",label:(0,i.default)("lblYourMessage")}};t.getFieldProps=r;t.validateFn=(e,t)=>{const n={};for(const a in e){const i=t[a],r=o.default[a];n[a]=(e[a].required||i.trim().length)&&!r(i)}return{...n,message:!o.default.message(t.message)}}},17582:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=a(n(45697)),s=a(n(24247)),l=a(n(69733)),u=a(n(3579)),c=n(20361),d=n(47060),f=n(47245),p=a(n(75686)),h=n(52028),g=n(69882),m=n(19210),_=n(21863),v=n(83170);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const y=e=>{let{userSettings:t,features:n,appStore:a,billRu:o,labelBubble:r}=e;const[b,y]=(0,i.useState)(!0);return r||[d.Route.HIDDEN,d.Route.CHAT_MIN].includes(a.route)||(0,g.isChatPage)()?null:i.default.createElement(i.default.Fragment,null,n.apiInvitation?i.default.createElement(l.default,{onClose:()=>{y(!0)},onShow:()=>{y(!1)}}):null,(0,g.isCustomLabel)()?null:i.default.createElement(u.default,{name:f.Component.LABEL,startCallbacks:{[c.ScriptName.CLOSE_WIDGET]:()=>{y(!0)},[c.ScriptName.OPEN_WIDGET]:()=>{y(!0)},[c.ScriptName.MIN_WIDGET]:()=>{y(!1)}},endCallbacks:{[c.ScriptName.OPEN_WIDGET]:()=>{y(!1)}},style:{display:"block",zIndex:2147483646,position:"fixed"},duration:"left"===t.widgetOrientation?"600ms":"300ms",animationPostfix:t.widgetOrientation},i.default.createElement(s.default,{ad:(0,_.getAdProp)(),background:(0,_.getBackgroundProp)(t),designer:h.isDesignerEditor,onButtonsClick:()=>{(0,m.showChat)(a.isOnline,d.RouterEvent.Navigate)},online:a.isOnline,onLogoClick:()=>{(0,m.showChat)(a.isOnline,d.RouterEvent.Navigate),(0,_.reportTelemetry)(v.TelemetryName.LOGO_CLICK,!1,{param1:d.Route.LABEL})},orientation:t.widgetOrientation,padding:t.widgetPadding,fontSize:t.fontSize,fontFamily:t.fontFamily,fontType:t.fontType,textStyle:(0,_.getTextStyle)(t),color:t.widgetColor,color2:t.widgetColor2,ref:e=>{e&&p.default.set(f.Component.LABEL,e)},showText:!0,text:(0,_.getTextProp)(a.isOnline,t),billRu:o,show:b,onLabelHover:m.onLabelHover,top100:n.enableTop100})))};y.propTypes={appStore:r.default.shape({isOnline:r.default.bool.isRequired,route:r.default.string.isRequired}).isRequired,features:r.default.shape({apiInvitation:r.default.bool,enableTop100:r.default.any}).isRequired,userSettings:r.default.shape({fontSize:r.default.string,fontFamily:r.default.string,fontType:r.default.string,widgetOrientation:r.default.string.isRequired,widgetColor:r.default.string.isRequired,widgetColor2:r.default.string,widgetPadding:r.default.number.isRequired}).isRequired,billRu:r.default.bool.isRequired,labelBubble:r.default.number};var E=(0,o.connect)((e=>({appStore:e.app,features:e.settings.features,labelBubble:e.settings.user.labelBubble,userSettings:e.settings.user,billRu:e.settings.system.billRu})))(y);t.default=E},24247:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(45697)),s=a(n(94184)),l=n(2982),u=a(n(57147)),c=a(n(22009)),d=a(n(53517)),f=a(n(40704)),p=a(n(48966)),h=n(69882),g=a(n(2559)),m=n(57930),_=n(90361),v=a(n(43147)),b=n(21863),y=a(n(80867));function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const T=e=>{let{ad:t,background:n,designer:a,onButtonsClick:r,online:E,onLogoClick:T,orientation:C,padding:S,fontSize:O,fontFamily:A,fontType:w,textStyle:I,color:M,color2:R,text:N,billRu:P,show:D,onLabelHover:L,top100:k}=e;const[x,B]=(0,o.useState)(!1),j=(0,o.useRef)(null),F=(0,o.useRef)(null),H=(0,o.useRef)(null),[U,W]=(0,o.useState)(!1),[G,z]=(0,o.useState)(null);return(0,o.useLayoutEffect)((function(){const e=j.current;if(e){const t=(0,b.getPositionStyle)(j,C,S),a={...t,background:n};if(Object.assign(e.style,a),!U)return W(!0);(0,l.saveLabelPosition)({...t,offsetWidth:e.offsetWidth}),z(a)}}),[n,U,C,S,D,N,O,A,w]),D?o.default.createElement("jdiv",{ref:j,className:(0,s.default)({[y.default.label]:!0,[y.default["_"+C]]:!0,[y.default._designer]:a||!1,[y.default.__show]:U,notranslate:!0}),style:G,translate:!1,id:"jvlabelWrap"},E?null:o.default.createElement(f.default,{iconName:"envelope-offline",color:I.color,className:y.default.labelStatus}),o.default.createElement("jdiv",{ref:H,className:y.default.hoverl,onClick:r,onMouseOver:L},o.default.createElement("jdiv",{className:(0,s.default)({[y.default.omnichannel]:!0,[y.default[C]]:!0})},o.default.createElement(d.default,{show:!0,referenceElement:H}))),function(){const e=(0,h.isTextEmojiDisabled)()?{dangerouslySetInnerHTML:{__html:N}}:null;return o.default.createElement("jdiv",(0,i.default)({className:(0,s.default)({[y.default.text]:!0,[y.default.contentTransitionWrap]:!0,[y.default._offline]:!E,[y.default._noAd]:!t}),style:I},(0,_.withLocator)(m.Locator.LABEL_TEXT+(E?"ONLINE":"OFFLINE")),e),N)}(),t?o.default.createElement("jdiv",{className:y.default.copy,onMouseOver:()=>{B(!0)},onMouseOut:()=>{B(!1)}},o.default.createElement(c.default,{leafColor:E?g.default.GREEN_80:"#62666c",onClick:()=>{B(!1),T()},orientation:C,ru:P,textColor:I.color})):null,k?o.default.createElement(p.default,{onClick:T,isChat:!1}):null,o.default.createElement("jdiv",{className:y.default.leafCont},o.default.createElement(u.default,{backgroundColor:R||M,online:E,orientation:C})),t?o.default.createElement("jdiv",{className:y.default.copyContainer},o.default.createElement(v.default,{bg:n,logoHovered:x,refWrap:()=>j.current,ref:F})):null):null};T.propTypes={ad:r.default.bool.isRequired,background:r.default.string.isRequired,designer:r.default.bool.isRequired,onButtonsClick:r.default.func,online:r.default.bool.isRequired,onLogoClick:r.default.func,orientation:r.default.string.isRequired,padding:r.default.number.isRequired,textStyle:r.default.any,fontSize:r.default.string,fontFamily:r.default.string,fontType:r.default.string,color:r.default.string,color2:r.default.string,text:r.default.string,billRu:r.default.bool,show:r.default.bool,onLabelHover:r.default.func,top100:r.default.bool};var C=T;t.default=C},19210:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.showChat=t.onLabelHover=t.hideInvitation=void 0;var i=n(26932),o=a(n(138)),r=n(65465),s=n(54415),l=n(83170),u=n(21476),c=n(47060),d=n(20361),f=n(44145);t.showChat=(e,t,n)=>{if(i.appDispatchers.setAppIsFocused(!0),i.appDispatchers.setChatOpenByClient(!0),u.Router.next(t),i.transitionDispatchers.startTransition(d.ScriptName.OPEN_WIDGET),t!==c.RouterEvent.toCall){e?o.default.trackChatOpenedByClick():o.default.trackOfflineFormOpenedByClick(),r.messageActions.addMessagesOnOpen(e);const t=(0,f.getProactive)();t.text&&t.prechats&&r.messageActions.addPrechatMessage();const a=(0,f.getSystemSettings)().botmode?{param4:1}:{};n&&Object.assign(a,n),s.Monitoring.telemetry(l.TelemetryName.WIDGET_CLICK,a)}};t.hideInvitation=()=>{u.Router.next(c.RouterEvent.CloseWindow),s.Monitoring.telemetry(l.TelemetryName.INVITE_CLOSE)};t.onLabelHover=()=>{s.Monitoring.telemetryOnce(l.TelemetryName.LABEL_BUTTONS_SHOW)}},21863:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.reportTelemetry=t.isAbTop100Enabled=t.getTextStyle=t.getTextProp=t.getPositionStyle=t.getBackgroundProp=t.getAnimationPostfix=t.getAdProp=void 0;var i=n(68403),o=n(80161),r=n(54415),s=a(n(27104)),l=n(44145),u=n(69882),c=n(69845),d=n(80598);t.getAnimationPostfix=e=>{!o.RouterUtils.isChatMinAvailable()&&e.widgetOrientation};t.getAdProp=e=>!e&&(0,i.showAd)();t.getBackgroundProp=e=>s.default.getGradientBg(e.widgetColor,e.widgetColor2);t.getTextProp=(e,t)=>{const n=e?t.onlineWidgetLabel:t.offlineWidgetLabel;return(0,u.isTextEmojiDisabled)()?(0,c.createEmoji)(n):n};t.getTextStyle=e=>{const t=e.fontType.split(" "),n=(0,d.getTextColor)(e.widgetFontColor);return{fontSize:e.fontSize+"px",fontFamily:e.fontFamily+", Arial",fontWeight:"bold"===t[0]?"bold":null,fontStyle:"bold"!==t[0]?t[0]:t[1]||null,color:n}};t.reportTelemetry=(e,t,n)=>{t?r.Monitoring.telemetryOnce(e,n):r.Monitoring.telemetry(e,n)};t.getPositionStyle=(e,t,n)=>{const a=e.current&&e.current.offsetWidth,i=e.current&&e.current.offsetHeight,o="rotate(-90deg) translate(20px, 0)",r=Math.round(a/2-i/2);if(!a||!i)return{};if("bottom"===t){if(0===n)return{left:"40px",bottom:"0px"};if(50===n)return{right:`calc(50% - ${r}px)`,bottom:"0px"};if(100===n)return{right:"30px",bottom:"0px"}}if("left"===t){if(50===n)return{left:`-${r}px`,top:"50%",transform:o};if(100===n)return{left:`-${r}px`,bottom:`${r}px`,transform:o}}if("right"===t){if(50===n)return{right:`-${r}px`,top:"50%",transform:o};if(100===n)return{right:`-${r}px`,bottom:`${r}px`,transform:o}}};t.isAbTop100Enabled=()=>!!(0,l.getFeatures)().enableTop100},69733:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=a(n(45697)),s=n(65787),l=n(65787),u=n(73549),c=n(47060),d=a(n(56461));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}const p=e=>{let{appStore:t,systemSettings:n,onShow:a,onClose:o}=e;const r=(0,s.getLabelInvitationAgent)(n);return(0,i.useEffect)((()=>{t.route===c.Route.LABEL_INVITATION&&a()}),[t.route,a]),i.default.createElement(u.Path,{paths:[c.Route.LABEL_INVITATION],name:"LabelInvitation",transition:"Fade",duration:300,withMountTransition:!0,withUnmountTransition:!0,cheap:!0},i.default.createElement(d.default,{show:!0,text:(0,s.getLabelInvitationText)(),displayName:r.display_name,avatarUrl:r.avatar_url,onOpen:()=>{(0,l.openInvitation)(t.isOnline)},onClose:()=>{(0,l.closeInvitation)(),o()},onLink:l.sendUrlClickTelemetry}))};p.propTypes={appStore:r.default.shape({route:r.default.string,isOnline:r.default.bool.isRequired}).isRequired,systemSettings:r.default.any.isRequired,onClose:r.default.func,onShow:r.default.func};var h=(0,o.connect)((e=>({appStore:e.app,callback:e.callback,features:e.settings.features,social:e.social,systemSettings:e.settings.system,userSettings:e.settings.user})))(p);t.default=h},56461:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=p(n(98661)),o=a(n(45697)),r=a(n(94184)),s=n(52274),l=n(9335),u=a(n(59811)),c=a(n(29433)),d=p(n(40704));function f(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(f=function(e){return e?n:t})(e)}function p(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=f(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}const h=e=>{let{show:t,text:n="",displayName:a,avatarUrl:o,onOpen:f,onClose:p,onLink:h}=e;const g=(0,i.useRef)(null),[m,_]=(0,l.useToggle)(!1),[v,b]=(0,i.useState)(0),y=n.length<s.PROACTIVE_TEXT_LIMIT,E=v>s.PROACTIVE_MAX_HEIGHT;(0,i.useLayoutEffect)((function(){if(g.current){const e=g.current.offsetHeight;e>0&&b(e)}}),[n]);const T=(0,r.default)({[c.default.popupWrap]:!0,[c.default.__show]:t}),C=(0,r.default)({[c.default.popupBlock]:!0,[c.default.__show]:!m&&t,[c.default.__short]:y,[c.default.__longText]:E}),S=o?{backgroundImage:`url(${o})`}:null;return i.default.createElement("jdiv",{className:T},i.default.createElement("jdiv",{className:C,onClick:f},n&&i.default.createElement("jdiv",{className:c.default.avatar},i.default.createElement("jdiv",{className:c.default.avatarImg,style:S}),i.default.createElement("jdiv",{className:c.default.agentName},a)),i.default.createElement("jdiv",{className:c.default.closeBlock,onClick:e=>{e.preventDefault(),e.stopPropagation(),_(!0),setTimeout(p,300)}},i.default.createElement(d.default,{iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#7D8999",className:c.default.closePopupIcon})),i.default.createElement("jdiv",{className:c.default.text},i.default.createElement("jdiv",{className:c.default.textBox,ref:g},i.default.createElement(u.default,{text:n,onLinkClick:h}))),E&&i.default.createElement("jdiv",{className:c.default.moreIcon,style:{backgroundImage:`url(${(0,d.getSvgBgIcon)("icon-more","#a3aab5")})`}})))};h.propTypes={show:o.default.bool.isRequired,text:o.default.string,displayName:o.default.string,avatarUrl:o.default.string,onOpen:o.default.func.isRequired,onClose:o.default.func.isRequired,onLink:o.default.func.isRequired};var g=h;t.default=g},65787:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.sendUrlClickTelemetry=t.openInvitation=t.getLabelInvitationText=t.getLabelInvitationAgent=t.getLabelInvitation=t.closeInvitation=void 0;var i=n(78692),o=n(54415),r=n(21476),s=n(47060),l=n(19210),u=n(83170),c=a(n(14264)),d=n(67597);t.getLabelInvitationText=()=>{const e=c.default.getLastUnreadApiInvitation();return e&&e.get("text")||""};t.getLabelInvitation=()=>{const e=c.default.getLastUnreadApiInvitation();return e?e.toJSON():null};t.getLabelInvitationAgent=e=>{const t=c.default.getLastUnreadApiInvitation(),n=Object.assign({},t&&t.get("body"));return n.avatar_url&&(n.avatar_url=(0,d.getAvatarUrl)(e.avatarUrl,n.avatar_url)),n};t.openInvitation=e=>{(0,l.showChat)(e,s.RouterEvent.Navigate),i.ApiInvitationsManager.markInvitationsRead()};t.closeInvitation=()=>{r.Router.next(s.RouterEvent.CloseWindow),o.Monitoring.telemetry(u.TelemetryName.INVITE_CLOSE)};t.sendUrlClickTelemetry=()=>{i.ApiInvitationsManager.sendUrlClickTelemetry()}},26647:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(48646)),s=a(n(94184)),l=a(n(45697)),u=n(47713);const c=e=>{let{onClick:t,landscape:n,userZoom:a}=e;return o.default.createElement("jdiv",(0,i.default)({className:(0,s.default)({[r.default.wrap]:!0,[r.default._extraPadding]:a>1,[r.default._aboveAll]:n})},(0,u.onClickHandler)((()=>{t&&t()}),!0,!0)),n?o.default.createElement("jdiv",{className:r.default.image}):null)};c.propTypes={onClick:l.default.func.isRequired,landscape:l.default.bool.isRequired,userZoom:l.default.number.isRequired};var d=o.default.memo(c);t.default=d},57147:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(19383)),s=a(n(40704)),l=a(n(19955)),u=a(n(45697)),c=a(n(94184)),d=n(90361),f=a(n(2559));const p=e=>{let{backgroundColor:t,onClick:n,online:a,orientation:u,"data-qa-id":p}=e;return l.default.mobileOrTablet()?null:o.default.createElement("jdiv",(0,i.default)({className:(0,c.default)({[r.default.leaf]:!0,[r.default["_"+u]]:!0}),onClick:n||null},(0,d.withLocator)(p)),o.default.createElement(s.default,{color:t,color2:a?f.default.GREEN_80:"#5e5f61",iconName:a?"leafBottom":"leafBottomOffline",className:r.default.cssLeaf}))};p.propTypes={backgroundColor:u.default.string.isRequired,onClick:u.default.func,online:u.default.bool.isRequired,orientation:u.default.string.isRequired,"data-qa-id":u.default.string};var h=o.default.memo(p);t.default=h},22009:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(40704)),r=a(n(80047)),s=a(n(45697)),l=a(n(94184));const u=e=>{let{ru:t,leafColor:n,onClick:a,orientation:s,textColor:u}=e;return i.default.createElement("jdiv",{className:(0,l.default)({[r.default.logo]:!0,[r.default["_"+s]]:!0})},i.default.createElement("jdiv",{className:r.default.hoverBox,onClick:e=>{a(e,!0)}}),i.default.createElement(o.default,{iconName:t?"logo-jivosite":"logo-jivochat",color:u,color2:n,className:(0,l.default)({[r.default.logoIcon]:!0,[r.default.__ru]:t})}),i.default.createElement("jdiv",{className:r.default.fallback}))};u.propTypes={ru:s.default.bool.isRequired,leafColor:s.default.string.isRequired,onClick:s.default.func.isRequired,orientation:s.default.string.isRequired,textColor:s.default.string.isRequired};var c=i.default.memo(u);t.default=c},59811:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(66214)),s=a(n(90860)),l=n(54415),u=n(83170),c=a(n(39281));const d=e=>{let{text:t,nodes:n,onLinkClick:a}=e;const o=t?(0,r.default)(t):n||[],f=e=>i.default.createElement(s.default,{text:e}),p=e=>i.default.createElement("jdiv",{className:c.default.title},i.default.createElement(d,{nodes:e.block})),h=e=>i.default.createElement("jdiv",{className:c.default.block},i.default.createElement(d,{nodes:e.block})),g=()=>i.default.createElement("br",null),m=e=>1===e.block.length&&"image"===e.block[0].type?(e.block[0].linkUrl=e.url,E(e.block[0])):i.default.createElement("a",{target:"_blank",onClick:()=>{a?a():l.Monitoring.telemetry(u.TelemetryName.MARKDOWN_LINK_CLICK,{param1:e.url})},rel:"nofollow noopener noreferrer",href:e.url},i.default.createElement(d,{nodes:e.block,onLinkClick:a})),_=e=>i.default.createElement("jdiv",{className:c.default.strong},i.default.createElement(d,{nodes:e.block})),v=e=>i.default.createElement("jdiv",{className:c.default.em},i.default.createElement(d,{nodes:e.block})),b=e=>{const t=e.bullet||null;return i.default.createElement("jdiv",{className:c.default.list},i.default.createElement("jdiv",{className:c.default.bullet},t),i.default.createElement("jdiv",{className:c.default.listText},i.default.createElement(d,{nodes:e.block})))},y=e=>i.default.createElement("s",null,i.default.createElement(d,{nodes:e.block})),E=e=>{const t=e.linkUrl&&(e.linkUrl.includes("youtube")||e.linkUrl.includes("youtu.be")),n=!t&&e.url.includes(".gif");return i.default.createElement("a",{href:e.linkUrl||e.url,title:e.alt,target:"_blank",rel:"nofollow noopener noreferrer",className:c.default.imageLink},i.default.createElement("img",{src:e.url,title:e.alt,alt:e.alt,loading:"lazy",className:c.default.image}),n?i.default.createElement("jdiv",{className:c.default.mediaType},"GIF"):null,t?i.default.createElement("jdiv",{className:c.default.mediaType},"Youtube"):null)};return i.default.createElement(i.default.Fragment,null,o.map((e=>(e=>{switch(e.type){case"text":return f(e.text);case"title":return p(e);case"break":return g(e);case"bold":return _(e);case"italic":return v(e);case"strike":return y(e);case"list":return b(e);case"link":return m(e);case"image":return E(e);case"quote":return h(e);default:return null}})(e))))};d.propTypes={text:o.default.string,nodes:o.default.any,onLinkClick:o.default.func};var f=d;t.default=f},90860:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(3501)),s=n(66488);const l=e=>{let{text:t}=e;const n=e=>{const t=[],a=e.match(/\r|\n/);if(a){const i=e.slice(0,a.index),o=e.slice(a.index+1);t.push({text:i,type:"text"}),t.push({type:"br"}),t.push(...n(o))}else t.push({text:e,type:"text"});return t},a=e=>{if("br"===e.type)return[e];{const t=[],n=[];if((0,s.replace)(e.text,(function(e){const t=(0,s.toCodePoint)(e);n.push({icon:e,code:t})})),n.length>0){let a=e.text;n.forEach((e=>{const n=a.indexOf(e.icon);t.push({text:a.slice(0,n),type:"text"}),t.push({type:"emoji",icon:e.icon,code:e.code}),a=a.replace(e.icon,""),a=a.slice(n)})),t.push({text:a,type:"text"})}else t.push(e);return t}},o=e=>i.default.createElement(i.default.Fragment,null,e),l=()=>i.default.createElement(i.default.Fragment,null,i.default.createElement("br",null)),u=e=>{const{code:t}=e;return i.default.createElement(i.default.Fragment,null,i.default.createElement(r.default,{icon:t,className:"emojiMessages"}))},c=(e=>{const t=[];return n(e,t).forEach((e=>{t.push(...a(e))})),t})(t);return i.default.createElement(i.default.Fragment,null,c.map((e=>(e=>{switch(e.type){case"text":default:return o(e.text);case"br":return l();case"emoji":return u(e)}})(e))))};l.propTypes={text:o.default.string,children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node])};var u=l;t.default=u},39906:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(94184)),r=a(n(45697)),s=a(n(1039)),l=n(67597),u=a(n(87736)),c=a(n(51120)),d=a(n(4867)),f=n(69882),p=n(25095),h=a(n(99493));const g=e=>{let{messages:t,children:n,width:a,isPreview:r=!1}=e;const{ref:d,textSize:g,color:m,avatarUrl:_,agent:v,isAgent:b,isBot:y,isIos:E,isMobile:T,isScrollLower:C,disableBotLabel:S}=(0,p.useEnhanced)(t[0]),O=null==v?void 0:v.name,A=null==v?void 0:v.avatarUrl,w=A?(0,l.getAvatarApiUrl)(_,A):"",I=(0,o.default)({[h.default.main]:!0,[h.default._mobile]:T,[h.default.__fullWidth]:(0,f.isChatPage)()&&s.default.enable_full_cp,[h.default["__"+m]]:!1,[h.default._transparent]:r,[h.default._noagent]:!b}),M=(0,o.default)({[h.default.avatarBox]:!0,[h.default.__isAnimated]:C}),R={width:a,"-webkit-text-size-adjust":E?g:null};return i.default.createElement("jdiv",{ref:d,style:R,className:I},(y||O)&&i.default.createElement("jdiv",{className:h.default.agentName},y?i.default.createElement(i.default.Fragment,null,O||"Bot",S?null:i.default.createElement("jdiv",{className:h.default.botBadge},"bot")):O),i.default.createElement("jdiv",{className:M,title:O},y?i.default.createElement(c.default,{url:w}):i.default.createElement(u.default,{dark:!0,expanded:!1,inChat:!0,isMobile:T,inCall:!1,url:w})),i.default.createElement("jdiv",{className:h.default.content},n))};g.propTypes={messages:r.default.arrayOf(r.default.instanceOf(d.default)).isRequired,children:r.default.node.isRequired,width:r.default.number,isPreview:r.default.bool};var m=g;t.default=m},5107:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(94184)),s=n(25095),l=a(n(4867)),u=a(n(99493));function c(e){let{messages:t,children:n,isPreview:a=!1}=e;const{textSize:o,color:l,isIos:c,isMobile:d}=(0,s.useEnhanced)(t[0]),f=(0,r.default)({[u.default.main]:!0,[u.default._mobile]:d,[u.default["__"+l]]:!1,[u.default._transparent]:a,[u.default._noagent]:!0}),p=c?{"-webkit-text-size-adjust":o}:null;return i.default.createElement("jdiv",{style:p,className:f},i.default.createElement("jdiv",{className:u.default.content},n))}c.propTypes={messages:o.default.arrayOf(o.default.instanceOf(l.default)).isRequired,children:o.default.node.isRequired,isPreview:o.default.bool};var d=c;t.default=d},25095:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(e){const t=e.toJSON(),n=(0,o.useSelector)(d.selectLastMessage),a=(0,o.useSelector)(c.selectAvatarUrl),m=(0,o.useSelector)(c.selectBubbleColor),_=(0,o.useSelector)(c.selectDisableBotLabel),v=(0,o.useSelector)((e=>(0,u.selectBotById)(e,+t.from_id))),b=(0,o.useSelector)((e=>(0,l.selectAgentById)(e,+t.from_id))),y=(0,i.useRef)(null),E=(0,f.useListenedStyle)("textSize"),T=t.type===s.MessageType.INVOICE?"white":m,C=t.from===s.MessageInitiator.FORM,S=t.from_id||C,O=h.default.ios(),A=h.default.mobileOrTablet();return{ref:y,textSize:E,color:T,avatarUrl:a,agent:C?v:t.type===s.MessageType.PROACTIVE?null!==(w=t.body)&&void 0!==w&&w.agent_id?{name:t.body.display_name,avatarUrl:t.body.avatar_url}:p.default.toReduxFormat():b,isAgent:S,isBot:C,isIos:O,isMobile:A,isScrollLower:function(){const e=y.current,t=g.default.getComponent(r.Component.SCROLL_CONTAINER);if(e&&t&&n){const{type:a,from:i}=n,o=e.nextSibling,r=a===s.MessageType.MESSAGE,l=i===s.MessageInitiator.AGENT||i===s.MessageInitiator.FORM;return!o&&r&&l&&t.animated}return!1}(),disableBotLabel:_};var w};var i=n(98661),o=n(88928),r=n(47245),s=n(81152),l=n(99258),u=n(14376),c=n(87692),d=n(66311),f=n(77389),p=a(n(26754)),h=a(n(19955)),g=a(n(75686))},96150:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(94184)),r=a(n(45697)),s=a(n(4867)),l=n(69882),u=a(n(1039)),c=n(20738),d=a(n(8292));function f(e){let{messages:t,children:n}=e;const{textSize:a,color:r,isIos:s,isMobile:f}=(0,c.useEnhanced)(t[0]),p=(0,o.default)({[d.default.main]:!0,[d.default._mobile]:f,[d.default.__fullWidth]:(0,l.isChatPage)()&&u.default.enable_full_cp,[d.default["__"+r]]:!0}),h=s?{"-webkit-text-size-adjust":a}:null;return i.default.createElement("jdiv",{style:h,className:p},i.default.createElement("jdiv",{className:d.default.content},n))}f.propTypes={messages:r.default.oneOfType([r.default.instanceOf(s.default).isRequired,r.default.array]),children:r.default.node.isRequired};var p=f;t.default=p},20738:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(e){const t=e.toJSON(),n=(0,i.useSelector)(r.selectBubbleColor),a=t.type===o.MessageType.INVOICE?"white":n,u=(0,s.useListenedStyle)("textSize"),c=l.default.ios(),d=l.default.mobileOrTablet();return{textSize:u,color:a,isIos:c,isMobile:d}};var i=n(88928),o=n(81152),r=n(87692),s=n(77389),l=a(n(19955))},46544:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var i=a(n(23101)),o=a(n(98661)),r=a(n(45697)),s=a(n(94184)),l=n(90906),u=n(81152),c=a(n(30295)),d=a(n(4867)),f=a(n(56460)),p=a(n(40704)),h=a(n(84726));function g(e){let{className:t,colorSet:n,message:a,isRenderStatus:r=!1,...g}=e;const m=a instanceof d.default?a.toJSON():a,{status:_,created_ts:v,updated_ts:b,type:y,body:E}=m,T=(0,s.default)(f.default.baseBox,t),C=(0,c.default)(b||v,"H:MM"),S=(0,l.defineIcon)({colorSet:n,status:_,type:y===u.MessageType.MEDIA?E.status:y});return o.default.createElement("jdiv",(0,i.default)({className:T},g),b?(0,h.default)("messageEdit")+" ":null,C,r&&S&&o.default.createElement(p.default,{iconName:S.iconName,color:S.iconColor,className:f.default.icon}))}g.propTypes={className:r.default.string.isRequired,colorSet:r.default.oneOf(Object.values(l.COLORS_SET)).isRequired,message:r.default.oneOfType([r.default.instanceOf(d.default),r.default.object]).isRequired,isRenderStatus:r.default.bool}},90906:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.COLORS_SET=void 0,t.defineIcon=function(e){let{colorSet:t,status:n,type:a}=e;if(a===o.MessageType.TEMPORARY||a===o.MediaStatus.ERROR||a===o.MediaStatus.EXPIRED)return;const i=e=>t=>({iconName:e,iconColor:t}),l=i("check"),u=i("checks"),c=i("clock");if(!n)return c(t===r.LIGHT?s.DARK_GREY:s.LIGHT_GREY);return{[r.LIGHT]:{[o.MessageStatus.SENT]:l(s.DARK_GREY),[o.MessageStatus.DELIVERED]:u(s.GREEN),[o.MessageStatus.READ]:u(s.GREEN)},[r.DARK]:{[o.MessageStatus.SENT]:l(s.LIGHT_GREY),[o.MessageStatus.DELIVERED]:u(s.WHITE),[o.MessageStatus.READ]:u(s.WHITE)}}[t][n]};var i=a(n(2559)),o=n(81152);const r={LIGHT:"LIGHT",DARK:"DARK"};t.COLORS_SET=r;const s={LIGHT_GREY:"#FFF9",DARK_GREY:"#737B83",GREEN:i.default.GREEN_80,WHITE:i.default.WHITE_100}},66440:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(54720)),s=a(n(19955)),l=a(n(1039)),u=n(68403),c=n(69882),d=n(67597),f=n(90991),p=a(n(23116)),h=a(n(16586)),g=a(n(14264)),m=a(n(26754)),_=a(n(14762)),v=n(88928),b=a(n(87736)),y=n(21476),E=n(47060),T=a(n(75686)),C=n(47245),S=a(n(67239)),O=a(n(4855)),A=n(65465),w=a(n(84726)),I=n(81152),M=n(52028),R=n(54415),N=n(83170),P=n(81722),D=n(43025),L=n(82726),k=a(n(51120)),x=a(n(51149)),B=a(n(70043)),j=n(44145),F=a(n(36672)),H=a(n(19367)),U=n(47713),W=n(15787),G=n(26932),z=n(79641),V=n(33813);const q=O.default.name("MessagesMain"),$=s.default.mobileOrTablet()||(0,c.isChatPage)();class K extends r.default{constructor(e){super(e),this.state={messagesGroups:(0,L.getMessagesGroup)(),lastEdit:null,hideScrollButton:!0,bottom:$?50:106,diff:0,lastAgent:null,show:!1,showMore:!1,forceUpdate:!1,widgetHeight:e.widgetHeight},this._container=null,this._scroll=null,this._lastHeight=0}updateMessages(e,t){q.log("updateMessages",e,t),t&&(0,L.cleanTempProactive)(),this.setState({messagesGroups:(0,L.getMessagesGroup)(),lastEdit:e?JSON.stringify(e.toJSON()):null,lastAgent:(0,P.getLastAgent)()},(()=>{if(!this.state.show)return;const t=e&&e.toJSON();if((0,P.setLastAgentScroll)(this._scroll))return this.checkShowBadge(),void q.log("ignore anims and scroll to bottom");const n=t&&t.type===I.MessageType.PROACTIVE,a=g.default.getFirstMessage();if(n&&a&&!a.get("msg_id")&&a.get("type")==I.MessageType.PROACTIVE||this._scroll&&this._scroll.getIgnore())return void q.log("Ignore scroll for proactive update");if((0,P.isProactivePrechat)())return(0,V.fixSafariKeyframes)(!1),q.log("Need ignore scroll for prechat and big proactives"),void(this._scroll&&this._scroll.scrollToTop());if(M.isDesignerEditor)return void this.scrollToBottom();if(this._scroll&&this._scroll.view&&!this._scroll.hasScroll()&&t&&t.from==I.MessageInitiator.FORM&&t.body&&t.body.inited)return void q.log("No scroll, animate form");let i=this._scroll&&this._scroll.view&&this._scroll.getScrollDiff();0===i&&this._container&&(i=this._container.clientHeight-this._lastHeight),this._lastHeight=this._container.clientHeight,q.log("diff",i,this._lastHeight),i&&i<600&&i!==this._lastHeight?(i<0&&(i=0),this.setState({diff:i>>0})):(q.log("scroll bottom on update message"),this.scrollToBottom())})),this.readMessages()}shouldComponentUpdate(e,t){return!(0,v.shallowEqual)(e,this.props)||!(0,v.shallowEqual)(t,this.state)}componentDidMount(){q.log("mount"),this.showMessages(),s.default.mobileOrTablet()&&y.Router.isChatInputRoute(y.Router.getCurrentRoute())&&this.readMessages();const e=this.updateMessages.bind(this);g.default.on("create",((t,n)=>{e&&e.call(this,t,n),this.getBottom(this.props.inputHeight);const a=t&&t.toJSON();a&&a.from===I.MessageInitiator.CLIENT&&(this._scroll&&this._scroll.setIgnore(!1),this.setState({showMore:!1,showBadge:!1})),a&&a.from===I.MessageInitiator.AGENT&&this.state.showMore&&this.needShowMore()&&(0,P.setLastAgentScroll)(this._scroll)&&this.checkShowBadge()}));const t=(0,f.debounce)(this.updateMessages.bind(this),200);g.default.on("update",t.bind(this)),_.default.on("update",(()=>{this.setState({messagesGroups:(0,L.getMessagesGroup)(),lastAgent:(0,P.getLastAgent)(),forceUpdate:!this.state.forceUpdate})})),y.Router.on("route_change",(e=>{y.Router.isChatInputRoute(y.Router.getPrevRoute())||(this.showMessages(),this.readMessages(),$&&e===E.Route.LABEL&&this._scroll&&this._scroll.setIgnore(!1))})),this.on(p.default,{update:()=>{this.readMessages()}}),$||this.readMessages(),this._container=T.default.get(C.Component.MESSAGES_CONTAINER),this._scroll=T.default.getComponent(C.Component.SCROLL_CONTAINER),!l.default.maintenance&&(0,P.isOfflineCanSend)()&&0===g.default.getFormMessage().length&&A.messageActions.startFormSequence((0,w.default)("offlineIntroductionText")),l.default.maintenance&&A.messageActions.addMaintenanceMessage(),(0,M.designerBind)("setBubbleColor",(()=>{this.forceUpdate()}))}componentDidUpdate(){this.props.widgetHeight!==this.state.widgetHeight&&(this.checkShowBadge(),this.setState({widgetHeight:this.props.widgetHeight}))}showMessages(){const e=T.default.getComponent(C.Component.SCROLL_CONTAINER);e&&this.base&&setTimeout((()=>{this.setState({show:!0}),e&&e.setIgnore(!1),s.default.mobileOrTablet()?!(0,P.setLastAgentScroll)(this._scroll)&&this.scrollToBottom():this.scrollToBottom()}),50)}checkShowBadge(){q.log("checkShowBadge");const e=g.default.getAgentMessages().length>1||g.default.getMessagesByType(I.MessageType.PRECHAT).length>0,t=this._scroll&&this.needShowMore()&&this._scroll.getIgnore();this.setState({showMore:t,showBadge:e})}getBottom(e){const t=$?56:106;let n=e||t;n<t&&(n=t),$&&(0,u.showAd)()&&(n+=20);const a=!(!$||!this._scroll);return this.state.bottom!==n&&this.setState({bottom:n},(()=>{a&&this._scroll.scrollToBottom()})),n}scrollToBottom(){this._scroll&&this._scroll.view&&(q.log("scrollToBottom"),this._scroll.getIgnore()?q.log("Ignore scroll to bottom, input focused."):this._scroll.scrollToBottom())}readMessages(){if(p.default.isActive){const e=(0,j.getChats)(),t=e[e.length?e.length-1:0],n=(0,j.getUnreadMessages)(),a=(0,j.getOfflineUnreadProactive)(),i=[];if(n.forEach((e=>{(0,z.isNumber)(e.msg_id)&&i.push(e.msg_id)})),i.length&&G.messagesDispatchers.updateMessages({messageIds:i},{status:I.MessageStatus.READ}),a.length){const e=a.map((e=>e.private_id));G.messagesDispatchers.updateMessages({privateIds:e},{status:I.MessageStatus.READ})}i.length&&this.isChatInput()&&(0,W.agentMessageRead)(i,t.id)}}isChatInput(){return y.Router.isChatInputRoute(y.Router.getCurrentRoute())}scrollToForm(){const e=(0,L.getScrollToFormState)(this.props.isOnline);e&&(this.scrollToBottom(),this.setState({...e,lastAgent:(0,P.getLastAgent)()}))}renderScrollToForm(){const e=(0,j.getFormMessage)();if(!this.props.isIntroduced&&e)return o.default.createElement(F.default,{hide:this.state.hideScrollButton,onClick:this.scrollToForm.bind(this),icon:"1f44b-1f3fb",text:(0,w.default)("lblIntroduceRequest")});{const e=(0,j.getRateFormMessage)();if(e){var t,n;const a=null===(t=e.body)||void 0===t?void 0:t.submited,i=null===(n=e.body)||void 0===n?void 0:n.closed;return o.default.createElement(F.default,{hide:!!(this.state.hideScrollButton||a||i),onClick:t=>{t.preventDefault(),G.messagesDispatchers.updateMessage({privateId:e.private_id},{created_ts:(new Date).getTime()}),g.default.sort(),this.scrollToBottom()},icon:"270d-1f3fb",text:(0,w.default)("rateFormTitle")})}}}needShowMore(){return!!this._scroll&&(this._scroll&&this._scroll.base&&this._scroll.getScrollDiff()>=40&&0!=this._scroll.getScrollDiff())}onScrollEnd(){const e={};this.needShowMore()?e.showMore=!0:(e.showMore=!1,e.showBadge=!1);const t=g.default.getFormMessage();if(this.props.isIntroduced||!t.length){const t=g.default.getMessagesByType(I.MessageType.RATE_FORM),n=T.default.get(C.Component.RATE_FORM);if(t.length&&n){const t=(0,D.isScrolledIntoView)(n,this._scroll);e.hideScrollButton=t}return void this.setState(e)}const n=T.default.get(C.Component.CHAT_INTRODUCE);if(n){const t=(0,D.isScrolledIntoView)(n,this._scroll);t!==this.state.hideScrollButton&&(e.hideScrollButton=t)}this.setState(e)}onMoreClick(){this._scroll&&(this._scroll.setIgnore(!1),this.scrollToBottom()),R.Monitoring.telemetry(N.TelemetryName.MORE_BTN_CLICK,{param1:(0,j.getProactive)().text?1:0})}isShowAvatar(){return!!(this._scroll&&this._scroll.animated>0&&(0,P.getLastAgent)())}onTransitionEnd(e,t){"transform"===e.propertyName&&0!==t&&(q.log("Container animation end:",t),this.setState({diff:0},(()=>{this.scrollToBottom()})),this._scroll.animated=!1)}getOffset(){let e=null;return this._scroll&&(e=(0,D.isNoScroll)(this._scroll,this._container)?`${-1*this.state.diff||0}px`:null),e}getRenderData(){const e=this.getOffset();return this._scroll&&(this._scroll.animated=this.state.diff),{styles:{main:[{main:!0,__mobile:$,__ad:(0,u.showAd)()},{bottom:`${this.getBottom(this.props.inputHeight)}px`,opacity:1}],wrap:[{wrap:!0}],container:[{container:!0,__tablet:s.default.tablet()||s.default.desktop()&&(0,c.isChatPage)()},{transform:this.state.diff?`translateY(${-1*this.state.diff}px)`:"translateY(0)",bottom:e||0,transition:0===this.state.diff?"none":"transform 0.2s cubic-bezier(0, 0.76, 0.28, 1)"}],avatarShadow:[{avatarShadow:!0,__mobile:$,__show:this.isShowAvatar()},{marginBottom:this.getBottom(this.props.inputHeight)}]},style:S.default}}renderData(e,t){const n=m.default.bot_id>0,a=m.default.avatar_url?(0,d.getAvatarApiUrl)(l.default.avatar_url,m.default.avatar_url):null;return o.default.createElement("jdiv",t.main,this.renderScrollToForm(),o.default.createElement("jdiv",(0,i.default)({},t.wrap,(0,U.onClickHandler)((e=>{(0,L.onWrapTouch)(e)})),{ref:e=>{this._main=e}}),o.default.createElement(B.default,{messagesGroups:this.state.messagesGroups,onMessagesAnimationEnd:(e,t)=>{this.onTransitionEnd(e,t)},onScrollEnd:(0,f.debounce)(this.onScrollEnd.bind(this),200),diff:this.state.diff,bottomOffset:this.getOffset()}),1!=l.default.typing_insight||$?null:o.default.createElement(h.default,{show:this.props.agentTyping,isMobile:$}),(0,u.showAd)()&&!$?o.default.createElement(H.default,{type:"chat"}):null,o.default.createElement("jdiv",t.avatarShadow,n?o.default.createElement(k.default,{url:a}):o.default.createElement(b.default,{inChat:!0,dark:!0,isMobile:s.default.mobileOrTablet(),isTablet:s.default.tablet(),url:a})),o.default.createElement(x.default,{color:l.default.bubble_color,show:this.state.showMore,showBadge:this.state.showBadge,onClick:this.onMoreClick.bind(this)})))}}t.default=K},70043:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=n(88928),r=a(n(45697)),s=a(n(94184)),l=n(47245),u=a(n(88155)),c=a(n(6131)),d=a(n(19955)),f=a(n(75686)),p=n(68403),h=n(90991),g=n(81152),m=a(n(68168)),_=a(n(68531)),v=a(n(48333)),b=a(n(31385)),y=a(n(55961)),E=a(n(12822)),T=a(n(6313)),C=a(n(67250)),S=a(n(79425)),O=a(n(60936)),A=a(n(25117)),w=a(n(18277)),I=a(n(45482)),M=a(n(95066)),R=a(n(26370)),N=a(n(67239)),P=a(n(4855));const D={[g.MessageType.MESSAGE]:_.default,[g.MessageType.PROACTIVE]:_.default,[g.MessageType.SEPARATOR]:m.default,[g.MessageType.INVOICE]:v.default,[g.MessageType.COBROWSE]:b.default,[g.MessageType.SYSTEM]:y.default,[g.MessageType.INVITE]:y.default,[g.MessageType.PREFORM]:y.default,[g.MessageType.SOCIAL]:E.default,[g.MessageType.MEDIA]:C.default,[g.MessageType.EMAIL]:T.default,[g.MessageType.FORM]:S.default,[g.MessageType.TEMPORARY]:O.default,[g.MessageType.FOR_TEST]:w.default,[g.MessageType.PRECHAT]:A.default,[g.MessageType.BOT]:_.default,[g.MessageType.LISTPICKER]:I.default,[g.MessageType.WEB_RTC_CALL]:M.default,[g.MessageType.RATE_FORM]:R.default},L=P.default.name("MessagesPure"),k=e=>{let{messagesGroups:t,onMessagesAnimationEnd:n,onScrollEnd:a,diff:o,bottomOffset:r}=e;const m=d.default.mobileOrTablet()?40:30,_=(0,s.default)({[N.default.container]:!0,[N.default.__tablet]:d.default.tablet()});return i.default.createElement(u.default,{onScrollStop:(0,h.debounce)(a,200),className:N.default.scroll,autoHide:!0,scrollMarginTop:(0,p.showAd)()?m:0,railClass:N.default.rail,ref:e=>{e&&f.default.set(l.Component.SCROLL_CONTAINER,e)}},i.default.createElement("jdiv",{className:_,onTransitionEnd:e=>{n(e,o)},ref:e=>{e&&f.default.set(l.Component.MESSAGES_CONTAINER,e)},style:{transform:o?`translateY(${-1*o}px)`:"translateY(0)",bottom:r||0,transition:0===o?"none":"transform 0.2s cubic-bezier(0, 0.76, 0.28, 1)"}},t.map(((e,t)=>{const n=e[0]instanceof c.default?e[0].toJSON():e[0];if(n.type==g.MessageType.MEDIA&&n.body&&n.from_id&&n.body.type==g.MessageType.COBROWSE&&(n.type=g.MessageType.COBROWSE),!n.type)return;const a=D[n.type];return a?i.default.createElement(a,{messages:e,key:t}):void L.warn("Message type is not supported")}))))};k.propTypes={messagesGroups:r.default.array.isRequired,onMessagesAnimationEnd:r.default.func.isRequired,onScrollEnd:r.default.func.isRequired,diff:r.default.number,bottomOffset:r.default.string};var x=(0,o.connect)((e=>({messages:e.messages})),{})(k);t.default=x},8972:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=n(88928),r=a(n(45697)),s=a(n(66440));const l=e=>{let{route:t,isOnline:n,isInDrag:a,isIntroduced:o,inputHeight:r,agentTyping:l,widgetHeight:u}=e;return i.default.createElement(s.default,{route:t,isInDrag:a,isOnline:n,inputHeight:r,isIntroduced:o,agentTyping:l,widgetHeight:u})};l.propTypes={isOnline:r.default.bool,route:r.default.string,isIntroduced:r.default.bool,isInDrag:r.default.bool,inputHeight:r.default.number,agentTyping:r.default.bool,widgetHeight:r.default.string};var u=(0,o.connect)((e=>{const t=e.chats[e.chats.length?e.chats.length-1:0];return{isOnline:e.app.isOnline,route:e.app.route,isInDrag:e.app.isInDrag,agentTyping:!!t&&t.agentTyping,widgetHeight:e.position.height,isIntroduced:e.client.isIntroduced}}))(l);t.default=u},31385:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(91651)),r=a(n(94184)),s=a(n(45697)),l=a(n(30295)),u=a(n(3415)),c=a(n(84726)),d=a(n(1039)),f=a(n(19955)),p=a(n(39906)),h=n(54415),g=n(83170),m=n(21476),_=n(47060),v=a(n(14762));function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}a(n(4855)).default.name("CobrowseMessage");const y=e=>{let{messages:t}=e;const n=t[0].toJSON();if(!n.from_id&&"highlight"!==n.body.type)return null;const[a,s]=(0,i.useState)(n.body.error),b=t[0].toJSON(),y=b.updated_ts,E=(0,l.default)(y||b.created_ts,"dd.mm.yy H:MM:ss");let T=b.body.hash,C=b.body.page_url,S=null;b.from_id&&(S=b.from_id,b.text=b.body.text,T=b.body.address,C=b.body.url);const O=e=>{e||(t[0]&&t[0].set("body.error",!0),s(!0))},A=e=>{a||(e.preventDefault(),(()=>{let e;if(S){const t=v.default.getAgentById(S);t&&(e=t.toJSON())}const t=()=>{u.default.getCobrowseData(T,C,b.text,e,O)};f.default.mobileOrTablet()?(m.Router.next(_.RouterEvent.CloseWindow),setTimeout((()=>{t()}),1e3)):t()})(),h.Monitoring.telemetry(g.TelemetryName.COBROWSE_CLICK_BUTTON))};return i.default.createElement(p.default,{messages:t},i.default.createElement("jdiv",{className:(0,r.default)({[o.default.main]:!0,[o.default["__"+d.default.bubble_color||0]]:!0,[o.default.__mobile]:f.default.mobileOrTablet()}),title:E},i.default.createElement("jdiv",{className:o.default.text},b.text?b.text:(0,c.default)("lblDefaultCobrowseComment")),i.default.createElement("jdiv",{className:(0,r.default)({[o.default.showBtn]:!0,[o.default.__disabled]:a}),onPointerDown:A,onTouchStart:e=>{e.preventDefault(),f.default.isPointerEnabled()||A(e)},title:(0,c.default)("lblDefaultCobrowseComment")},(0,c.default)("lblView")),a?i.default.createElement("jdiv",{className:o.default.error},(0,c.default)("cobrowseError")):null,i.default.createElement("jdiv",{className:o.default.time},(0,l.default)(y||b.created_ts,"H:MM"))))};y.propTypes={messages:s.default.any};var E=i.default.memo(y);t.default=E},86555:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(45697)),s=a(n(94184)),l=n(47713),u=n(2535),c=a(n(32083)),d=a(n(43569)),f=a(n(84726)),p=a(n(13114)),h=a(n(6139)),g=a(n(46809)),m=a(n(40704)),_=a(n(98960));const v=e=>{let{message:t,color:n,size:a,initialEmail:r,lineHeight:v,textSize:b,isIos:y,buttonText:E,isSuccessSend:T,onSuccessSubmit:C}=e;const{formRef:S,values:O,getInputProps:A,isSubmitted:w,onSubmit:I}=(0,u.useForm)({initialValues:{email:r},validate:e=>({email:!_.default.email(e.email)&&(0,f.default)("invalid_email")}),focusOnFirstError:!0}),{attrs:M,state:R}=A("email"),N=w&&!R.isDirty,P=R.isValid?"iconValid":"iconWarning",D=R.isDirty||!w?null:n,L=I(C),k={lineHeight:y?v:null,"-webkit-text-size-adjust":y?b:"none"};return o.default.createElement(p.default,{padding:"md",radius:"md",addClassname:(0,s.default)({[g.default.wrapper]:!0,[g.default["__"+n]]:!0})},T&&o.default.createElement("jdiv",{className:g.default.text,style:k},(0,f.default)("social_success_email").replace("_EMAIL_",O.email)),!T&&o.default.createElement(o.default.Fragment,null,o.default.createElement("jdiv",{className:g.default.text,style:k},t),o.default.createElement(h.default,{component:"jdiv",h:"xs"}),o.default.createElement("form",{ref:S,className:g.default.form},o.default.createElement(d.default,(0,i.default)({color:D,size:a,name:"email",type:"text",maxLength:255,autocomplete:"email",label:(0,f.default)("lblYourEmail"),variant:"inset",fontSize:y?16:15,lineHeight:y?"normal":null,rightSectionWidth:32,rightSection:N&&o.default.createElement(m.default,{iconName:P,className:g.default.validateIcon})},M,{onKeyDown:e=>"Enter"===e.code&&L(e)})),o.default.createElement(h.default,{component:"jdiv",h:"md"}),o.default.createElement(c.default,(0,i.default)({component:"jdiv",type:"submit",color:n,size:a,radius:a,fullWidth:!0},(0,l.onClickHandler)(L)),E))))};v.propTypes={message:r.default.string,color:r.default.string,size:r.default.string,initialEmail:r.default.string,lineHeight:r.default.string,textSize:r.default.string,isIos:r.default.bool.isRequired,buttonText:r.default.string.isRequired,isSuccessSend:r.default.bool.isRequired,onSuccessSubmit:r.default.func.isRequired},v.defaultProps={initialEmail:""};var b=v;t.default=b},6313:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=O(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=a(n(45697)),s=n(26932),l=n(80598),u=n(92560),c=n(54415),d=n(21476),f=n(47060),p=n(28549),h=n(87692),g=n(45959),m=n(83170),_=n(49862),v=a(n(91275)),b=a(n(138)),y=a(n(1039)),E=a(n(19955)),T=a(n(86555)),C=a(n(84726)),S=a(n(14264));function O(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(O=function(e){return e?n:t})(e)}const A=e=>{let{messages:t}=e;const n=(0,o.useSelector)(h.selectBubbleColor),a=(0,o.useSelector)(g.selectClientEmail),r=(0,o.useSelector)(p.selectAppZoom),O=(0,o.useSelector)(g.selectEulaAccepted),A=(0,o.useSelector)(h.selectEulaEnabled),w=(0,o.useSelector)(g.selectClientName),I=(0,o.useSelector)(g.selectClientPhone),M=(0,o.useSelector)(g.selectDescription),[R,N]=(0,i.useState)(!1),P=E.default.ios();return(0,i.useEffect)((function(){a&&O&&!R&&N(!0)}),[a,O,R]),(0,_.useDidUpdate)((function(){v.default.setClientContactInfo({client_name:w,phone:I,email:a,description:M,accept_eula:y.default.eula?O:null},!0),S.default.trigger("update"),b.default.trackSystemMessageEmailSubmitted(),c.Monitoring.telemetry(m.TelemetryName.EMAIL_MESSAGE_SUBMITTED)}),[R]),(0,u.isEmpty)(t)?null:i.default.createElement(T.default,{message:t[0].toJSON().text,color:n,size:"sm",initialEmail:a,lineHeight:(0,l.getLineHeight)(1.5,r),textSize:(0,l.getTextSize)(r),isIos:P,buttonText:A&&!O?(0,C.default)("continue"):(0,C.default)("lblSend"),isSuccessSend:R,onSuccessSubmit:e=>{s.clientDispatchers.setClientEmail(e.email),A&&!O?d.Router.next(f.RouterEvent.Submit,{context:"messageEmail"}):N(!0)}})};A.propTypes={messages:r.default.arrayOf(r.default.object)};var w=A;t.default=w},79425:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(54720)),s=a(n(84726)),l=a(n(1039)),u=a(n(91275)),c=a(n(19955)),d=a(n(79868)),f=a(n(74379)),p=a(n(14264)),h=n(68403),g=n(69882),m=n(9393),_=n(45950),v=n(37578),b=a(n(75686)),y=n(47245),E=a(n(50890)),T=a(n(60165)),C=a(n(22048)),S=n(88928),O=n(81152),A=n(21476),w=n(47060),I=a(n(4855)),M=n(54346),R=a(n(4800)),N=n(65465),P=n(80161),D=n(54415),L=n(83170),k=n(43914),x=n(26932),B=n(15787),j=n(69845),F=a(n(35802)),H=n(44145),U=n(47713),W=n(23336);const G=I.default.name("ContactForm"),z=d.default.getJoints();class V extends r.default{constructor(e){super(e),this._steps={},this._totalSteps=this.getSteps();const t=this.props.messages[0],n=t.get("body")&&t.get("body").inited,a=this.props.client.isIntroduced;this.state={submited:a,step:3,steps:this._steps,social:this.canRenderSocial(),showForm:a||n,showMessage:a||n,focused:a||n,lastValue:null},this._formData=null,this._formContainer=null,this._introduceText=null}shouldComponentUpdate(e,t){return!(0,S.shallowEqual)(this.state,t)||!(0,S.shallowEqual)(this.props,e)}componentDidUpdate(e){if(!(0,S.shallowEqual)(this.props,e)){let e={};this.getSteps(),this.props.client.isIntroduced||(e.submited=!1),this.canRenderSocial()||(e.social=!1),this.props.client.isIntroduced&&!this.state.submited&&(e={...e,submited:!0,showForm:!0,focused:!0},this.checkAllStepsValid()),this.setState(e)}}componentDidMount(){G.log("mount",this.props),P.RouterUtils.needToShowEula()&&A.Router.on("submit_eula_success",(()=>{this.successCallback(this._formData)}));const e=this.props.messages[0],t=e.get("body")&&e.get("body").inited;this.props.client.isIntroduced&&!t||(this.setState({showForm:!0}),e&&!t&&e.set("body",{inited:!0})),this.props.client.isIntroduced&&this.checkAllStepsValid(),A.Router.on("route_change",(()=>{this.ignoreScroll(!1)}));const n=p.default.getFormMessage();n.length&&n[0].on("created_ts",(()=>{p.default.sort(),p.default.trigger("update")}))}getSteps(){let e=1;const t=this.props.isOnline?l.default.contacts_settings:(0,h.fixOfflineSettings)(l.default.contacts_settings);return(0,v.filterObj)(t,((t,n)=>{if(t.show){const a=e++;this._steps[n]={keyName:n,e:t,step:a}}return!0===t.show})).length}checkAllStepsValid(){(0,m.each)(this._steps,(e=>{const t=this._formContainer.checkValue(this.getStepName(e.keyName));this._steps[e.keyName].valid=t})),this.setState({step:this._totalSteps,steps:this._steps})}getStepName(e){return"name"===e?"client_name":e}getClientInfo(e){return{client_name:e.client_name.value,phone:e.phone.value,email:e.email.value}}successCallback(e){if(G.log("successChatIntroduce",e),this._formData=e,e&&!e.error){if(P.RouterUtils.needToShowEula())return void A.Router.next(w.RouterEvent.ToEula,{context:"chatIntroduce"});{const t=(0,g.getPageWindow)().document.activeElement;c.default.mobile()&&t&&"function"==typeof t.blur&&t.blur();const n=b.default.refs.ScrollContainer;this.setState({submited:!0},(()=>{const t=this.getClientInfo(e);if(n&&n.setIgnore(!1),!this.props.isOnline){if(N.messageActions.setInputDisabled(!1),this.props.client.isIntroduced||(x.clientDispatchers.setClientEmail(t.email||null),x.clientDispatchers.setClientPhone(t.phone||null),x.clientDispatchers.setClientName(t.name||t.client_name||null),x.clientDispatchers.setClientDescription(t.description||null),x.clientDispatchers.setIsIntroduced(!0)),x.appDispatchers.setChatStarted(!0),u.default.setClientContactInfo(t,!1,!0),u.default.checkConnection((()=>{})),!(0,M.isAssistantBot)()){const e=N.messageActions.getOfflineSuccessText();e&&N.messageActions.systemMessageOnce(e)}F.default.getInstance().managers.connection.isOpen()&&(0,B.sendOfflineTmpMessages)();const e=(0,H.getLastClientMessage)();return G.log("lastClientMessage",e),e&&N.messageActions.checkMessageStatus(e.private_id),(0,k._callUserFunction)("onOfflineFormSubmit"),void D.Monitoring.telemetryOnce(L.TelemetryName.NEWOFFLINE_FORM_SUBMIT)}this.props.client.isIntroduced?((0,B.setIntroduce)(t),u.default.checkConnection((()=>{}))):(e.message&&e.message.value&&N.messageActions.sendClientMessage(e.message.value),(0,W.reportCampaignContactsStat)(),u.default.setClientContactInfo(t,!1,!0),x.clientDispatchers.setIsIntroduced(!0))}))}}}errorCallback(e){G.log("errorCallbackintroduce",e),this._formData=e,this.setState({submited:!1,steps:this._steps})}blurPopupInput(e){if(G.log("blurPopupInput",this.state.submited),this.ignoreScroll(!1),!this.state.submited){const t=this._formContainer.checkValue(this.getStepName(e));this._steps[e].valid=t,this.setState({steps:this._steps})}}focusPopupInput(){G.log("focusPopupInput"),this.ignoreScroll(!0),this.state.focused||(this.setState({focused:!0}),D.Monitoring.telemetryOnce(L.TelemetryName.CHAT_INTRODUCE,{param1:"formFocused"}))}ignoreScroll(e){const t=b.default.getComponent(y.Component.SCROLL_CONTAINER);t&&t.setIgnore(e)}focusFirstInput(){if(G.log("focusFirstInput",this._formContainer),this._formContainer&&this._formContainer.base){this.focusPopupInput();this._formContainer.base.querySelector("input").focus(),setTimeout((()=>{if(!c.default.mobileOrTablet()){const e=p.default.getLastMessage(),t=b.default.getComponent(y.Component.SCROLL_CONTAINER);t&&e&&e.get("type")===O.MessageType.FORM&&t.scrollToBottom()}}),300)}}processSocial(e){if(c.default.mobileOrTablet()){const{fbUrl:t,vkUrl:n}=z.links;window.open("fb"===e?t:n)}else d.default.setPopupMode(e),A.Router.next(w.RouterEvent.ToSocial),D.Monitoring.telemetry(L.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:"click_"+e})}canRenderSocial(){return this.props.chatStarted&&!c.default.mobileOrTablet()&&!(0,h.hasIntegration)(this.props.client.hasIntegration)&&(z.links.fbUrl||z.links.vkUrl)}renderSocial(e){const{fbUrl:t,vkUrl:n}=z.links;if(this.canRenderSocial())return o.default.createElement("jdiv",(0,i.default)({},e.socialText,{ref:e=>{this._social=e}}),(0,s.default)("introduce_social")+" ",n?o.default.createElement("jdiv",{className:R.default.link,onClick:this.processSocial.bind(this,"vk")},(0,s.default)("social_vk")):null,n&&t?" "+(0,s.default)("introduce_or")+" ":null,t?o.default.createElement("jdiv",{className:R.default.link,onClick:this.processSocial.bind(this,"fb")},"Facebook"):null)}getPlaceholder(e){switch(e){case"name":return(0,s.default)("lblIntroduceName");case"email":return(0,s.default)("lblYourEmail");case"phone":return(0,s.default)("lblYourPhone")}}onChange(e,t){if(t&&t.key)switch(t.key){case"Meta":case"Shift":case"Control":case"Alt":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"ArrowDown":return}this.setState({submited:!1,lastValue:t.target.value},(()=>{this.checkAllStepsValid()}))}getFormHeight(){if(this._mainContainer&&this._formContainer){const e=this._formContainer.base.clientHeight||null;return this.state.focused?e:null}return null}getIntroduceHeight(){return this._introduceText?this.state.showMessage?this._introduceText.clientHeight:null:void 0}renderFormInputs(){const e=Object.values(this._steps);return(0,_.sortBy)(e,(e=>e.step)).map(((e,t)=>o.default.createElement(T.default,{name:this.getStepName(e.keyName),placeholder:this.getPlaceholder(e.keyName),onBlur:this.blurPopupInput.bind(this,e.keyName),onFocus:this.focusPopupInput.bind(this),onChange:this.onChange.bind(this),valid:this.state.steps[e.keyName].valid,hint:this.state.focused,key:t})))}getRenderData(){const e={lineHeight:c.default.ios()?f.default.getLineHeight(1.5):null};return{styles:{box:[{box:!0,__noanim:this.props.client.isIntroduced||c.default.mobileOrTablet(),__tablet:c.default.tablet()||c.default.desktop()&&(0,g.isChatPage)()}],mainWrap:[{mainWrap:!0,__submited:this.state.submited,__show:this.state.showForm,__focus:this.state.focused}],main:[{main:!0,__submited:this.state.submited,__show:!0,__focus:this.state.focused,["__"+l.default.bubble_color||0]:!0},{height:this.state.focused&&!this.state.submited?this.getFormHeight():null}],successMessage:[{successMessage:!0,__submited:this.props.client.isIntroduced||this.state.submited}],introduceText:[{introduceText:!0,__show:!0,__submited:!0}],content:[{content:!0},e],socialText:[{socialText:!0,__show:!0},e],buttonWrapper:[{buttonWrapper:!0,__show:this.state.submited,__fadeOut:!this.state.submited}],submitSuccess:[{submitSuccess:!0,__show:this.state.submited}]},style:R.default}}renderData(e,t){return o.default.createElement("jdiv",t.box,o.default.createElement("jdiv",(0,i.default)({},t.mainWrap,{ref:e=>{this._introduceMain=e}}),o.default.createElement("jdiv",(0,i.default)({},t.main,{title:"",ref:e=>{this._mainContainer=e}}),!this.state.focused&&o.default.createElement("jdiv",(0,i.default)({className:R.default.overlay},(0,U.onClickHandler)((()=>{this.focusFirstInput()}),!1,!0))),o.default.createElement(E.default,{successCallback:this.successCallback.bind(this),errorCallback:this.errorCallback.bind(this),route:this.props.route,client:this.props.client,type:"chat",submited:this.state.submited,isOnline:this.props.isOnline,isFocused:this.props.isFocused,ref:e=>{this._formContainer=e,e&&b.default.set(y.Component.CHAT_INTRODUCE,e)}},this.renderFormInputs(),o.default.createElement(C.default,{type:"submit",focusPopupInput:this.focusPopupInput.bind(this),onBlur:this.blurPopupInput.bind(this),onFocus:this.focusPopupInput.bind(this),disabled:this.state.submited}),this.state.focused&&o.default.createElement("jdiv",t.buttonWrapper,o.default.createElement("jdiv",(0,i.default)({},t.submitSuccess,{dangerouslySetInnerHTML:{__html:(0,j.formatText)((0,s.default)("lblThanks"))}}))))),this.renderSocial(t)))}}var q=(0,S.connect)((e=>({isOnline:e.app.isOnline,isFocused:e.app.isFocused,chatStarted:e.app.chatStarted,isInputDisabled:e.app.isInputDisabled,client:e.client})))(V);t.default=q},48333:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var i=a(n(98661)),o=a(n(45697)),r=a(n(7900));function s(e){let{messages:t}=e;const n=t[0].toJSON().body;return"tinkoffInvoice"===(null==n?void 0:n.type)?i.default.createElement(r.default,{messages:t}):null}s.propTypes={messages:o.default.arrayOf(o.default.object)}},7900:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var i=a(n(98661)),o=a(n(45697)),r=a(n(94184)),s=a(n(39906)),l=a(n(30295)),u=a(n(84726)),c=a(n(64545)),d=a(n(40704));function f(e){let{messages:t}=e;const{body:n,created_ts:a}=t[0].toJSON(),o=(0,r.default)({[c.default.main]:!0,[c.default._tinkoff]:!0}),f=(0,r.default)({[c.default.message]:!0,[c.default.__success]:"SUCCESS"===n.status});return i.default.createElement(s.default,{messages:t},i.default.createElement("jdiv",{className:o,title:(0,l.default)(a,"dd.mm.yy H:MM:ss")},i.default.createElement("jdiv",{className:f},i.default.createElement("jdiv",{className:c.default.successIcon}),i.default.createElement("jdiv",{className:c.default.info},i.default.createElement("jdiv",{className:c.default.text},(0,u.default)("paymentsInvoice"),n.invoice_id,":"),i.default.createElement("jdiv",{className:c.default.productName},n.comment,","," "),i.default.createElement("jdiv",{className:c.default.amountWrap},i.default.createElement("jdiv",{className:c.default.amount}," ",n.amount),i.default.createElement(d.default,{className:c.default.rubleIcon,color:"#222d38",iconName:"icon-ruble"})),i.default.createElement("jdiv",{className:c.default.successText},(0,u.default)("paymentsSuccess"))),i.default.createElement("a",{href:n.payment_url,className:c.default.actionBtn,"data-css":"notreset",rel:"nofollow noopener noreferrer",target:"_blank",title:(0,u.default)("paymentsPay")},i.default.createElement("jdiv",{className:c.default.actionText},(0,u.default)("paymentsPay"))))))}f.propTypes={messages:o.default.arrayOf(o.default.object)}},19579:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=n(30396),s=a(n(94184)),l=a(n(45697)),u=a(n(66265)),c=a(n(77335)),d=n(90361),f=n(57930),p=n(47713),h=n(80598),g=a(n(40704));const m=e=>{let{text:t,title:n,url:a,answerId:l,onButtonClick:m,bubbleColor:_,index:v}=e;const[b,y]=(0,r.useState)(!1),E=(0,h.getThemeColor)(_),T=(0,s.default)({[c.default.button]:!0,[c.default.__bot]:!0,[u.default._disabled]:null!==l});return o.default.createElement("jdiv",(0,i.default)({className:T,title:`${n||""} ${a||""}`,onMouseOver:()=>y(!0),onMouseLeave:()=>y(!1)},(0,p.onClickHandler)(m,!0,!0),(0,d.withLocator)(f.Locator.PRECHAT_BUTTON+v)),o.default.createElement("jdiv",{dangerouslySetInnerHTML:{__html:t}}),a?o.default.createElement("jdiv",{className:u.default.linkIcon},o.default.createElement(g.default,{iconName:"arrowLink",color:b?"#fff":E,className:u.default.icon})):null)};m.propTypes={data:l.default.object,onClick:l.default.func,bubbleColor:l.default.string,text:l.default.string,title:l.default.string,url:l.default.string,answerId:l.default.number,onButtonClick:l.default.func,index:l.default.number};var _=m;t.default=_},63711:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(94184)),r=a(n(45697)),s=a(n(66265)),l=a(n(77335)),u=a(n(19579)),c=a(n(4855)),d=n(27523),f=n(11413);const p=c.default.name("Listpicker"),h=e=>{let{data:t,onClick:n,bubbleColor:a,isDisabledEmoji:r}=e;if(!t)return;const c=(0,o.default)({[l.default.main]:!0,[l.default["__"+a]]:!0,[s.default.__mobile]:!1}),h=t.answer_id||null;return i.default.createElement("jdiv",{className:c},i.default.createElement("jdiv",{className:s.default.buttonsWrap},t.keyboard.map(((e,t)=>{const o=e.url;return i.default.createElement(u.default,{text:(s=e.text,r?(0,f.escape)(s):(0,d.replaceEmoji)(s)),title:e.title,url:o,answerId:h,onButtonClick:a=>{h||(p.log("text",e),n(a,t,e.text,o))},bubbleColor:a,key:t});var s}))))};h.propTypes={data:r.default.object,onClick:r.default.func,bubbleColor:r.default.string,isDisabledEmoji:r.default.bool};var g=h;t.default=g},45482:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var i=a(n(98661)),o=a(n(45697)),r=n(89177),s=n(65465),l=n(54415),u=n(83170),c=a(n(19955)),d=a(n(63711)),f=n(88928),p=n(87692),h=n(69882),g=a(n(138));function m(e){let{messages:t}=e;const n=(0,f.useSelector)(p.selectBubbleColor),a=(0,f.useSelector)(p.selectDisableEmoji),o=t[0],m=o.get("msg_id"),_=o.get("body");if(!_){try{l.Monitoring.telemetryOnce("bot_listpicker_error",{param1:JSON.stringify(o.toJSON())})}catch(e){console.warn(e)}return}return i.default.createElement(d.default,{data:_,onClick:(e,t,n,a)=>{if(e.preventDefault(),a){(0,h.getPageWindow)().open(a,"_blank")||console.warn("cant open url",a)}else s.messageActions.setListpickerAnswer(m,t),s.messageActions.sendClientMessage(n),c.default.mobileOrTablet()||(0,r.afterEmojiInserted)();l.Monitoring.telemetry(u.TelemetryName.BOT_BUTTON_CLICK,{param1:a?"url_open":"send_message"}),g.default.trackBotButtonClick(a||n)},bubbleColor:n,isDisabledEmoji:a})}m.propTypes={messages:o.default.arrayOf(o.default.object)}},67250:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(80833)),r=a(n(91471));var s=i.default.memo((e=>{if(e.messages&&e.messages[0]){const t=e.messages[0];if(t.get("body")&&t.get("body").status){const n=t.toJSON();return i.default.createElement(r.default,{messages:e.messages,status:n.body.status,messagePrivateId:n.private_id})}return i.default.createElement(o.default,e)}}));t.default=s},80833:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=n(88928),r=a(n(94184)),s=a(n(45697)),l=n(42958),u=n(77294),c=n(48785),d=n(95140),f=n(76624),p=n(87692),h=n(25373),g=a(n(39906)),m=a(n(96150)),_=a(n(30295)),v=a(n(19955)),b=a(n(4867)),y=a(n(39554)),E=a(n(63960));const T=e=>{const t=e.messages[0],{body:n,created_ts:a}=t.toJSON(),{mediaState:s,loaderRef:T,abortUploading:C}=(0,h.useEnhanced)(t),S=(0,o.useSelector)(p.selectBubbleColor);function O(e){e.preventDefault(),window.open(e.currentTarget.getAttribute("href"))}const A=s.file.file_url||n.file_url||n.file||n.name,w=(0,d.messageInitiator)(t).fromAgent,I=(M=A,R=n.type,M?(0,u.isNewMedia)(M)?s.complete&&["photo"].includes(R):s.complete&&(0,u.isPreviewImage)(M):((0,d.reportName)(t),!1));var M,R;const N=s.file.file_name||n.file_name||n.name,P=w?"grey":S;const D=(0,_.default)(a,"dd.mm.yy H:MM:ss"),L=s.url||e.url,k=n.thumb||s.imagePreview||L,x=w?g.default:m.default,B=(0,r.default)({[E.default.main]:!0,[E.default["_"+P]]:!0,[E.default._mobile]:v.default.mobileOrTablet(),[E.default._client]:!w,[E.default._preview]:I});return i.default.createElement(x,{messages:e.messages,isPreview:I},i.default.createElement("jdiv",{className:B,title:D},I?i.default.createElement(f.Preview,{message:t,name:N,src:k,href:L,isAgentMessage:w,onClick:O}):i.default.createElement(c.Loader,{ref:T,name:N,data:s,message:t,isFromAgent:w,color:P,handleAbort:C,handleClick:O})),(0,l.isErrorMessage)(t)&&i.default.createElement(y.default,{messages:e.messages,messagesStore:b.default}))};T.propTypes={messages:s.default.arrayOf(s.default.instanceOf(b.default)),url:s.default.string};var C=T;t.default=C},48785:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Loader=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(94184)),r=a(n(45697)),s=n(77294),l=n(58271),u=a(n(19955)),c=a(n(84726)),d=a(n(63960)),f=a(n(40704)),p=a(n(46544)),h=n(90906),g=a(n(4867));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const _=(0,i.forwardRef)(((e,t)=>{let{color:n,data:a,message:r,isFromAgent:g,name:m,handleAbort:_,handleClick:v}=e;const b=a.uploading&&a.loaded>1,y=e=>({display:e?"block":"none"}),E={icon:(0,s.getIconColor)(n),circle:(0,s.getCircleColor)(n)},T={iconMain:{cursor:a.uploading?"pointer":"default"},iconError:y(a.error),iconUpload:y(a.complete),loader:y(a.uploading)},C={iconCancel:(0,o.default)([d.default.iconUpload],[d.default.iconLoading]),iconError:(0,o.default)([d.default.iconError]),iconUpload:(0,o.default)([d.default.iconUpload]),mediaComplete:(0,o.default)([d.default.mediaComplete],{[d.default._agent]:g})};return i.default.createElement(i.default.Fragment,null,i.default.createElement("jdiv",{className:d.default.mediaIcon,onClick:_,style:T.iconMain},i.default.createElement("jdiv",{className:d.default.loaderCont,style:T.loader},i.default.createElement("svg",{width:"42",height:"42",viewPort:"0 0 21 21",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("circle",{r:"18",cx:"21",cy:"21",fill:"#ffffff",strokeDasharray:"119.38",strokeDashoffset:"0"}),i.default.createElement("circle",{ref:e=>e,className:d.default.loaderBar,r:"18",cx:"21",cy:"21",fill:"transparent",stroke:E.circle,strokeDasharray:"119.38",strokeDashoffset:"0"})),i.default.createElement(f.default,{color:E.icon,iconName:"icon-cancel",className:C.iconCancel})),i.default.createElement("jdiv",null,!a.error&&i.default.createElement(f.default,{color:E.icon,iconName:`icon-${a.type}`,className:C.iconUpload,style:T.iconUpload}),!g&&i.default.createElement(f.default,{color:E.icon,iconName:"icon-error",className:C.iconError,style:T.iconError}))),i.default.createElement("jdiv",{className:d.default.mediaText},i.default.createElement("jdiv",{className:d.default.mediaFname,title:m},m),b&&i.default.createElement("jdiv",{className:d.default.mediaPerc},(0,l.fileSize)(a.loaded)||""," /"," ",(0,l.fileSize)(a.total)||""),a.complete&&i.default.createElement("jdiv",{className:C.mediaComplete},(0,l.fileSize)(a.total)," ",i.default.createElement("a",{href:(0,s.getUrl)(a.url),onPointerDown:v,onTouchStart:e=>{e.preventDefault(),u.default.isPointerEnabled()||v(e)},target:"_blank",rel:"noopener noreferrer"},(0,c.default)("file_upl_download"))),a.error&&i.default.createElement("jdiv",{className:d.default.mediaComplete},a.error)),i.default.createElement(p.default,{className:d.default.time,message:r,colorSet:h.COLORS_SET.DARK,isRenderStatus:!g}))}));t.Loader=_,_.displayName="Loader",_.propTypes={color:r.default.string,data:r.default.object,message:r.default.instanceOf(g.default),isFromAgent:r.default.bool,name:r.default.string,handleAbort:r.default.func,handleClick:r.default.func}},76624:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Preview=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(45697)),r=n(77294),s=n(95140),l=a(n(19955)),u=a(n(4867)),c=a(n(46544)),d=n(90906),f=a(n(63960));function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}const h=e=>{let{message:t,name:n,src:a,href:o,isAgentMessage:u,onClick:p}=e;const h=t.toJSON().body,g=(0,i.useRef)(a),m=(0,r.getSize)(h),_=(0,s.isGif)({mediaExt:h.file_url||h.file||h.name,message:t});return(0,i.useEffect)((function(){if((0,r.isNewMedia)(g.current)){const e=(0,r.getSize)(h);h.width<209&&(e.width=h.width,e.height=null),g.current=`${h.file}?thumb&width=${e.width}`}}),[g,h]),i.default.createElement("jdiv",{className:u?"":f.default.mediaWrapper},i.default.createElement("a",{className:f.default.previewLink,href:o,onPointerUp:p,onTouchStart:e=>{e.preventDefault(),l.default.isPointerEnabled()||p(e)},title:n,target:"_blank",rel:"nofollow noopener noreferrer"},i.default.createElement("img",{width:m.width,height:m.height,src:g.current,title:n,className:f.default.previewMediaPhoto,loading:"lazy"}),_&&i.default.createElement("jdiv",{className:f.default.overlayText},"GIF"),i.default.createElement(c.default,{className:f.default.time,message:t,colorSet:d.COLORS_SET.DARK,isRenderStatus:!u})))};t.Preview=h,h.propTypes={message:o.default.instanceOf(u.default),name:o.default.string,src:o.default.string,href:o.default.string,isAgentMessage:o.default.bool,onClick:o.default.func}},95140:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialMediaState=function(e){const{sign:t,error:n,file_url:i,file:o,icon_type:r,type:s,mime_type:l,size:u,file_size:c,thumb:d}=e;let f=!1;(t||n)&&(f=!1);(i||o)&&(f=!0);const p=!!f&&(i||o),h=!!f&&(r||s||(0,a.detectType)(l));return{file:!1,url:p,type:h,uploading:!f,complete:f,percentComplete:0,loaded:0,total:f?(u||c)>>0:0,error:!1,imagePreview:d??null}},t.isGif=function(e){let{mediaExt:t,message:n}=e;if(!t)return r(n),!1;const a=t.toLowerCase();return/\.(gif)$/i.test(a)},t.messageInitiator=function(e){const t=e.toJSON();return{fromAgent:(0,i.isAgentMessage)(t)}},t.reportName=r;var a=n(83778),i=n(77294),o=n(54415);function r(e){const t=e.toJSON();o.Monitoring.telemetryOnce("media_data_name",{param1:JSON.stringify(t||null)})}},25373:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=void 0;var i=n(98661),o=n(95140),r=a(n(84726));a(n(4855)).default.name("MediaMessage");const s={uploading:null,progress:null,complete:null,error:null};t.useEnhanced=e=>{const{body:t,private_id:n}=e.toJSON(),[a,l]=(0,i.useState)((()=>(0,o.initialMediaState)(t))),u=(0,i.useRef)();function c(e){l((t=>({...t,...e})))}function d(){Object.values(s).forEach((e=>null==e?void 0:e.remove()))}return(0,i.useEffect)((function(){if(!a.complete)return!t.name||t.error?c({file:t,uploading:!1,complete:!1,error:t.error}):()=>{d()}}),[t,n,a.complete]),{mediaState:a,loaderRef:u,abortUploading:function(){a.uploading&&(c({file:{},uploading:!1,complete:!1,error:(0,r.default)("file_upl_cancel")}),d())}}}},2602:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=n(90906),s=n(81152),l=n(77294),u=a(n(46544)),c=a(n(79325)),d=a(n(63960)),f=a(n(4387));function p(e){let{message:t,url:n,color:a,isMobile:o,isFromAgentMessage:p,onError:h,onCancel:g}=e;const m=t.body,_=m.file_name,v=m.status||s.MediaStatus.COMPLETE,b=m.file_size,y=m.loadedSize,E=m.type,T=m.error,C=v===s.MediaStatus.UPLOADING,S=v===s.MediaStatus.COMPLETE,O=!!T||v===s.MediaStatus.ERROR||v===s.MediaStatus.EXPIRED;return i.default.createElement("jdiv",null,i.default.createElement(c.default,{color:a,totalSize:b,loadedSize:y,mediaType:E,isUploading:C,isComplete:S,isError:O,onClick:g}),i.default.createElement(f.default,{url:n,title:_,totalSize:b,loadedSize:y,error:T,isUploading:C,isComplete:S,isError:O,isMobile:o,isFromAgentMessage:p,onClick:()=>{(0,l.onLinkClick)(n,h,(()=>{o||window.open((0,l.getUrl)(n),"_blank")}))}}),i.default.createElement(u.default,{className:d.default.time,isRenderStatus:!p,message:t,colorSet:r.COLORS_SET.DARK}))}p.propTypes={message:o.default.object.isRequired,color:o.default.string.isRequired,isMobile:o.default.bool.isRequired,url:o.default.string,onError:o.default.func.isRequired,onCancel:o.default.func.isRequired};var h=p;t.default=h},79325:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(94184)),r=a(n(45697)),s=n(77294),l=a(n(63960)),u=a(n(40704)),c=a(n(98132));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const f=e=>{let{color:t,mediaType:n,totalSize:a,loadedSize:r,isError:d,isUploading:f,isComplete:p,onClick:h}=e;const g=(0,i.useRef)(null),m=(0,s.getIconName)(n),_=(0,s.getIconColor)(t);(0,i.useEffect)((function(){r>=0&&(0,s.setSvgProgress)(p,g,a,r)}),[p,r,a]);const v=(0,o.default)({[l.default.mediaIcon]:!0,[l.default._uploading]:f}),b=(0,o.default)({[l.default.loaderCont]:!0,[l.default._uploading]:f}),y=(0,o.default)({[l.default.iconUpload]:!0,[l.default.iconLoading]:!0}),E=(0,o.default)({[l.default.iconUpload]:!0,[l.default._hidden]:!p}),T=(0,o.default)({[l.default.iconError]:!0,[l.default._hidden]:!d});return i.default.createElement("jdiv",{className:v,onClick:h},i.default.createElement("jdiv",{ref:g,className:b},i.default.createElement(c.default,{color:t,loaderBarStyle:l.default.loaderBar}),i.default.createElement(u.default,{iconName:"icon-cancel",className:y,color:_})),i.default.createElement("jdiv",null,d?i.default.createElement(u.default,{iconName:"icon-error",className:T,color:_}):i.default.createElement(u.default,{iconName:m,className:E,color:_})))};f.propTypes={color:r.default.string.isRequired,isComplete:r.default.bool.isRequired,isError:r.default.bool.isRequired,isUploading:r.default.bool.isRequired,mediaType:r.default.string.isRequired,totalSize:r.default.number,loadedSize:r.default.number,onClick:r.default.func.isRequired};var p=f;t.default=p},4387:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(45697)),s=a(n(94184)),l=n(58271),u=n(47713),c=a(n(84726)),d=a(n(63960));const f=e=>{let{url:t,title:n,totalSize:a,loadedSize:r,isUploading:f,isError:p,isComplete:h,isMobile:g,isFromAgentMessage:m,error:_,onClick:v}=e;const b=(0,l.fileSize)(r),y=(0,l.fileSize)(a),E=(0,s.default)({[d.default.mediaComplete]:!0,[d.default._agent]:m});return o.default.createElement("jdiv",{className:d.default.mediaText},o.default.createElement("jdiv",{className:d.default.mediaFname,title:n},n),p&&o.default.createElement("jdiv",{className:d.default.mediaComplete},_),f&&o.default.createElement("jdiv",{className:d.default.mediaPerc},a&&o.default.createElement(o.default.Fragment,null,b," / ",y)),h&&o.default.createElement("jdiv",{className:E},y," ",o.default.createElement("a",(0,i.default)({href:t,target:"_blank",rel:"noopener noreferrer"},(0,u.onClickHandler)(v,!0,!g)),(0,c.default)("file_upl_download"))))};f.propTypes={title:r.default.string.isRequired,isUploading:r.default.bool.isRequired,isError:r.default.bool.isRequired,isComplete:r.default.bool.isRequired,isMobile:r.default.bool.isRequired,isFromAgentMessage:r.default.bool.isRequired,url:r.default.string,totalSize:r.default.number,loadedSize:r.default.number,error:r.default.string,onClick:r.default.func.isRequired};var p=f;t.default=p},29043:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=n(90906),s=n(69845),l=a(n(46544)),u=a(n(63960));const c=e=>{let{message:t,isFromAgentMessage:n}=e;return i.default.createElement("jdiv",null,i.default.createElement("jdiv",{className:u.default.mediaFname},"Location"),i.default.createElement("jdiv",{className:u.default.locationLink,dangerouslySetInnerHTML:{__html:(0,s.formatText)(t.text)}}),i.default.createElement(l.default,{className:u.default.time,isRenderStatus:!n,message:t,colorSet:r.COLORS_SET.DARK}))};c.propTypes={message:o.default.object.isRequired,isFromAgentMessage:o.default.bool.isRequired};var d=c;t.default=d},91471:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=a(n(45697)),s=n(81152),l=n(26932),u=n(54415),c=n(87692),d=n(66311),f=n(63664),p=a(n(19955)),h=a(n(84726)),g=a(n(30679));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function _(e){let{messages:t,messagePrivateId:n}=e;(0,f.useErrorCatcher)(_.displayedName);const a=(0,o.useSelector)(c.selectBubbleColor),r=(0,o.useSelector)((e=>(0,d.selectMessageByPrivateId)(e,n))),[m,v]=(0,i.useState)(!1);function b(e,t){l.messagesDispatchers.updateMessageBody(n,{...r.body,status:t||s.MediaStatus.ERROR,error:e})}return r&&r.body?i.default.createElement(g.default,{message:r,storedMessages:t,bubbleColor:a,isMobile:p.default.mobileOrTablet(),isPreviewError:m,onPreviewError:function(){return v(!0)},onCancelError:function(){return b((0,h.default)("file_upl_cancel"),s.MediaStatus.ERROR)},onUploadError:function(e){return 401===e?b((0,h.default)("file_upl_expired"),s.MediaStatus.EXPIRED):b((0,h.default)("file_upl_error"),s.MediaStatus.ERROR)}}):(u.Monitoring.telemetryOnce("media_data_name",{param1:n,param2:JSON.stringify(t),param3:JSON.stringify(r)}),null)}_.displayedName="MediaMessageContainer",_.propTypes={messages:r.default.arrayOf(r.default.object).isRequired,messagePrivateId:r.default.string.isRequired};var v=_;t.default=v},30679:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(94184)),r=a(n(45697)),s=n(77294),l=n(81152),u=a(n(39906)),c=a(n(96150)),d=a(n(30295)),f=a(n(2602)),p=a(n(11502)),h=a(n(63960)),g=a(n(29043)),m=a(n(4659)),_=a(n(56378)),v=a(n(47532));function b(e){let{message:t,storedMessages:n,bubbleColor:a,isMobile:r,isPreviewError:b,onPreviewError:y,onCancelError:E,onUploadError:T}=e;const C=t.body,S=C.file_url||C.file,O=C.status||l.MediaStatus.COMPLETE,A=C.thumb,w=C.type,I=C.mime_type;if(!C)throw new Error("There is no message body");if(S&&!/^http?s:\/\//gi.test(S))throw new Error(`Bad url (xss: ${S})`);const M=O===l.MediaStatus.COMPLETE,R=w===l.MediaType.VIDEO,N=w===l.MediaType.PHOTO,P=w===l.MediaType.LOCATION,D=w===l.MediaType.VOICE,L=w===l.MediaType.STICKER,k=w===l.MediaType.RICH_LINK,x=(0,s.isFileGif)(I),B=M&&(A&&N||R)&&!b,j=(0,s.isAgentMessage)(t),F=j?u.default:c.default,H=(0,d.default)(t.created_ts,"dd.mm.yy H:MM:ss"),U=j?"grey":a,W=(0,o.default)({[h.default.main]:!0,[h.default._mobile]:r,[h.default._client]:!j,[h.default._preview]:B,[h.default[`_${U}`]]:!0});return k?i.default.createElement(F,{messages:n,width:248},i.default.createElement("jdiv",{className:W,title:H},i.default.createElement(v.default,{message:t,bubbleColor:a,isMobile:r}))):D?i.default.createElement(F,{messages:n},i.default.createElement("jdiv",{className:W,title:H},i.default.createElement(m.default,{message:t,url:S,color:U,isMobile:r,isFromAgentMessage:j,onError:T,onCancel:E}))):L?i.default.createElement(F,{messages:n},i.default.createElement("jdiv",{className:W,title:H},i.default.createElement(_.default,{message:t,url:S,color:U,isMobile:r,isFromAgentMessage:j,onError:T,onCancel:E}))):P?i.default.createElement(F,{messages:n},i.default.createElement("jdiv",{className:W,title:H},i.default.createElement(g.default,{message:t,isFromAgentMessage:j}))):i.default.createElement(F,{messages:n,isPreview:B},i.default.createElement("jdiv",{className:W,title:H},B?i.default.createElement(p.default,{message:t,url:S,isVideo:R,isGif:x,isFromAgentMessage:j,onError:y}):i.default.createElement(f.default,{message:t,url:S,color:U,isMobile:r,isFromAgentMessage:j,onError:T,onCancel:E})))}b.propTypes={message:r.default.object.isRequired,storedMessages:r.default.arrayOf(r.default.object).isRequired,bubbleColor:r.default.string.isRequired,isMobile:r.default.bool.isRequired,isPreviewError:r.default.bool.isRequired,onPreviewError:r.default.func.isRequired,onCancelError:r.default.func.isRequired,onUploadError:r.default.func.isRequired};var y=b;t.default=y},54072:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(45697)),r=a(n(63960));function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}const l=e=>{let{file:t,onClick:n}=e;const[a,o]=(0,i.useState)(!0);return a?i.default.createElement(i.default.Fragment,null,i.default.createElement("jdiv",{className:r.default.overlayText},"GIF"),i.default.createElement("jdiv",{className:r.default.playIcon,onClick:e=>{e.preventDefault(),n(t,(()=>o(!1)))}})):null};l.propTypes={file:o.default.string.isRequired,onClick:o.default.func.isRequired};var u=l;t.default=u},21964:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=l(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(45697)),r=n(52274),s=a(n(63960));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(l=function(e){return e?n:t})(e)}const u=(0,i.forwardRef)(((e,t)=>{let{src:n,title:a,size:o,isNewMedia:l,onError:u}=e;const c=l?`${n}?thumb&width=${o.width||r.MAX_IMAGE_WIDTH}`:n;return i.default.createElement("img",{ref:t,className:s.default.previewMediaPhoto,title:a,src:c,width:o.width,height:o.height,loading:"lazy",onError:u})}));u.displayName="Image",u.propTypes={title:o.default.string.isRequired,src:o.default.string.isRequired,size:o.default.shape({width:o.default.oneOfType([o.default.string,o.default.number]),height:o.default.oneOfType([o.default.string,o.default.number])}).isRequired,isNewMedia:o.default.bool.isRequired,onError:o.default.func.isRequired};var c=u;t.default=c},11502:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(45697)),r=n(90906),s=n(77294),l=n(81152),u=a(n(54072)),c=a(n(21964)),d=a(n(46544)),f=a(n(63960)),p=a(n(63070));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){let{message:t,url:n,isVideo:a,isGif:o,isFromAgentMessage:h,onError:g}=e;const m=t.body,_=m.file,v=m.file_name,b=m.thumb,y=m.status||l.MediaStatus.COMPLETE,E=(0,i.useRef)(null),T=!(a||y===l.MediaStatus.EXPIRED),C=o&&!(null!=n&&n.endsWith("gif"));return i.default.createElement("jdiv",{className:h?f.default.mediaWrapper:f.default.clientMediaWrapper},i.default.createElement("a",{className:f.default.previewLink,href:_,title:v,target:"_blank",rel:"nofollow noopener noreferrer"},T&&i.default.createElement(c.default,{ref:E,src:_,title:v,size:(0,s.getSize)(m),isNewMedia:(0,s.isNewMedia)(b),onError:g}),C&&i.default.createElement(u.default,{file:_,onClick:(e,t)=>{null!=E&&E.current&&(E.current.src=e,t())}}),i.default.createElement(d.default,{className:f.default.time,isRenderStatus:!h,message:t,colorSet:r.COLORS_SET.DARK})),a&&i.default.createElement(p.default,{title:v,src:_,poster:b,onError:g}))}g.propTypes={message:o.default.object.isRequired,url:o.default.string,isVideo:o.default.bool.isRequired,isGif:o.default.bool.isRequired,isFromAgentMessage:o.default.bool.isRequired,onError:o.default.func.isRequired};var m=g;t.default=m},63070:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697));function r(e){let{title:t,src:n,poster:a,onError:o}=e;return i.default.createElement("video",{controls:!0,width:"250",preload:a?"none":null,poster:a??null,title:t},i.default.createElement("source",{src:n,onError:o}),"Video is not supported.")}r.propTypes={title:o.default.string.isRequired,src:o.default.string.isRequired,poster:o.default.string,onError:o.default.func.isRequired};var s=r;t.default=s},47532:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(45697)),s=n(69845),l=n(47713),u=a(n(84726)),c=n(90361),d=a(n(30295)),f=a(n(32083)),p=n(16016),h=a(n(23360));function g(e){let{message:t,bubbleColor:n}=e;const a=t.body.title==t.body.text,r=(0,d.default)(t.created_ts,"H:MM");return o.default.createElement("jdiv",{className:h.default.linkWrap},o.default.createElement("jdiv",{className:h.default.link,dangerouslySetInnerHTML:{__html:(0,s.formatText)(t.body.url)}},t.body.url),o.default.createElement("jdiv",{className:h.default.contentWrap},o.default.createElement("a",{href:t.body.url,className:h.default.content,title:t.body.title,rel:"noopener noreferrer",target:"_blank"},t.body.title?o.default.createElement("jdiv",{className:h.default.title},(0,p.formatTextLen)(t.body.title,128)):null,!a&&t.body.text?o.default.createElement("jdiv",{className:h.default.text},(0,p.formatTextLen)(t.body.text,128)):null,t.body.thumb?o.default.createElement("jdiv",{className:h.default.imgWrap},o.default.createElement("img",{src:t.body.thumb,title:t.body.title})):null)),o.default.createElement(f.default,(0,i.default)({},(0,l.onClickHandler)((()=>{window.open(t.body.url,"_blank")})),{title:(0,u.default)("lblView"),color:n,variant:"filled",size:"sm",radius:"md",component:"jdiv",fullWidth:!0}),(0,u.default)("lblView")),o.default.createElement("jdiv",(0,i.default)({className:h.default.time},(0,c.withLocator)("msg_agent_time")),r))}g.propTypes={message:r.default.object.isRequired,bubbleColor:r.default.string.isRequired};var m=g;t.default=m},56378:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(2602));const s=e=>{let{message:t,url:n,color:a,isMobile:o,isFromAgentMessage:s,onError:l,onCancel:u}=e;const c={...t,body:{...t.body,file_name:"Sticker: "+t.body.file_name}};return i.default.createElement(r.default,{message:c,url:n,color:a,isMobile:o,isFromAgentMessage:s,onError:l,onCancel:u})};s.propTypes={message:o.default.object.isRequired,color:o.default.string.isRequired,isMobile:o.default.bool.isRequired,isFromAgentMessage:o.default.bool.isRequired,url:o.default.string,onError:o.default.func.isRequired,onCancel:o.default.func.isRequired};var l=s;t.default=l},4659:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(2602));function s(e){let{message:t,url:n,color:a,isMobile:o,isFromAgentMessage:s,onError:l,onCancel:u}=e;const c={...t,body:{...t.body,file_name:"Voice: "+t.body.file_name}};return i.default.createElement(r.default,{message:c,url:n,color:a,isMobile:o,isFromAgentMessage:s,onError:l,onCancel:u})}s.propTypes={message:o.default.object.isRequired,color:o.default.string.isRequired,isMobile:o.default.bool.isRequired,isFromAgentMessage:o.default.bool.isRequired,url:o.default.string,onError:o.default.func.isRequired,onCancel:o.default.func.isRequired};var l=s;t.default=l},98132:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=n(77294);const s=e=>{let{color:t="green",loaderBarStyle:n}=e;return i.default.createElement(i.default.Fragment,null,i.default.createElement("svg",{width:"42",height:"42",viewPort:"0 0 21 21",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},i.default.createElement("circle",{r:"18",cx:"21",cy:"21",fill:"#ffffff",strokeDasharray:"119.38",strokeDashoffset:"0"}),i.default.createElement("circle",{className:n,r:"18",cx:"21",cy:"21",fill:"transparent",stroke:(0,r.getCircleColor)(t),strokeDasharray:"119.38",strokeDashoffset:"0"})))};s.propTypes={color:o.default.string,loaderBarStyle:o.default.string};var l=i.default.memo(s);t.default=l},77294:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setSvgProgress=t.onLinkClick=t.isVideo=t.isPreviewImage=t.isNewMedia=t.isFileGif=t.isAgentMessage=t.getUrl=t.getSize=t.getIconName=t.getIconColor=t.getCircleColor=t.getApiHost=t.formatOldMedia=t.calculateAspectRatio=void 0;var i=n(44145),o=n(52274),r=n(81152),s=a(n(19955)),l=n(69882),u=n(81152),c=n(95911),d=n(55004),f=a(n(4855)),p=a(n(2559));const h=f.default.name("MediaHelpers"),g=(e,t,n,a)=>{const i=Math.min(n/e,a/t);return{width:(e*i).toFixed(),height:(t*i).toFixed()}};t.calculateAspectRatio=g;t.getIconColor=e=>{switch(e){case"blue":return p.default.BLUE_80;case"grey":return p.default.STEEL_80;default:return p.default.GREEN_80}};t.getIconName=e=>{switch(e){case r.MediaType.VOICE:return"icon-audio";case r.MediaType.STICKER:return"icon-document";default:return`icon-${e}`}};t.getCircleColor=e=>{switch(e){case"blue":return p.default.BLUE_90;case"grey":return p.default.STEEL_90;default:return p.default.GREEN_90}};t.getSize=e=>{const t={width:null,height:null};if(e.width&&e.width>o.MAX_IMAGE_WIDTH){const n=g(e.width,e.height,o.MAX_IMAGE_WIDTH,500);return t.width=n.width,t.height=n.height,t}return t.width=e.width,t.height=e.height,t};t.isAgentMessage=e=>e.from===r.MessageInitiator.AGENT||e.from===r.MessageInitiator.FORM||e.type===r.MessageType.PROACTIVE;t.isNewMedia=e=>!!e&&(e.includes("https://media")&&e.includes("jivosite.com"));t.onLinkClick=(e,t,n)=>{c.promisedRequest.head(e).then((()=>{h.warn("File is ok"),(0,d.isFunction)(n)&&n()})).catch((e=>{h.error("File is unavaiable",e),(0,d.isFunction)(t)&&t(e.status)}))};t.getUrl=e=>s.default.mobileOrTablet()&&s.default.chromeIOS()?null==e?void 0:e.replace(/^https?:\/\//i,"googlechrome://"):e;t.isPreviewImage=e=>{if(!e)return!1;const t=e.toLowerCase();return/\.(gif|jpg|jpeg|png|webp)$/i.test(t)};t.isVideo=e=>!!e&&/(video\/)/i.test(e.toLowerCase());t.isFileGif=e=>{if(!e)return!1;const t=e.toLowerCase();return/\.(gif)|\/(gif)$/i.test(t)};t.getApiHost=()=>{const e=(0,i.getSystemSettings)().apiHost;return(0,l.getProtocol)()+"//"+e||"https://api.jivosite.com"};t.formatOldMedia=e=>(e.name&&(e.file_name=e.name),e.icon_type&&(e.mime_type=e.type,e.type=e.icon_type),e.status||(e.status=e.error?u.MediaStatus.ERROR:u.MediaStatus.COMPLETE),e);t.setSvgProgress=(e,t,n,a)=>{if(n&&t&&t.current){let i=(a/n*100).toFixed(0);const o=t.current.getElementsByTagName("circle")[1];if(e&&(i=100),isNaN(i))o.style.strokeDashoffset=1;else if(o){const e=o.getAttribute("r"),t=(100-i)/100*(Math.PI*(2*e));o.style.strokeDashoffset=t}}}},18277:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var i=a(n(98661)),o=a(n(94184)),r=a(n(45697)),s=a(n(30295)),l=n(69845),u=a(n(4867)),c=a(n(5107)),d=a(n(32138)),f=a(n(19955));function p(e){let{messages:t}=e;const n=(0,o.default)({[d.default.main]:!0,[d.default.__agent]:!0,[d.default.__mobile]:f.default.mobileOrTablet()});return i.default.createElement(c.default,{messages:t},i.default.createElement("jdiv",{className:n},t.map(((e,t)=>{const{created_ts:n,text:a}=e.toJSON(),r=(0,s.default)(n,"dd.mm.yy H:MM:ss"),u={__html:(0,l.formatText)(a)},c=(0,o.default)({[d.default.message]:!0,[d.default.textWrap]:!0,[d.default.__alone]:(0,l.checkAlone)(a)});return i.default.createElement("jdiv",{key:t,className:c,title:r},i.default.createElement("jdiv",{className:d.default.text,dangerouslySetInnerHTML:u}))}))))}p.propTypes={messages:r.default.arrayOf(r.default.instanceOf(u.default))}},39554:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(45697)),r=a(n(84726)),s=n(81152),l=n(69029),u=a(n(4867)),c=a(n(33683));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const f=e=>{let{message:t}=e;const[n,a]=(0,l.useEnhanced)({message:t}),o=c.default.sendErrorMessage,u=c.default.resend;return n===s.MessageStatus.SENT?i.default.createElement("jdiv",{className:o},"..."):i.default.createElement("jdiv",{className:o},(0,r.default)("error_send"),","," ",i.default.createElement("jdiv",{className:u,onClick:a},(0,r.default)("error_resend")))};f.propTypes={message:o.default.instanceOf(u.default)};var p=(0,i.memo)(f);t.default=p},69029:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(e){let{message:t}=e;const[n,a]=(0,i.useState)(t.get("status"));return[n,async function(){a(l.MessageStatus.SENT);const{body:e,private_id:n,type:i,text:p}=t.toJSON();if(i===l.MessageType.MEDIA){const{media:a}=(0,o.getMediaData)(t),i=(0,r.getClient)().departmentId,s=e.is_prechat,l={name:"client_message",message:p,private_id:n,media:a};i&&(l.widget_department_id=i),s&&(l.is_prechat_btn=!0),(0,o.sendMedia)(l),setTimeout((()=>{(0,o.checkForDelivered)(t)}),2e3)}else{s.messageActions.sendClientMessage(p,n);const{isNotDelivered:e}=await s.messageActions.checkMessageStatus(n);if(e)return void a(l.MessageStatus.NOT_DELIVERED)}f.messagesDispatchers.updateMessage({privateId:n},{created_ts:(new Date).getTime(),status:l.MessageStatus.SENT}),d.default.sort(),d.default.trigger("update"),u.Monitoring.telemetry(c.TelemetryName.RESEND_CLICK)}]};var i=n(98661),o=n(66934),r=n(44145),s=n(65465),l=n(81152),u=n(54415),c=n(83170),d=a(n(14264)),f=n(26932)},60936:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(68531)),r=a(n(91471));var s=i.default.memo((e=>{if(e.messages&&e.messages[0]){const t=e.messages[0];if(t.get("body")&&t.get("body").type){const e=t.toJSON();return i.default.createElement(r.default,{message:e,status:e.body.status,messagePrivateId:e.private_id})}return i.default.createElement(o.default,e)}}));t.default=s},38282:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Markdown=l;var i=a(n(98661)),o=a(n(45697)),r=n(65787),s=a(n(59811));function l(e){let{text:t,customerIO:n}=e;const a=n&&r.sendUrlClickTelemetry;return i.default.createElement(s.default,{text:t,onLinkClick:a})}l.propTypes={text:o.default.string.isRequired,customerIO:o.default.bool}},60569:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Wrap=l;var i=a(n(23101)),o=a(n(98661)),r=a(n(45697)),s=a(n(32138));function l(e){let{children:t,lineHeight:n,...a}=e;const r={lineHeight:n};return o.default.createElement("jdiv",(0,i.default)({className:s.default.textWrap,style:r},a),t)}l.propTypes={children:r.default.node,lineHeight:r.default.string}},25153:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=u;var i=a(n(98661)),o=a(n(45697)),r=n(60569),s=a(n(84726)),l=a(n(32138));function u(e){let{children:t,isDeletedMessage:n,lineHeight:a}=e;return n?i.default.createElement(r.Wrap,{lineHeight:a},i.default.createElement("jdiv",{className:l.default.text},(0,s.default)("messageDeleted"))):i.default.createElement(r.Wrap,{lineHeight:a},t)}u.propTypes={children:o.default.node,isDeletedMessage:o.default.bool.isRequired,lineHeight:o.default.string}},2046:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=y;var i=a(n(23101)),o=a(n(98661)),r=a(n(94184)),s=a(n(45697)),l=n(69845),u=n(90906),c=n(42958),d=n(90361),f=a(n(30295)),p=a(n(46544)),h=a(n(4867)),g=a(n(39554)),m=a(n(32138)),_=a(n(25153)),v=n(81152),b=n(38282);function y(e){let{message:t,bubbleColor:n,lineHeight:a,isClientMessage:s,isAgentMessage:h,isDeletedMessage:y,isErrorMessage:E}=e;const{body:T,text:C,updated_ts:S,created_ts:O}=t.toJSON(),A=Boolean(S&&!y),w=(0,l.checkAlone)(C),I=(0,f.default)(S||O,"dd.mm.yy H:MM:ss"),M=`msg_${s?v.MessageInitiator.CLIENT:v.MessageInitiator.AGENT}`,R=(0,r.default)({[m.default.message]:!0,[m.default["_"+n]]:!0,[m.default.__alone]:w,[m.default.__client]:s,[m.default.__edited]:!!S,[m.default.__deleted]:y}),N=(0,c.renderMessageText)(t);return o.default.createElement(o.default.Fragment,null,o.default.createElement("jdiv",(0,i.default)({className:R,title:I},(0,d.withLocator)(M)),N&&o.default.createElement(_.default,{text:N,time:I,lineHeight:a,customerIO:null==T?void 0:T.customerIO,isDeletedMessage:y,isEditedMessage:A,isMarkdownMessage:(0,c.isMarkdownMessage)(t)},(0,c.isMarkdownMessage)(t)?o.default.createElement("jdiv",{className:m.default.text},o.default.createElement(b.Markdown,{text:C,customerIO:null==T?void 0:T.customerIO})):o.default.createElement("jdiv",{className:m.default.text,dangerouslySetInnerHTML:{__html:N}}),o.default.createElement(p.default,(0,i.default)({},(0,d.withLocator)(M+"_time"),{className:m.default.time,isRenderStatus:s,message:t,colorSet:h?u.COLORS_SET.LIGHT:u.COLORS_SET.DARK})))),E&&o.default.createElement(g.default,{message:t}))}y.propTypes={message:s.default.instanceOf(h.default).isRequired,bubbleColor:s.default.string.isRequired,isClientMessage:s.default.bool.isRequired,isAgentMessage:s.default.bool.isRequired,isDeletedMessage:s.default.bool.isRequired,isErrorMessage:s.default.bool.isRequired,lineHeight:s.default.string}},68531:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var i=a(n(98661)),o=a(n(45697)),r=n(32444),s=a(n(19955)),l=a(n(4867)),u=a(n(20110));function c(e){let{messages:t}=e;const{bubbleColor:n,lineHeight:a}=(0,r.useEnhanced)(),o=s.default.mobileOrTablet();return i.default.createElement(u.default,{messages:t,isMobile:o,bubbleColor:n,lineHeight:a})}c.propTypes={messages:o.default.arrayOf(o.default.instanceOf(l.default))}},20110:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var i=a(n(98661)),o=a(n(94184)),r=a(n(45697)),s=a(n(39906)),l=a(n(96150)),u=a(n(4867)),c=n(42958),d=a(n(32138)),f=a(n(2046));function p(e){let{messages:t,isMobile:n,bubbleColor:a,lineHeight:r}=e;const{fromClient:u,fromAgent:p}=(0,c.messageInitiator)(t[0]),h=p?s.default:l.default,g=(0,o.default)({[d.default.main]:!0,[d.default.__client]:u,[d.default.__agent]:p,[d.default.__mobile]:n});return i.default.createElement(h,{messages:t},i.default.createElement("jdiv",{className:g},t.map(((e,t)=>i.default.createElement(f.default,{key:t,message:e,bubbleColor:a,lineHeight:r,isClientMessage:u,isAgentMessage:p,isDeletedMessage:(0,c.messageStatus)(e).isDeleted,isErrorMessage:(0,c.isErrorMessage)(e)})))))}p.propTypes={messages:r.default.arrayOf(r.default.instanceOf(u.default)).isRequired,isMobile:r.default.bool.isRequired,bubbleColor:r.default.string.isRequired,lineHeight:r.default.string}},32444:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(){const e=(0,o.useSelector)(r.selectBubbleColor),[t,n]=(0,i.useState)((()=>s.default.ios()?l.default.getLineHeight():null));return(0,i.useEffect)((function(){l.default.listenChangeZoom((()=>{if(s.default.ios()){const e=l.default.getLineHeight();n(e)}}))}),[]),{bubbleColor:e,lineHeight:t}};var i=n(98661),o=n(88928),r=n(87692),s=a(n(19955)),l=a(n(74379))},42958:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isErrorMessage=function(e){const t=!(0,o.getClient)().isIntroduced&&!(0,o.getApp)().isOnline,{fromAgent:n}=r(e),{isNotDelivered:a}=s(e);return!n&&a&&!t},t.isMarkdownMessage=l,t.messageInitiator=r,t.messageStatus=s,t.renderMessageText=function(e){const{body:t,text:n}=e.toJSON();if("listpicker"===(null==t?void 0:t.type))return t.text||t.title;if(l(e))return n;return(0,i.formatText)(n)};var a=n(81152),i=n(69845),o=n(44145);function r(e){const{from:t,type:n}=e.toJSON();return{fromClient:t===a.MessageInitiator.CLIENT,fromBot:t===a.MessageInitiator.FORM,fromAgent:t===a.MessageInitiator.FORM||t===a.MessageInitiator.AGENT||n===a.MessageType.PROACTIVE}}function s(e){const{status:t}=e.toJSON();return{isDeleted:t===a.MessageStatus.DELETED,isNotDelivered:t===a.MessageStatus.NOT_DELIVERED}}function l(e){const{body:t}=e.toJSON(),n=null==t?void 0:t.is_markdown,a=null==t?void 0:t.customerIO;return Boolean(n||a)}},25117:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=n(11413),r=n(93179),s=n(31694),l=n(27523),u=n(63664),c=n(52028);const d=()=>{(0,u.useErrorCatcher)(d.displayName);const{componentRef:e,bubbleColor:t,isIos:n,phrases:a,isHidden:f,isDisabledEmoji:p,enablePrechat:h,sendPhrase:g}=(0,s.useEnhanced)();if(c.isDesignerEditor||h)return i.default.createElement(r.PrechatMessagePure,{ref:e,bubbleColor:t,phrases:a,isHidden:f,isIos:n,formatText:function(e){return p?(0,o.escape)(e):(0,l.replaceEmoji)(e)},sendPhrase:g})};d.displayName="PrechatMessageContainer";var f=d;t.default=f},93179:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.PrechatMessagePure=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(94184)),s=a(n(45697)),l=n(47713),u=a(n(77335));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=(0,o.forwardRef)(((e,t)=>{let{bubbleColor:n,phrases:a,isHidden:s,isMobile:c,isIos:d,formatText:f,sendPhrase:p}=e;const h=(0,r.default)({[u.default.main]:!0,[u.default["__"+n]]:!0,[u.default.__mobile]:c,[u.default.__ios]:d,[u.default.__hide]:s});return o.default.createElement("jdiv",{ref:t,className:h},a.map((e=>{let{id:t,text:n}=e;return o.default.createElement("jdiv",(0,i.default)({key:t,className:u.default.button},(0,l.onClickHandler)((()=>{p(n,t)}),!0,!0),{dangerouslySetInnerHTML:{__html:f(n)}}))})))}));t.PrechatMessagePure=d,d.displayName="PrechatMessage",d.propTypes={bubbleColor:s.default.string,phrases:s.default.arrayOf(s.default.shape({id:s.default.number,text:s.default.string})),isHidden:s.default.bool,isMobile:s.default.bool,isIos:s.default.bool,formatText:s.default.func,sendPhrase:s.default.func}},55329:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.updatePrechatTime=t.prechatUsed=t.prechatSetUsed=t.prechatEnabled=t.getPrechatUseTime=void 0;var i=n(13077),o=a(n(14264)),r=n(81152),s=n(44145);let l=!1;t.prechatUsed=()=>l;t.prechatSetUsed=e=>{e&&(0,i.setRuleLocal)("prechatUseTime",(new Date).getTime()),l=e};const u=()=>(0,s.getSystemSettings)().premium&&(0,s.getFeatures)().prechat&&(0,s.getApp)().isOnline&&!(0,s.getApp)().maintenance&&!(0,s.getSystemSettings)().botmode;t.prechatEnabled=u;t.getPrechatUseTime=()=>{const e=(0,i.getRuleLocal)("prechatUseTime");if(!e)return null;const t=((new Date).getTime()-e)/1e3;return(0,i.setRuleLocal)("prechatUseTime",null),parseInt(t)};t.updatePrechatTime=e=>{if(u()){const t=o.default.getMessagesByType(r.MessageType.PRECHAT);t.length&&t[0].set("created_ts",e+1)}}},31694:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.PrechatEmitter=void 0,t.useEnhanced=function(){const[e,t]=(0,i.useState)([]),[n,a]=(0,i.useState)((()=>b.default.mobileOrTablet()&&!(0,u.isChatPage)())),r=(0,o.useDispatch)(),I=(0,i.useRef)(),M=(0,o.useSelector)(C.selectPrechat),R=(0,o.useSelector)(C.selectEnablePrechat),N=(0,o.useSelector)(C.selectBubbleColor),P=(0,o.useSelector)(C.selectLocale),D=(0,o.useSelector)(C.selectDisableEmoji),L=b.default.mobileOrTablet(),k=b.default.ios(),x=(0,o.useSelector)(S.selectProactive),B=(0,o.useSelector)(O.selectCampaigns),j=(0,i.useCallback)((e=>{if(Array.isArray(M)&&!M.length)return[];if(B&&Array.isArray(x.prechats))return x.prechats;const t=(0,c.sortBy)(e??M,"id"),n=t.length||3,a=[];for(let e=0;e<n;e++){var i;const n=e+1,o=0===e?"":n;let r;n<=3&&(r=(0,y.default)(`prechatText${o}`)),null!==(i=t[e])&&void 0!==i&&i.text&&(r=t[e].text),r&&a.push({id:n,text:r})}return a}),[M]);return(0,i.useEffect)((function(){t(j())}),[j]),(0,i.useEffect)((function(){w.addListener("updatePrechatText",(e=>{t(j(e))}))}),[j]),(0,i.useEffect)((function(){E.default.set(l.Component.PRECHAT,I.current)}),[]),(0,i.useEffect)((function(){const e=setTimeout((()=>a(!1)),500);return()=>{clearTimeout(e)}}),[]),{componentRef:I,bubbleColor:N,phrases:e,isHidden:n,isDisabledEmoji:D,isMobile:L,isIos:k,enablePrechat:R,sendPhrase:(e,t)=>{(0,p.prechatSetUsed)(!0),A.RouterUtils.canShowIntroduceForm()?(r((0,m.setLastMessage)(e)),h.Router.next(g.RouterEvent.ToIntroduce)):(d.messageActions.sendClientMessage(e),T.default.play("outgoing_message"),b.default.mobileOrTablet()||(0,s.afterEmojiInserted)());a(!0),f.Monitoring.telemetryOnce(_.TelemetryName.PRECHAT,{param1:t,param2:P}),v.default.trackPrechatClick(t)}}};var i=n(98661),o=n(88928),r=n(89766),s=n(89177),l=n(47245),u=n(69882),c=n(45950),d=n(65465),f=n(54415),p=n(55329),h=n(21476),g=n(47060),m=n(92056),_=n(83170),v=a(n(138)),b=a(n(19955)),y=a(n(84726)),E=a(n(75686)),T=a(n(71277)),C=n(87692),S=n(7193),O=n(95448),A=n(80161);const w=new r.EventEmitter;t.PrechatEmitter=w},68168:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(9097)),s=a(n(30295)),l=a(n(84726));const u=e=>{let{messages:t}=e;const n=t[0].time;return i.default.createElement("jdiv",{className:r.default.main},(e=>{const t=new Date(e),n=new Date,a=t.getFullYear()===n.getFullYear(),i=t.getMonth()===n.getMonth(),o=t.getDate()===n.getDate(),r=t.getDate()===n.getDate()-1;return a&&i?o?(0,l.default)("today"):r?(0,l.default)("yesterday"):(0,s.default)(e,"dd.mm.yyyy"):(0,s.default)(e,"dd.mm.yyyy")})(n))};u.propTypes={messages:o.default.arrayOf(o.default.object)};var c=u;t.default=c},12822:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(94184)),r=a(n(1039)),s=a(n(19955)),l=a(n(13114)),u=a(n(79868)),c=a(n(14890)),d=a(n(89315));class f extends i.default.Component{constructor(e){super(e);const t=u.default.getSocial();u.default.isLoginned()&&(this.state={vk:t.vk,fb:t.fb,mode:t.mode})}componentWillMount(){r.default.joint&&!s.default.mobileOrTablet()||3!=r.default.contacts_ask||this.setState({mode:"email"})}render(){if(this.props.messages&&this.state.mode)return i.default.createElement(l.default,{padding:"sm",addClassname:(0,o.default)({[d.default.wrapper]:!0})},i.default.createElement(c.default,{mode:this.state}))}}t.default=f},99762:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.AgentAvatar=void 0;var i=a(n(98661)),o=a(n(45697)),r=n(67597),s=a(n(25648));const l=e=>{let{avatarHost:t,agentAvatar:n}=e;const a=n&&(0,r.getAvatarUrl)(t,n),o={backgroundImage:`url(${a})`};return i.default.createElement("jdiv",{className:s.default.avatar},a&&i.default.createElement("jdiv",{className:s.default.img,style:o}))};t.AgentAvatar=l,l.propTypes={avatarHost:o.default.string,agentAvatar:o.default.string}},88528:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var i=a(n(98661)),o=a(n(94184)),r=a(n(45697)),s=n(99762),l=n(69845),u=n(60031),c=a(n(19955)),d=a(n(84726)),f=a(n(4867)),p=a(n(74379)),h=a(n(25648));function g(e){let{messages:t}=e;const{body:n}=t[0].toJSON(),{agentInfo:a,avatarUrl:r}=(0,u.useEnhanced)(n.from_id),f=(0,d.default)("chat_agent_"+n.action).replace("_AGENT_",a.get("display_name")),g=(0,o.default)({[h.default.main]:!0,[h.default._mobile]:c.default.mobile()}),m={"-webkit-text-size-adjust":c.default.ios()?p.default.getTextSize():null};return i.default.createElement("jdiv",{className:g},"join"===n.action&&i.default.createElement(s.AgentAvatar,{avatarUrl:r,agentAvatar:a.get("avatar_url")}),i.default.createElement("jdiv",{className:h.default.text,style:m,dangerouslySetInnerHTML:{__html:(0,l.formatText)(f)}}))}g.propTypes={messages:r.default.arrayOf(r.default.instanceOf(f.default))}},60031:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(e){const t=(0,o.useSelector)(s.selectAvatarUrl),[n,a]=(0,i.useState)((()=>r.default.getAgentById(e)));return(0,i.useEffect)((function(){r.default.on("update",(()=>{const t=r.default.getAgentById(e);a(t)}))}),[e]),{agentInfo:n,avatarUrl:t}};var i=n(98661),o=n(88928),r=a(n(14762)),s=n(87692)},79232:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(94184)),r=a(n(45697)),s=a(n(40704)),l=n(69845),u=a(n(48524));const c=e=>{let{message:t,textSize:n,isMobile:a,isIos:r}=e;const{body:c,text:d}=t,f=(0,o.default)({[u.default.main]:!0,[u.default["__"+c.name]]:!0,[u.default.__mobile]:a}),p=(0,o.default)({[u.default.text]:!0,[u.default.__mobile]:a}),h=r?{WebkitTextSizeAdjust:n}:null,g={__html:(0,l.formatText)(d)};return i.default.createElement("jdiv",{className:f},i.default.createElement("jdiv",{style:h,className:p},i.default.createElement(s.default,{color:"#18C139",iconName:c.name+"Icon",className:u.default.callIcon}),i.default.createElement("jdiv",{dangerouslySetInnerHTML:g})))};c.propTypes={message:r.default.object.isRequired,isMobile:r.default.bool.isRequired,isIos:r.default.bool.isRequired,textSize:r.default.string};var d=c;t.default=d},55961:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var i=a(n(98661)),o=a(n(45697)),r=a(n(88528)),s=a(n(79232)),l=a(n(4867)),u=a(n(28558)),c=n(60152),d=n(63664);function f(e){var t;let{messages:n}=e;(0,d.useErrorCatcher)(f.displayName);const{isMobile:a,isIos:o,textSize:l,lineHeight:p}=(0,c.useEnhanced)(),h=n[0].toJSON();switch(null===(t=h.body)||void 0===t?void 0:t.type){case"call":return i.default.createElement(s.default,{message:h,textSize:l,isMobile:a,isIos:o});case"chat":return i.default.createElement(r.default,{messages:n});default:return i.default.createElement(u.default,{message:h,isMobile:a,isIos:o,textSize:l,lineHeight:p})}}f.displayName="SystemMessageContainer",f.propTypes={messages:o.default.arrayOf(o.default.instanceOf(l.default))}},28558:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(94184)),r=a(n(45697)),s=n(81152),l=a(n(30295)),u=a(n(81084)),c=n(69845);const d=e=>{let{message:t,isMobile:n,isIos:a,textSize:r,lineHeight:d}=e;const{body:f,created_ts:p,type:h,text:g}=t,m=h===s.MessageType.PREFORM,_=null==f?void 0:f.type,v=(0,l.default)(p,"dd.mm.yy H:MM:ss"),b={__html:(0,c.formatText)(g)},y=(0,o.default)({[u.default.main]:!0,[u.default.__mobile]:n,[u.default["__"+_]]:_&&"text"!==_}),E=(0,o.default)({[u.default.text]:!0,[u.default.__bot]:m}),T={WebkitTextSizeAdjust:a?r:"none",lineHeight:a?d:null};return i.default.createElement("jdiv",{className:y,title:v},i.default.createElement("jdiv",{className:E,style:T,dangerouslySetInnerHTML:b}))};d.propTypes={message:r.default.shape({created_ts:r.default.number,private_id:r.default.string,status:r.default.string,text:r.default.string,type:r.default.string,body:r.default.shape({type:r.default.string,name:r.default.string})}),isIos:r.default.bool,isMobile:r.default.bool,textSize:r.default.string,lineHeight:r.default.string};var f=i.default.memo(d);t.default=f},60152:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(){const e=i.default.mobileOrTablet()||(0,o.isChatPage)(),t=i.default.ios(),n=r.default.getTextSize(),a=r.default.getLineHeight();return{isMobile:e,isIos:t,textSize:n,lineHeight:a}};var i=a(n(19955)),o=n(69882),r=a(n(74379))},95066:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(84726)),s=a(n(39906)),l=a(n(1039));const u=i.default.lazy((()=>n.e(772).then(n.bind(n,66302)))),c=e=>{let{messages:t}=e;return l.default.enable_webrtc_calls?i.default.createElement(s.default,{messages:t},i.default.createElement(i.default.Suspense,{fallback:i.default.createElement("jdiv",null,(0,r.default)("cb_loading"))},i.default.createElement(u,{message:t[0]}))):null};c.propTypes={messages:o.default.any};var d=i.default.memo(c);t.default=d},93254:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=n(88928),r=a(n(45697)),s=a(n(19955)),l=a(n(74379)),u=a(n(2167)),c=a(n(29911)),d=a(n(26647)),f=a(n(53517)),p=a(n(21135)),h=n(21476),g=n(47060),m=n(21951),_=n(69882),v=a(n(94184)),b=n(47138),y=n(54034),E=a(n(75686)),T=n(47245),C=n(31802),S=a(n(4855)),O=n(46658),A=a(n(47860)),w=a(n(1039));const I=S.default.name("MobileContainer");class M extends i.default.PureComponent{constructor(e){super(e),this.showState=!1,this.state={...(0,O.getCoordinates)()},this._zoomOverlay=null}componentDidMount(){I.log("mount");const e=()=>{this.setState({...(0,O.getCoordinates)()})};(0,m.addListener)((0,_.getPageWindow)(),"resize",e),l.default.listenChangeZoom(e)}componentDidUpdate(){this.props.route===g.Route.LABEL||s.default.tablet()&&this.props.route===g.Route.MOBILE_MENU||this.props.route===g.Route.HIDDEN?l.default.unblockSite():l.default.blockSite(),this.props.route!=g.Route.HIDDEN?this.props.route!==g.Route.LABEL&&this.props.route!==g.Route.HIDDEN?l.default.setZoomChangeIterval(500):l.default.setZoomChangeIterval(1e3):clearInterval(l.default.intervalId)}renderMenuContainer(){return s.default.tablet()?null:i.default.createElement(p.default,{allowedRoutes:[g.Route.MOBILE_MENU],currentRoute:this.props.route,name:"OmniMenuContainer"},i.default.createElement(f.default,{show:!0,onCancelClick:()=>h.Router.next(g.RouterEvent.CloseWindow)}))}renderLandscapeOverlay(){return(0,O.shouldRenderLandscapeOverlay)(this.props.route,this.state.landscapeMode)?i.default.createElement(d.default,{onClick:()=>{h.Router.next(g.RouterEvent.CloseWindow)},landscape:!0,userZoom:l.default.getUserZoom()}):null}renderZoomOverlay(){return(0,O.shouldRenderZoomOverlay)(this.props.route)?i.default.createElement(c.default,{route:this.props.route}):null}renderWidgetContainer(){const e=y.CallbackUtils.isCallbackEnabled();return i.default.createElement(p.default,{allowedRoutes:(0,O.getAllowedRoutes)(),currentRoute:this.props.route,name:"MobileWidgetContent"},i.default.createElement("jdiv",{className:(0,v.default)({[A.default.mobileContainer]:!0,[A.default.__tablet]:s.default.tablet()||s.default.desktop()&&(0,_.isChatPage)(),[A.default.__cpFull]:(0,_.isChatPage)()&&w.default.enable_full_cp}),style:{zoom:(0,_.isChatPage)()?null:(0,O.getZoom)(this.props.zoom),zIndex:2147483647,"-webkit-text-size-adjust":s.default.ios()?l.default.getTextSize():null},ref:e=>{E.default.set(T.Component.MOBILE_CONTAINER,e)}},i.default.createElement(u.default,{needRenderCloseBtn:!1,needRenderCallContainer:e,needRenderDrag:!1,showCloseButton:!0,showHeaderText:!0,showBody:!0,callbackEnabled:this.props.callbackEnabled,route:this.props.route,onCloseButtonClick:()=>{(0,C.closeWidget)(),this.props.callbackStatus===b.CallStatus.CONNECTED&&h.Router.next(g.RouterEvent.CloseWindow)}})))}render(){return i.default.createElement(i.default.Fragment,null,this.renderWidgetContainer(),this.renderLandscapeOverlay(),this.renderZoomOverlay(),this.renderMenuContainer())}}M.propTypes={chat:r.default.bool,tabletMenu:r.default.bool,callbackEnabled:r.default.bool,route:r.default.string,position:r.default.any,padding:r.default.number,callbackStatus:r.default.oneOfType([r.default.string,r.default.bool]),mobileOrientation:r.default.string,zoom:r.default.number};var R=(0,o.connect)((e=>({padding:e.settings.user.widgetPadding,mobileOrientation:e.settings.user.widgetMobileOrientation,route:e.app.route,callbackEnabled:e.callback.available,position:e.position,callbackStatus:e.callback.status,zoom:e.zoom.app})),{})(M);t.default=R},46658:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.shouldRenderZoomOverlay=t.shouldRenderLandscapeOverlay=t.getZoom=t.getCoordinates=t.getAllowedRoutes=void 0;var i=a(n(74379)),o=n(69882),r=a(n(19955)),s=n(47060);t.getCoordinates=()=>({landscapeMode:"landscape"===i.default.getOrientation()});t.getZoom=e=>(0,o.isWixContext)()?1:e;t.shouldRenderZoomOverlay=e=>!(0,o.isWixContext)()&&e!==s.Route.HIDDEN;t.shouldRenderLandscapeOverlay=(e,t)=>{const n=-1!==[s.Route.HIDDEN,s.Route.LABEL].indexOf(e);return!(r.default.tablet()||!t||n)};t.getAllowedRoutes=()=>[s.Route.CHAT,s.Route.CHAT_CALL,s.Route.CHAT_EULA,s.Route.CHAT_SOCIAL,s.Route.CHAT_MIN,s.Route.DEPARTMENTS,s.Route.INTRODUCE,s.Route.CALL,s.Route.CALL_EULA,s.Route.DEPARTMENTS,s.Route.INTRODUCE,s.Route.DEBUG,s.Route.CHAT_SETUP_CALL]},23095:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=n(88928),s=a(n(45697)),l=a(n(94184)),u=n(57930),c=n(52274),d=n(90361),f=a(n(40704)),p=a(n(59811)),h=a(n(19955)),g=n(87869),m=n(69882),_=n(28549),v=n(77389),b=a(n(29384));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}let E=!1;const T=e=>{let{show:t,text:n="",badgeImage:a,isLeftOrientation:s,onClick:y,onClose:T,onLink:C,isMarkdown:S}=e;const O=(0,o.useRef)(null),A=(0,o.useRef)(null),[w,I]=(0,o.useState)(!1),[M,R]=(0,o.useState)(0),N=n.length<c.PROACTIVE_TEXT_LIMIT,P=M>c.PROACTIVE_MAX_HEIGHT,D=e=>{I(!0),y(e)};(0,o.useEffect)((function(){if(O.current){const e=O.current.offsetHeight;e>0&&R(e)}}),[]);const L=(0,v.useListenedStyle)("textSize"),k=h.default.ios()?{"-webkit-text-size-adjust":L}:null,x=(0,r.useSelector)(_.selectZoom).page*(0,m.getPageWindow)().innerWidth-38,B=x?{maxWidth:x.toFixed()+"px",minWidth:P?x.toFixed()+"px":null}:null,j=(0,l.default)({[b.default.popup]:!0,[b.default.__show]:t,[b.default.__left]:s}),F=(0,l.default)({[b.default.popupBlock]:!0,[b.default.__show]:!0,[b.default.__short]:N,[b.default.__left]:s,[b.default.__isCampaign]:!0}),H=(0,l.default)({[b.default.popupAnim]:!0,[b.default.__show]:!w&&t,[b.default.__longText]:P,[b.default.__noImage]:!a});if((0,g.useClickListener)(A,(e=>{E=!0,I(!0),setTimeout((()=>{T(e),E=!1}),300)})),!n)return null;const U=h.default.mobileOrTablet()&&h.default.isTouchEnabled();return o.default.createElement("jdiv",{className:j},o.default.createElement("jdiv",{className:F,style:B},w?null:o.default.createElement("jdiv",(0,i.default)({className:b.default.closeBlock,ref:A},(0,d.withLocator)(u.Locator.MOBILE_POPUP_CLOSE_BUTTON)),o.default.createElement(f.default,{iconName:"icon-popup-close",color:"rgba(0, 0, 0, 0.6)",hoverColor:"#7D8999",className:b.default.closePopupIcon})),o.default.createElement("jdiv",{className:H,onClick:U?null:e=>{e.preventDefault(),D(e)},onTouchStart:()=>{E=!1},onTouchMove:()=>{E=!0},onTouchEnd:e=>{E||D(e)}},a?o.default.createElement("jdiv",{className:b.default.badgeImage,style:{backgroundImage:`url(${a})`}}):null,o.default.createElement("jdiv",{className:(0,l.default)({[b.default.text]:!0,[b.default.__isMarkdown]:S,[b.default.__noImage]:!a}),style:k},S?o.default.createElement("jdiv",{className:b.default.textBox,ref:O},o.default.createElement(p.default,{text:n,onLinkClick:C})):o.default.createElement("jdiv",{ref:O,className:b.default.textBox,dangerouslySetInnerHTML:{__html:n}}),P&&o.default.createElement("jdiv",{className:b.default.whiteMore})))))};T.propTypes={isLeftOrientation:s.default.bool.isRequired,badgeImage:s.default.string,show:s.default.bool.isRequired,text:s.default.string.isRequired,onClick:s.default.func.isRequired,onClose:s.default.func.isRequired,onLink:s.default.func.isRequired,isMarkdown:s.default.bool};var C=T;t.default=C},11297:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=n(88928),r=a(n(45697)),s=a(n(79868)),l=n(67597),u=n(54415),c=n(83170),d=n(7193),f=n(48999),p=a(n(89348)),h=a(n(23095));const g=e=>{let{show:t,popup:n,orientation:a,avatarHost:r,onClick:g,onClose:m}=e;const _="left"===a,v=s.default.ifIMessageEnabled()?s.default.getJoints().links.imUrl:null,b=()=>{u.Monitoring.telemetry(c.TelemetryName.POWERBUTTON_OPEN+"im")},y=(0,l.getAvatarUrl)(r,n.agent.avatarUrl),{campaignId:E}=(0,o.useSelector)(d.selectProactive),T=(0,f.getCampaignRuleParams)(E);return T?(n.text=(0,f.formatProactiveContent)({title:T.title,message:T.message,img_src:!1}),i.default.createElement(h.default,{show:t,text:n.text,isMarkdown:n.isMarkdown,badgeImage:null==T?void 0:T.img_src,isLeftOrientation:_,onClick:e=>g(e,"popup"),onClose:m,onLink:b})):i.default.createElement(p.default,{show:t,text:n.text,agentName:n.agent.name,isMarkdown:n.isMarkdown,isCampaign:!!T,badgeImage:null==T?void 0:T.img_src,agentAvatar:y,link:v,isLeftOrientation:_,isBot:n.agent.isBot,onClick:e=>g(e,"popup"),onClose:m,onLink:b})};g.propTypes={show:r.default.bool.isRequired,popup:r.default.shape({text:r.default.string,agent:r.default.object,isMarkdown:r.default.bool}),orientation:r.default.string,avatarHost:r.default.string.isRequired,onClick:r.default.func.isRequired,onClose:r.default.func.isRequired};var m=g;t.default=m},89348:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=v(n(98661)),r=a(n(45697)),s=a(n(94184)),l=n(57930),u=n(47713),c=n(52274),d=n(90361),f=v(n(40704)),p=a(n(59811)),h=a(n(19955)),g=n(87869),m=a(n(29384));function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(_=function(e){return e?n:t})(e)}function v(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=_(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}let b=!1;const y=e=>{let{show:t,text:n="",link:a,agentName:r,agentAvatar:_,isLeftOrientation:v,onClick:y,onClose:E,onLink:T,isMarkdown:C}=e;const S=(0,o.useRef)(null),O=(0,o.useRef)(null),[A,w]=(0,o.useState)(!1),[I,M]=(0,o.useState)(0),R=n.length<c.PROACTIVE_TEXT_LIMIT,N=I>c.PROACTIVE_MAX_HEIGHT,P=e=>{w(!0),y(e)};(0,o.useEffect)((function(){if(S.current){const e=S.current.offsetHeight;e>0&&M(e)}}),[]);const D=(0,s.default)({[m.default.popup]:!0,[m.default.__show]:t,[m.default.__left]:v}),L=(0,s.default)({[m.default.popupBlock]:!0,[m.default.__show]:!0,[m.default.__short]:R,[m.default.__left]:v}),k=(0,s.default)({[m.default.popupAnim]:!0,[m.default.__show]:!A&&t,[m.default.__longText]:N});if((0,g.useClickListener)(O,E),!n)return null;const x=h.default.mobileOrTablet()&&h.default.isTouchEnabled();return o.default.createElement("jdiv",{className:D},o.default.createElement("jdiv",{className:L},o.default.createElement("jdiv",(0,i.default)({className:m.default.closeBlock,ref:O},(0,d.withLocator)(l.Locator.MOBILE_POPUP_CLOSE_BUTTON)),o.default.createElement(f.default,{iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#7D8999",className:m.default.closePopupIcon})),o.default.createElement("jdiv",{className:k,onClick:x?null:e=>{e.preventDefault(),!a&&P(e)},onTouchStart:()=>{b=!1},onTouchMove:()=>{b=!0},onTouchEnd:e=>{b||!a&&P(e)}},a&&o.default.createElement("a",(0,i.default)({className:m.default.imOverlay,href:a,target:"_blank",rel:"nofollow noopener noreferrer"},(0,u.onClickHandler)((e=>{(e=>{b=!0,w(!0),setTimeout((()=>{E(e),b=!1}),300)})(e),T()}),!0,!0))),r&&o.default.createElement("jdiv",{className:m.default.avatar},o.default.createElement("jdiv",{className:m.default.avatarImg,style:_&&{backgroundImage:`url(${_})`}}),o.default.createElement("jdiv",{className:m.default.agentName},r)),o.default.createElement("jdiv",{className:(0,s.default)({[m.default.text]:!0,[m.default.__isMarkdown]:C})},C?o.default.createElement("jdiv",{className:m.default.textBox,ref:S},o.default.createElement(p.default,{text:n,onLinkClick:T})):o.default.createElement("jdiv",{ref:S,className:m.default.textBox,dangerouslySetInnerHTML:{__html:n}})),N&&!C&&o.default.createElement("jdiv",{className:m.default.moreIcon,style:{backgroundImage:`url(${(0,f.getSvgBgIcon)("icon-more","#a3aab5")})`}}))))};y.propTypes={agentAvatar:r.default.string,agentName:r.default.string,isLeftOrientation:r.default.bool.isRequired,link:r.default.string,show:r.default.bool.isRequired,text:r.default.string,onClick:r.default.func.isRequired,onClose:r.default.func.isRequired,onLink:r.default.func.isRequired,isMarkdown:r.default.bool};var E=y;t.default=E},51149:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.MoreButton=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(45697)),s=a(n(94184)),l=a(n(19955)),u=a(n(40704)),c=a(n(75686)),d=n(47245),f=n(47713),p=n(80598),h=a(n(20117)),g=a(n(2559));function m(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}const _=e=>{let{show:t,showBadge:n=!1,color:a,onClick:r}=e;const m=(0,o.useRef)(null);(0,o.useLayoutEffect)((()=>{m.current&&c.default.set(d.Component.MORE_BUTTON,m.current)}));const _=(0,s.default)({[h.default.moreBox]:!0,[h.default.__mobile]:l.default.mobileOrTablet(),[h.default.__show]:t}),v=(0,s.default)({[h.default.__show]:n,[h.default.moreBadge]:!0});return o.default.createElement("jdiv",(0,i.default)({className:_},(0,f.onClickHandler)(r,!0,!0),{ref:m}),o.default.createElement(u.default,{iconName:"icon-v",color:"#cccccc",color2:g.default.BLUE_80,hoverColor:(0,p.getThemeColor)(a),className:h.default.moreBtn}),o.default.createElement("jdiv",{className:v}))};t.MoreButton=_,_.propTypes={show:r.default.bool.isRequired,showBadge:r.default.bool,color:r.default.string,onClick:r.default.func};var v=_;t.default=v},53517:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=a(n(45697)),s=n(26932),l=n(92560),u=n(65465),c=n(35233),d=n(65210),f=n(45959),p=n(87692),h=n(19210),g=n(63664),m=a(n(91275)),_=n(52947),v=n(97277),b=n(21408),y=n(85593);function E(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}const T=(0,_.getDevice)(),C=(0,i.lazy)((()=>n.e(963).then(n.bind(n,13032)))),S=e=>{let{show:t,referenceElement:n,onCancelClick:a,onOverlayClick:r}=e;(0,g.useErrorCatcher)(S.displayName);const E=(0,o.useSelector)(c.selectApp),O=(0,o.useSelector)(p.selectBillRu),A=(0,o.useSelector)(d.selectCallback),w=(0,o.useSelector)(f.selectClient),I=(0,o.useSelector)(p.selectSettings),M=(0,o.useSelector)(p.selectWidgetOrientation),R=(0,i.useMemo)((()=>(_.isMobileOrTablet?y.getMobileMenuItems:b.getDesktopMenuItems)({app:E,callback:A,client:w,settings:I,onApp:s.appDispatchers,onMessage:u.messageActions,onUser:s.userDispatchers,onChat:_.isMobileOrTablet?m.default.openChatCallbacks:h.showChat})),[E,A,w,I]);return!t||(0,l.isEmpty)(R)?null:i.default.createElement(i.Suspense,{fallback:null},i.default.createElement(C,{copyright:(0,v.getCopyright)(O),device:T,menuItems:R,orientation:M,referenceElement:n,onCancelClick:()=>(0,y.onCancelClick)(a),onOverlayClick:r}))};S.displayName="OmnichannelMenu",S.propTypes={show:r.default.bool,referenceElement:r.default.oneOfType([r.default.element,()=>null]),onCancelClick:r.default.func,onOverlayClick:r.default.func};var O=S;t.default=O},97277:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCopyright=void 0;var a=n(68403),i=n(67597);t.getCopyright=e=>({show:(0,a.showAd)(),link:(0,i.getUtmLink)("mobile_menu"),icon:e?"logo-jivosite-white":"logo-jivochat-white"})},21408:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.getDesktopMenuItems=void 0;var i=n(31984),o=n(69882),r=n(54415),s=n(47060),l=n(83170),u=a(n(138)),c=a(n(19955)),d=a(n(2559)),f=a(n(84726));const p=(0,n(52947).getDevice)(),h=(e,t)=>e?(0,f.default)("social_text_"+(t||1)):null,g=e=>{u.default.trackSocial(e),r.Monitoring.telemetry(l.TelemetryName.LABEL_BUTTONS+e)};t.getDesktopMenuItems=e=>{let{app:t,callback:n,settings:a,onApp:r,onMessage:l,onChat:u,onUser:m}=e;const _=[],{isOnline:v}=t,{features:b,user:y}=a;if(b.joint){const{tg:e,im:t,vk:n,fb:a,ig:i,wa:o,sb:r}=b.joint;e&&e.botname&&_.push({url:"https://t.me/"+e.botname,title:"Telegram",subTitle:null,iconName:"telegram",iconColor:null,device:p,onClick:()=>g("tg")}),t&&t.joint_id&&c.default.supportsAbc()&&_.push({url:`sms://open?service=iMessage&recipient=urn:biz:${t.joint_id}&biz-intent-id=click_in_jivo_desktop`,title:(0,f.default)("lbAbcText"),subTitle:null,iconName:"icon-im",iconColor:null,device:p,onClick:()=>g("im")}),n&&n.joint_id&&_.push({url:"https://vk.com/im?sel=-"+n.joint_id,title:(0,f.default)("label_vk_text"),subTitle:h(v,y.socialResponse),iconName:"vk",iconColor:null,device:p,onClick:()=>g("vk")}),a&&a.joint_id&&_.push({url:"https://www.facebook.com/messages/t/"+a.joint_id,title:(0,f.default)("label_fb_text"),subTitle:h(v,y.socialResponse),iconName:"fb",iconColor:null,device:p,onClick:()=>g("fb")}),i&&i.group_name&&_.push({url:"https://www.instagram.com/"+i.group_name,title:"Instagram",subTitle:null,iconName:"igIcon",iconColor:null,device:p,onClick:()=>g("ig")}),o&&_.push({url:"https://wa.me/"+o,title:"WhatsApp",subTitle:null,iconName:"wa",iconColor:null,device:p,onClick:()=>g("wa")})}return n.available&&_.push({url:null,title:n.isDelayed&&a.user.callback?(0,f.default)("callback_delayed_button_submit"):`${(0,f.default)("cw_callAfter")} ${a.user.callback.time} ${(0,i.getTextSeconds)(a.user.callback.time)}!`,subTitle:null,iconName:"callback-btn",iconColor:d.default.GREEN_80,device:p,onClick:()=>{m.setCallHeaderText(null),u(v,s.RouterEvent.ToCall),g("call")}}),!(0,o.isChatPage)()&&_.length&&_.push({url:null,title:v?(0,f.default)("cw_typeInChat"):(0,f.default)("lblLeaveMessage"),subTitle:null,iconName:"chat",iconColor:d.default.GREEN_80,device:p,onClick:()=>{r.setAppIsFocused(!0),l.addPrechatMessage(),u(v,s.RouterEvent.Navigate),g("chat")}}),_}},52947:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.isMobileOrTablet=t.getDevice=t.DEVICE=void 0;var i=a(n(19955));const o={IOS:"ios",ANDROID:"android",TABLET:"tablet",DESKTOP:"desktop"};t.DEVICE=o;t.getDevice=()=>i.default.tablet()?o.TABLET:i.default.ios()?o.IOS:i.default.mobile()?o.ANDROID:o.DESKTOP;const r=i.default.mobileOrTablet();t.isMobileOrTablet=r},85593:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.onCancelClick=t.getMobileMenuItems=void 0;var i=n(31984),o=n(69882),r=n(55004),s=n(68408),l=n(54415),u=n(21476),c=n(47060),d=n(83170),f=a(n(138)),p=a(n(19955)),h=a(n(84726)),g=a(n(2559));const m=(0,n(52947).getDevice)(),_=e=>{let t="https://telegram.me/";if(e){"RU"===e.split(";")[0]&&(t="tg://resolve/?domain=")}return t},v=e=>{f.default.trackMobileSocial(e),l.Monitoring.telemetry(d.TelemetryName.POWERBUTTON_OPEN+e)},b=e=>{let{onApp:t,onMessage:n,onChat:a}=e;(0,s.isPowerPhone)()||(t.setAppIsFocused(!0),n.deleteUnansweredOfflineSystemInvite(),n.offlineSystemInvite(),u.Router.next(c.RouterEvent.ToCall),a()),f.default.trackMobileCallClick(),l.Monitoring.telemetry(d.TelemetryName.POWERBUTTON_OPEN_CALLBACK)};t.getMobileMenuItems=e=>{let{app:t,callback:n,client:a,settings:r,onApp:s,onChat:f,onMessage:y}=e;const E=[],{isOnline:T}=t,{features:C,system:S}=r;if(C.joint){const{tg:e,im:t,vk:n,fb:a,ig:i,vb:o,wa:s,sb:l}=C.joint;e&&e.botname&&E.push({url:_(r.system.geoIp)+e.botname,title:"Telegram",subTitle:null,iconName:"telegram",iconColor:null,device:m,onClick:()=>v("tg")}),t&&t.joint_id&&p.default.supportsIMessage()&&E.push({url:`sms://open?service=iMessage&recipient=urn:biz:${t.joint_id}&biz-intent-id=click_in_jivo`,title:(0,h.default)("lblMessagesApp"),subTitle:null,iconName:"icon-im",iconColor:null,device:m,onClick:()=>v("im")}),n&&n.joint_id&&E.push({url:"https://vk.me/club"+n.joint_id,title:(0,h.default)("social_vk"),subTitle:null,iconName:"vk",iconColor:null,device:m,onClick:()=>v("vk")}),a&&a.joint_id&&E.push({url:"https://m.me/"+a.joint_id,title:"Facebook Messenger",subTitle:null,iconName:"fb",iconColor:null,device:m,onClick:()=>v("fb")}),i&&i.group_name&&E.push({url:"https://www.instagram.com/"+i.group_name,title:"Instagram",subTitle:null,iconName:"igIcon",iconColor:null,device:m,onClick:()=>v("ig")}),o&&o.botname&&E.push({url:"viber://pa?chatURI="+o.botname,title:"Viber",subTitle:null,iconName:"viber",iconColor:null,device:m,onClick:()=>v("vb")}),s&&E.push({url:"https://wa.me/"+s,title:"WhatsApp",subTitle:null,iconName:"wa",iconColor:null,device:m,onClick:()=>v("wa")})}return n.available?E.push({url:null,title:n.isDelayed&&r.user.callback?(0,h.default)("callback_delayed_button_submit"):`${(0,h.default)("cw_callAfter")} ${r.user.callback.time} ${(0,i.getTextSeconds)(r.user.callback.time)}!`,subTitle:null,iconName:"callback-btn",iconColor:g.default.GREEN_80,device:m,onClick:()=>b({onApp:s,onChat:f,onMessage:y})}):r.user.powerButtonPhone&&E.push({url:`tel:${r.user.powerButtonPhone}`,title:`${(0,h.default)("lblCallMe")} ${r.user.powerButtonPhone}`,subTitle:null,iconName:"callback-btn",iconColor:g.default.GREEN_80,device:m,onClick:()=>b({onApp:s,onChat:f,onMessage:y})}),(0,o.isChatPage)()||E.push({url:null,title:T?(0,h.default)("onlineChat"):(0,h.default)("lblLeaveMessage"),subTitle:null,iconName:"chat",iconColor:g.default.GREEN_80,device:m,onClick:()=>(e=>{let{onApp:t,onMessage:n,onChat:a}=e;t.setAppIsFocused(!0),t.setChatOpenByClient(!0),n.deleteUnansweredOfflineSystemInvite(),n.addPrechatMessage(),n.offlineSystemInvite(),u.Router.next(c.RouterEvent.ToChat),a(),l.Monitoring.telemetry(d.TelemetryName.POWERBUTTON_OPEN_CHAT)})({onApp:s,onChat:f,onMessage:y})}),E};t.onCancelClick=e=>(0,o.isChatPage)()?(0,r.isFunction)(e)&&e():u.Router.next(c.RouterEvent.CloseWindow)},21135:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697));const r=e=>{let{children:t,allowedRoutes:n,currentRoute:a}=e;return n.includes(a)?i.default.createElement(i.default.Fragment,null,t):null};r.propTypes={children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node,o.default.func]).isRequired,allowedRoutes:o.default.arrayOf(o.default.string).isRequired,currentRoute:o.default.string.isRequired};var s=i.default.memo(r);t.default=s},83502:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(45697)),s=a(n(94184)),l=n(57930),u=n(47060),c=n(90361),d=a(n(19955)),f=a(n(11297)),p=a(n(53517)),h=a(n(21135)),g=a(n(56145)),m=a(n(40704)),_=a(n(40977));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}let b=!1;const y=e=>{let{isCallEnabled:t,isTopEnabled:n,showLogo:a,top:r,left:v,unReadMessages:y,popup:E,iconColor:T,iconTopColor:C,widgetMobileOrientation:S,powerButtonColor:O,zoom:A,linkOverlay:w,onOverlayClick:I,isOnline:M,route:R,onClick:N,onPopupClick:P,onClosePopupClick:D,hidden:L,isCustomLabel:k,isDesktop:x,desktopPosition:B,avatarHost:j,isOmnichannelMenu:F,toggleOmnichannelMenu:H}=e;const U=(0,o.useRef)(null),W=A.user>1.1,G={[_.default.wrap]:!0,[_.default._orientationRight]:B?"right"===B:"right"===S,[_.default._orientationLeft]:B?"left"===B:"left"===S,[_.default._hidden]:L,[_.default._hoverMenu]:x,__jivoMobileButton:!(!d.default.mobileOrTablet()||W),__jivoDesktopButton:x},z={};return W?z.transform=`translate(${v}px,${r}px) scale(${A.app})`:1!==A.app&&(z.zoom=A.app),o.default.createElement("jdiv",(0,i.default)({className:(0,s.default)(G),style:z},(0,c.withLocator)(l.Locator.POWER_BUTTON)),E?o.default.createElement(f.default,{show:!0,popup:E,orientation:S,avatarHost:j,onClick:P,onClose:D}):null,w?o.default.createElement("a",{className:_.default.overlay,href:w,target:d.default.chromeIOS()?"_self":"_blank",rel:"nofollow noopener noreferrer",onPointerDown:I}):null,o.default.createElement("jdiv",{ref:U,className:(0,s.default)({[_.default.button]:!0,[_.default.__hide]:k,[_.default.__inzoom]:W}),style:{background:O},onClick:e=>{!x&&H(),!d.default.isTouchEnabled()&&N(e)},onTouchStart:()=>{b=!1},onTouchMove:()=>{b=!0},onTouchEnd:e=>{b||(e.preventDefault(),H(),N(e))}},y?o.default.createElement("jdiv",{className:_.default.messagesLabel},o.default.createElement("jdiv",{className:_.default.badge},y)):null,(()=>{const e=x?[u.Route.LABEL,u.Route.MOBILE_MENU]:[u.Route.LABEL];return o.default.createElement(h.default,{allowedRoutes:e,currentRoute:R,name:"Icons"},o.default.createElement(g.default,{showLogo:a,isCallEnabled:t,isTopEnabled:n,iconColor:T,powerButtonColor:C,isOnline:M}))})(),x?null:o.default.createElement(h.default,{allowedRoutes:[u.Route.MOBILE_MENU],currentRoute:R,name:"CloseIcon"},o.default.createElement("jdiv",{className:_.default.closeIconWrap},o.default.createElement(m.default,{iconName:"icon-close",color:T,className:_.default.closeIcon})))),(()=>{const e=x?[u.Route.LABEL]:[u.Route.MOBILE_MENU];return o.default.createElement(h.default,{allowedRoutes:e,currentRoute:R,name:"OmniMenu"},o.default.createElement("jdiv",{className:(0,s.default)({[_.default.menuWrap]:!0,[_.default.__hover]:x})},o.default.createElement(p.default,{show:F,referenceElement:U})))})())},E=y.propTypes={isCallEnabled:r.default.bool,isTopEnabled:r.default.bool,showLogo:r.default.bool,top:r.default.number,left:r.default.number,unReadMessages:r.default.number,popup:r.default.any,iconColor:r.default.string,iconTopColor:r.default.string,widgetMobileOrientation:r.default.string,powerButtonColor:r.default.string,zoom:r.default.any,linkOverlay:r.default.any,onOverlayClick:r.default.func,isOnline:r.default.bool,route:r.default.string,onClick:r.default.func,onPopupClick:r.default.func,onClosePopupClick:r.default.func,hidden:r.default.bool,isCustomLabel:r.default.bool,isDesktop:r.default.bool,desktopPosition:r.default.string,avatarHost:r.default.string};t.componentProps=E;var T=o.default.memo(y);t.default=T},9004:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var i=a(n(98661)),o=n(63664),r=a(n(83502)),s=n(23119),l=n(47060),u=n(69882),c=a(n(21135));function d(){(0,o.useErrorCatcher)(d.displayName);const{position:e,isHidden:t,route:n,userZoom:a,isCallEnabled:f,isTopEnabled:p,isLogoShow:h,unreadMessages:g,popup:m,iconColor:_,iconTopColor:v,widgetMobileOrientation:b,powerButtonColorComputed:y,powerButtonDesktopPosition:E,zoom:T,isOnline:C,linkOverlay:S,isCustomLabel:O,avatarUrl:A,isOmniMenuShow:w,allowedRoutes:I,isMobileOrTablet:M,isDesktop:R,labelBubble:N,onToggleOmniMenu:P,onClickHandler:D,onOverlayClick:L,onClosePopupClick:k}=(0,s.useEnhanced)(),{top:x,left:B}=e;return n===l.Route.HIDDEN||a>2||(0,u.isChatPage)()||!M&&window.parent!==window.top||R&&!N?null:i.default.createElement(c.default,{allowedRoutes:I,currentRoute:n,name:"PowerButtonNew"},i.default.createElement(r.default,{hidden:t,isCallEnabled:f,isTopEnabled:p,showMenu:!1,showLogo:h,top:x,left:B,unReadMessages:g,popup:m,iconColor:_,iconTopColor:v,widgetMobileOrientation:b,powerButtonColor:y,zoom:T,isOnline:C,route:n,onClick:D,linkOverlay:S,onOverlayClick:L,onPopupClick:e=>D(e,!0),onClosePopupClick:k,isCustomLabel:O,isDesktop:R,desktopPosition:E,avatarHost:A,isOmnichannelMenu:w,toggleOmnichannelMenu:P}))}d.displayName="PowerButtonContainer",d.propTypes={}},933:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.reportOpenTelemetry=t.openMenuClick=t.onOverlayClick=t.onClosePopupClick=t.handleUnreadClick=t.handleOpenMenuClick=t.handleButtonClick=t.getUnreadMessages=t.getProactiveAgent=t.getPowerButtonColor=t.getPosition=t.getPopup=t.getOverlay=t.getIsCallEnabled=t.getIconColor=t.addHistory=void 0;var i=a(n(27104)),o=n(54034),r=n(69882),s=n(65465),l=a(n(74379)),u=a(n(19955)),c=n(21476),d=n(47060),f=n(26932),p=a(n(91275)),h=n(54415),g=n(83170),m=a(n(79868)),_=a(n(32149)),v=a(n(66547)),b=n(67597),y=n(81152),E=n(44145);const T=a(n(4855)).default.name("PowerBtnHelpers");t.getPowerButtonColor=(e,t,n,a)=>t?i.default.getGradientBg(n,a):e;t.getIconColor=(e,t,n)=>{let a;return a=t?i.default.isLightColor(n):i.default.isLightColor(e),a?"#3e414f":"#fff"};t.getIsCallEnabled=()=>o.CallbackUtils.isCallbackEnabled();const C=(e,t)=>{const n=(0,E.getProactive)();let a=!!n.text&&n.status!==y.MessageStatus.READ;return t&&!a&&(a=!0),t||!(e=>{if(!e)return 0;let t=0;return e.forEach((e=>{e.from===y.MessageInitiator.AGENT&&e.status!==y.MessageStatus.READ&&e.type==y.MessageType.FOR_TEST&&t++})),t})(e)||(0,E.getApp)().isOnline||(a=!0),(e=>{if(!e)return 0;let t=0;return e.forEach((e=>{e.from===y.MessageInitiator.AGENT&&e.status!==y.MessageStatus.READ&&e.status!==y.MessageStatus.DELETED&&e.type!==y.MessageType.FOR_TEST&&t++})),t})(e)+(a?1:0)};t.getUnreadMessages=C;t.getPosition=(e,t)=>{const n=(0,r.getPageWindow)().visualViewport,a="left"===t,i=l.default.isSiteOptimizedForMobile?-15:15;if(u.default.mobileOrTablet()&&n&&e>=1.1){const t=l.default.getPseudo(),o=t&&t.getBoundingClientRect().height||0,r=t&&t.getBoundingClientRect().width||0,s=n.width-r+n.offsetLeft,u=n.offsetLeft+i*e,c=a?u:s;return{top:n.height-o+n.offsetTop-i,left:c-i}}return{left:null,top:null}};const S=()=>{if(window.history&&"function"==typeof window.history.pushState&&u.default.mobileOrTablet()){const e=_.default.getInstance();e&&e.setHistoryState()}};t.addHistory=S;const O=()=>{f.appDispatchers.setAppIsFocused(!0),c.Router.next(d.RouterEvent.Navigate),s.messageActions.deleteUnansweredOfflineSystemInvite(),s.messageActions.offlineSystemInvite(),s.messageActions.addPrechatMessage(),p.default.openChatCallbacks(),w("from_pwr")};t.handleButtonClick=O;const A=()=>{f.appDispatchers.setChatOpenByClient(!1),c.Router.next(d.RouterEvent.ToMobileMenu),h.Monitoring.telemetry(g.TelemetryName.POWERBUTTON_OPEN_MENU,{param1:"menu",param2:u.default.isPointerEnabled()?1:0})};t.handleOpenMenuClick=A;const w=e=>{const t={};e&&(t.param1=e,t.param2=u.default.isPointerEnabled()?1:0),(0,E.getSystemSettings)().botmode&&(t.param4=1),h.Monitoring.telemetry(g.TelemetryName.WIDGET_CLICK,t)};t.reportOpenTelemetry=w;const I=(e,t)=>{f.appDispatchers.setAppIsFocused(!0),e?c.Router.next(d.RouterEvent.ToCall):(c.Router.next(d.RouterEvent.ToChat),f.userDispatchers.setCallHeaderText(null)),p.default.openChatCallbacks(),s.messageActions.readProactive(),w(t?"from_popup":null)};t.handleUnreadClick=I;t.openMenuClick=(e,t,n,a,i)=>{T.log("onMenuClick helper");const o=m.default.getJoints();t!==d.Route.MOBILE_MENU?(f.appDispatchers.setChatOpenByClient(!0),C(i,n)?I(n,a):o.count>0?A():O()):u.default.tablet()&&((0,r.isChatPage)()||c.Router.next(d.RouterEvent.CloseWindow)),S()};t.getOverlay=e=>!!(u.default.supportsIMessage()&&e&&e.joint_id)&&(0,b.getIMessageLink)(e.joint_id);t.onOverlayClick=e=>{e.stopPropagation(),h.Monitoring.telemetry(g.TelemetryName.POWERBUTTON_OPEN+"im")};t.getPopup=(e,t)=>{if(!e)return null;if(t&&t.text&&t.status!==y.MessageStatus.READ){const e=M(t);return{text:t.text,agent:e,isMarkdown:t.isMarkdown}}};const M=e=>e.text?e.botId?(0,E.getBotById)(e.botId):e.agentId?(0,E.getAgentById)(e.agentId):null:null;t.getProactiveAgent=M;t.onClosePopupClick=()=>{s.messageActions.readProactive(),v.default.set("close_time",(new Date).getTime()),h.Monitoring.telemetry(g.TelemetryName.INVITE_CLOSE)}},23119:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(){const e=(0,o.useSelector)(s.selectPowerButtonColor),t=(0,o.useSelector)(s.selectWidgetColor),n=(0,o.useSelector)(s.selectWidgetColor2),a=(0,o.useSelector)(s.selectPowerGradient),I=(0,o.useSelector)(s.selectWidgetOrientation),M=(0,o.useSelector)(s.selectWidgetPadding),R=(0,o.useSelector)(s.selectWidgetMobileOrientation),N=(0,o.useSelector)(l.selectRoute),P=(0,o.useSelector)(s.selectCallHeaderText),D=(0,o.useSelector)(u.selectMessages),L=(0,o.useSelector)(l.selectIsOnline),k=(0,o.useSelector)(r.selectZoom),x=(0,o.useSelector)(r.selectUserZoom),B=(0,o.useSelector)(c.selectProactive),j=(0,o.useSelector)(s.selectMobileProactive),F=(0,o.useSelector)(s.selectAvatarUrl),H=(0,o.useSelector)(s.selectJoint),U=(0,o.useSelector)(s.selectLabelBubble),W=g.default.mobileOrTablet(),G=g.default.desktop(),[z,V]=(0,i.useState)(!1),[q,$]=(0,i.useState)(G),[K,Y]=(0,i.useState)((0,w.getPosition)(x)),[X,Z]=(0,i.useState)(G?(0,S.getPowerButtonDesktopPosition)(I,M):null),J=H?H.im:null,Q=(0,w.getUnreadMessages)(D,P),ee=(0,w.getPopup)(j,B),te=(0,w.getIconColor)(e,a,t),ne=e||t,ae=(0,w.getPowerButtonColor)(e,a,t,n),ie=(0,w.getOverlay)(J),oe=g.default.tablet()?[_.Route.LABEL,_.Route.MOBILE_MENU]:[_.Route.LABEL];let re=null;const se=()=>{clearTimeout(re),V(x>=1.1),Y((0,w.getPosition)(x,R)),re=setTimeout((()=>{V(!1)}),200)},le=e=>{$((t=>e??!t))};return(0,y.useDidUpdate)((()=>{g.default.tablet()&&q&&(le(),(0,O.closeWidget)(),b.appDispatchers.setAppRoute(_.Route.LABEL))}),[x]),(0,i.useEffect)((()=>{g.default.tablet()&&N===_.Route.LABEL&&q&&le(!1)}),[N,q]),(0,i.useEffect)((()=>{G&&Z((0,S.getPowerButtonDesktopPosition)(I,M))}),[G,I,M]),(0,A.useEffectOnce)((()=>{const e=new m.default,t=(0,f.getPageWindow)(),n=t.document,a=(0,d.throttle)(se,200),i=()=>{e.checkPopState()},o=e=>{"BODY"===e.target.tagName&&N!==_.Route.LABEL&&(0,v.hasClass)(n.documentElement,"jivo-tablet-overlay")&&(e.preventDefault(),(0,O.closeWidget)(),b.appDispatchers.setAppRoute(_.Route.LABEL))};return p.messageActions.deleteUnansweredOfflineSystemInvite(),(0,h.addListener)(t,"scroll",a,!0),(0,h.addListener)(t,"resize",a,!0),t.visualViewport&&t.addEventListener&&!g.default.ios()&&((0,h.addListener)(t.visualViewport,"scroll",a,!0),(0,h.addListener)(t.visualViewport,"resize",a,!0)),(0,h.addListener)(t,"popstate",i),V(!1),Y((0,w.getPosition)(x)),g.default.tablet()&&(0,h.addListener)(n.body,"touchstart",o),()=>{(0,h.removeEvent)(t,"scroll",a),(0,h.removeEvent)(t,"resize",a),(0,h.removeEvent)(t,"popstate",i),(0,h.removeEvent)(t.visualViewport,"scroll",a),(0,h.removeEvent)(t.visualViewport,"scroll",a),(0,h.removeEvent)(n.body,"touchstart",o)}})),{isHidden:z,powerButtonColor:e,powerGradient:a,color:t,color2:n,isOnline:L,widgetMobileOrientation:R,route:N,callHeaderText:P,zoom:k,userZoom:x,mobileProactive:j,iMessageSettings:J,messages:D,avatarUrl:F,position:K,unreadMessages:Q,popup:ee,iconColor:te,iconTopColor:ne,powerButtonColorComputed:ae,powerButtonDesktopPosition:X,linkOverlay:ie,isOmniMenuShow:q,allowedRoutes:oe,isCustomLabel:(0,f.isCustomLabel)(),isCallEnabled:(0,w.getIsCallEnabled)(),isTopEnabled:(0,E.isAbTop100Enabled)(),isLogoShow:(0,T.showAd)(),isMobileOrTablet:W,isDesktop:G,labelBubble:U,onViewportChanged:se,onToggleOmniMenu:le,onClickHandler:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];G?(0,C.showChat)(L,_.RouterEvent.Navigate,{param1:"from_pwr_desktop"}):(0,w.openMenuClick)(e,N,P,t,D)},onOverlayClick:w.onOverlayClick,onClosePopupClick:w.onClosePopupClick}};var i=n(98661),o=n(88928),r=n(28549),s=n(87692),l=n(35233),u=n(66311),c=n(7193),d=n(43374),f=n(69882),p=n(65465),h=n(21951),g=a(n(19955)),m=a(n(32149)),_=n(47060),v=n(43025),b=n(26932),y=n(49862),E=n(21863),T=n(68403),C=n(19210),S=n(80598),O=n(31802),A=n(89334),w=n(933)},56145:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.componentProps=void 0;var i=a(n(98661)),o=a(n(64734)),r=a(n(45697)),s=a(n(40704)),l=a(n(94184));const u=a(n(4855)).default.name("PowerButtonIcons"),c=e=>{let{showLogo:t,isCallEnabled:n,isTopEnabled:a,iconColor:r,powerButtonColor:c,isOnline:d}=e;const f={[o.default.iconWrap]:!0,[o.default._isCallEnabled]:n,[o.default._showLogo]:t},p=e=>{const t=d?"mobile-cloud":"envelope",n=d?o.default.logoIconCloud:o.default.envelopeIcon;return i.default.createElement(s.default,{iconName:t,color:e,className:(0,l.default)(n,o.default.icons)})},h=()=>n?i.default.createElement("jdiv",{className:(0,l.default)({...f,[o.default.iconWrap2]:!0})},p(r)):null;return i.default.createElement(i.default.Fragment,null,i.default.createElement(i.default.Fragment,null,i.default.createElement("jdiv",{className:(0,l.default)({...f})},t?i.default.createElement(s.default,{iconName:"logo-j-white",className:(0,l.default)(o.default.jivoIcon,o.default.icons),color:r}):null,n?null:p(r)),h()),a?(u.warn("renderTopIcon",c),i.default.createElement("jdiv",{className:(0,l.default)({...f,[o.default.iconWrap3]:!0})},i.default.createElement(s.default,{iconName:"top100MobileIcon",color:c,className:(0,l.default)(o.default.topIcon,o.default.icons)}))):null,a||!n?null:i.default.createElement("jdiv",{className:(0,l.default)({...f,[o.default.iconWrap3]:!0})},i.default.createElement(s.default,{iconName:"callback-btn",color:r,className:(0,l.default)(o.default.callbackIcon,o.default.icons)})))},d=c.propTypes={showLogo:r.default.bool,isCallEnabled:r.default.bool,isTopEnabled:r.default.bool,isOnline:r.default.bool,iconColor:r.default.string,powerButtonColor:r.default.string};t.componentProps=d;var f=i.default.memo(c);t.default=f},26370:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=a(n(45697)),s=a(n(81660)),l=n(54415),u=a(n(35802)),c=n(26932),d=a(n(19955)),f=n(41504),p=a(n(4867)),h=n(83170),g=n(87692),m=n(32046),_=n(69882),v=a(n(75686)),b=n(47245);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const E=e=>{let{messages:t}=e;const[n]=(0,i.useErrorBoundary)((e=>{e.message+=` in ${E.displayName} component.`,l.Monitoring.reportException(e)})),a=(0,o.useSelector)(g.selectRateSettings),r=(0,o.useSelector)(g.selectBubbleColor);if(n||!a)return;const p=t[0].toJSON();if(p.body&&p.body.closed)return;const y=p.chat_id,T=p.private_id,{type:C,icon:S,conditionName:O,customTitle:A,goodRateTitle:w,badRateTitle:I}=a;return i.default.createElement(s.default,{message:p,type:C,icon:S,conditionName:O,customTitle:A,goodRateTitle:w,badRateTitle:I,onRateSelect:e=>{(0,m.needScrollToBottom)(p),l.Monitoring.telemetry(h.TelemetryName.RATE_FORM_SELECT,{param1:e})},onSubmitClick:(e,n,i)=>{const o=new f.Rate(n,y,e),r=u.default.getInstance();r&&r.managers.connection.send(o),(0,m.saveRateMessage)(n,y,t[0]),c.chatsDispatchers.setChatEvaluated(!0),l.Monitoring.telemetry(h.TelemetryName.RATE_FORM_SUBMIT,{param1:n,param2:i,param3:e?"withcomment":null,param4:a.type})},onCloseClick:()=>{setTimeout((()=>{c.messagesDispatchers.updateMessage({privateId:T},{body:{...p.body,closed:!0}}),c.chatsDispatchers.setChatEvaluated(!0)}),300),l.Monitoring.telemetry(h.TelemetryName.RATE_FORM_CLOSE)},isMobile:d.default.mobileOrTablet(),isTablet:d.default.tablet()||(0,_.isChatPage)(),isIos:d.default.ios(),bubbleColor:r,ref:e=>{e&&e.base&&v.default.set(b.Component.RATE_FORM,e.base)}})};E.propTypes={messages:r.default.arrayOf(r.default.instanceOf(p.default))},E.displayName="RateFormContainer";var T=E;t.default=T},81660:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=E;var i=a(n(23101)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),r=a(n(94184)),s=a(n(45697)),l=a(n(84726)),u=a(n(66400)),c=n(15174),d=a(n(40704)),f=a(n(74379)),p=n(47713),h=n(90361),g=n(57930),m=a(n(1497)),_=n(97409),v=a(n(85578)),b=a(n(12947));function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}function E(e){let{message:t,type:n,icon:a,conditionName:s,customTitle:y,goodRateTitle:E,badRateTitle:T,onRateSelect:C,onSubmitClick:S,onCloseClick:O,onTextareaFocus:A,onTextareaBlur:w,isMobile:I,isIos:M,isTablet:R,bubbleColor:N}=e;const P=(0,o.useRef)(),{onRate:D,onClose:L,isSubmited:k,hideForm:x,rateSelected:B,textSize:j,lineHeight:F,focused:H,onSetFocused:U,value:W,onSetValue:G}=(0,_.useEnhanced)(t),z=(0,r.default)({[b.default.main]:!0,[b.default["__"+N]]:!0,[b.default.__hide]:x,[b.default.__mobile]:I,[b.default.__ios]:M,[b.default.__tablet]:R}),V=(0,r.default)({[b.default.label]:!0,[b.default.__show]:H}),q=(e,t)=>{e.style.setProperty("max-height",t?t+1+"px":null,"important")},$=()=>o.default.createElement("jdiv",{className:b.default.formBlock},o.default.createElement("jdiv",(0,i.default)({className:V},(0,h.withLocator)(g.Locator.RATE_COMMENT_TITLE)),(0,l.default)("rateFormCommentTitle")),o.default.createElement(m.default,(0,i.default)({className:b.default.inputField,value:W,maxLength:"255",onInput:e=>{const t=e.target.value;G(t),P&&P.current&&(""==t?(q(P.current,null),U(!1)):(U(!0),q(P.current,P.current.scrollHeight)))},onBlur:()=>{U(!1),w&&w()},onFocus:()=>{W&&""!==W&&U(!0),A&&A()},onKeyUp:e=>{e.stopPropagation()},onKeyDown:e=>{e.stopPropagation()},placeholder:(0,l.default)("rateFormCommentTitle"),ref:P},(0,h.withLocator)(g.Locator.RATE_FORM_INPUT))),o.default.createElement(u.default,(0,i.default)({className:b.default.button,height:"sm",onClick:()=>{S(W,B,s)},widthFluid:!0,style:{lineHeight:M?f.default.getLineHeight(2.7):null}},(0,h.withLocator)(g.Locator.RATE_SUBMIT_BUTTON)),(0,l.default)("lblSend"))),K={"-webkit-text-size-adjust":M?j:"none",lineHeight:M?F:null};return o.default.createElement("jdiv",{className:z,style:K},o.default.createElement("jdiv",(0,i.default)({className:b.default.close},(0,p.onClickHandler)((e=>{O(e),L(e)}),!0,!0),(0,h.withLocator)(g.Locator.RATE_FORM_CLOSE_ICON)),o.default.createElement(d.default,{className:b.default.closeIcon,iconName:"icon-popup-close",color:"#959BA0",hoverColor:"#222D38"})),k?(()=>{const e=[c.RateState.GOOD_NORMAL,c.RateState.GOOD].includes(B),t=E||(0,l.default)("rateFormFinishText"),n=T||(0,l.default)("rateFormFinishTextNegative");return o.default.createElement(o.default.Fragment,null,o.default.createElement("jdiv",{className:b.default.title},(0,l.default)("rateFormFinishTitle")),e?o.default.createElement("jdiv",(0,i.default)({className:b.default.text},(0,h.withLocator)(g.Locator.RATE_POSITIVE_SUBMIT_TEXT)),t):o.default.createElement("jdiv",(0,i.default)({className:b.default.text},(0,h.withLocator)(g.Locator.RATE_NEGATIVE_SUBMIT_TEXT)),n))})():(()=>{const e=y||(0,l.default)("rateFormText");return o.default.createElement(o.default.Fragment,null,o.default.createElement("jdiv",(0,i.default)({className:b.default.title},(0,h.withLocator)(g.Locator.RATE_TITLE)),(0,l.default)("rateFormTitle")),o.default.createElement("jdiv",(0,i.default)({className:b.default.text},(0,h.withLocator)(g.Locator.RATE_FORM_TEXT)),e),o.default.createElement("jdiv",{className:b.default.rateBlock},o.default.createElement(v.default,{type:n,icon:a,onRateSelect:e=>{D(e),C(e)},iconSelected:B})),B?$():null)})())}E.propTypes={message:s.default.object.isRequired,type:s.default.oneOf(["two","three","five"]).isRequired,icon:s.default.oneOf(["smile","star"]),conditionName:s.default.oneOf(["message_count","chat_finished"]).isRequired,customTitle:s.default.string,goodRateTitle:s.default.string,badRateTitle:s.default.string,onRateSelect:s.default.func,onSubmitClick:s.default.func,onCloseClick:s.default.func,onTextareaFocus:s.default.func,onTextareaBlur:s.default.func,isMobile:s.default.bool,isIos:s.default.bool,isTablet:s.default.bool,bubbleColor:s.default.string}},85578:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(94184)),s=a(n(45697)),l=a(n(40704)),u=n(15174),c=n(90361),d=n(57930),f=n(47713),p=a(n(12947));const h=e=>{let{type:t,icon:n,iconSelected:a,onRateSelect:s}=e;return o.default.createElement(o.default.Fragment,null,t==u.RateType.TWO?(()=>{const e=a==u.RateState.GOOD,t=a==u.RateState.BAD;return o.default.createElement("jdiv",{className:p.default.iconBox},o.default.createElement("jdiv",(0,i.default)({className:p.default.icon,onClick:()=>{s(u.RateState.GOOD)}},(0,c.withLocator)(d.Locator.RATE_GOOD)),o.default.createElement(l.default,{iconName:"iconLike",color:e?u.RateColors.hoverColor:t?u.RateColors.disabledColor:u.RateColors.color,color2:e?u.RateColors.color2:t?u.RateColors.disabledColor2:u.RateColors.color2,hoverColor:u.RateColors.hoverColor,className:p.default.iconUp})),o.default.createElement("jdiv",(0,i.default)({className:p.default.icon,onClick:()=>{s(u.RateState.BAD)}},(0,c.withLocator)(d.Locator.RATE_BAD)),o.default.createElement(l.default,{iconName:"iconDislike",color:t?u.RateColors.hoverColor:e?u.RateColors.disabledColor:u.RateColors.color,color2:e?u.RateColors.disabledColor2:u.RateColors.color2,hoverColor:u.RateColors.hoverColor,className:p.default.iconDown})))})():null,[u.RateType.THREE,u.RateType.FIVE].includes(t)?(()=>{const e=n==u.RateIconType.STAR;return o.default.createElement("jdiv",{className:p.default.iconBox},u.RateIconMap[t].map((t=>{let n=u.RateColors.color;a&&(n=a==t?u.RateColors.color:u.RateColors.disabledColor);const d=(0,r.default)({[p.default.icon]:!0,[p.default.__star]:e,[p.default.__selected]:a&&a==t});return o.default.createElement("jdiv",(0,i.default)({className:d},(0,f.onClickHandler)((()=>{s(t)})),{key:t},(0,c.withLocator)(`RATE_${t.toUpperCase()}`+(e?"_STAR":"_SMILE"))),o.default.createElement(l.default,{iconName:e?"iconStar":`${t}Rate`,color:n,className:p.default.iconSmile}))})))})():null)};h.propTypes={type:s.default.oneOf([u.RateType.TWO,u.RateType.THREE,u.RateType.FIVE]).isRequired,icon:s.default.oneOf([u.RateIconType.SMILE,u.RateIconType.STAR]),iconSelected:s.default.oneOfType([s.default.bool,s.default.string]),onRateSelect:s.default.func.isRequired};var g=o.default.memo(h);t.default=g},32046:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.scrollChatToBottom=t.saveRateMessage=t.pushRateForm=t.needScrollToBottom=void 0;var i=n(81152),o=a(n(14264)),r=n(26932),s=n(54415),l=n(83170),u=a(n(75686)),c=n(47245);t.pushRateForm=(e,t,n)=>{r.messagesDispatchers.destroyByType(i.MessageType.RATE_FORM),r.messagesDispatchers.addMessage({type:i.MessageType.RATE_FORM,from:i.MessageInitiator.SYSTEM,chat_id:e,created_ts:n?n+1e3:(new Date).getTime(),body:{submited:!1,rate:null}}),s.Monitoring.telemetry(l.TelemetryName.RATE_FORM_ADD,{param1:e,param2:t})};t.needScrollToBottom=e=>{const t=o.default.getLastMessage();t&&t.toJSON().private_id==e.private_id&&setTimeout((()=>{d()}),200)};const d=()=>{const e=u.default.getComponent(c.Component.SCROLL_CONTAINER);e&&e.scrollToBottom()};t.scrollChatToBottom=d;t.saveRateMessage=(e,t,n)=>{r.messagesDispatchers.updateMessage({privateId:n.get("private_id")},{body:{...n.get("body"),rate:e,submited:!0,chatId:t},created_ts:(new Date).getTime()}),o.default.trigger("create")}},97409:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useEnhanced=function(e){const t=e.body.submited,[n,a]=(0,i.useState)(!1),[r,s]=(0,i.useState)(),[l,u]=(0,i.useState)((()=>o.default.getTextSize())),[c,d]=(0,i.useState)((()=>o.default.getLineHeight(1.5))),[f,p]=(0,i.useState)(!1),[h,g]=(0,i.useState)(null);return(0,i.useEffect)((function(){o.default.listenChangeZoom((()=>{const e=o.default.getTextSize();e!==l&&(u(e),d(o.default.getLineHeight(1.5)))}))}),[l,c]),{isSubmited:t,hideForm:n,rateSelected:r,onRate:function(e){s(e)},onClose:function(e){a(e)},textSize:l,lineHeight:c,focused:f,onSetFocused:function(e){p(e)},value:h,onSetValue:function(e){g(e)}}};var i=n(98661),o=a(n(74379))},34137:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(99881)),r=n(88928),s=n(62096),l=a(n(75686)),u=n(47245),c=a(n(19955)),d=a(n(5700)),f=n(71277),p=a(n(251)),h=a(n(93254)),g=a(n(17582)),m=a(n(40228)),_=n(69882),v=a(n(4855)),b=a(n(9004));v.default.name("RootComponent");class y extends i.default.Component{constructor(e){super(e)}renderLabel(){return c.default.desktop()?i.default.createElement(g.default,null):null}renderWidgetContainer(){return c.default.mobileOrTablet()||(0,_.isChatPage)()?null:i.default.createElement(p.default,{ref:e=>{e&&l.default.set(u.Component.WIDGET_CONTAINER,e)}})}renderSoundPlayer(){if(!f.disableSoundPlayer)return f.WebAudioDisabled?i.default.createElement(d.default,{sounds:f.Sounds}):null}renderCallWidget(){return i.default.createElement(m.default,null)}renderPowerButton(){return i.default.createElement(b.default,null)}renderMouseTrack(){return c.default.mobileOrTablet()?null:i.default.createElement("jdiv",{className:o.default.jivoMouseTrack,ref:e=>{e&&l.default.set(u.Component.MOUSE_TRACK,e)}})}renderMobileContainer(){return c.default.mobileOrTablet()||(0,_.isChatPage)()?i.default.createElement(h.default,null):null}render(){return i.default.createElement(r.Provider,{store:s.reduxStore},i.default.createElement("jdiv",{className:o.default.globalClass},this.renderCallWidget(),this.renderPowerButton(),this.renderMobileContainer(),this.renderLabel(),this.renderSoundPlayer(),this.renderWidgetContainer(),i.default.createElement("jdiv",{className:o.default.pseudoHeight}),this.renderMouseTrack()))}}t.default=y},63925:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=a(n(7468)),s=a(n(45697)),l=n(44506),u=n(68403),c=a(n(80282)),d=n(44145),f=n(81152),p=n(65465);function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=a(n(4855)).default.name("SocialButtonContainer"),m=e=>{let{isOnline:t,chatStarted:n,clientIntegration:a,messages:o,socialState:s}=e;const h=e=>!!(0,d.getMessagesByType)(e,f.MessageType.FORM).length,[m,_]=(0,i.useState)(h(o));if(!m&&(()=>{if((0,u.hasIntegration)(a))return g.log("Already connected with vk/fb."),p.messageActions.hideEmailForm(),!1;if(h(o))return _(!0),!1;if(t&&n){const e=(0,d.getClientMessages)(o);return!(!e||!e.length)}return!1})())return i.default.createElement("jdiv",{className:r.default.socialPanel},i.default.createElement(c.default,{show:!0,mode:s,processSocial:l.processSocial}))};m.propTypes={isOnline:s.default.bool,chatStarted:s.default.bool,clientIntegration:s.default.oneOfType([s.default.bool,s.default.string]),messages:s.default.array,socialState:s.default.shape({vk:s.default.bool,fb:s.default.bool,mode:s.default.oneOfType([s.default.bool,s.default.string])})};var _=(0,o.connect)((e=>({isOnline:e.app.isOnline,chatStarted:e.app.chatStarted,clientIntegration:e.client.hasIntegration,messages:e.messages,socialState:e.social})),{})(m);t.default=_},80282:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(84726)),r=a(n(45697)),s=a(n(7468)),l=a(n(40704));a(n(4855)).default.name("SocialButton");const u=e=>{let{show:t,mode:n,processSocial:a}=e;if(!t)return;return"sb"==n.mode?i.default.createElement("jdiv",{className:s.default.wrap},i.default.createElement("jdiv",{className:s.default.socialLink,onClick:e=>{a(e,"sb")},title:(0,o.default)("omni_sb_link")},(0,o.default)("social_process_in_sb"),"¬†¬†",i.default.createElement(l.default,{iconName:"sb",className:s.default.iconSb})," ",(0,o.default)("omni_sb_link"))):i.default.createElement("jdiv",{className:s.default.wrap},n.vk?i.default.createElement("jdiv",{className:s.default.socialLink,onClick:e=>{a(e,"vk")},title:(0,o.default)("social_vk")},(0,o.default)("social_process_in")," ",i.default.createElement(l.default,{iconName:"vk",className:s.default.iconVk})," ",(0,o.default)("social_vk")):null,n.fb?i.default.createElement("jdiv",{className:s.default.socialLink,onClick:e=>{a(e,"fb")},title:(0,o.default)("social_fb")},(0,o.default)("social_process_in_fb"),"¬†¬†",i.default.createElement(l.default,{iconName:"fb",className:s.default.iconFb})," Messenger"):null)};u.propTypes={show:r.default.bool.isRequired,mode:r.default.object.isRequired,processSocial:r.default.func.isRequired};var c=i.default.memo(u);t.default=c},14890:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(94184)),r=a(n(45697)),s=a(n(4855)),l=a(n(1039)),u=a(n(84726)),c=a(n(19955)),d=a(n(14264)),f=a(n(79868)),p=n(68403),h=n(9393),g=a(n(7468)),m=n(21476),_=n(47060),v=n(88928);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const y=s.default.name("SocialButtonChat");class E extends i.Component{constructor(e){super(e),this.state={show:!0,vk:e.mode.vk,fb:e.mode.fb,mode:e.mode.mode}}componentDidUpdate(e){this.props.client.hasIntegration!==e.client.hasIntegration&&this.checkIntegration.bind(this)}componentDidMount(){y.log("mounted"),this.checkIntegration.bind(this),(l.default.joint||3!=l.default.contacts_ask)&&(3!=l.default.contacts_ask||c.default.desktop())||this.setState({vk:!1,fb:!1,mode:"email"})}checkIntegration(){(0,p.hasIntegration)(this.props.client.hasIntegration)&&(y.log("Already connected with vk/fb."),this.show(!1),(0,h.each)(d.default.getMessagesByType("email"),(e=>{y.log("remove email message (integration vk/fb)."),e&&e.destroy&&e.destroy()})),m.Router.getCurrentRoute()===_.Route.CHAT_SOCIAL&&(y.log("hide popup, navigate to chat"),m.Router.next(_.RouterEvent.ToChat)))}show(e){y.log("show",e),this.setState({show:e})}renderIframe(){const e=f.default.getIframeUrl(this.state.mode),t="vk"==this.state.mode?50:74,n={position:"fb"===this.state.mode?"relative":null};return i.default.createElement("iframe",{className:(0,o.default)({[g.default.iframe]:!0,[g.default["__"+this.state.mode]]:!0}),style:n,width:"100%",border:"0",height:t,src:e})}render(){return i.default.createElement("jdiv",{className:g.default.box},(this.state.vk||this.state.fb)&&i.default.createElement("jdiv",{className:g.default.infoText,dangerouslySetInnerHTML:{__html:"vk"==this.state.mode?(0,u.default)("social_get_access"):(0,u.default)("social_get_access_fb")}}),this.renderIframe())}}E.propTypes={vk:r.default.bool,fb:r.default.bool,mode:r.default.oneOf(["vk","fb","email"]),client:r.default.object};var T=(0,v.connect)((e=>({client:e.client})))(E);t.default=T},65885:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=n(88928),r=a(n(28431)),s=a(n(19955)),l=a(n(79868)),u=a(n(45697)),c=n(83170),d=n(54415);a(n(4855)).default.name("SocialPopup");const f=e=>{let{onClose:t,mode:n,joint:a,clientId:o,visitorId:u,widgetId:f,chatStarted:p}=e;const h=l.default.getIframeUrl(n),g=l.default.checkSocial();return i.default.createElement(r.default,{onClose:t,mode:n,clientId:o,visitorId:u,widgetId:f,chatStarted:p,isMobile:s.default.mobileOrTablet(),socialIframeUrl:h,isSocialEnabled:!(!n||!g),onQrError:e=>{d.Monitoring.telemetryOnce(c.TelemetryName.QR_ERROR,{param1:e?e.message:null})}})};f.propTypes={onClose:u.default.func.isRequired,mode:u.default.oneOf(["sb","vk","fb"]),joint:u.default.object,projectId:u.default.string,clientId:u.default.string,visitorId:u.default.string,widgetId:u.default.string,chatStarted:u.default.bool};var p=(0,o.connect)(((e,t)=>({onClose:t.onClose,mode:e.social.mode,joint:e.settings.features.joint,clientId:e.client.clientId,visitorId:e.client.visitorId,widgetId:e.settings.system.widgetId,chatStarted:e.app.chatStarted})),{})(f);t.default=p},28431:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(84726)),r=a(n(45697)),s=a(n(94184)),l=a(n(32325)),u=a(n(49563));a(n(4855)).default.name("SocialPopup");const c=e=>{let{onClose:t,mode:n,isMobile:a,projectId:r,clientId:c,visitorId:d,widgetId:f,chatStarted:p,socialIframeUrl:h,isSocialEnabled:g,onQrError:m}=e;const _=(0,s.default)({[u.default.iconHeader]:!0,[u.default["__"+n]]:!0});return i.default.createElement("jdiv",{className:u.default.wrap},i.default.createElement(l.default,{onClose:e=>{e.stopPropagation(),t()}}),i.default.createElement("jdiv",{className:_}),i.default.createElement("jdiv",{className:u.default.textBox},i.default.createElement("jdiv",{className:u.default.text,dangerouslySetInnerHTML:{__html:(e=>{switch(e){case"vk":return(0,o.default)("social_get_access");case"sb":return(0,o.default)("social_get_access_sb");default:return(0,o.default)("social_get_access_fb")}})(n)}}),(()=>{if("sb"!=n)return n&&g?i.default.createElement("iframe",{width:"300",border:"0",height:"vk"==n?52:74,src:h}):void 0})()),i.default.createElement("jdiv",{className:u.default.linkBox},i.default.createElement("jdiv",{onClick:t,className:u.default.link},(0,o.default)("lnkCloseThisWindow"))))};c.propTypes={onClose:r.default.func.isRequired,mode:r.default.oneOf(["sb","vk","fb"]),isMobile:r.default.bool,projectId:r.default.string,clientId:r.default.string,visitorId:r.default.string,widgetId:r.default.string,chatStarted:r.default.bool,socialIframeUrl:r.default.string,isSocialEnabled:r.default.bool,onQrError:r.default.func};var d=i.default.memo(c);t.default=d},44506:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.processSocial=void 0;var i=a(n(138)),o=n(21476),r=n(47060),s=n(54415),l=n(83170),u=a(n(79868));a(n(4855)).default.name("SocialButtonHelpers");t.processSocial=(e,t)=>{e.preventDefault(),u.default.setPopupMode(t),o.Router.next(r.RouterEvent.ToSocial);const n="vk"===t?l.TelemetryName.CONTINUE_IN_VK:l.TelemetryName.CONTINUE_IN_FB;s.Monitoring.telemetry(n),i.default.trackContinueInSocial(t)}},5700:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Sound=void 0;var i=a(n(98661)),o=n(67597),r=a(n(68988)),s=n(97615),l=a(n(75686));a(n(4855)).default.name("SoundPlayer");const u=e=>{let{src:t}=e;const n=(s.EnvironmentManager.isDevelopment()?"/public":"")+`/sounds/${t}.`,a=(0,o.staticUrl)(n+"mp3",!0),r=(0,o.staticUrl)(n+"ogg",!0),l=(0,o.staticUrl)(n+"wav",!0);return i.default.createElement("audio",{preload:"auto",id:`jivo-sound-${t}`},i.default.createElement("source",{src:a,type:"audio/mpeg"}),i.default.createElement("source",{src:r,type:"audio/ogg; codecs=vorbis"}),i.default.createElement("source",{src:l,type:"audio/wav"}))};t.Sound=u;class c extends i.default.PureComponent{constructor(e){super(e)}render(){return i.default.createElement("jdiv",{id:"jivo-player",className:r.default.player},this.props.sounds.map(((e,t)=>i.default.createElement(u,{src:e,ref:t=>{l.default.set(`sound_${e}`.toUpperCase(),t)},key:t}))))}}t.default=c},73460:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getIcons=function(){return E};var i=a(n(23101)),o=a(n(98661)),r=a(n(60783)),s=a(n(88603)),l=a(n(82632)),u=a(n(69527)),c=a(n(97126)),d=a(n(27684)),f=a(n(50109)),p=a(n(29428)),h=a(n(2427)),g=a(n(36599)),m=a(n(87409)),_=a(n(92809)),v=a(n(63899)),b=a(n(86227)),y=a(n(34948));const E={logo_jivosite:s.default,logo_jivochat:l.default,hand:u.default,arrow:c.default,arrow2:d.default,"icon-ok-white":f.default,"icon-ok":p.default,"icon-v-email":h.default,mobileBack:g.default,callMessageStartIcon:m.default,callEndIcon:_.default,labelCall:v.default,labelFb:b.default,iconClose:y.default};class T extends o.default.Component{constructor(e){super(e),this.initIcons();const t=r.default[this.props.iconName+"Icon"];this.className=this.props.className+(t?" "+t:"")}initIcons(){this.iconsMap=E}getIcon(){return this.iconsMap[this.props.iconName]}render(){return o.default.createElement("jdiv",(0,i.default)({dangerouslySetInnerHTML:{__html:this.getIcon()}},this.props,{className:this.className}))}}t.default=T},40704:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getIcons=function(){return Se},t.getSvgBgIcon=function(e,t){if(!e)return null;let n=Se[e];t&&(n=n.replace(/_COLOR1_/gi,t));return n?`"data:image/svg+xml,${encodeURIComponent(n)}"`:null};var i=a(n(98661)),o=a(n(60783)),r=a(n(45697)),s=a(n(12298)),l=a(n(38353)),u=a(n(70099)),c=a(n(28336)),d=a(n(81483)),f=a(n(28843)),p=a(n(15504)),h=a(n(22722)),g=a(n(30349)),m=a(n(93091)),_=a(n(34948)),v=a(n(74783)),b=a(n(36683)),y=a(n(64924)),E=a(n(33825)),T=a(n(75001)),C=a(n(15455)),S=a(n(82671)),O=a(n(18317)),A=a(n(22764)),w=a(n(99652)),I=a(n(34886)),M=a(n(18079)),R=a(n(85972)),N=a(n(2482)),P=a(n(54389)),D=a(n(2427)),L=a(n(87409)),k=a(n(92809)),x=a(n(99350)),B=a(n(69357)),j=a(n(43055)),F=a(n(39581)),H=a(n(28149)),U=a(n(54304)),W=a(n(28372)),G=a(n(31617)),z=a(n(75630)),V=a(n(36972)),q=a(n(18954)),$=a(n(23808)),K=a(n(43205)),Y=a(n(90270)),X=a(n(50996)),Z=a(n(94939)),J=a(n(83088)),Q=a(n(37491)),ee=a(n(13339)),te=a(n(39186)),ne=a(n(1900)),ae=a(n(80441)),ie=a(n(88921)),oe=a(n(42899)),re=a(n(28122)),se=a(n(12103)),le=a(n(96955)),ue=a(n(62842)),ce=a(n(93759)),de=a(n(66574)),fe=a(n(799)),pe=a(n(54983)),he=a(n(18690)),ge=a(n(34460)),me=a(n(86693)),_e=a(n(38867)),ve=a(n(43832)),be=a(n(26552)),ye=a(n(71481)),Ee=a(n(36599)),Te=a(n(58621));const Ce={},Se={"logo-j-white":s.default,"mobile-cloud":l.default,"icon-im":u.default,envelope:c.default,"envelope-offline":d.default,"callback-btn":f.default,"icon-close":_.default,"logo-jivosite-white":p.default,"logo-jivochat-white":h.default,"logo-jivosite":g.default,"logo-jivochat":m.default,vk:v.default,fb:b.default,wa:y.default,viber:T.default,telegram:E.default,chat:S.default,"phone-outgoing":O.default,phone:A.default,labelChat:w.default,"message-text":I.default,"send-button":M.default,"icon-emoji":R.default,"icon-attach":N.default,"icon-ok-white":P.default,"icon-v-email":D.default,callMessageStartIcon:L.default,delayedCallSuccessIcon:L.default,callEndIcon:k.default,refresh:x.default,"icon-photo":B.default,"icon-video":j.default,"icon-audio":F.default,"icon-document":H.default,"icon-error":W.default,"icon-cancel":U.default,"icon-ruble":G.default,"icon-anonymous":z.default,"icon-v":V.default,badRate:q.default,badnormalRate:$.default,normalRate:K.default,goodnormalRate:Y.default,goodRate:X.default,iconLike:Z.default,iconDislike:J.default,iconStar:Q.default,"icon-callok":ee.default,"icon-connect":te.default,"icon-connect2":ne.default,"icon-close-chat":ae.default,"icon-popup-close":ie.default,"mobile-send-button":oe.default,"icon-tube":re.default,"start-chat":se.default,"icon-back":le.default,leafBottom:ue.default,leafBottomOffline:ce.default,"icon-more":de.default,iconWa:y.default,iconHamburger:fe.default,iconMic:pe.default,top100Icon:he.default,top100MobileIcon:ge.default,igIcon:C.default,iconWarning:me.default,iconValid:_e.default,check:ve.default,checks:be.default,clock:ye.default,mobileBack:Ee.default,arrowLink:Te.default};const Oe=e=>{let{iconName:t,className:n,color:a,color2:r,hoverColor:s,style:l,"data-qa-id":u}=e;const[c,d]=i.default.useState(!1),f=o.default[t+"Icon"],p=n+(f?" "+f:""),h=e=>{s&&d(e)};return i.default.createElement("jdiv",{onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),style:{backgroundImage:(()=>{const e=t+c?s:a;if(Ce[e])return Ce[e];let n=encodeURIComponent(Se[t]);const i=c?s:a;a&&!c&&(n=n.replace(new RegExp("_COLOR1_","ig"),i.replace("#","%23"))),s&&c&&(n=n.replace(new RegExp("_COLOR1_","ig"),i.replace("#","%23"))),r&&(n=n.replace(new RegExp("_COLOR2_","ig"),r.replace("#","%23")));const o=`url("data:image/svg+xml,${n}")`;return Ce[t+a+r]=o,o})(),...l},className:p,"data-qa-id":u})};Oe.propTypes={iconName:r.default.string.isRequired,className:r.default.string,color:r.default.string,color2:r.default.string,hoverColor:r.default.string,style:r.default.any,"data-qa-id":r.default.string};var Ae=i.default.memo(Oe);t.default=Ae},66400:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Button=void 0;var i=a(n(23101)),o=a(n(98661)),r=a(n(94184)),s=a(n(43437)),l=a(n(1039));const u=e=>{let{children:t,className:n,widthFluid:a=!1,height:u="md",isNative:c=!1,disabled:d=!1,onClick:f,onDisabledClick:p,...h}=e;const g=c?"button":"jdiv",m=d?p||null:f,_=(0,r.default)(n,{[s.default.button]:!c,[s.default.nativeButton]:c,[s.default.widthFixed]:!a,[s.default.widthFluid]:a,[s.default.heightSmall]:"sm"===u,[s.default.heightMiddle]:"md"===u,[s.default.disabled]:d,[s.default["__"+(l.default.bubble_color||"green")]]:!0});return o.default.createElement(g,(0,i.default)({},h,{onClick:m,className:_}),t)};t.Button=u;var c=u;t.default=c},7131:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.NativeSelect=l;var i=a(n(98661)),o=a(n(45697)),r=a(n(40704)),s=a(n(56534));function l(e){let{options:t,disabled:n,onChange:a}=e;return i.default.createElement("jdiv",null,i.default.createElement("select",{className:s.default.nativeSelect,disabled:n,onChange:e=>{a(e.target.value)}},t.map(((e,t)=>{let{label:n}=e;return i.default.createElement("option",{key:n,value:t},n)}))),i.default.createElement(r.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:s.default.iconSelect}))}l.propTypes={options:o.default.arrayOf(o.default.shape({value:o.default.oneOfType([o.default.number,o.default.string]),label:o.default.string}).isRequired),disabled:o.default.bool,onChange:o.default.func}},66683:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.StyledSelect=c;var i=a(n(98661)),o=a(n(45697)),r=a(n(40704)),s=a(n(56534)),l=a(n(88155));const u=(e,t)=>e.length>t?e:void 0;function c(e){let{options:t,label:n,hasScroll:a,onSelect:o,onChange:c}=e;const d=e=>{c(e.target.getAttribute("jv-sval"))},f=t.map(((e,t)=>{let{label:n}=e;return i.default.createElement("jdiv",{className:s.default.item,key:n,"jv-sval":t,title:u(n,35),onClick:d},n)}));return i.default.createElement("jdiv",null,i.default.createElement("jdiv",{className:s.default.label,title:u(n,24),onClick:o},n,i.default.createElement("jdiv",{className:s.default.labelArrow},i.default.createElement(r.default,{iconName:"icon-v",color:"#959BA0",hoverColor:"#222D38",className:s.default.iconSelect}))),i.default.createElement("jdiv",{className:s.default.items},a?i.default.createElement(l.default,{railClass:s.default.rail,position:"relative"},f):f))}c.propTypes={options:o.default.arrayOf(o.default.shape({value:o.default.oneOfType([o.default.number,o.default.string]),label:o.default.string}).isRequired),label:o.default.string,hasScroll:o.default.bool,color:o.default.string,onSelect:o.default.func,onChange:o.default.func}},87316:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=g;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(94184)),r=a(n(45697)),s=n(55004),l=n(92560),u=n(7131),c=n(66683),d=n(9335),f=n(57985),p=a(n(56534));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}function g(e){let{options:t,activeOptionIndex:n=0,isNative:a,disabled:r,invalid:h,classNameWrap:g,theme:m="flat",height:_="md",color:v="green",onChange:b,isCallbackPopup:y}=e;const E=(0,i.useRef)(null),[T,C]=(0,d.useToggle)(!1),[S,O]=(0,i.useState)(n);function A(e){O(e),C(),(0,s.isFunction)(b)&&b({option:t[e],activeOptionIndex:e})}if((0,f.useClickOutside)(E,(()=>{T&&C()})),(0,l.isEmpty)(t))return null;const w=t.length>3,I=(0,o.default)(g,p.default.selectWrap,{[p.default["__"+v]]:!0,[p.default.invalid]:h,[p.default.styledSelectWrap]:!a,[p.default.nativeSelectWrap]:a,[p.default.selectIsOpen]:T,[p.default.heightSmall]:"sm"===_,[p.default.heightMiddle]:"md"===_,[p.default.themeFlat]:"flat"===m,[p.default.themeInset]:"inset"===m,[p.default.disabled]:r,[p.default.isCallbackPopup]:y,[p.default.scroll]:w});return i.default.createElement("jdiv",{ref:E,className:I},a?i.default.createElement(u.NativeSelect,{disabled:r,options:t,onChange:A}):i.default.createElement(c.StyledSelect,{label:t[S].label,hasScroll:w,options:t,onSelect:r?void 0:C,onChange:A}))}g.defaultProps={activeOptionIndex:0,theme:"flat",height:"md",color:"green"},g.propTypes={options:r.default.arrayOf(r.default.shape({value:r.default.oneOfType([r.default.number,r.default.string]),label:r.default.string}).isRequired),activeOptionIndex:r.default.oneOfType([r.default.number,r.default.string]).isRequired,isNative:r.default.bool,disabled:r.default.bool,classNameWrap:r.default.string,theme:r.default.oneOf(["flat","inset"]),height:r.default.oneOf(["sm","md"]),invalid:r.default.bool,color:r.default.string,onChange:r.default.func,isCallbackPopup:r.default.bool}},48966:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(40704)),r=a(n(23811)),s=a(n(45697)),l=a(n(94184)),u=n(69882);const c=e=>{let{onClick:t,onLinkClick:n,onIconHover:a,isChat:s,popupBackground:c,color:d,isCall:f,isMobile:p,isChatMin:h}=e;const g=e=>{t(e,!0)},m=()=>`https://www.jivo.ru/rating/?utm_source=${(0,u.getPageWindow)().location.host}&utm_medium=top100&utm_content=top100_tooltip&utm_campaign=from_widget`,_=e=>2===e?["–°–º–µ–ª–µ–µ –ø–∏—à–∏—Ç–µ –≤ —á–∞—Ç! –ú—ã –≤ "," –∫–æ–º–ø–∞–Ω–∏–π –ø–æ –æ–±—â–µ–Ω–∏—é —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏ –Ω–∞ —Å–∞–π—Ç–µ."]:["–ö–æ–º–ø–∞–Ω–∏—è –≤—Ö–æ–¥–∏—Ç –≤ "," –ø–æ —É—Ä–æ–≤–Ω—é –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤ —á–∞—Ç–µ."];return i.default.createElement("jdiv",{onClick:()=>{g&&g(),p&&(n&&n(),window.open(m(),"_blank"))},onMouseOver:a,className:(0,l.default)({[r.default.topBox]:!0,[r.default.__chat]:s})},i.default.createElement(o.default,{iconName:"top100Icon",className:(0,l.default)({[r.default.topIcon]:!0})}),s&&!h?(()=>{if(!p)return i.default.createElement("jdiv",{className:(0,l.default)({[r.default.topPopup]:!0,[r.default.__call]:f}),style:{color:d,background:c}},_(2)[0],i.default.createElement("a",{onClick:()=>{n&&n()},href:m(),target:"_blank",rel:"noreferrer noopener",title:"",style:{color:d}},"–¢–û–ü-100"),_(2)[1])})():null)};c.propTypes={onClick:s.default.func,onLinkClick:s.default.func,onIconHover:s.default.func,isChat:s.default.bool,popupBackground:s.default.string,color:s.default.string,isCall:s.default.bool,isMobile:s.default.bool,isChatMin:s.default.bool,abGroup:s.default.number};var d=i.default.memo(c);t.default=d},3579:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(45697)),r=n(88928),s=a(n(86735)),l=n(2982);function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}const c=a(n(4855)).default.name("NewTransition"),d=e=>{let{name:t,scriptName:n,children:a,onClick:o,endCallbacks:r={},startCallbacks:u={},duration:d="300ms",timingFunction:f="cubic-bezier(0.39, 0.24, 0.21, 0.99)",delay:p="0s",iterationCount:h=1,direction:g="normal",fillMode:m="both",playState:_="running",customVars:v,style:b,animationPostfix:y,id:E}=e;const T=(0,i.useRef)(null),C=(0,l.isFallbackNeeded)()?s.default.fallback:s.default[y],S=`${t}_${n}`;c.warn("render",S,y);const O=e=>e&&T.current&&e.target===T.current&&e.animationName===C[S]&&n;return i.default.createElement("jdiv",{ref:T,style:{...(()=>{const e={animationDuration:d,animationTimingFunction:f,animationDelay:p,animationIterationCount:h,animationDirection:g,animationFillMode:m,animationPlayState:_,animationName:n?C[S]:null};return(e=>{if(v)for(const t in v)({}).hasOwnProperty.call(v,t)&&((0,l.isFallbackNeeded)()?e[t]=v[t]:e[(0,l.jivoCustomCSSProperty)(t)]=v[t])})(e),e})(),...b},onAnimationEnd:e=>{O(e)&&r[n]&&r[n]()},onAnimationStart:e=>{O(e)&&u[n]&&u[n]()},onClick:o,id:E},a)};d.propTypes={scriptName:o.default.string.isRequired,children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node]).isRequired,name:o.default.string.isRequired,onClick:o.default.func,endCallbacks:o.default.any,startCallbacks:o.default.any,duration:o.default.string,timingFunction:o.default.string,delay:o.default.string,iterationCount:o.default.number,direction:o.default.string,fillMode:o.default.string,playState:o.default.string,customVars:o.default.any,style:o.default.any,animationPostfix:o.default.string,id:o.default.string};var f=(0,r.connect)((e=>({scriptName:e.transition.currentScript})),{})(d);t.default=f},86735:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(7949)),o=a(n(37871)),r=a(n(86052)),s=a(n(8741)),l=a(n(10193)),u=a(n(5446)),c={bottom:i.default,bottom_0:o.default,left:r.default,right:s.default,custom:l.default,fallback:u.default};t.default=c},28302:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.onDeclineButtonClick=t.onAcceptButtonClick=t.getMessageId=t.getActiveMessage=t.getAcceptLink=void 0;var i=n(21476),o=n(47060),r=n(26932),s=n(47138),l=a(n(35802)),u=n(62168),c=n(97615),d=n(50789),f=n(44145),p=n(81152),h=n(83170);const g=a(n(4855)).default.name("WebrtcHelpers");t.onAcceptButtonClick=(e,t,n,a)=>{const c=l.default.getInstance().managers.permission;if(a)g.warn("onAcceptButtonClick",t.private_id),r.messagesDispatchers.updateWebRTCCallStatus(t.private_id,s.WebRTCCallStatus.ACCEPTED);else if(n!==u.PermissionStatus.ALLOWED||c.allMics.length>1)i.Router.next(o.RouterEvent.ToCallSetup);else{r.messagesDispatchers.updateWebRTCCallStatus(t.private_id,s.WebRTCCallStatus.ACCEPTED);const e=l.default.getInstance().managers.webRTCCall;e&&e.connectSdk()}l.default.getInstance().managers.monitoring.telemetry(h.TelemetryName.WEBRTC_ACCEPT_CALL)};t.onDeclineButtonClick=(e,t,n)=>{const a=l.default.getInstance().managers.webRTCCall;g.log("onDeclineButtonClick",a),a&&(d.ApiProvider.declineWebRTCCall(a.callId,(e=>{g.warn("CALL DECLINE REQUEST SUCCESS",e)})),a.stopCall());const i=n?s.WebRTCCallStatus.ENDED:s.WebRTCCallStatus.DECLINED;r.messagesDispatchers.updateWebRTCCallStatus(t.private_id,i),r.callbackDispatchers.setActiveWebRTCCallMessageId(null),l.default.getInstance().managers.monitoring.telemetry(h.TelemetryName.WEBRTC_DENY_CALL)};t.getMessageId=e=>e.get("private_id");t.getAcceptLink=e=>{if(!e)return null;const t=l.default.getInstance().managers.webRTCCall;if(!t)return null;const{callId:n,voxUserLogin:a,voxUserPassword:i}=t,o=l.default.getInstance().config,r=c.EnvironmentManager.isDevelopment()?"//localhost:8080":o.base_url,s=(0,f.getClient)(),u=o.tel_host;let d=`cid=${n}&vl=${a}&vp=${i}&si=${o.site_id}&wi=${o.widget_id}&ci=${s.clientId}&th=${u}&bu=${o.base_url}&shard=${o.shard_id}&lang=${o.locale}&hash=510a715`;o.enable_webrtc_start_call&&(d+=`&sc=${o.enable_webrtc_start_call}`),o.err_host&&(d+=`&errorHost=${o.err_host}`),o.telemetry_host&&(d+=`&telemetryHost=${o.telemetry_host}`);return`https:${r}/webrtc/?${window.btoa(d)}`};t.getActiveMessage=e=>{const t=(0,f.getMessages)().filter((t=>t.type===p.MessageType.WEB_RTC_CALL&&t.body&&t.body.webRTCCallStatus===e));return t.length?t[0]:null}},50304:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.CheapTransition=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(19955));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}const s=a(n(4855)).default.name("CheapTransitionComponent"),l="UNMOUNTED",u="BEFORE_ENTER",c="ENTER",d="BEFORE_EXIT",f="EXIT";class p extends i.Component{constructor(e){super(e),this.state={status:l,show:e.show},this.getStyles=this.getStyles.bind(this),this.changeStatus=this.changeStatus.bind(this),this.handleDebugProp=this.handleDebugProp.bind(this),this.getFinalStyle=this.getFinalStyle.bind(this)}componentDidMount(){this.props.show&&this.setState({status:u,show:this.props.show})}shouldComponentUpdate(e,t){return t.status!==l||this.state.status!==l}static getDerivedStateFromProps(e,t){return!1===e.show&&!0===t.show?{status:d,show:e.show}:!0===e.show&&!1===t.show?{status:u,show:e.show}:null}changeStatus(e,t,n){n?setTimeout((()=>{this.state.status===e&&this.setState({status:t})}),n):this.state.status===e&&this.setState({status:t})}componentDidUpdate(e,t){let{status:n}=this.state;switch(n){case u:this.changeStatus(u,c);break;case d:this.changeStatus(d,f);break;case f:this.props.transition||this.changeStatus(f,l,this.props.waitBeforeUnmount)}}onTransitionEnd(e){this.state.status===f&&e&&e.propertyName&&("PopupSlideUpEULA"===this.props.transition&&"transform"===e.propertyName&&this.changeStatus(f,l,this.props.waitBeforeUnmount),"Fade"===this.props.transition&&"opacity"===e.propertyName&&this.changeStatus(f,l,this.props.waitBeforeUnmount))}getStyles(){let{status:e}=this.state,{transitionStyles:t,shouldAnimate:n}=this.props;if("object"==typeof t.main){switch(e){case l:break;case u:if(n.mount)return{...t.main,...t.enterActive};break;case c:if(n.mount)return{...t.main,...t.enterActive,...t.enterDone};break;case d:if(n.unmount)return{...t.mainExit,...t.exitActive};break;case f:if(n.unmount)return{...t.mainExit,...t.exitActive,...t.exitDone}}return null}}getFinalStyle(){let e=this.state.status===l?"none":"block",t=!o.default.mobileOrTablet()&&!this.props.fixed,n=t?{...this.props.style,height:t?"100%":"",display:e,...this.getStyles()}:{...this.props.style,display:e,...this.getStyles()};return this.props.isStatic&&this.state.status===c&&(n={...n,height:"auto"}),n}handleDebugProp(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):s.log(this.props.name,this.state.status,e))}render(){let e="function"==typeof this.props.children,t=this.getFinalStyle();return this.handleDebugProp(t),i.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:t,onTransitionEnd:this.onTransitionEnd.bind(this)},e?this.props.children():this.props.children)}}t.CheapTransition=p},63237:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.MobileTransition=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=o(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=i?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(a,r,s):a[r]=e[r]}a.default=e,n&&n.set(e,a);return a}(n(98661));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(o=function(e){return e?n:t})(e)}const r=a(n(4855)).default.name("MobileTransition");class s extends i.Component{constructor(e){super(e),this.handleDebugProp=this.handleDebugProp.bind(this)}shouldComponentUpdate(e,t){return!(!e.show&&!this.props.show)}handleDebugProp(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):r.log(this.props.name,e))}render(){let e=this.props.show?"block":"none",t="function"==typeof this.props.children,n={...this.props.style,display:e};return this.handleDebugProp(n),i.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:n},t?this.props.children():this.props.children)}}t.MobileTransition=s},78461:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Transition=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=i?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(a,o,s):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(19955));function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}const s=a(n(4855)).default.name("TransitionComponent"),l="UNMOUNTED",u="ENTER",c="ENTERING",d="ENTERED",f="EXIT",p="EXITING",h="EXITED";class g extends i.Component{constructor(e){super(e),this.state={status:l,show:e.show},this.statusCallbacks={onEnter:!1,onEntered:!1,onExit:!1,onExited:!1},this.getStyles=this.getStyles.bind(this),this.statusCallback=this.statusCallback.bind(this),this.changeStatus=this.changeStatus.bind(this),this.handleDebugProp=this.handleDebugProp.bind(this),this.getParentState=this.getParentState.bind(this),this.getFinalStyle=this.getFinalStyle.bind(this)}componentDidMount(){this.props.show&&this.setState({status:this.props.shouldAnimate.mount?u:d})}shouldComponentUpdate(e,t){return t.status!==l||this.state.status!==l}static getDerivedStateFromProps(e,t){return!1===e.show&&!0===t.show?this.handleUnmount(e,t):!0===e.show&&!1===t.show?this.handleMount(e,t):null}static handleUnmount(e,t){return e.parentState?e.parentState.status===l?{status:l,show:e.show}:!0===e.parentState.show?e.parentState.parentState&&e.parentState.parentState.status!==d?{status:t.status,show:t.show}:{status:e.shouldAnimate.unmount?f:h,show:e.show}:{status:t.status,show:t.show}:{status:e.shouldAnimate.unmount?f:h,show:e.show}}static handleMount(e,t){if(e.parentState){if(e.shouldWait>=0){return this.findLevelStatus(e.shouldWait,e.parentState)===d?{status:e.shouldAnimate.mount?u:d,show:e.show}:{status:t.status,show:t.show}}return{status:e.shouldAnimate.mount?u:d,show:e.show}}return{status:e.shouldAnimate.mount?u:d,show:e.show}}static findLevelStatus(e,t){return t.level===e?t.status:t.level>e?this.findLevelStatus(e,t.parentState):void 0}statusCallback(e){this.statusCallbacks[e]||(this.props[e]&&this.props[e](),this.statusCallbacks[e]=!0)}changeStatus(e,t,n){n?setTimeout((()=>{this.state.status===e&&this.setState({status:t})}),n):this.state.status===e&&this.setState({status:t})}componentDidUpdate(e,t){let{status:n}=this.state;switch(n){case u:this.statusCallbacks={onEnter:!1,onEntered:!1,onExit:!1,onExited:!1},this.changeStatus(u,c);break;case c:this.statusCallback("onEnter"),this.changeStatus(c,d,this.props.duration);break;case d:this.statusCallbacks.onExit=!1,this.statusCallbacks.onExited=!1,this.statusCallback("onEntered");break;case f:this.changeStatus(f,p);break;case p:this.statusCallback("onExit"),this.changeStatus(p,h,this.props.duration);break;case h:this.statusCallbacks.onEnter=!1,this.statusCallbacks.onEntered=!1,this.changeStatus(h,l,this.props.waitBeforeUnmount),this.statusCallback("onExited")}}getStyles(){let{status:e}=this.state,{transitionStyles:t,shouldAnimate:n}=this.props;if("object"==typeof t.main){switch(e){case l:return{...t.main};case u:if(n.mount)return{...t.main,...t.enterActive};break;case c:case d:if(n.mount)return{...t.main,...t.enterActive,...t.enterDone};break;case f:if(n.unmount)return{...t.mainExit,...t.exitActive};break;case p:case h:if(n.unmount)return{...t.mainExit,...t.exitActive,...t.exitDone}}return null}}getFinalStyle(){let e=this.state.status===l?"none":"block",t=!o.default.mobileOrTablet()&&!this.props.fixed,n=t?{...this.props.style,height:t?"100%":"",display:e,...this.getStyles()}:{...this.props.style,display:e,...this.getStyles()};return this.props.isStatic&&this.state.status===d&&(n={...n,height:"auto"}),n}getParentState(){let e={status:this.state.status,name:this.props.name,show:this.state.show};return this.props.parentState?(e.parentState=this.props.parentState,e.level=this.props.parentState.level+1):e.level=0,e}handleDebugProp(e){this.props.debugCallback&&("function"==typeof this.props.debugCallback?this.props.debugCallback(this.props,this.state,e):s.log(this.props.name,this.state.status,e))}render(){let e="function"==typeof this.props.children,t=this.getFinalStyle();return this.handleDebugProp(t),i.default.createElement("jdiv",{id:this.props.id,className:this.props.className,style:t,onTransitionEnd:e=>{this.props.animationEnd&&this.props.animationEnd(e)}},e?this.props.children(this.getParentState()):this.props.children)}}t.Transition=g},38121:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1039)),o=a(n(19955));const r="cubic-bezier(0.39, 0.24, 0.21, 0.99)";var s={NoTransition:function(){return{main:{},enterActive:{},enterDone:{},mainExit:{},exitActive:{},exitDone:{}}},Container:function(e){let{marginRight:t,width:n}=e;const a=+i.default.widget_padding,s=()=>0===a?"":50===a?`${a}%`:"30px",l=`width 300ms ${r}, margin-right 300ms ${r}, right 300ms ${r}, transform 300ms ${r}, opacity 300ms ${r}, height 300ms ${r}, left 300ms ${r}`,u=o.default.ieOrEdge()||o.default.safari()?"translateY(92%)":"translateY(calc(100% - 40px))";return{main:{width:`${n}px`,marginRight:t||(50===a?-150:0),right:s(),left:0===a?"30px":"",transition:l,willChange:"width, margin-right, right, transform, opacity, left, height",transform:u},enterActive:{width:`${n}px`,marginRight:t,right:s(),transform:u,...(o.default.ieOrEdge()||o.default.safari())&&{height:"40px"}},enterDone:{width:"",marginRight:"",right:"",transform:"translateY(0%)"},mainExit:{transition:l,willChange:"width, margin-right, right, transform, opacity, left, height"},exitActive:{transform:"translateY(0%)"},exitDone:{width:`${n}px`,marginRight:t,right:s(),left:0===a?"30px":"",transform:u}}},ContainerRight:function(e){let{marginBottom:t,height:n,width:a}=e;const o=`height 300ms ${r}, margin-bottom 300ms ${r}, right 300ms ${r}, transform 300ms ${r}, opacity 300ms ${r}, bottom 300ms ${r}`,s="translateX(100%) translateY(0)",l=+i.default.widget_padding,u=100!==l?`${l}%`:"0px";return{main:{height:`${n}px`,marginBottom:t||(100!==l?-248:null),transition:o,transform:s,bottom:u,right:"40px",willChange:"height, margin-bottom, right, transform, opacity, bottom",opacity:0},enterActive:{height:`${n}px`,marginBottom:t,bottom:u,transform:s,right:"40px",opacity:0},enterDone:{height:"",marginBottom:"",bottom:"",transform:"translateX(0) translateY(0)",opacity:1},mainExit:{transition:o,willChange:"height, margin-bottom, right, transform, opacity, bottom"},exitActive:{height:`${n}px`,marginBottom:t,bottom:u,transform:s,opacity:1},exitDone:{height:`${n}px`,marginBottom:t,bottom:u,transform:s,right:"40px",opacity:0}}},ContainerLeft:function(e){let{marginBottom:t,height:n,width:a}=e;const s=`height 300ms ${r}, margin-bottom 300ms ${r}, left 300ms ${r}, transform 300ms ${r}, opacity 300ms ${r}, bottom 300ms ${r}`,l=o.default.ieOrEdge()?"translateX(-100%) translateY(0)":"translateX(calc(-100% - 10px)) translateY(0)",u=+i.default.widget_padding,c=100!==u?`${u}%`:"";return{main:{height:`${n}px`,marginBottom:t||(100!==u?-248:null),transition:s,bottom:c,left:"40px",willChange:"height, margin-bottom, left, transform, opacity, bottom",transform:l,opacity:0},enterActive:{height:`${n}px`,marginBottom:t,bottom:c,transform:l,left:"40px",opacity:0},enterDone:{height:"",marginBottom:"",bottom:"",transform:"translateX(0) translateY(0)",opacity:1},mainExit:{transition:s,willChange:"height, margin-bottom, left, transform, opacity, bottom"},exitActive:{height:`${n}px`,marginBottom:t,bottom:c,transform:l,opacity:1},exitDone:{height:`${n}px`,marginBottom:t,bottom:c,transform:l,left:"40px",opacity:0}}},Fade:function(){return{main:{transition:`opacity 200ms ${r}`,opacity:0},enterActive:{transition:`opacity 200ms ${r}`,opacity:0},enterDone:{opacity:1},mainExit:{transition:`opacity 200ms ${r}`,opacity:1},exitActive:{opacity:1},exitDone:{opacity:0}}},FadeWithDelay:function(){return{main:{transition:`opacity 200ms ${r} 400ms`,opacity:0},enterActive:{transition:`opacity 200ms ${r} 400ms`,opacity:0},enterDone:{opacity:1},mainExit:{transition:`opacity 200ms ${r} 400ms`,opacity:1},exitActive:{opacity:1},exitDone:{opacity:0}}},LabelFade:function(){const e=o.default.ie()?0:250,t=o.default.ie()?1500:250;return{main:{transition:`opacity ${t}ms ease ${e}ms`,opacity:0},enterActive:{transition:`opacity ${t}ms ease ${e}ms`,opacity:0},enterDone:{opacity:1},mainExit:{transition:"opacity 50ms ease",opacity:1},exitActive:{transition:"opacity 50ms ease",opacity:0},exitDone:{opacity:0}}},PopupSlideUpEULA:function(){return{main:{width:"100%",transition:`transform 300ms ${r}`,opacity:1,position:"absolute",bottom:0,top:0,zIndex:25,willChange:"transform"},enterActive:{transform:"translateY(100%)"},enterDone:{transform:"translateY(0)"},mainExit:{width:"100%",transition:`transform 300ms ${r}`,transform:"translateY(0)",opacity:1,position:"absolute",bottom:0,top:0,zIndex:25,willChange:"transform"},exitActive:{transform:"translateY(0)"},exitDone:{transform:"translateY(100%)"}}}};t.default=s},73549:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Path=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(45697)),r=n(50304),s=n(63237),l=n(21476),u=n(78461),c=a(n(19955)),d=a(n(40202)),f=n(44145);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}class h extends i.Component{constructor(e){super(e),this.state={show:this.getShow((0,f.getApp)().route||l.Router.getCurrentRoute())},this.getTransitionStylesProp=this.getTransitionStylesProp.bind(this),this.getShouldAnimateProp=this.getShouldAnimateProp.bind(this),this.getTransitionComponent=this.getTransitionComponent.bind(this),this.getShow=this.getShow.bind(this),this.onRouteChange=this.onRouteChange.bind(this)}onRouteChange(e){const t=this.getShow(e);this.state.show!==t&&this.setState({show:t})}componentDidMount(){l.Router.on("route_change",this.onRouteChange)}componentWillUnmount(){l.Router.off("route_change",this.onRouteChange)}getShow(e){return this.props.paths.includes(e)}getTransitionStylesProp(){return this.props.transition?d.default.getTransitionByName(this.props.transition):d.default.getEmptyTransition()}getShouldAnimateProp(){return c.default.mobileOrTablet()?{mount:null,unmount:null}:{mount:this.props.withMountTransition,unmount:this.props.withUnmountTransition}}getTransitionComponent(){return c.default.mobileOrTablet()?s.MobileTransition:!c.default.ieOrEdge()&&this.props.cheap?r.CheapTransition:u.Transition}render(){const e=this.getTransitionComponent(),t=(0,f.getApp)().route;return i.default.createElement(e,{id:this.props.id,show:this.getShow(t),shouldAnimate:this.getShouldAnimateProp(),duration:this.props.duration||200,className:this.props.className,style:this.props.style,transitionStyles:this.getTransitionStylesProp(),transition:this.props.transition,fixed:this.props.fixed,onEnter:this.props.onEnter,onExit:this.props.onExit,onEntered:this.props.onEntered,onExited:this.props.onExited,parentState:this.props.parentState,name:this.props.name,shouldWait:this.props.shouldWait,isStatic:this.props.isStatic,waitBeforeUnmount:this.props.waitBeforeUnmount,debugCallback:this.props.debugCallback,animationEnd:this.props.animationEnd},this.props.children)}}t.Path=h,h.propTypes={paths:o.default.arrayOf(o.default.string).isRequired,withMountTransition:o.default.bool,withUnmountTransition:o.default.bool,transition:o.default.string,fixed:o.default.bool,isStatic:o.default.bool,waitBeforeUnmount:o.default.number,name:o.default.string,duration:o.default.number,onEnter:o.default.func,onEntered:o.default.func,onExit:o.default.func,onExited:o.default.func,animationEnd:o.default.func,children:o.default.oneOfType([o.default.arrayOf(o.default.node),o.default.node,o.default.func]).isRequired,debugCallback:o.default.oneOfType([o.default.bool,o.default.func]),shouldWait:o.default.number,parentState:o.default.object,style:o.default.object,cheap:o.default.bool,className:o.default.string,id:o.default.oneOfType([o.default.string,o.default.number])}},251:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=N(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=n(88928),r=a(n(45697)),s=a(n(3579)),l=n(26932),u=n(20361),c=n(47060),d=n(47245),f=a(n(2167)),p=n(69882),h=a(n(19955)),g=n(21476),m=n(80161),_=a(n(75686)),v=n(54034),b=n(33813),y=a(n(91275)),E=n(43914),T=n(47138),C=n(54415),S=n(83170),O=n(97615),A=n(31802),w=a(n(4855)),I=n(81722),M=n(44145),R=n(92400);function N(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(N=function(e){return e?n:t})(e)}w.default.name("WidgetContainer2");const P=e=>{let{callbackEnabled:t,route:n,position:a,padding:r,orientation:w,callbackStatus:N,isInDrag:P}=e;const[D,L]=(0,i.useState)(!1),[k,x]=(0,i.useState)(!0),[B,j]=(0,i.useState)(!0),F=_.default.get(d.Component.LABEL),H=v.CallbackUtils.isCallbackEnabled(),U=-1!==[c.Route.CALL,c.Route.CALL_EULA,c.Route.INTRODUCE].indexOf(n),W=n!==c.Route.CALL||-1===[T.CallStatus.WAIT,T.CallStatus.CONNECTING,T.CallStatus.CONNECTED].indexOf(N),G=!h.default.mobileOrTablet()&&!(0,p.isWixIframe)()&&n!==c.Route.CHAT_MIN,z=D&&G,V=(0,o.useSelector)(R.selectTransitionCurrentScript),{campaignId:q,name:$}=(0,o.useSelector)(M.getProactive);if(n===c.Route.HIDDEN)return null;if(q&&$&&V==u.ScriptName.OPEN_WIDGET){const e=(0,I.getMaxWidgetHeightForProactive)();e&&(a.height=e)}const K=(0,b.getCustomVars)(w,r,a,F,U),Y=e=>{(0,E._callUserFunction)("onResizeCallback",(0,b.getSize)(e,w,a.height?a.height:K.height,g.Router.getCurrentRoute()))};return i.default.createElement(s.default,{id:"jcont",name:d.Component.WIDGET_CONTAINER,startCallbacks:{[u.ScriptName.OPEN_WIDGET]:()=>{P||(L(!1),x(!0),j(!1),y.default.initSocial(),y.default.addMessagesOnOpen(),(0,E._callUserFunction)("onOpen"),Y(!0))},[u.ScriptName.CLOSE_WIDGET]:()=>{L(!1),x(!1),j(!1),Y(!1)},[u.ScriptName.MINIMIZE_WIDGET]:()=>{L(!1),x(!0),j(!0),g.Router.next(c.RouterEvent.CloseWindow),Y(!1)}},endCallbacks:{[u.ScriptName.OPEN_WIDGET]:()=>{P||(L(!0),j(!0),(0,b.fixSafariKeyframes)())},[u.ScriptName.CLOSE_WIDGET]:()=>{g.Router.next(c.RouterEvent.CloseWindow)},[u.ScriptName.MAXIMIZE_WIDGET]:()=>{P||(L(!0),x(!0),j(!0),(0,E._callUserFunction)("onOpen"),Y(!0))},[u.ScriptName.MIN_WIDGET]:()=>{}},customVars:K,style:(()=>{const e={display:"block",position:"fixed"};return h.default.safari()&&O.EnvironmentManager.isRegPage()&&(e.width="336px",e.height="496px",e.animation="none"),e})(),animationPostfix:(0,b.getAnimationPostfix)(w,r)},i.default.createElement(f.default,{needRenderCloseBtn:W,needRenderCallContainer:H,needRenderDrag:z,showCloseButton:D,showHeaderText:k,showBody:B,callbackEnabled:t,route:n,onCloseButtonClick:()=>{(0,A.closeWidget)(),m.RouterUtils.isChatMinAvailable()?l.transitionDispatchers.startTransition(u.ScriptName.MINIMIZE_WIDGET):N===T.CallStatus.CONNECTED?g.Router.next(c.RouterEvent.CloseWindow):l.transitionDispatchers.startTransition(u.ScriptName.CLOSE_WIDGET),C.Monitoring.telemetry(S.TelemetryName.WIDGET_CLOSE_CLICK)},isStatic:U}))};P.propTypes={callbackEnabled:r.default.bool,route:r.default.string,position:r.default.any,padding:r.default.number,orientation:r.default.string,callbackStatus:r.default.oneOfType([r.default.string,r.default.bool]),isInDrag:r.default.bool};var D=(0,o.connect)((e=>({padding:e.settings.user.widgetPadding,orientation:e.settings.user.widgetOrientation,route:e.app.route,callbackEnabled:e.callback.available,position:e.position,callbackStatus:e.callback.status,isInDrag:e.app.isInDrag})),{})(i.default.memo(P));t.default=D},33813:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.getSize=t.getCustomVars=t.getContainerStyle=t.getChatPosition=t.getAnimationPostfix=t.fixSafariKeyframes=t.callResize=t.addMessagesOnOpen=t.addCustomVarsToStyle=void 0;var i=n(69882),o=n(52028),r=n(2982),s=a(n(75686)),l=n(47245),u=n(52274),c=n(47060),d=a(n(19955)),f=n(62096),p=n(44145),h=n(65465),g=n(97615),m=n(43914);const _=(e,t,n,a,i)=>{let o={};const r=a&&a.offsetWidth,s=a&&a.offsetHeight;return"bottom"===e&&(o=v(t,r,s)),"left"===e&&(o=b(t,r,s)),"right"===e&&(o=y(t,r,s)),o=E(o,n),!n.height>>0&&(o.height="496px"),i&&(o.height="auto"),o};t.getChatPosition=_;const v=e=>{const t={};return 100===e||50===e?t.right="30px":t.left="40px",t},b=(e,t,n)=>{const a={left:"40px",bottom:t?d.default.ieOrEdge()?"32%":`calc(50% - ${t/2}px)`:"50%"};return 100===e&&(a.bottom="20px"),a},y=(e,t,n)=>{const a=50===e?`calc(50% - ${t/2}px)`:0;return{right:"39px",bottom:t?d.default.ieOrEdge()?"32%":a:"50%"}},E=(e,t)=>{const n=e;return t.right&&(n.right=t.right),t.height&&(n.height=t.height),t.left&&(n.left=t.left),n};t.getAnimationPostfix=(e,t)=>{const{labelBubble:n}=f.reduxStore.getState().settings.user;return(0,i.isCustomLabel)()||o.isDesignerEditor||d.default.desktop()&&n?"custom":"bottom"===e&&0===t?`${e}_0`:e};t.getCustomVars=(e,t,n,a,i)=>{const o={labelwidth:a&&a.offsetWidth?`${a.offsetWidth}px`:null,labelright:a&&a.style&&a.style.right?a.style.right:null,labelleft:a&&a.style&&a.style.left?a.style.left:null,..._(e,t,n,a,i)};if(a&&!a.style){const e=(0,r.getSavedLabelPosition)();o.labelleft=e.left,o.labelright=e.right,o.labelwidth=`${e.offsetWidth}px`}return o};const T=(e,t,n,a)=>{if(a==c.Route.CHAT_MIN)return{width:u.CHAT_WIDTH+"px",height:u.HEADER_HEIGHT+"px"};if(a==c.Route.CALL)return{width:u.CHAT_WIDTH+"px",height:u.DEFAULT_WIDGET_HEIGHT+"px"};const i=e?u.CHAT_WIDTH+"px":(0,r.getSavedLabelPosition)().offsetWidth+"px";return"bottom"===t||e?{width:i,height:e?n:u.LABEL_HEIGHT+"px"}:{width:u.LABEL_HEIGHT+"px",height:(0,r.getSavedLabelPosition)().offsetWidth+"px"}};t.getSize=T;t.fixSafariKeyframes=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(d.default.safari()&&!d.default.mobileOrTablet()){const t=s.default.get(l.Component.WIDGET_CONTAINER);(0,r.updateKeyframes)(t,e)}};t.addMessagesOnOpen=()=>{h.messageActions.addMessagesOnOpen((0,p.getApp)().isOnline)};t.getContainerStyle=()=>{const e={display:"block",position:"fixed"};return d.default.safari()&&g.EnvironmentManager.isRegPage()&&(e.width="336px",e.height="496px",e.animation="none"),e};t.callResize=e=>{const t=(0,p.getPosition)(),{widgetOrientation:n}=(0,p.getUserSettings)(),{route:a}=(0,p.getApp)();(0,m._callUserFunction)("onResizeCallback",T(e,n,t.height,a))};t.addCustomVarsToStyle=(e,t)=>{if(t)for(const n in t)({}).hasOwnProperty.call(t,n)&&((0,r.isFallbackNeeded)()?e[n]=t[n]:e[(0,r.jivoCustomCSSProperty)(n)]=t[n]);return e}},2167:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(45697)),r=a(n(21135)),s=a(n(79601)),l=a(n(47548)),u=a(n(84726)),c=a(n(94184)),d=a(n(19955)),f=n(47060),p=a(n(72066));const h=i.default.lazy((()=>n.e(402).then(n.bind(n,79681)))),g=[f.Route.CHAT,f.Route.CHAT_CALL,f.Route.CHAT_EULA,f.Route.CHAT_SOCIAL,f.Route.CHAT_MIN,f.Route.CHAT_SETUP_CALL,f.Route.DEPARTMENTS,f.Route.INTRODUCE,f.Route.DEBUG],m=[f.Route.CALL,f.Route.CALL_EULA],_=e=>{let{needRenderCloseBtn:t,needRenderCallContainer:n,needRenderDrag:a,showCloseButton:o,showHeaderText:_,showBody:v,callbackEnabled:b,route:y,onCloseButtonClick:E,isStatic:T}=e;const C=(0,c.default)({[p.default.contentWrapper]:!0,notranslate:!0});return i.default.createElement(i.default.Fragment,null,t?i.default.createElement(l.default,{drag:a,callEnabled:b,inCall:y===f.Route.CALL,show:o,onClick:E,ignoreDragHeight:T}):null,i.default.createElement("jdiv",{className:C,translate:!1},i.default.createElement(r.default,{allowedRoutes:g,currentRoute:y,name:"ChatContainer"},i.default.createElement(s.default,{showHeaderText:_,showBody:v,canRenderCall:n})),(()=>{if(!n)return null;const e=(0,c.default)({[p.default.loadingWrap]:!0,[p.default.__mobile]:d.default.mobile()});return i.default.createElement(r.default,{allowedRoutes:m,currentRoute:y,name:"CallContainer"},i.default.createElement(i.default.Suspense,{fallback:i.default.createElement("jdiv",{className:e},(0,u.default)("cb_loading"))},i.default.createElement(h,{route:y,showBody:v})))})()))};_.propTypes={needRenderCloseBtn:o.default.bool.isRequired,needRenderCallContainer:o.default.bool.isRequired,needRenderDrag:o.default.bool.isRequired,showCloseButton:o.default.bool.isRequired,showHeaderText:o.default.bool.isRequired,showBody:o.default.bool.isRequired,route:o.default.string.isRequired,onCloseButtonClick:o.default.func.isRequired,callbackEnabled:o.default.bool,isStatic:o.default.bool};var v=i.default.memo(_);t.default=v},58839:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=d(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(45697)),r=a(n(94184)),s=n(43025),l=n(9335),u=a(n(54978)),c=a(n(73460));function d(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(d=function(e){return e?n:t})(e)}const f=e=>{let{zoomValue:t,windowInnerWidth:n,windowInnerHeight:a,isTablet:o,isPointerEnabled:d,isVisualViewportEnabled:f,viewportOverlayStyle:p}=e;const h=(0,i.useRef)(null),[g,m]=(0,l.useToggle)(!0),_=()=>m(!1),v=()=>m(!0),b=(0,r.default)({[u.default.wrap]:!0,[u.default._tablet]:o}),y={display:g?"block":"none",width:f?"100%":n,height:a},E={zoom:t},T=()=>i.default.createElement("jdiv",null,i.default.createElement(c.default,{iconName:"hand",className:u.default.handIcon}),i.default.createElement(c.default,{iconName:"arrow",className:u.default.arrow1}),i.default.createElement(c.default,{iconName:"arrow2",className:u.default.arrow2}));return i.default.createElement("jdiv",{className:b},d?i.default.createElement("jdiv",{className:u.default.zoom,onPointerDown:_,onPointerUp:v,onPointerMove:_,onPointerCancel:v}):i.default.createElement("jdiv",{className:u.default.zoom,onTouchStart:_,onTouchEnd:v,onTouchCancel:v,onTouchMove:_}),i.default.createElement("jdiv",{className:u.default.substrate}),i.default.createElement("jdiv",{style:y,className:u.default.iconContainer},f?i.default.createElement("jdiv",{style:p,className:u.default.viewWrap},i.default.createElement("jdiv",{style:E,className:u.default.box},T())):i.default.createElement("jdiv",{ref:h,style:E,className:u.default.iconWrap},i.default.createElement("jdiv",{style:(()=>{const e=h.current;if(e&&o){const{top:n,left:a}=(0,s.getElementPosition)(e);return{left:-(a-a*t),top:-(n-n*t)}}return null})(),className:u.default.iconWrapContainer},T()))))};f.propTypes={zoomValue:o.default.number,windowInnerWidth:o.default.number,windowInnerHeight:o.default.number,isTablet:o.default.bool,isPointerEnabled:o.default.bool,isVisualViewportEnabled:o.default.bool,viewportOverlayStyle:o.default.object};var p=f;t.default=p},29911:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=h(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(98661)),o=a(n(45697)),r=n(10895),s=n(54415),l=n(83170),u=n(43374),c=n(9335),d=a(n(19955)),f=n(5517),p=a(n(58839));function h(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(h=function(e){return e?n:t})(e)}const g=e=>{let{route:t}=e;const[n,a]=(0,c.useToggle)((()=>(0,f.getIsShow)(t))),[o,h]=(0,i.useState)((0,f.getAppZoom)()),[g,m]=(0,i.useState)(f.getViewportStyles),_=(0,i.useCallback)(((e,i)=>{const o=(0,f.getIsShow)(t,i),r=(0,f.getBodyElement)();o&&d.default.safari()&&r&&(r.scrollTop=0,r.scrollLeft=0),o===n||(0,f.getIsLabelRoute)(t)||s.Monitoring.telemetryOnce(o?l.TelemetryName.ZOOM_OVERLAY_SHOW:l.TelemetryName.ZOOM_OVERLAY_HIDE),h(e),a(o)}),[n,t,a]);return(0,i.useEffect)((function(){(0,f.listenZoomChanges)(_)}),[_]),(0,i.useEffect)((function(){_((0,f.getAppZoom)(),(0,f.getUserZoom)())}),[_,t]),(0,i.useEffect)((function(){const e=(0,f.getWindowVisualViewport)();if(e){const t=(0,u.throttle)((0,r.compose)(m,f.getViewportStyles),150);return e.addEventListener("scroll",t),e.addEventListener("resize",t),()=>{e.removeEventListener("scroll",t),e.removeEventListener("resize",t)}}}),[]),n?i.default.createElement(p.default,{zoomValue:o,windowInnerWidth:(0,f.getWindowInnerWidth)(),windowInnerHeight:(0,f.getWindowInnerHeight)(),isTablet:d.default.tablet(),isPointerEnabled:d.default.isPointerEnabled(),isVisualViewportEnabled:!!(0,f.getWindowVisualViewport)(),viewportOverlayStyle:g}):null};g.propTypes={route:o.default.string};var m=g;t.default=m},5517:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.listenZoomChanges=t.getWindowVisualViewport=t.getWindowInnerWidth=t.getWindowInnerHeight=t.getViewportStyles=t.getUserZoom=t.getIsShow=t.getIsLabelRoute=t.getBodyElement=t.getAppZoom=void 0;var i=n(52274),o=n(47060),r=a(n(19955)),s=a(n(74379));t.getAppZoom=()=>s.default.getAppZoom();const l=()=>s.default.getUserZoom();t.getUserZoom=l;t.getBodyElement=()=>s.default.bodyEl;t.getWindowInnerWidth=()=>s.default.window.innerWidth;t.getWindowInnerHeight=()=>s.default.window.innerHeight;t.getWindowVisualViewport=()=>s.default.window.visualViewport;t.listenZoomChanges=e=>s.default.listenChangeZoom((t=>{e(t.appZoom,t.userZoom)}));const u=e=>e===o.Route.LABEL;t.getIsLabelRoute=u;t.getIsShow=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l();return(!r.default.ios()||!s.default.isWidgetOnWix)&&(!u(e)&&t>i.MAX_ALLOWED_USER_ZOOM)};t.getViewportStyles=()=>{const e=s.default.window.visualViewport;if(e){const{width:t,height:n,offsetLeft:a,offsetTop:i}=e;return{width:t,height:n,transform:`translate(${a}px, ${i}px)`}}return null}},2559:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(72672));const o=JSON.parse(JSON.stringify(i.default));var r=Object.keys(o).reduce(((e,t)=>({...e,[t.toUpperCase().replace("-","_")]:o[t]})),{});t.default=r},52615:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.DataProvider=void 0;var i=n(50789),o=n(56348),r=a(n(4867)),s=n(87252);const l=a(n(4855)).default.name("ApiInvitations.DataProvider");t.DataProvider=class{constructor(e,t){this.userToken=e,this.manager=t,this.timer=new s.Timer(this.update.bind(this)),this.store=new o.InvitationsStore({type:"default",name:"api_invites",itemClass:r.default,keys:{id:null,text:null,ruleName:null,read:null,isPopup:null,isMarkdown:null,prechat:null}}),this.update()}update(){l.log("Update invitations"),this.getInvitationsFromApi();const e=Math.floor(120*Math.random()+90);this.timer.start(60*e*1e3)}getInvitationsFromApi(){l.log("Getting invitations from Api"),i.ApiProvider.getCustomerIoInvites(this.userToken,((e,t)=>{e?l.error("Bad request",e.status,e.statusText):t.data?t.data&&t.data.ok&&(this.store.save(t.data.invitations),l.log("Invitations are up to date"),this.manager.addInvitationsToChat()):l.warn("No response data")}))}hasInvitations(){return this.store.length()||!1}getInvitations(){return this.store.getAll()}markInvitationsRead(){this.store.markInvitationsRead()}}},56348:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.InvitationsStore=void 0;var i=a(n(34973)),o=n(54415),r=n(83170),s=n(44145);const l=a(n(4855)).default.name("ApiInvitations.InvitationsStore");class u extends i.default{constructor(e){super(e)}save(e){l.log("Storing invitations",e),this.store.length?this.merge(e):e.forEach((e=>{this.add(e)}))}merge(e){l.log("Merging invitations",e),this.deleteUnreads(),e.forEach((e=>{this.findById(e.invitation_id)||this.add(e)}))}deleteUnreads(){l.log("Deleting unread invitations");this.store.filter((e=>!e.get("read"))).forEach((e=>{e.destroy()}))}add(e){l.log("Adding invitation",e);const{text:t,rule_name:n,invitation_id:a,is_popup:i,prechat:u}=e,c=(0,s.getClient)();this.push({text:t,ruleName:n,id:a,read:!1,isPopup:i||null,prechat:u||null}),o.Monitoring.telemetry(r.TelemetryName.RECEIVE_API_INVITATION,{param1:n,param2:a,param3:c.email})}findById(e){return this.store.find((t=>t.get("id")===e))}length(){return this.store.length}markInvitationsRead(){this.store.filter((e=>!e.get("read"))).forEach((e=>{e.set("read",!0)}))}}t.InvitationsStore=u},78692:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.ApiInvitationsManager=void 0;var i=n(52615),o=a(n(71277)),r=a(n(14264)),s=a(n(2833)),l=a(n(26754)),u=n(81152),c=n(54415),d=n(83170),f=n(26932),p=n(65465),h=a(n(1039)),g=n(21476),m=n(47060),_=n(20361),v=n(44145),b=n(44145),y=n(43914);const E=a(n(4855)).default.name("ApiInvitationsManager");const T=new class{constructor(){this.userToken=null,this.initialized=!1,this.dataProvider=null,this.needToSendTelemetry={[d.TelemetryName.ANSWER_API_INVITATION]:!0,[d.TelemetryName.READ_API_INVITATION]:!0,[d.TelemetryName.CLICK_LINK_API_INVITAION]:!0},this.invitationsCount=0,this.needToOpenChat=!0,this.needToShowPopup=!1,this.needToShowPrechat=!1}initialize(e){this.initialized||(this.dataProvider=new i.DataProvider(e,this),this.userToken=e,this.initialized=!0,g.Router.on("route_change",(e=>{(0,y._callUserFunction)("onChangeState",e),g.Router.isChatInputRoute(e)&&this.markInvitationsRead()})))}isInitialized(){return this.initialized}hasInvitations(){return this.initialized&&this.dataProvider&&this.dataProvider.hasInvitations()}saveUnreadInvitations(){if(!this.initialized)return;r.default.getUnreadApiInvitations().forEach((e=>{delete e.get("body").unsave;const t=Object.assign({},e.toJSON());f.messagesDispatchers.addMessage(t),e.destroy()})),this.dataProvider.markInvitationsRead()}sendUrlClickTelemetry(){this.initialized&&this._sendInvitationsTelemetry(d.TelemetryName.CLICK_LINK_API_INVITAION)}markInvitationsAnswered(){this.initialized&&(this.saveUnreadInvitations(),this._sendInvitationsTelemetry(d.TelemetryName.ANSWER_API_INVITATION))}markInvitationsRead(){this.initialized&&(this.saveUnreadInvitations(),this._sendInvitationsTelemetry(d.TelemetryName.READ_API_INVITATION))}_sendInvitationsTelemetry(e){if(!this.initialized)return;const t=this.getCurrentInvitations(),n=(0,b.getClient)();t&&this.needToSendTelemetry[e]&&(t.forEach((t=>{c.Monitoring.telemetry(e,{param1:t.get("ruleName"),param2:t.get("id"),param3:n.email})})),this.needToSendTelemetry[e]=!1)}addInvitationsToChat(){if(!this.initialized)return;E.log("addRulesToChat",this.store);const e=this.dataProvider.getInvitations(),t=(0,b.getClient)();let n,a;s.default.getActiveAgent((i=>{E.log("Active agent:",i),i&&(Object.assign(l.default,i),i.bot_id||t.priorityAgentId&&t.priorityAgentId===i.agent_id||f.clientDispatchers.setPaId(i.agent_id),f.chatsDispatchers.setJoinedAgents([i]));const s=r.default.getUnreadApiInvitations(),b=s.length;s.forEach((e=>{e.destroy()})),this.invitationsCount=0,e.forEach((e=>{if(!e.get("read")&&!(0,v.getApp)().chatStarted){const t=e.get("text");n=e.get("ruleName"),a=e.get("id");const o=i?{...i,customerIO:!0,unsave:!0,invitationId:e.get("id")}:{customerIO:!0,unsave:!0,invitationId:e.get("id")},r={type:u.MessageType.MESSAGE,from:u.MessageInitiator.AGENT,from_id:i&&i.agent_id,text:t,body:o};f.messagesDispatchers.addMessage(r),this.invitationsCount++,this.needToShowPopup=e.get("isPopup")||!1,this.needToShowPrechat=e.get("prechat")||!1}})),this.invitationsCount!==b&&(o.default.play("notification"),this.needToOpenChat&&this.needToShowPopup?(g.Router.next(m.RouterEvent.ToLabelInvitation),c.Monitoring.telemetry(d.TelemetryName.API_INVITATION_OPEN_CHAT,{param1:n,param2:a,param3:t.email}),this.needToOpenChat=!1):(g.Router.next(m.RouterEvent.ToChat),f.transitionDispatchers.startTransition(_.ScriptName.OPEN_WIDGET),(0,y._callUserFunction)("onMessageReceived")),this.needToShowPrechat&&this.needToShowPrechat.length&&(p.messageActions.deletePrechatMsg(),h.default.prechat=this._formatInvitationPrechats(this.needToShowPrechat),h.default.enable_prechat=1,p.messageActions.pushPrechat()))}))}_formatInvitationPrechats(e){return e.map((e=>({text:e})))}getCurrentInvitations(){return this.initialized?this.dataProvider.getInvitations():null}};t.ApiInvitationsManager=T},87252:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;t.Timer=class{constructor(e){this.timerId=null,this.cb=e||null}setCallback(e){this.cb=e}start(e){clearTimeout(this.timerId),this.timerId=setTimeout(this.cb,e)}stop(){clearTimeout(this.timerId)}}},35802:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(98661)),r=n(21951),s=n(69882),l=a(n(34137)),u=n(43914),c=a(n(1039)),d=n(47245),f=a(n(75686)),p=a(n(4855)),h=n(23336),g=a(n(91275)),m=a(n(45430)),_=n(99012),v=n(22618),b=a(n(74603)),y=n(97615),E=n(62096),T=a(n(19955)),C=a(n(69144)),S=n(26932),O=n(47060),A=n(44145);const w=p.default.name("Jivo Widget");let I=null;var M=class{constructor(){if(I)return I;I=this,this.config=c.default,this.managers={sound:null,connection:null,environment:null,eula:null,feature:null,history:null,loaderContext:null,pageVisibility:null,position:null,recaptcha:null,ref:null,rule:null,title:null,transition:null,windowResize:null,abTest:null,monitoring:null,analytics:null,debug:null,device:null},this.stores={app:null,client:null,agent:null,agents:null,history:null,local:null,proactive:null,session:null,messages:null,temp:null},this.integrations={},this.utils={},this.rootContainer=null,this.devTools=null,this.reduxStore=E.reduxStore,this.initialize(),this.sendInitialTelemetry()}static getInstance(){return I}initialize(){(0,h.initializePolyfills)(),this.initStories(),this.initUtils(),this.initManagers(),this.initIntegrations(),this.initPublicApi(),(0,h.subscribeToPageVisibilityChanges)(this)}initStories(){w.log("Initializing stories"),(0,h.generateVisitorId)(),(0,h.initializeSession)(),g.default.initializeReduxStores(),(0,h.initializeDeprecatedStores)(this)}initManagers(){w.log("Initializing managers"),this.managers.feature=new C.default,this.managers.environment=y.EnvironmentManager,this.managers.device=T.default,this.managers.ref=f.default,(0,h.initializeLoaderContextManager)(this),(0,h.initializeDebugDataCollector)(this),(0,h.initializeAbTestManager)(this),(0,h.initializeMonitoring)(this),(0,h.initializeWindowResizeManager)(this),(0,h.initializeConnection)(this),m.default.run(),(0,h.initializeDevTools)()}initIntegrations(){w.log("Initializing integrations"),(0,h.initializeRecaptcha)(this),(0,_.initCallTouch)(),(0,v.initVideoForce)(),(0,h.initializeCobrowse)(),(0,h.initializeAnalytics)(this),g.default.requestCWAvailable(),(0,s.deleteNonce)()}initUtils(){w.log("Initializing utils"),(0,h.initializeUtils)(this)}initPublicApi(){w.log("Initializing public api"),(0,h.exposeJivoVersion)(),(0,h.exposeApi)(),(0,b.default)()}sendInitialTelemetry(){(0,h.sendLoadTimeTelemetry)(),(0,h.sendLoadedInIframeTelemetry)()}start(){w.warn("start"),(0,s.isAppCobrowse)()||((0,h.resetAgents)(),this.renderApp())}renderApp(){this.render(),S.appDispatchers.setAppStarted(!0),(0,h.initializeRuleManager)(this),(0,h.sendBundleLoadedTelemetry)(),(0,h.handleChatPageStart)()}stop(){w.warn("stop"),(0,h.stop)()}render(){if(w.log("Rendering"),(0,u._callUserFunction)("onInitCallback"),y.EnvironmentManager.isDevelopment()){n(14369),n(67665);const e=n(6400),{options:t,Fragment:a,Component:i}=e;window.parent.__PREACT_DEVTOOLS__&&window.parent.__PREACT_DEVTOOLS__.attachPreact("10.11.2",t,{Fragment:a,PreactComponent:i})}const e=(0,s.getPageWindow)(),t=e.document.body;this.rootContainer=e.document.createElement("jdiv"),(0,r.addListener)(e,"jBeforeunload",this.unmount.bind(this)),t.appendChild(this.rootContainer);!(!(0,A.getApp)().isOnline&&1===c.default.hide_offline&&!(0,A.getApp)().chatStarted)&&!this.isBot&&(o.default.render(i.default.createElement(l.default,{ref:e=>{f.default.set(d.Component.ROOT_COMPONENT,e)}}),this.rootContainer),(0,h.initializeSoundManager)(this)),(0,A.getApp)().route===O.Route.HIDDEN&&w.warn("Widget is hidden."),(0,u._callUserFunction)("onLoadCallback")}unmount(){w.log("Unmounting");const e=(0,s.getPageWindow)(),t=e.document.body;this.rootContainer&&(i.default.unmountComponentAtNode(this.rootContainer),this.rootContainer=null);const n=e.document.querySelectorAll("body > jdiv");n.length>0&&n.forEach((e=>t.removeChild(e))),(0,r.removeEvent)(e,"jBeforeunload",this.unmount.bind(this)),(0,u._callUserFunction)("onWidgetDestroy")}};t.default=M},23336:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeToPageVisibilityChanges=t.stop=t.setOfflineIntroduced=t.sendLoadedInIframeTelemetry=t.sendLoadTimeTelemetry=t.sendBundleLoadedTelemetry=t.resetAgents=t.reportCampaignContactsStat=t.needIntroduceInOffline=t.initializeWindowResizeManager=t.initializeWebRTCCallManager=t.initializeUtils=t.initializeSoundManager=t.initializeSession=t.initializeRuleManager=t.initializeRecaptcha=t.initializePolyfills=t.initializePermissionManager=t.initializeMonitoring=t.initializeLoaderContextManager=t.initializeDevTools=t.initializeDeprecatedStores=t.initializeDebugDataCollector=t.initializeConnection=t.initializeCobrowse=t.initializeAnalytics=t.initializeAbTestManager=t.handleChatPageStart=t.generateVisitorId=t.exposeJivoVersion=t.exposeApi=void 0;var i=n(97615),o=a(n(86765)),r=n(54415),s=n(83170),l=n(16016),u=n(69882),c=a(n(26754)),d=n(26932),f=n(44145),p=a(n(55908)),h=a(n(22866)),g=a(n(66547)),m=a(n(73687)),_=a(n(91275)),v=a(n(95003)),b=a(n(14762)),y=n(62096),E=a(n(19955)),T=a(n(138)),C=a(n(14264)),S=a(n(16818)),O=n(21476),A=n(47060),w=n(3571),I=a(n(71277)),M=a(n(1039)),R=a(n(5735)),N=a(n(50216)),P=a(n(47914)),D=a(n(42908)),L=n(43914),k=a(n(74890)),x=a(n(16500)),B=a(n(22541)),j=a(n(3415)),F=a(n(8117)),H=a(n(73439)),U=a(n(40426)),W=a(n(56463)),G=a(n(6987)),z=a(n(51094)),V=a(n(4855)),q=n(60718),$=n(68403);const K=V.default.name("Jivo Widget Utils");t.resetAgents=()=>{K.log("resetting agents"),(0,f.getApp)().chatStarted||d.chatsDispatchers.setNoJoinedAgents()};t.exposeJivoVersion=()=>{K.log("exposeJivoVersion"),(0,u.getPageWindow)().jivo_version=i.EnvironmentManager.getVersion()};t.exposeApi=()=>{K.log("exposeApi"),(0,u.getPageWindow)().jivo_api=D.default};t.subscribeToPageVisibilityChanges=e=>{K.log("subscribeToPageVisibilityChanges"),x.default.subscribe((t=>{t&&(B.default.stopBlinking(),X(e)),(0,u.isAppCobrowse)()||(_.default.reloadStories(),_.default.initializeReduxStores())}))};t.generateVisitorId=()=>{const e=(0,f.getClient)();e.visitorId?K.log("Visitor id already exists:",e.visitorId):(e.visitorId=(0,l.generateGUIDCount)(4),K.log("New visitor id:",e.visitorId))};const Y=()=>{const e=(0,f.getApp)(),t=(0,f.getClient)();return!e.isOnline&&!(t.email||t.phone)};t.needIntroduceInOffline=Y;t.setOfflineIntroduced=()=>{Y()&&d.clientDispatchers.setIsIntroduced(!1)};t.sendBundleLoadedTelemetry=()=>{K.log("sendBundleLoadedTelemetry"),setTimeout((()=>{var e;r.Monitoring.telemetryWithProbability(s.TelemetryName.BUNDLE_LOADED,{param1:i.EnvironmentManager.getVersion(),param2:window.loaderContext.store.isNewCode?"newCode":"oldCode",param3:window.navigator.language,param4:(e=window.loaderContext.scriptSrc,(null==e?void 0:e.replace(/\/([A-Za-z0-9]{10})$/,""))||"")},15),M.default.campaigns&&M.default.campaigns.forEach((e=>{r.Monitoring.reportStats(q.StatType.INIT,e.campaign_id)}))}),1e3)};t.sendLoadedInIframeTelemetry=()=>{K.log("sendLoadedInIframeTelemetry"),window.parent.window!=window.top&&(0,f.getApp)().route!==A.Route.HIDDEN&&r.Monitoring.telemetryWithProbability(s.TelemetryName.IN_IFRAME_STARTED,{},10)};t.sendLoadTimeTelemetry=()=>{K.log("sendLoadTimeTelemetry");const e=o.default.getInstance();if(e&&E.default.supportsLocalStorage()){const t=e.store.loadTime;t&&(r.Monitoring.telemetry(s.TelemetryName.CDN_LOAD_TIME,{param1:parseInt(t)}),e.setInStore("loadTime",null))}};t.initializeDebugDataCollector=e=>{K.log("initializeDebugDataCollector");const t=(0,f.getApp)(),n=(0,f.getClient)();e.managers.debug=new h.default(t,M.default,n,c.default,y.reduxStore,C.default)};t.initializeSoundManager=e=>{K.log("initializeSoundManager"),e.managers.sound=I.default,m.default.get("is_blacklisted")||I.default.initSoundPlayer()};t.initializeRuleManager=e=>{e.managers.rule=R.default,(0,$.isPaidCustomer)()?(R.default.init(),K.log("initializeRuleManager success")):K.log("initializeRuleManager failure")};t.initializeAnalytics=e=>{e.managers.analytics=T.default,(0,$.isPaidCustomer)()?(K.log("initializeAnalytics success"),T.default.init()):K.log("initializeAnalytics failure")};t.initializeLoaderContextManager=e=>{K.log("initializeLoaderContextManager"),e.managers.loaderContext=new o.default(M.default.widget_id,v.default)};t.initializeRecaptcha=e=>{if(e.managers.feature.isEnabled(w.Feature.RECAPTCHA)){K.log("initializeRecaptcha");const t=new N.default(e,M.default.recaptcha);e.managers.recaptcha=t,t.addRecaptchaToPage()}};t.initializeWindowResizeManager=e=>{K.log("initializeWindowResizeManager");e.managers.windowResize=new P.default((e=>{(0,L._callUserFunction)("onResizeCallback",e)}))};t.initializeMonitoring=e=>{K.log("initializeMonitoring"),r.Monitoring.init(),e.managers.monitoring=r.Monitoring};t.initializePolyfills=()=>{K.log("initializePolyfills"),k.default.init()};t.initializeCobrowse=()=>{(0,u.getPageWindow)()==window.top||(0,u.isWixIframe)()||(K.log("initializeCobrowse"),j.default.init());const e=(0,u.getPageWindow)().location.hash.split("jvhs_")[1];if(void 0!==e){const t=C.default.getCobrowseByHash(e);let n=null,a=null;if(K.log("cobrowse from init",t),t){const e=b.default.getAgentById(t.get("from_id"));e&&(n=e.toJSON()),a=t.get("body.text"),K.log("cobrowse agentData",n)}setTimeout((()=>{j.default.getCobrowseData(e,null,a,n)}),1e3)}};t.initializeSession=()=>{K.log("initializeSession");const e=g.default.get("enter_ts"),t=(0,f.getClient)();if(!e){g.default.set("enter_ts",(new Date).getTime());const e=m.default.get("visits_count");m.default.set("visits_count",e?e+1:1,31556952);try{F.default.setUTM({href:(0,u.getPageWindow)().location.href,refer:(0,u.getPageWindow)().document.referrer,setterFn:d.clientDispatchers.setUTM})}catch(e){e.message+=" setUTM",r.Monitoring.reportException(e),r.Monitoring.telemetry(s.TelemetryName.SET_UTM_ERROR,{param1:JSON.stringify({href:(0,u.getPageWindow)().location.href,refer:(0,u.getPageWindow)().document.referrer}),param2:e.message})}}M.default.enable_campaigns&&M.default.campaigns&&M.default.campaigns.length&&M.default.campaigns.forEach((e=>{const t=`campaign_${e.campaign_id}_visit_ts`;g.default.get(t)||(g.default.set(t,Date.now()),r.Monitoring.reportStats(q.StatType.VISIT,e.campaign_id))})),t.sessionId||S.default.push({url:(0,u.getCurrentPage)().url,title:(0,u.getCurrentPage)().title})};t.initializeDevTools=()=>{i.EnvironmentManager.isProduction()||i.EnvironmentManager.isPartnerApp()||(async()=>{const{default:e}=await n.e(308).then(n.bind(n,10517));(new e).installOnPage()})()};t.stop=()=>{d.appDispatchers.setAppRoute(A.Route.HIDDEN),I.default.disableSoundPlayer()};const X=e=>{const t=(0,f.getClient)();if(K.warn("initializeConnection"),e.managers.connection||(e.managers.connection=new H.default(e,U.default,W.default)),e.managers.feature.isEnabled(w.Feature.RECAPTCHA)&&!t.captchaToken)return void K.warn("Wait for captcha to connect");const n=!!C.default.getUndelivered().length,a=v.default.is_online&&n||t.sessionId||!v.default.is_online&&v.default.chat_started;K.warn("needToConnect",a,n),a&&!e.managers.connection.isOpen()&&e.managers.connection.open()};t.initializeConnection=X;t.initializeDeprecatedStores=e=>{e.stores.app=v.default,e.stores.agent=c.default,e.stores.agents=b.default,e.stores.history=S.default,e.stores.messages=C.default,e.stores.session=g.default,e.stores.temp=m.default};t.initializeAbTestManager=e=>{e.managers.abTest=new p.default};t.initializeUtils=e=>{e.utils=G.default};t.handleChatPageStart=()=>{(0,u.isChatPage)()&&(d.appDispatchers.setAppIsFocused(!0),O.Router.next(A.RouterEvent.Navigate),setTimeout((()=>{_.default.addMessagesOnOpen()}),50))};t.initializePermissionManager=e=>{M.default.enable_webrtc_calls&&(e.managers.permission=new z.default)};t.initializeWebRTCCallManager=async e=>{};t.reportCampaignContactsStat=()=>{const{campaignId:e}=(0,f.getProactive)(),{isIntroduced:t,eulaAccepted:n}=(0,f.getClient)();if(e&&!t){if(M.default.eula&&!n)return;r.Monitoring.reportStats(q.StatType.CONTACT_FILL,e)}}},48553:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=class{constructor(e,t){this.doc=e,this.cssURL=t,this.loaded=!1,this.failed=!1,this.loadCss()}loadCss(){const e=this.doc.head||this.doc.getElementsByTagName("head")[0];if(e&&e.querySelector(`link[href="${this.cssURL}"]`))return this.loaded=!0,void(this.onLoadCallback&&this.onLoadCallback());const t=this.doc.createElement("link");t.rel="stylesheet",t.href=this.cssURL,t.className="jv-css",window.parent.jivo_cspNonce&&t.setAttribute("nonce",window.jivo_cspNonce),t.addEventListener("load",(e=>{this.loaded=!0,this.onLoadCallback&&this.onLoadCallback()})),t.addEventListener("error",(e=>{this.failed=!0,this.onFailedCallback&&this.onFailedCallback()})),e.appendChild(t)}setOnLoadedCallback(e){this.loaded?e&&e():this.onLoadCallback=e}setOnFailedCallback(e){this.failed?e&&e():this.onFailedCallback=e}subscribe(e,t){this.setOnLoadedCallback(e),this.setOnFailedCallback(t)}};t.default=n},31984:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.callWidgetPing=function(e,t){if(E.warn("callWidgetPing",t),(0,c.isEmpty)(i.default.callback_settings)||(0,b.isAppCobrowse)()||u.isDesignerEditor)return void E.log("callback disabled");const n=d.default.get("callback_ping_response");if(n)e(n);else{const n=(0,f.getClient)(),a=t&&n.clientId?n.clientId.split(".")[0]:"0";v.xhrRequest.get(T("/sites/"+i.default.site_id+"/widgets/"+i.default.widget_id+"/clients/"+a+"/telephony/callback"),((t,n)=>{if(t)return E.error("in request"),e({});let a=n.data;a||(a={ok:!1});const i=a.work_time;let o;i?("cw_connected"!==(0,f.getCallback)().status&&(0,l.onDelayedCallAvailable)(i),a.ok=!0):a.ok&&(0,l.resetDelayedCallStatus)(),o=a.ok||a.error_list&&"time_not_in_range"===a.error_list[0]?60:20,d.default.set("callback_ping_response",a,o),e(a)}))}},t.checkPhoneLength=function(e,t,n){const a=e.length,i=t.length;if(["NZ"].indexOf(n)>=0)return a>=i-2&&a<=i+1;return["BR","BG","MX","DE","AT","KH","CH","IL","NZ"].indexOf(n)>=0?a>=i-1&&a<=i+1:a===i},t.checkStartCall=function(e,t){E.warn("checkStartCall",e);const{phone:n,invitationText:a,clientToken:o}=e;if(!o)return E.warn("checkStartcall",`client_id is ${o}`),h.callbackDispatchers.setCallbackAvailable(!0),h.callbackDispatchers.setCallbackStatus(g.CallStatus.ERROR),h.callbackDispatchers.setCallbackError((0,y.getCallDefaultError)()),void _.Monitoring.telemetry(m.TelemetryName.CALL_ERROR,{param1:"startup_error_client_id"});const r=o.split(".")[0],s={phone:n,invitation_text:a??""};v.xhrRequest.post(T("/sites/"+i.default.site_id+"/widgets/"+i.default.widget_id+"/clients/"+r+"/telephony/callback"),t,{headers:{"Content-Type":p.CONTENT_TYPE.X_WWW_FORM},body:s})},t.detectPriorityCountry=C,t.getCallText=function(e,t){return e?(0,r.default)("callback_delayed_button_submit"):`${(0,r.default)("cw_callAfter")} ${t} ${w(t)}!`},t.getMaskedPhone=function(e){if(!e)return e;const t=O(e);if(!t)return e;return"+"+t.phoneCode+" "+A(t.innerNumber,t.phoneFormat)},t.getMaskedValue=A,t.getPhoneInfo=S,t.getPhoneNumberInfo=O,t.getTextSeconds=w,t.telephonyUrl=T;var i=a(n(1039)),o=a(n(5798)),r=a(n(84726)),s=a(n(4855)),l=n(33069),u=n(52028),c=n(92560),d=a(n(73687)),f=n(44145),p=n(31343),h=n(26932),g=n(47138),m=n(83170),_=n(54415),v=n(95911),b=n(69882),y=n(41168);const E=s.default.name("CallUtils","color: grey");function T(e){if(i.default.tel_host)return"https://"+i.default.tel_host+"/api/1"+e}function C(e){if(E.log("detectPriorityCountry",e),!e)return null;const t={UA:{codes:["38"]},KZ:{codes:["77"]},RU:{codes:["79"]},CA:{codes:["1204","1226","1236","1249","1250","1289","1306","1343","1365","1403","1416","1418","1431","1437","1438","1450","1506","1514","1519","1548","1579","1581","1587","1600","1604","1613","1639","1647","1705","1709","1778","1780","1782","1807","1819","1825","1867","1873","1902","1905"]},DO:{codes:["1809"]},PR:{codes:["1787","1939"]}};for(const n in t)if({}.hasOwnProperty.call(t,n)){const a=t[n],i=e.substr(0,a.codes[0].length);if(a.codes.indexOf(i)>=0)return E.log("codeFound",n),{code:n}}return null}function S(e,t){const n="+"===t[0]?e.phone_code.length+1:e.phone_code.length,a=t.slice(n);return{countryCode:e.code,countryName:e.name,phoneCode:e.phone_code,phoneFormat:e.phone_format,innerNumber:a,number:t}}function O(e){E.log("getPhoneNumberInfo",e);let t=e.replace(/\D+/g,"");const n=i.default.callback_settings.countries;let a,o="";let r="";if(i.default.geoip&&(r=i.default.geoip.split(";")[0]),t.length<9||t.length>15)return null;for(let e=0;e<t.length;e++)if(!a)if(o=t.slice(0,e+1),a=n.filter((e=>e.phone_code===o.toString())),a.length>0){const e=C(t);if(e)a=a.filter((t=>t.code===e.code));else{const e=a.filter((e=>e.code===r));e.length&&(a=e)}}else a=null;return a||(a=n.filter((e=>e.code===r)),a&&"RU"==r&&(13==t.length&&(t=t.replace("8","+7")),10==t.length&&(t="+7"+t))),a&&a.length?(a=a[0],S(a,t)):null}function A(e,t){return o.default.toPattern(e,t)}function w(e){return[(0,r.default)("cw_form_second"),(0,r.default)("cw_form_seconds"),(0,r.default)("cw_form_secondd")][e%100>4&&e%100<20?2:[2,0,1,1,1,2][e%10<5?e%10:5]]}},54034:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.CallbackUtils=void 0;var i=a(n(1039)),o=n(47060),r=n(44145),s=n(47138);const l=new class{constructor(){this.callSettings=i.default.callback_settings}isCallActive(){switch((0,r.getCallback)().status){case"cw_wait":case"cw_connecting":case"cw_connected":return!0;default:return!1}}isCallbackEnabled(){return!!((0,r.getCallback)().available&&this.callSettings.time&&this.callSettings.countries&&this.callSettings.countries.length)||this.isCallActive()}fixInitAnimate(e){const t=(0,r.getCallback)().status;(0,r.getApp)().route===o.Route.CALL&&t==s.CallStatus.CONNECTED&&e&&e()}};t.CallbackUtils=l},48999:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.formatProactiveContent=function(e){const t="top"===e.img_position,n=!!e.img_src&&(a=e.img_src,`![](${a})`);var a;let i="";n&&t&&(i+=`${n}\n`);e.title&&""!==e.title.trim()&&(i+=`# ${e.title}\n`);i+=e.message,n&&!t&&(i+=`${n}`);return i},t.getCampaignRuleParams=t.getCampaignById=void 0;var i=a(n(1039));const o=e=>{var t;return null===(t=i.default.campaigns)||void 0===t?void 0:t.filter((t=>t.campaign_id===e))[0]};t.getCampaignById=o;t.getCampaignRuleParams=e=>{var t,n;return null===(t=o(e))||void 0===t||null===(n=t.rules)||void 0===n?void 0:n.commands[0].params}},81722:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.getLastAgent=function(){const e=o.default.getLastMessage();if(!e||e.get("from")!==s.MessageInitiator.AGENT&&"bot"!==e.get("from")||e.get("type")!==s.MessageType.MESSAGE)return!1;{const t=e.get("from_id");let n=u.default.getAgentById(t);return"bot"===e.get("from")&&(n=u.default.getBotById(t)),!!n&&n.toJSON()}},t.getLastMessageHeight=y,t.getMaxWidgetHeightForProactive=function(){if(!l.default.desktop()||(0,_.isChatPage)())return;const e=v.default.get(g.Component.MESSAGES_CONTAINER),t=null==e?void 0:e.clientHeight;if(t){const e=(0,_.getPageWindow)().innerHeight-r.HEADER_HEIGHT,n=t+r.HEADER_HEIGHT+r.INPUT_HEIGHT;return(n>e?e:n)+"px"}return 0},t.isLastAgentMessage=E,t.isOfflineCanSend=function(){if((0,h.isAssistantBot)())return!1;const e=(0,f.getClient)();return!(0,m.getApp)().isOnline&&!e.isIntroduced&&!d.default.enable_bot_offline&&o.default.getClientMessages().length&&(o.default.getOfflineTmpMessage()||o.default.getFormMessage().length)},t.isProactivePrechat=function(){const{text:e}=(0,m.getProactive)(),t=(0,m.getMessages)();if(!e||t.length>2)return!1;const n=o.default.getFirstMessage(),a=o.default.getLastMessage();return o.default.getMessagesByType(s.MessageType.PRECHAT)&&a&&a.get("type")==s.MessageType.PRECHAT&&n&&n.get("type")==s.MessageType.PROACTIVE},t.isValidEmail=function(){const e=(0,f.getClient)();return e.email&&i.default.email(e.email)},t.setLastAgentScroll=function(e){if(!e)return!1;const t=E(),n=e.base;if(!n)return!1;const{text:a}=(0,m.getProactive)(),i=y(n),r=n.offsetHeight;b.log("setLastAgentScroll",t,i,r);const u=a?1:0,c=o.default.getLastMessage(),d=o.default.getFirstMessage();if(n&&i&&u&&d&&!d.get("msg_id")&&c&&c.get("type")==s.MessageType.PRECHAT)return e.scrollToTop(),!1;if(t&&i&&r&&i>r){e.setIgnore(!0);const t=l.default.mobileOrTablet()?80:50,n=e.getScrollHeight()-i-t;return u&&1==o.default.getAgentMessages().length?e.scrollToTop():e.scrollTop(n),!0}return!1};var i=a(n(98960)),o=a(n(14264)),r=n(52274),s=n(81152),l=a(n(19955)),u=a(n(14762)),c=a(n(32138)),d=a(n(1039)),f=n(44145),p=a(n(4855)),h=n(54346),g=n(47245),m=n(44145),_=n(69882),v=a(n(75686));const b=p.default.name("ChatUtils");function y(e){if(!e)return 0;const t=e.querySelectorAll("."+c.default.text);if(t.length){const e=t[t.length-1].clientHeight;return e?e+r.HEADER_HEIGHT+10:0}return 0}function E(){const e=o.default.getLastMessage();return!!e&&(e.isAgentMessage()&&-1==[s.MessageType.FORM,s.MessageType.PREFORM].indexOf(e.get("type")))}},94564:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigUtils=void 0;var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=c(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(1039)),o=n(69882),r=n(54415),s=n(83170),l=n(97615),u=n(95911);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(c=function(e){return e?n:t})(e)}const d=a(n(4855)).default.name("ConfigUtils");const f=new class{constructor(){this.loadCount=0}reloadConfig(e){if(this.loadCount>5)return r.Monitoring.telemetryOnce(s.TelemetryName.CONFIG_LIMIT),void d.error("Reload config limit is reached!");let t=`${(0,o.getProtocol)()}${i.default.base_url}/script/widget/config/${i.default.widget_id}`;l.EnvironmentManager.isDevelopment()&&(t="/config.json"),d.log("Reloading config from",t,this.loadCount),window.parent.__jivoConfigOnLoad=function(t){!t.isDeleted&&t?((0,i.getViHost)()===t.vi_host&&(0,i.getCometHost)()===t.chat_host||(d.log("initConfig new config",t),(0,i.initConfig)(t),e(t)),d.log("jivoConfigOnLoad from reloadConfig")):d.log("Reload on deleted config",t)},u.xhrRequest.get(t+"?rnd="+Math.random(),((e,t)=>{if(e)d.log("Load config error",e);else try{d.log("Config is loaded",t.data),this.loadCount++,window.parent.__jivoConfigOnLoad(t.data)}catch(e){d.log("Config parse error",t.data,e)}}))}};t.ConfigUtils=f},22866:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(87144),o=n(7547),r=n(97615),s=a(n(1039)),l=a(n(4855));l.default.name("DebugDataCollector");let u=null;t.default=class{constructor(e,t,n,a,r,s){this.webSocketEventsStore=null,this.viSocketEventsStore=null,this.exceptionsStore=null,this.initialized=!1,this.messagesFormatter=new o.MessagesFormatter(s),this.messageHistory={},this.appStore=e,this.widgetConfig=t,this.clientStore=n,this.agentStore=a,this.reduxStore=r,this.webSocketEventsStore=new i.EventStore,this.viSocketEventsStore=new i.EventStore,this.exceptionsStore=new i.EventStore,this.actionsStore=new i.EventStore,this.initialized=!0,u=this}static getInstance(){return u}isInitialized(){return this.initialized}saveSocketEvent(e){this.webSocketEventsStore.save(e)}saveViEvent(e){this.viSocketEventsStore.save(e)}saveException(e){this.exceptionsStore.save(e)}saveReduxAction(e){this.actionsStore.save(e)}saveMessageHistory(e,t){this.messageHistory[e]=t}pageHasErrors(){return this.exceptionsStore.length()>0}exportData(){return JSON.stringify({agentStore:this.agentStore,appStore:this.appStore,clientStore:this.clientStore,config:this.widgetConfig,exceptionsStore:this.exceptionsStore.getAll(),messagesStore:this.messagesFormatter.toDebugLog(),messageHistory:this.messageHistory,reduxStore:this.reduxStore.getState(),userAgent:navigator.userAgent,version:r.EnvironmentManager.getVersion(),visitorsInsightEventsStore:this.viSocketEventsStore.getAll(),webSocketEventsStore:this.webSocketEventsStore.getAll(),actionsStore:this.actionsStore.getAll(),lastLog:l.default.lastLog.join("\r\n"),configLogs:{lastStatus:s.default.lastStatus}})}}},87144:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventStore=void 0;t.EventStore=class{constructor(){this.events=[]}save(e){this.events.push(e)}getAll(){return this.events||null}length(){return this.events.length}}},7547:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.MessagesFormatter=void 0;var i=n(69882),o=n(11413),r=n(44145),s=a(n(4855)),l=a(n(2559));const u=s.default.name("MessagesFormatter");t.MessagesFormatter=class{constructor(e){this.messagesStore=e}toTxt(){u.log("toTxt")}getMessagesAsHTML(){try{const e=this.toHTML(),t=new Blob([e],{type:"text/html"}),n=window.parent.URL.createObjectURL(t);return{url:n,fileName:`${(new Date).toISOString()}_${(0,i.getPageWindow)().location.host}_chat_log.html`}}catch(e){return{url:null,fileName:null}}}toHTML(){u.log("toHTML");let e="";this.messagesStore.store.forEach((t=>{const n=t.store;let a;if("client"===n.from)a="you";else{if("agent"!==n.from&&"bot"!==n.from)return;{let e=n.from_id&&(0,r.getAgentById)(+n.from_id);"bot"===n.from&&(e=n.from_id&&(0,r.getBotById)(+n.from_id)),a=e?`${e.name} (${e.title})`:"agent"}}let i=n.text;if(!i||"form"===n.type||"botsystem"===n.type)return;if("media"===n.type&&n.body&&n.body.file_url){const e=n.body.name||n.body.file_name,t=n.body.file_url||n.body.file;i=`<a target="_blank" rel="nofollow noopener" href="${encodeURI(t)}">${e}</a>`}const s="cobrowse"===n.type&&n.body&&n.body.address;if(s){const e=n.body.text||"",t=`${n.body.url}#jvhs_${n.body.address}`;i=`<a target="_blank" rel="nofollow noopener" href="${encodeURI(t)}">${(0,o.escape)(e).trim()}</a>`}let l=i?(0,o.escape)(i).trim():"";s&&(l=i);const u=new Date(n.created_ts),c=u.toLocaleDateString(),d=u.toLocaleTimeString();e+=`<div class="message ${n.from}MessageWrap">\n                <span class="messageInfo">${c} ${d}, ${a}</span>\n                <br>\n                <span>${l}</span>\n            </div>\n            <br>`}));return`<!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <meta http-equiv="X-UA-Compatible" content="ie=edge">\n            <title>Chat log from ${(0,i.getPageWindow)().location.host}</title>\n            <style>\n                * {\n                    font-family: sans-serif;\n                }\n                a {\n                    color: #0044d3 !important;\n                }\n                h1 {\n                    display: block;\n                    margin: 15px auto;\n                    text-align: center;\n                    width: 600px;\n                }\n                .wrap {\n                    display: flex;\n                    flex-direction: column;\n                    width: 600px;\n                    margin: 0 auto;\n                }\n                .wrap .message {\n                    display: block;\n                    max-width: 100%;\n                    min-width: 40px;\n                    margin-bottom: 2px;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    text-indent: 0;\n                    user-select: text;\n                    border-radius: 5px;\n                }\n                .message a {\n                    color: inherit;\n                }\n                .messageInfo {\n                    opacity: 0.7;\n                    font-size: 14px;\n                }\n                .clientMessageWrap {\n                    background-color: ${l.default.GREEN_80};\n                    color: white;\n                    padding: 12px 16px 12px 16px;\n                    max-width: 70%;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    line-height: @mainLine;\n                    text-indent: 0;\n                    user-select: text;\n                    box-sizing: border-box;\n                    margin: 0 0 0 auto;\n                }\n                .agentMessageWrap,\n                .botMessageWrap {\n                    background-color: #f1f0f0;\n                    color: #222d38;\n                    padding: 12px 16px 12px 16px;\n                    max-width: 70%;\n                    overflow: hidden;\n                    word-wrap: break-word;\n                    line-height: @mainLine;\n                    text-indent: 0;\n                    user-select: text;\n                    box-sizing: border-box;\n                    margin: 0 auto 0 0;\n                }\n                .printButton {\n                    position: fixed;\n                    top: 13px;\n                    right: 30px;\n                    background-color: ${l.default.GREEN_80};\n                    color: white;\n                    width: 80px;\n                    height: 40px;\n                    border-radius: 5px;\n                    font-size: 20px;\n                    box-shadow: none;\n                    border: none;\n                }\n                .printButton:hover {\n                    background-color: ${l.default.GREEN_90};\n                    cursor: pointer;\n                }\n                @media print {\n                    .printButton {\n                        display: none;\n                    }\n                }\n            </style>\n        </head>\n        <body>\n            <h1>Chat log from ${(0,i.getPageWindow)().location.host}</h1>\n            <button class="printButton" onclick="window.print()">Print</button>\n            <div class="wrap">\n                ${e}\n            </div>\n        </body>\n        </html>`}toDebugLog(){return u.log("toDebugLog"),this.messagesStore.store}}},33069:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.formatLabelText=void 0,t.formatPeriodsToSelectModel=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.map(((n,a)=>{const i=e[a+1],o=A(n,i,t);return o?{label:o,value:n}:o})).filter((e=>"object"==typeof e))},t.formatPeriodsToUserStoreModel=C,t.formatWorkTimeToServerModel=T,t.isErrorStatusCode=function(e){return[f.DelayedCallStatus.MAX_REQUESTS_LIMIT,f.DelayedCallStatus.NOT_WORK_TIME,f.DelayedCallStatus.BAD_CALLBACK_TIME,f.DelayedCallStatus.BLOCKED,f.DelayedCallStatus.BAD_DIRECTION].some((t=>e===t))},t.onDelayedCallAvailable=y,t.redirectAfterRequestDelayedCall=function(){const{Router:e}=n(21476),{RouterEvent:t}=n(47060);e.next(t.ToCall)},t.removePeriod=E,t.requestDelayedCall=function(e){const{dateTime:t,phone:n}=e,a=n.replace(/( |\-)/gi,"").replace(/\D+/g,""),{date:g,time:b}=T(t),C=(0,h.getClient)(),S=C.clientId?C.clientId.split(".")[0]:"0",O=`/sites/${o.default.site_id}/widgets/${o.default.widget_id}/clients/${S}/telephony/callback/delayed`,w={phone:a,callback_date:g,callback_time:b};s.callbackDispatchers.setDelayedCallbackStatus(f.DelayedCallStatus.WAIT),s.clientDispatchers.setClientPhone(`+${a}`),_.xhrRequest.post((0,l.telephonyUrl)(O),((e,a)=>{if(e||a&&!a.data)return!e&&s.callbackDispatchers.setDelayedCallbackStatus(f.DelayedCallStatus.NOT_WORK_TIME),d.Monitoring.telemetry(c.TelemetryName.DELAYED_ERR,{param1:e??"No data"});const o=a.data,p=o.work_time,g=o.error_list;if(o.ok){const e="as_soon_as_possible"===b&&o.callback_started,a={asSoonAsPossibleMessage:`${(0,i.default)("cw_call_to")} ${(0,l.getMaskedPhone)(n)}`,defaultMessage:`${(0,i.default)("callback_delayed_submit_success")}\n${A(t)}`};e&&(s.callbackDispatchers.setCallbackIsDelayed(!1),s.callbackDispatchers.setCallbackStatus(f.CallStatus.WAIT),r.messageActions.handleContactsForm()),r.messageActions.systemCallMessage(e?a.asSoonAsPossibleMessage:a.defaultMessage,m.MessageName.DELAYED_CALL_SUCCESS),s.callbackDispatchers.setDelayedCallbackStatus(f.DelayedCallStatus.SUCCESS),u.default.trackCallWidgetRequested()}if(p&&y(p),g){const e=(0,h.getCallback)();g.includes("max_requests_limit")&&s.callbackDispatchers.setDelayedCallbackStatus(f.DelayedCallStatus.MAX_REQUESTS_LIMIT),g.includes("bad_callback_time")&&(s.callbackDispatchers.setDelayedCallbackStatus(f.DelayedCallStatus.BAD_CALLBACK_TIME),E(w.callback_date+v+w.callback_time));const t=g.some((e=>/client_blacklist|global_blacklist|rate_limiter/.test(e)));t&&s.callbackDispatchers.setDelayedCallbackStatus(f.DelayedCallStatus.BLOCKED),e.delayedStatus===f.DelayedCallStatus.WAIT&&s.callbackDispatchers.setDelayedCallbackStatus(f.DelayedCallStatus.NOT_WORK_TIME),s.callbackDispatchers.setCallbackStatus(!1)}}),{headers:{"Content-Type":p.CONTENT_TYPE.X_WWW_FORM},body:w})},t.resetDelayedCallStatus=function(){s.callbackDispatchers.setDelayedTimezone(null),s.callbackDispatchers.setDelayedPeriods([]),s.callbackDispatchers.setCallbackIsDelayed(null),s.callbackDispatchers.setDelayedCallbackStatus(null)};var i=a(n(84726)),o=a(n(1039)),r=n(65465),s=n(26932),l=n(31984),u=a(n(138)),c=n(83170),d=n(54415),f=n(47138),p=n(31343),h=n(44145),g=a(n(4855)),m=n(81152),_=n(95911);g.default.name("DelayedCall");const v="|";const b="function"==typeof(new Date).toLocaleString&&function(){try{(new Date).toLocaleString("i")}catch(e){return"RangeError"===e.name}return!1}();function y(e){s.callbackDispatchers.setCallbackAvailable(!0),s.callbackDispatchers.setDelayedTimezone(e.timezone_diff),s.callbackDispatchers.setCallbackIsDelayed(!0),s.callbackDispatchers.setDelayedPeriods(C(e.schedule))}function E(e){const t=(0,h.getCallback)();if(t.delayedPeriods&&t.delayedPeriods.length){const n=t.delayedPeriods;s.callbackDispatchers.setDelayedPeriods(n.filter((t=>t!==e)))}}function T(e){const[t,n]=e.split(v);return{date:t,time:n}}function C(e){const t=[];return e.forEach((e=>{const{date:n,intervals:a}=e;a.forEach((e=>{t.push(`${n}|${e}`)}))})),t}s.callbackDispatchers.setDelayedCallbackStatus(null);const S=e=>{const t=e.replace(/\-/g,"/"),n=new Date(t).getTime();if(isNaN(n))return e;const a=(0,h.getCallback)(),i=-(new Date).getTimezoneOffset(),o=a.delayedTimezone,r=60*(i-o)*1e3;const s=new Date(n+r),l=s.getHours(),u=s.getMinutes(),c=s.getDate(),d=s.getMonth(),f=e=>e>9?e:`0${e}`,p=f(u);let g=`${f(l)}:${p}`;b&&"en"==O()&&(g=s.toLocaleString(O(),{hour:"numeric",minute:"numeric",hour12:!0}));return{time:g,date:c,month:d,dateDetail:s}};function O(){const e=o.default.locale;return"no"==e?"nb":e.search("_")?e.split("_")[0]:e}const A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{month:"long",day:"numeric",hour:"numeric",minute:"numeric"};const a=new Date,o=a.getDate(),r=(0,i.default)("callback_delayed_period_today"),s=new Date((new Date).setDate(o+1)).getDate(),l=(0,i.default)("callback_delayed_period_tomorrow"),u=(0,i.default)("callback_delayed_period_as_possible").toLowerCase(),c="as_soon_as_possible",d=",",[,f]=t.split(v),[p,h]=e.split(v),g=h===c,m=f&&f!==c,_=g&&m?f:h,y=`${p} ${_}`,{time:E,date:T,month:C,dateDetail:A}=S(y);if(g)return u.charAt(0).toUpperCase()+u.slice(1);if(b&&T!==o&&T!==s){return A.toLocaleString(O(),n)}{const e=`${d} ${E}`;return T===o?`${r}${e}`:T===s?`${l}${e}`:`${T}.${C} ${e}`}};t.formatLabelText=A},74603:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){u.isDesignerEditor&&(E._dAPI=O)};var i=a(n(42908)),o=a(n(14264)),r=a(n(14762)),s=a(n(27104)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=b(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(1039)),u=n(52028),c=a(n(26754)),d=a(n(75686)),f=n(47245),p=n(26932),h=n(65465),g=n(31694),m=a(n(4855)),_=n(44145),v=n(81152);function b(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(b=function(e){return e?n:t})(e)}const y=m.default.name("DesignerApi"),E=window.parent||window,T=function(e,t){const n=l.default;n[e]=t,(0,l.initConfig)(n)},C=(e,t)=>{window.parent._desingerConfig[e]=t},S=()=>{const e=d.default.getComponent(f.Component.ROOT_COMPONENT);e&&e.forceUpdate()},O={showChat(){y.log("showChat"),i.default.open()},showLabel(){y.log("closeChat"),i.default.close()},setAgent(e){y.log("setAgent",{params:e}),r.default.destroy(),r.default.push({agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl,body:{state:"join",unsave:!0}}),Object.assign(c.default,{agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl}),p.agentsDispatchers.addAgent({id:1,name:e.name,title:e.title,avatarUrl:e.avatarUrl,isBot:!1}),p.chatsDispatchers.setJoinedAgents([{agent_id:1,display_name:e.name,title:e.title,avatar_url:e.avatarUrl}]),p.chatsDispatchers.addJoinedAgent(1),S()},addMessages(e){y.log("addMessages",{messages:e});const t=[];e.forEach((e=>{t.push({from:e.from,from_id:"agent"===e.from?1:null,text:e.text,type:"message",status:"read",created_ts:(new Date).getTime(),body:{unsave:!0}})})),p.messagesDispatchers.addMessages(t)},updateAgent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;y.log("updateAgent",{params:e,id:t}),Object.assign(c.default,{agent_id:t,display_name:e.name,title:e.title,avatar_url:e.avatarUrl});const n=r.default.getAgentById(t);n&&(n.set("display_name",e.name),n.set("title",e.title),n.set("avatar_url",e.avatar_url)),p.agentsDispatchers.updateAgent({id:t,name:e.name,title:e.title,avatarUrl:e.avatarUrl})},editLastMessage(e){y.log("editLastMessage",{text:e});const t=o.default.getAgentMessages();if(t.length){t[t.length-1].set("text",e);const n=d.default.getComponent(f.Component.SCROLL_CONTAINER);n&&n.forceUpdate()}},cleanMessages(){y.log("cleanMessages"),o.default.destroy(),o.default.trigger("update")},setWidgetColor(e,t){y.log("setWidgetColor",{color:e,color2:t}),p.userDispatchers.setWidgetColor(e),p.userDispatchers.setWidgetColor2(t),S()},setCallbackColor(e){y.log("setCallbackColor",{color:e}),T("callback_btn_color",e),p.userDispatchers.setCallbackButtonColor(e),S()},setBubbleColor(e){y.log("setBubbleColor",{color:e}),p.userDispatchers.setBubbleColor(e),T("bubble_color",e),(0,u.runBind)("setBubbleColor"),S()},setPattern(e){y.log("setPattern",{pattern:e}),p.userDispatchers.setPattern(e),T("pattern",e),S()},setWidgetPosition(e,t){y.log("setWidgetPosition",{orientation:e,padding:t});const n=+t;p.userDispatchers.setWidgetOrientation(e),p.userDispatchers.setWidgetPadding(n),T("widget_orientation",e),T("widget_padding",n),(0,u.runBind)("setWidgetPosition",{orientation:e,padding:n}),S()},setFontColor(e){y.log("setFontColor",{type:e}),"auto"===e&&(e=s.default.isLightColor(l.default.widget_color)?"dark":"light"),T("widget_font_color",e),p.userDispatchers.setWidgetFontColor(e),S()},setFontSize(e){y.log("setFontSize",{size:e}),p.userDispatchers.setWidgetFontSize(e),T("font_size",e),S()},setFontFamily(e){y.log("setFontFamily",{family:e}),p.userDispatchers.setWidgetFontFamily(e),T("font_family",e),S()},setFontType(e){y.log("setFontType",{type:e}),p.userDispatchers.setWidgetFontType(e),T("font_type",e),S()},setLabelBubble(e){y.log("setLabelBubble",{bool:e});const t=e?1:0;p.userDispatchers.setWidgetLabelBubble(t),T("label_bubble",t)},setOnlineText(e){y.log("setOnlineText",{text:e}),p.userDispatchers.setOnlineLabel(e),T("online_widget_label",e),(0,u.runBind)("setOnlineText",e)},setLabelText(e){y.log("setLabelText",{text:e}),"online"===l.default.chat_mode?(p.userDispatchers.setOnlineLabel(e),T("online_widget_label",e)):(p.userDispatchers.setOfflineLabel(e),T("offline_widget_label",e)),(0,u.runBind)("setLabelText",e)},setOfflineFormText(e){y.log("setOfflineFormText",{text:e});const t=(0,_.getLastMessageByType)(v.MessageType.FOR_TEST);t&&(p.messagesDispatchers.updateMessage({privateId:t.private_id},{text:e}),p.userDispatchers.setOfflineFormText(e),T("offline_form_text",e),(0,u.runBind)("setOfflineFormText",e))},setChatOnline(){y.log("setChatOnline"),C("chat_mode","online"),T("chat_mode","online"),(0,u.runBind)("setChatOnline"),S()},setChatOffline(){y.log("setChatOffline"),C("chat_mode","offline"),T("chat_mode","offline"),(0,u.runBind)("setChatOffline"),S()},addPrechat(e){O.cleanPrechat(),y.log("addPrechat",{prechats:e}),T("prechat",e),T("enable_prechat",1),h.messageActions.pushPrechat(),p.featuresDispatchers.enablePrechat(!0),p.userDispatchers.setPrechat(e)},updatePrechats(e){if(y.log("updatePrechats",{prechats:e}),!e)return;d.default.getComponent(f.Component.PRECHAT)&&g.PrechatEmitter.emit("updatePrechatText",e)},cleanPrechat(){y.log("cleanPrechat"),h.messageActions.deletePrechatMsg(),o.default.trigger("update")}}},52028:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.designerBind=function(e,t){if(!o)return;void 0!==i[e]||(i[e]=[]),i[e].push(t)},t.isDesignerEditor=void 0,t.runBind=function(e,t){void 0!==i[e]&&i[e].forEach((e=>{e(t)}))};var a=n(97615);const i={},o=a.EnvironmentManager.isDesignerEditor();t.isDesignerEditor=o},19955:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(4855)).default.name("Device");const i=new class{constructor(e){this.userAgent=e,this._find=function(e){const t={};return function(){const n=arguments.length<=0?void 0:arguments[0];if(n in t)return t[n];{const a=e(n);return t[n]=a,a}}}(this._find.bind(this)),this.initialize(),this.initializeSupportedFeatures()}initialize(){this.isWindows=this._find("windows"),this.isOpera=this._find("opera")||this._find("opr")||this._find("presto"),this.isOperaMini=this.isOpera&&(this._find("mini")||this._find("opios")),this.isFirefox=this._find("firefox"),this.isChrome=this._find("chrome"),this.isChromeIOS=this._find("crios"),this.isHeyTap=this._find("heytapbrowser"),this.isSafari=this._find("safari")&&!this.isChrome&&!this.isChromeIOS&&!this.isHeyTap,this.isEdge=this._find("edge"),this.isIe=this._find("msie")||this._find("trident")||this.isEdge,this.isIeOrEdge=this.isIe||this._find("lumia"),this.isIpod=this._find("ipod"),this.isIpad=this._find("ipad")||this._find("macintosh")&&"ontouchend"in window,this.isIphone=!this.isWindows&&this._find("iphone"),this.isIos=this.isIphone||this.isIpod||this.isIpad,this.isAndroid=!this.isWindows&&this._find("android"),this.isAndroidPhone=this.isAndroid&&this._find("mobile"),this.isAndroidTablet=this.isAndroid&&!this._find("mobile"),this.isBlackberry=this._find("blackberry")||this._find("bb10")||this._find("rim"),this.isBlackberryPhone=this.isBlackberry&&!this._find("tablet"),this.isBlackberryTablet=this.isBlackberry&&this._find("tablet"),this.isWindowsPhone=this.isWindows&&this._find("phone"),this.isWindowsTablet=this.isWindows&&this._find("touch")&&!this.isWindowsPhone&&!this._find("trident"),this.isMobile=this.isAndroidPhone||this.isIphone||this.isIpod||this.isWindowsPhone||this.isBlackberryPhone,this.isTablet=this.isIpad||this.isAndroidTablet||this.isBlackberryTablet||this.isWindowsTablet,this.isMobileOrTablet=this.isMobile||this.isTablet,this.isDesktop=!this.isMobile&&!this.isTablet,this.isYandexBot=-1!==this.userAgent.search(/\+http:\/\/yandex\.com\/bots/gi),this.isGoogleBot=-1!==this.userAgent.search(/google/gi),this.isOperaMobile=this.isOperaMini||this.isOpera&&this.isMobileOrTablet;let e=/OS (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion);e||(e=/version\/(\d+).(\d+)?/.exec(this.userAgent)),this.iosVer=e?parseFloat(e[1]+"."+e[2]):null,this.isMac=window.navigator.platform.includes("Mac");let t=/OS X (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion);window.navigator.oscpu&&(t=/OS X (\d+)[._](\d+)([._])?(\d+)?/.exec(window.navigator.oscpu)),this.macVer=t?parseFloat(t[1]+"."+t[2]):null,this.device=null,this.isDesktop?this.device="desktop":this.isMobile?this.device="mobile":this.isTablet&&(this.device="tablet")}initializeSupportedFeatures(){try{localStorage.setItem("testLocalStorage","ok"),localStorage.removeItem("testLocalStorage"),this.isLocalStorageSupported=!0}catch(e){this.isLocalStorageSupported=!1}try{new File([],""),this.isImageResizeSupported="FileReader"in window&&"File"in window&&"Blob"in window}catch(e){this.isImageResizeSupported=!1}this.isCssVariablesSupported=window.CSS&&CSS.supports&&CSS.supports("color","var(--fake-var)")||!1,this.isWebAnimationApiSupported=!!window.KeyframeEffect,this.isPassiveListenersSupported=!1;try{var e=Object.defineProperty({},"passive",{get:()=>(this.isPassiveListenersSupported=!0,this.isPassiveListenersSupported)});window.addEventListener("test",null,e)}catch(e){this.isPassiveListenersSupported=!1}}operaMini(){return this.isOperaMini}firefox(){return this.isFirefox}safari(){return this.isSafari}chrome(){return this.isChrome}ieOrEdge(){return this.isIeOrEdge}ie(){return this.isIe}edge(){return this.isEdge}ios(){return this.isIos}ipad(){return this.isIpad}chromeIOS(){return this.isChromeIOS}android(){return this.isAndroid}windowsPhone(){return this.isWindowsPhone}mobile(){return this.isMobile}tablet(){return this.isTablet}mobileOrTablet(){return this.isMobileOrTablet}desktop(){return this.isDesktop}iosVersion(){return this.iosVer}macVersion(){return this.macVer}getDevice(){return this.device}supportsPassiveListeners(){return this.isPassiveListenersSupported}supportsCssVariables(){return this.isCssVariablesSupported}supportsWebAnimationApi(){return this.isWebAnimationApiSupported}supportsImageResize(){return this.isImageResizeSupported}supportsLocalStorage(){return this.isLocalStorageSupported}supportsIMessage(){return(this.ios()||this.ipad())&&this.iosVersion()>=11.3}isMacintosh(){return this.isMac}supportsAbc(){return this.isMacintosh()&&this.macVersion()>=10.15}yandexBot(){return this.isYandexBot}googleBot(){return this.isGoogleBot}isPointerEnabled(){return"PointerEvent"in window}isTouchEnabled(){return"ontouchstart"in window}_find(e){return-1!==this.userAgent.indexOf(e)}}(window.navigator.userAgent.toLowerCase());var o=i;t.default=o},43025:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.addClass=function(e,t){if(p)(0,r.each)(g(t),(function(t){e&&e.classList.add(t)})),e&&h(e);else{const n=m(e),a=(0,l.union)(n,g(t));_(e,a)}},t.addNewLine=function(e,t){if(!e)return!1;const n=e.selectionStart,a=t.substring(0,n),i=t.substring(n,t.length);n!==e.value.length?(e.value=`${a}\r\n${i}`,e.setSelectionRange(n,n)):(e.value+="\r\n",e.scrollTop=e.scrollHeight);return e.value},t.addNoTranslateClass=function(e){return e.className+=" notranslate",e},t.blurActiveElement=function(){const e=(0,d.getPageWindow)().document.activeElement;e&&"function"==typeof e.blur&&e.blur()},t.getComputedStyleAll=v,t.getElementPosition=function(e){if(!e)return{width:0,height:0,top:0,left:0,windowWidth:0,windowHeight:0};const t=e.ownerDocument,n=t.defaultView||t.parentWindow;let a={left:0,top:0,width:0,height:0,minLeft:0};if(e.getBoundingClientRect){const t=e.getBoundingClientRect();a=t.toJSON?(0,u.extend)(a,t.toJSON()):t}return a.width=e.offsetWidth,a.height=e.offsetHeight,a.windowWidth=n.innerWidth,a.windowHeight=n.innerHeight,a},t.getInnerHeight=function(e){const{clientHeight:t}=e,n=v(e,"paddingTop"),a=v(e,"paddingBottom");return t-parseFloat(n)-parseFloat(a)},t.getInnerWidth=function(e){const{clientWidth:t}=e,{paddingLeft:n,paddingRight:a}=getComputedStyle(e);return t-parseFloat(n)-parseFloat(a)},t.getNextSiblingNodeFocus=function(e){if(e.keyCode&&13==e.keyCode){const t=e.currentTarget.parentNode.nextElementSibling;let n=t.querySelector("input");if(n||(n=t.querySelector("jdiv")||t.querySelector("textarea")),!n)return;if(-1!==["INPUT","TEXTAREA"].indexOf(n.tagName)&&n.focus)n.focus();else{const e=i.default.tablet()?"touchstart":"click",t=document.createEvent("MouseEvents");t.initEvent(e,!0,!0),n.dispatchEvent(t)}}},t.getScrollBarWidth=function(){if(i.default.mobileOrTablet())return 0;if(void 0!==f)return f;const e=document.createElement("div");if(e.style.visibility="hidden",e.style.width="100px",!document||!document.body)return f;document.body.appendChild(e);const t=e.offsetWidth;e.style.overflow="scroll";const n=document.createElement("div");n.style.width="100%",e.appendChild(n);const a=n.offsetWidth;return e.parentNode.removeChild(e),f=t-a,f},t.hasClass=function(e,t){return p?e.classList.contains(t):""!==e.className&&m(e).includes(t)},t.isInput=function(e){if(!e)return;return-1!==["INPUT","TEXTAREA"].indexOf(e.tagName)},t.isNoScroll=function(e,t){if(e&&e.base&&t){return e.getScrollHeight()<e.base.clientHeight||t.lastChild&&t.lastChild.lastChild&&t.lastChild.lastChild.clientHeight>e.getClientHeight()}},t.isParentA=function(e){return e&&e.target&&e.target.parentNode&&"A"===e.target.parentNode.tagName},t.isScrolledIntoView=function(e,t){if(e&&t&&t.base){if(t.getScrollTop()<100)return!0;const n=t.base,{top:a,bottom:i,height:o}=e.getBoundingClientRect(),r=n.getBoundingClientRect();return a<=r.top?r.top-a<=o:i-r.bottom<=o}return!1},t.isTextArea=function(e){if(!e)return;return"TEXTAREA"==e.tagName},t.isVisible=function(e){return e&&e.offsetWidth>0&&e.offsetHeight>0},t.pageVisible=function(){if("visibilityState"in document)return"visible"===document.visibilityState;if("webkitVisibilityState"in document)return"visible"===document.webkitVisibilityState;return!1},t.removeClass=function(e,t){if(p)(0,r.each)(g(t),(function(t){e&&e.classList.remove(t)})),e&&h(e);else{const n=m(e),a=(0,s.difference)(n,g(t));_(e,a)}};var i=a(n(19955)),o=n(90872),r=n(9393),s=n(34548),l=n(76784),u=n(60277),c=a(n(4855)),d=n(69882);c.default.name("DomUtils");let f;const p="classList"in document.documentElement;function h(e){e.offsetHeight}function g(e){return(0,o.isArray)(e)?e:e.replace(/^\s+|\s+$/g,"").split(/\s+/)}function m(e){return g(e.className)}function _(e,t){const n=t.join(" ");e.className!==n&&(e.className=n,h(e))}function v(e,t){if(e)return e.currentStyle?e.currentStyle[t]:window.getComputedStyle&&window.getComputedStyle(e,null)?window.getComputedStyle(e,null)[t]:e.style[t]}},26411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const a=n(97615).EnvironmentManager.getAllowedFileTypes();var i=a&&a.length?a:[{extension:"rar",mimeType:"application/vnd.rar"},{extension:"tar",mimeType:"application/x-tar"},{extension:"7z",mimeType:"application/x-7z-compressed"},{extension:"djvu",mimeType:"image/vnd.djvu"},{extension:"json",mimeType:"application/json"},{extension:"log",mimeType:"text/plain"},{extension:"ppt",mimeType:"application/vnd.ms-powerpoint"},{extension:"xls",mimeType:"application/vnd.ms-excel"},{extension:"doc",mimeType:"application/msword"},{extension:"docx",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{extension:"rtf",mimeType:"application/rtf"},{extension:"ttf",mimeType:"font/ttf"},{extension:"psd",mimeType:"image/vnd.adobe.photoshop"},{extension:"odt",mimeType:"application/vnd.oasis.opendocument.text"},{extension:"pdf",mimeType:"application/pdf"},{extension:"aac",mimeType:"audio/aac"},{extension:"avi",mimeType:"video/x-msvideo"},{extension:"csv",mimeType:"text/csv"},{extension:"epub",mimeType:"application/epub+zip"},{extension:"gz",mimeType:"application/gzip"},{extension:"gif",mimeType:"image/gif"},{extension:"ics",mimeType:"text/calendar"},{extension:"jpeg",mimeType:"image/jpeg"},{extension:"jpg",mimeType:"image/jpeg"},{extension:"mp3",mimeType:"audio/mpeg"},{extension:"mpeg",mimeType:"video/mpeg"},{extension:"oga",mimeType:"audio/ogg"},{extension:"ogv",mimeType:"video/ogg"},{extension:"png",mimeType:"image/png"},{extension:"svg",mimeType:"image/svg+xml"},{extension:"txt",mimeType:"text/plain"},{extension:"vsd",mimeType:"application/vnd.visio"},{extension:"wav",mimeType:"audio/wav"},{extension:"weba",mimeType:"audio/webm"},{extension:"webm",mimeType:"video/webm"},{extension:"webp",mimeType:"image/webp"},{extension:"zip",mimeType:"application/zip"},{extension:"zip",mimeType:"application/x-zip-compressed"},{extension:"mp4",mimeType:"application/mp4"},{extension:"mp4",mimeType:"video/mp4"},{extension:"mp4a",mimeType:"audio/mp4"},{extension:"mov",mimeType:"video/quicktime"},{extension:"html",mimeType:"text/html"},{extension:"htm",mimeType:"text/html"},{extension:"css",mimeType:"text/css"},{extension:"ods",mimeType:"application/vnd.oasis.opendocument.spreadsheet"},{extension:"odp",mimeType:"application/vnd.oasis.opendocument.presentation"},{extension:"pptx",mimeType:"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{extension:"xlsx",mimeType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}];t.default=i},2439:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(12494),o=n(21434),r=n(52274),s=a(n(26411));t.default=class{constructor(e){this.file=e,this.fileExtension=(0,o.fileName)(e.name).ext,this.fileMimeType=e.type,this.fileSize=e.size,this.reason=null}isValid(){return this.isAllowedFileSize()&&this.isAllowedExtensionAndMime()}getReason(){return this.reason}isAllowedExtensionAndMime(){if(!this.fileExtension)return this.reason=i.FileUploadError.NO_EXTENSION,!1;for(let e=0;e<s.default.length;e++){const t=s.default[e];if(t.extension===this.fileExtension.toLowerCase()&&t.mimeType===this.fileMimeType)return!0}return this.reason=i.FileUploadError.RESTRICTED_FILE_TYPE,!1}isAllowedFileSize(){return!(this.fileSize>r.MAX_FILE_SIZE)||(this.reason=i.FileUploadError.FILE_SIZE_EXCEEDED,!1)}}},69625:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.mediaUploader=void 0;var i=n(54415),o=n(83170),r=n(44145),s=a(n(2439)),l=n(12494),u=n(52274),c=n(83778),d=n(58271),f=n(53489),p=n(21434),h=a(n(84726)),g=n(77294),m=n(81152),_=n(26932),v=n(95911),b=n(82956);const y=a(n(4855)).default.name("MediaUploader");const E=new class{constructor(){this.mediaMessage=null,this.sign=null,this.file_name=null,this.client_id=(0,r.getClient)().clientId?(0,r.getClient)().clientId.split(".")[0]:0,this.site_id=(0,r.getSystemSettings)().siteId,this.public_id=(0,r.getSystemSettings)().widgetId,this.currentQuery=null}getSignUrl(){return(0,g.getApiHost)().replace("code","auth")+"/api/1.0/auth/media/sign/put"}async getSign(){y.warn("getSign");return await v.promisedRequest.get(this.getSignUrl(),{timeout:3e4,params:{file_name:this.file_name,client_id:(0,r.getClient)().clientId?(0,r.getClient)().clientId.split(".")[0]:0,site_id:this.site_id,public_id:this.public_id}}).then((e=>{const t=e.data;return this.metadata=t.metadata,this.sign=t.sign,this.ts=t.ts,this.media_server_url=t.url,i.Monitoring.telemetry(o.TelemetryName.MEDIA_SIGN,{param1:JSON.stringify({...t,sign:t.sign[0]}),param2:this.file_name||"none"}),t})).catch((e=>{y.error("Upload file error",e),i.Monitoring.telemetry(o.TelemetryName.MEDIA_SIGN_ERROR),this.setMessageError(l.FileUploadError.REQUEST_FAILED)}))}onUploadProgress(e){const t=this.mediaMessage;if(t){var n;if(t.body.status===m.MediaStatus.ERROR)null===(n=this.currentQuery)||void 0===n||n.call(this);_.messagesDispatchers.updateMessage({privateId:t.private_id},{body:{...t.body,loadedSize:e.loaded}})}}async uploadFile(){y.warn("uploadFile");const e=(0,d.bytesToMB)(this.file.size??5),t=3e4*Math.ceil(e),{promise:n,cancel:a,isCanceled:r}=(0,b.createCancelablePromise)(v.promisedRequest.put(`${this.media_server_url}/${this.file_name}?ts=${this.ts}&sign=${this.sign}&public`,{timeout:t,headers:{"Content-Type":this.file.type,"X-Metadata":this.metadata},body:this.file,onUpload:e=>this.onUploadProgress(e)}));this.currentQuery=a,await n.then((e=>{const t=e.headers.location||e.headers.Location;y.warn("uploadFile",t,e);const n=this.mediaMessage;if(_.messagesDispatchers.updateMessage({privateId:n.private_id},{body:{...n.body,unsave:null}}),!t)return _.messagesDispatchers.updateMessage({privateId:n.private_id},{body:{...n.body,status:m.MediaStatus.ERROR,error:(0,h.default)("file_upl_error")}}),void i.Monitoring.telemetry(o.TelemetryName.FILE_UPLOAD_NO_LOCATION,{param1:this.file_name,param2:JSON.stringify(e.headers),param3:e.status});this.onSuccess({fullUrl:this.media_server_url+e.headers.location})})).catch((e=>{r?(y.warn("Upload canceled"),this.setMessageError(l.FileUploadError.UPLOAD_CANCELED)):(y.error("Upload file error",e),this.setMessageError(l.FileUploadError.REQUEST_FAILED))}))}getError(e){if(e){let t=(0,h.default)("file_upl_error"),n=null;switch(e){case l.FileUploadError.FILE_SIZE_EXCEEDED:t=(0,h.default)("file_upl_error_max_size").replace("_FILESIZE_",(0,d.fileSize)(u.MAX_FILE_SIZE)),n={param1:l.FileUploadError.FILE_SIZE_EXCEEDED};break;case l.FileUploadError.UPLOAD_CANCELED:t=(0,h.default)("file_upl_cancel"),n={param1:l.FileUploadError.UPLOAD_CANCELED};break;case l.FileUploadError.NO_EXTENSION:t=(0,h.default)("file_upl_error_no_ext"),n={param1:l.FileUploadError.NO_EXTENSION};break;case l.FileUploadError.RESTRICTED_FILE_TYPE:t=(0,h.default)("file_upl_error"),n={param1:(0,p.fileName)(this.file.name).ext,param2:l.FileUploadError.RESTRICTED_FILE_TYPE};break;case l.FileUploadError.REQUEST_FAILED:n={param1:l.FileUploadError.REQUEST_FAILED}}return n&&i.Monitoring.telemetry(o.TelemetryName.FILE_UPLOAD_ERROR,n),t}}setMessageError(e){const t=this.getError(e),n=this.mediaMessage;n&&(_.messagesDispatchers.updateMessage({privateId:n.private_id},{body:{...n.body,status:"error"},status:m.MessageStatus.DELIVERED}),t&&_.messagesDispatchers.updateMessage({privateId:n.private_id},{body:{...n.body,error:t}}))}checkIfFileReadIsNeeded(e){if(y.warn("checkIfFileReadIsNeeded",e.type),"photo"===(0,c.detectType)(e.type)&&"FileReader"in window)try{return this.readFileContent(e),!0}catch(e){return this.setMessageError(),!1}}checkFileInfo(e){const t=new s.default(e);if(t.isValid())return this.checkIfFileReadIsNeeded(e),!0;{const e=t.getReason();return this.setMessageError(e),!1}}readFileContent(e){const t=new FileReader;t.onload=function(){const n=new Image;n.onload=function(){e.width=n.width,e.height=n.height,y.warn("readFileContent",e)},n.onerror=e=>{y.log("FileReader error",e),i.Monitoring.telemetry(o.TelemetryName.FILE_UPLOAD_ERROR,{param1:"image_generate_failed"})},n.src=t.result},t.onprogress=function(){},t.readAsDataURL(e)}async startUpload(e,t,n){if(!t)return!1;if(this.file=t,this.file_name=(0,f.sanitize)(t.name),this.onSuccess=n,this.mediaMessage=e,this.checkFileInfo(t)){await this.getSign()&&await this.uploadFile()}}};t.mediaUploader=E},99012:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.initCallTouch=function(){if(i.default.enable_calltouch){const e=(0,o.getPageWindow)(),t=(0,r.getClient)();if("function"==typeof e.ct){s.log("init");try{const n=e.ct("calltracking_params");n&&n.length&&n.forEach((n=>{const a=`{"site_id": ${i.default.site_id}, "widget_id": "${i.default.widget_id}", "visitor_id": "${t.visitorId}"}`;s.log("set attr:",a),e.ct(n.modId,"set_attrs",a)}))}catch(e){s.error("Fail to sync with calltouch",e)}}}};var i=a(n(1039)),o=n(69882),r=n(44145);const s=a(n(4855)).default.name("CallTouch","color: grey")},22618:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.initVideoForce=function(){const e=i.default.integrations;if(e&&e.videoforce){const t="https://widget.videoforce.io/";try{const n=document.createElement("script");n.src=t+e.videoforce,n.crossorigin="anonymous",n.async="true";const a=(0,o.getPageWindow)().jivo_cspNonce;a&&n.setAttribute("nonce",a);const i=(0,o.getPageWindow)().document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}catch(e){r.Monitoring.reportException(e)}}};var i=a(n(1039)),o=n(69882),r=n(54415)},55908:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1039)),o=n(44733),r=n(99040);const s=a(n(4855)).default.name("AbTestManager");let l=null;t.default=class{constructor(){if(l)return l;this.activeTest=null,this.storeName="abTests",this._initialize(),this._cleanUp(),l=this}static getInstance(){return l}testIsActive(e){return this.activeTest&&this.activeTest.name===e}getActiveTest(){return this.activeTest?this.activeTest:null}getGroup(e){return this.testIsActive(e)?this.activeTest.chosenGroup:null}getNumberOfGroupsInTest(e){return this.testIsActive(e)?this.activeTest.numberOfGroups:null}isInTestGroup(e,t){return this.getGroup(e)===t}getActiveTestAsString(){return this.activeTest?`${this.activeTest.name},${this.activeTest.chosenGroup}`:null}getActiveTestName(){return this.activeTest?this.activeTest.name:null}getActiveTestGroup(){return this.activeTest?this.activeTest.chosenGroup:null}_initialize(){if(r.ACTIVE_TEST&&i.default.enable_top100&&"ru_RU"===i.default.locale){const e=this._getSavedTestGroup(r.ACTIVE_TEST.name);this.activeTest={name:r.ACTIVE_TEST.name,numberOfGroups:r.ACTIVE_TEST.groups,chosenGroup:e||this._getRandomGroupNumber(r.ACTIVE_TEST.groups)},o.StorageProvider.set(this.storeName,this.activeTest),s.log("Ab-testing is ebabled.",`TestName: ${this.getActiveTestName()}.`,`Group: ${this.getActiveTestGroup()}.`)}}_getRandomGroupNumber(e){return Math.floor(Math.random()*e)+1}_getSavedTestGroup(e){const t=o.StorageProvider.get(this.storeName);return t&&t.name===e?t.chosenGroup:null}_cleanUp(){this.activeTest||o.StorageProvider.remove(this.storeName)}}},97615:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnvironmentManager=void 0;var a=n(87884);const i=new class{constructor(){this.env="production",this.version="90.5.0",this.loaderVersion="0.1",this.branch="HEAD_510a715",this.allowedFiles=JSON.parse('[{"extension":"7z","mimeType":"application/x-7z-compressed"},{"extension":"aac","mimeType":"audio/aac"},{"extension":"amr","mimeType":"audio/amr"},{"extension":"avi","mimeType":"video/avi"},{"extension":"avi","mimeType":"video/x-msvideo"},{"extension":"css","mimeType":"text/css"},{"extension":"csv","mimeType":"text/csv"},{"extension":"djvu","mimeType":"image/vnd.djvu"},{"extension":"doc","mimeType":"application/msword"},{"extension":"docx","mimeType":"application/vnd.openxmlformats-officedocument.wordprocessingml.document"},{"extension":"epub","mimeType":"application/epub+zip"},{"extension":"gif","mimeType":"image/gif"},{"extension":"gz","mimeType":"application/gzip"},{"extension":"heic","mimeType":"image/heic"},{"extension":"heif","mimeType":"image/heif"},{"extension":"htm","mimeType":"text/html"},{"extension":"html","mimeType":"text/html"},{"extension":"ics","mimeType":"text/calendar"},{"extension":"jpeg","mimeType":"image/jpeg"},{"extension":"jpg","mimeType":"image/jpeg"},{"extension":"json","mimeType":"application/json"},{"extension":"log","mimeType":"text/plain"},{"extension":"mov","mimeType":"video/quicktime"},{"extension":"mp3","mimeType":"audio/mpeg"},{"extension":"mp4","mimeType":"application/mp4"},{"extension":"mp4","mimeType":"video/mp4"},{"extension":"mp4a","mimeType":"audio/mp4"},{"extension":"mpeg","mimeType":"video/mpeg"},{"extension":"odp","mimeType":"application/vnd.oasis.opendocument.presentation"},{"extension":"ods","mimeType":"application/vnd.oasis.opendocument.spreadsheet"},{"extension":"odt","mimeType":"application/vnd.oasis.opendocument.text"},{"extension":"oga","mimeType":"audio/ogg"},{"extension":"ogg","mimeType":"audio/ogg"},{"extension":"ogv","mimeType":"video/ogg"},{"extension":"ogg","mimeType":"video/ogg"},{"extension":"opus","mimeType":"audio/ogg"},{"extension":"pdf","mimeType":"application/pdf"},{"extension":"png","mimeType":"image/png"},{"extension":"pkpass","mimeType":"application/vnd.apple.pkpass"},{"extension":"ppt","mimeType":"application/vnd.ms-powerpoint"},{"extension":"pptx","mimeType":"application/vnd.openxmlformats-officedocument.presentationml.presentation"},{"extension":"psd","mimeType":"image/vnd.adobe.photoshop"},{"extension":"rar","mimeType":"application/vnd.rar"},{"extension":"rtf","mimeType":"application/rtf"},{"extension":"stl","mimeType":"application/vnd.ms-pki.stl"},{"extension":"stl","mimeType":"application/x-navistyle"},{"extension":"svg","mimeType":"image/svg+xml"},{"extension":"tar","mimeType":"application/x-tar"},{"extension":"ttf","mimeType":"font/ttf"},{"extension":"txt","mimeType":"text/plain"},{"extension":"usdz","mimeType":"model/vnd.usdz+zip"},{"extension":"vsd","mimeType":"application/vnd.visio"},{"extension":"wav","mimeType":"audio/wav"},{"extension":"weba","mimeType":"audio/webm"},{"extension":"webm","mimeType":"video/webm"},{"extension":"webp","mimeType":"image/webp"},{"extension":"wmv","mimeType":"video/x-ms-wmv"},{"extension":"xls","mimeType":"application/vnd.ms-excel"},{"extension":"xlsx","mimeType":"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},{"extension":"xml","mimeType":"text/xml"},{"extension":"zip","mimeType":"application/x-zip-compressed"},{"extension":"zip","mimeType":"application/zip"}]')||null,this.isDesigner=this._checkIfDesignerEditor()}isProduction(){return this.env===a.Environment.PRODUCTION}isTesting(){return this.env===a.Environment.TESTING}isDevelopment(){return this.env===a.Environment.DEVELOPMENT}getVersion(){return this.version}getLoaderVersion(){return this.loaderVersion}getBranch(){return this.branch}getAllowedFileTypes(){return this.allowedFiles}getWindow(){return window.parent||window}isPartnerApp(){return this.getWindow().jivo_partner||!1}isDesignerEditor(){return this.isDesigner}isApp(){return new RegExp(/^(app|app3|app3alpha|app3beta)\.(jivosite\.com|jivo\.ru)$/i).test(this.getPageHost())}getPageHost(){return this.getWindow().location.host}isSignUpPage(){return new RegExp(/.*\/signup\.html/i).test(this.getWindow().location.pathname)}isRegPage(){return this.isProduction()?this.isApp()&&this.isSignUpPage():this.isSignUpPage()}isDesignerPage(){return this.getWindow()._jivoDesigner}_checkIfDesignerEditor(){const e=this.isProduction(),t=e&&this.isApp();return!(!this.isDesignerPage()||!t&&e)}};t.EnvironmentManager=i},71323:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1039)),o=a(n(19955)),r=n(54415),s=n(83170),l=a(n(35802)),u=n(41504),c=n(26932);a(n(4855)).default.name("EulaManager");var d=new class{constructor(){this.context=null,this.eulaLink=null}showEula(e,t,n){i.default.eula&&(c.appDispatchers.setShowEula(e),t&&(this.eulaLink=t),o.default.desktop()&&document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur(),n&&(this.context=n,r.Monitoring.telemetry(s.TelemetryName.EULA_SHOWN,{param1:n})))}acceptEula(){if(c.clientDispatchers.setEulaAccepted(!0),"cb"===this.context){const e=new u.AcceptEula,t=l.default.getInstance();if(t){const n=t.managers.connection;n&&n.isOpen()&&n.send(e)}}r.Monitoring.telemetry(s.TelemetryName.EULA_ACCEPTED,{param1:this.context})}};t.default=d},69144:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1039)),o=a(n(4855)),r=n(3571);o.default.name("FeatureManager");var s=class{constructor(){this.features={[r.Feature.RECAPTCHA]:i.default.enable_antispam&&i.default.recaptcha}}isEnabled(e){return this.features[e]||!1}};t.default=s},32149:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(69882),o=a(n(4855)),r=n(47060),s=n(21476),l=n(54415),u=n(83170),c=n(31802),d=n(44145);const f=o.default.name("HistoryManager");let p=null;var h=class{constructor(){if(p)return p;this.initHash=this.getLocation().hash,this.initHref=this.getLocationWithoutHash(),p=this}static getInstance(){return p}setHistoryState(){f.log("setHistoryState");const e=(0,i.getPageWindow)(),t=e.history,n=e.location;(!t.state||t.state&&"number"!=typeof t.state.jmobile)&&t.pushState({jmobile:1},n.title,n.href),t.replaceState({jmobile:1},n.title,n.href)}checkPopState(){f.log("checkPopState");const e=(0,d.getApp)().route;this.initHash!==this.getLocation().hash&&this.initHref===this.getLocationWithoutHash()||(this.initHash=this.getLocation().hash,this.initHref=this.getLocationWithoutHash(),e!==r.Route.LABEL&&((0,c.closeWidget)(),s.Router.next(r.RouterEvent.CloseWindow),l.Monitoring.telemetry(u.TelemetryName.MOBILE_CHAT_CLOSE,{param1:"byBack"})))}getLocation(){return(0,i.getPageWindow)().location}getLocationWithoutHash(){const e=this.getLocation();return e.href.replace(e.hash,"")}};t.default=h},86765:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(19955));a(n(4855)).default.name("LoaderContextManager");let o=null;var r=class{constructor(e,t){if(o)return o;this.appStore=t,this.appStore.addListener((()=>{this.updateChatStarted()})),this.storeName="jv_loader_info_"+e,this.store={},i.default.supportsLocalStorage()&&(this.store=JSON.parse(localStorage.getItem(this.storeName))||{}),o=this}static getInstance(){return o}setInStore(e,t){this.store[e]=t,this.saveStore()}saveStore(){i.default.supportsLocalStorage()&&localStorage.setItem(this.storeName,JSON.stringify(this.store))}updateChatStarted(){this.store.isChatStarted!==this.appStore.chat_started&&(this.store.isChatStarted=this.appStore.chat_started,this.saveStore())}};t.default=r},16500:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(21951),o=n(43025);const r=a(n(4855)).default.name("PageVisibilityManager");var s=new class{constructor(){this.pageVisible=(0,o.pageVisible)(),this.subscribers=[],(0,i.listenVisibility)((()=>{this.pageVisible=(0,o.pageVisible)(),r.log("Page visibility changed to:",this.pageVisible),this.fireSubscriptions(this.pageVisible)}))}fireSubscriptions(e){this.subscribers.forEach((t=>{t(e)}))}subscribe(e){this.subscribers.push(e)}unsubscribe(e){this.subscribers=this.subscribers.filter((t=>{if(t!==e)return t}))}};t.default=s},51094:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(26932),o=n(62168);const r=a(n(4855)).default.name("PermissionManager");var s=class{constructor(){this.allowedMics=[],this.allMics=[],this.allSpeakers=[],this.getAllDevices()}async checkAudio(){if(!navigator.mediaDevices)return r.warn("can't check mic access - old browser"),i.permissionsDispatchers.updatePermission(o.Permission.AUDIO,o.PermissionStatus.BLOCKED),o.PermissionStatus.BLOCKED;{await this.getAllDevices(),r.log("start check mic access");let e=null;try{e=await navigator.mediaDevices.getUserMedia({audio:!0}),r.log("mic is allowed");const t=e.getTracks();return t.forEach((e=>e.stop())),this.allowedMics=t,i.permissionsDispatchers.updatePermission(o.Permission.AUDIO,o.PermissionStatus.ALLOWED),o.PermissionStatus.ALLOWED}catch(e){return r.warn("mic is not allowed",e),i.permissionsDispatchers.updatePermission(o.Permission.AUDIO,o.PermissionStatus.BLOCKED),o.PermissionStatus.BLOCKED}}}async getAllDevices(){if(navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices){const e=await navigator.mediaDevices.enumerateDevices();this.allMics=e.filter((e=>"audioinput"===e.kind)),this.allSpeakers=e.filter((e=>"audiooutput"===e.kind))}}};t.default=s},50216:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(83170),o=n(26932),r=a(n(11281)),s=n(95911),l=n(69882);const u=a(n(4855)).default.name("RecaptchaManager");var c=class{constructor(e,t){this.application=e,this.token=t,this.recaptchaWidgetIndex=null,this.grecaptcha=null,this.blocked=null}isBlocked(){return this.blocked}addRecaptchaToPage(){u.log("Insertion of reCaptcha code",this.token);const e=(0,l.getPageWindow)(),t=e.document.head,n=e.document.createElement("script");n.async=!0,n.src="//google.com/recaptcha/api.js?render=explicit&onload=jivo_onRecaptchaLoadCallback",e.jivo_onRecaptchaLoadCallback=this.onLoadCallback.bind(this),t.appendChild(n)}onLoadCallback(){u.log("onLoadCallback"),this.grecaptcha=(0,l.getPageWindow)().grecaptcha,this.recaptchaWidgetIndex=this.grecaptcha.render({sitekey:this.token,badge:"bottomleft"}),this.application.managers.connection.open()}getToken(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"startup";u.log("getToken",n),this.grecaptcha.ready((()=>{u.log("Get recaptcha token"),this.grecaptcha.execute(this.recaptchaWidgetIndex,{action:n}).catch((e=>{this.onTokenFailure(e,t)})).then((n=>{this.onTokenSuccess(n,e,t)}))}))}getRecaptchaHandleUrl(e){const t=this.application.reduxStore.getState();return(0,l.getProtocol)()+this.application.config.base_url+`/script/recaptcha-token/${encodeURIComponent(this.application.config.widget_id)}?visitor_id=${encodeURIComponent(t.client.visitorId)}&token=${encodeURIComponent(e)}`}onTokenSuccess(e,t,n){e&&(u.log("Recaptcha token received",e),s.xhrRequest.get(this.getRecaptchaHandleUrl(e),((e,a)=>{if(e)return this.application.managers.monitoring.telemetry(i.TelemetryName.RECAPTCHA_ERROR,{param1:"Server error: "+JSON.stringify(e)});const s=a.data;return s.ok&&s.token?(o.clientDispatchers.setCaptchaToken(s.token),this.application.managers.monitoring.telemetry(i.TelemetryName.RECAPTCHA_SUCCESS,{param1:s.score}),u.log("Recaptcha request is successful"),t&&t()):s.ok?void 0:(this.application.managers.monitoring.telemetry(i.TelemetryName.RECAPTCHA_FAILURE,{param1:s.score,param2:null===(l=s.reason)||void 0===l?void 0:l.join(",")}),u.log("Recaptcha request is unsuccessful"),this.block(),setTimeout((()=>{r.default.enableRecaptchaAntispam()}),1500),n&&n());var l})))}onTokenFailure(e,t){u.log("Execution error",e),this.application.managers.monitoring.telemetry(i.TelemetryName.RECAPTCHA_ERROR,{param1:"Client error: "+JSON.stringify(e)}),t&&t(e)}block(){this.blocked=!0}};t.default=c},75686:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=new class{constructor(){this.refs={},this.observers={}}set(e,t){e&&t&&(this.refs[e]=t,this._fire(e))}get(e){if(e&&this.refs[e])return this.refs[e].base?this.refs[e].base:this.refs[e]}getComponent(e){return this.refs[e]}subscribe(e,t){this.observers[e]||(this.observers[e]=[]),this.observers[e].push(t)}unsubscribe(e,t){this.observers[e]=this.observers[e].filter((e=>{if(e!==t)return e}))}_fire(e){this.observers[e]||(this.observers[e]=[]),this.observers[e].forEach((e=>{e()}))}};t.default=n},46902:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioBufferStore=void 0;const n=new class{constructor(){this.audioBuffers={},this.mp3BuffersLengths={notification:5808,agent_message:3760,outgoing_message:5014},this.oggBufferLengths={notification:6140,agent_message:6464,outgoing_message:7165}}set(e,t){this.audioBuffers[e]=t}get(e){return this.audioBuffers[e]||null}getReadyAudioBuffersCount(){return Object.keys(this.audioBuffers).length}getReferenceBufferLength(e,t){switch(t){case"mp3":return this.mp3BuffersLengths[e];case"ogg":return this.oggBufferLengths[e]}}};t.AudioBufferStore=n},39933:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.HTMLAudioSoundManager=void 0;var i=n(14433),o=n(21951),r=n(54415),s=a(n(19955)),l=a(n(75686)),u=n(47245);const c=a(n(4855)).default.name("HTMLAudioSoundManager");class d extends i.SoundManagerBase{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),this.touchListenerTimeout=null,this.soundNodes={},this._windowOnClicked,this._mobileHackHandler=this._mobileHackHandler.bind(this)}initSoundPlayer(){c.log("Initialization started"),this.disabled||(this.soundNodes={agent_message:l.default.get(u.Component.SOUND_AGENT_MESSAGE),notification:l.default.get(u.Component.SOUND_NOTIFICATION),outgoing_message:l.default.get(u.Component.SOUND_OUTGOING_MESSAGE)},s.default.mobileOrTablet()&&this._addHackListeners([window.parent,window],"click",this._mobileHackHandler))}play(e,t){if(this.disabled)return void c.log(`Cannot play sound "${e}". SoundManager is disabled.`);const n=this.soundNodes[e];if(n&&void 0!==n.play)try{(s.default.ios()||s.default.safari())&&n.load();const a=n.play();this._promisesSupported(a)?t?a.then((()=>{this._pause(e)})):a.catch((t=>{this.touchListenerTimeout||(this._windowOnClicked=this._windowOnClicked.bind(this,e),s.default.mobileOrTablet()&&this._removeHackListeners([window.parent,window],"click",this._mobileHackHandler),this._addHackListeners([window.parent,window],"click",this._windowOnClicked),this.touchListenerTimeout=setTimeout((()=>{this._removeHackListeners([window.parent,window],"click",this._windowOnClicked)}),3e3))})).then():t&&this._pause(e)}catch(e){r.Monitoring.reportException(e)}}_pause(e){if(this.disabled)return;const t=this.soundNodes[e];void 0!==t.pause&&t.pause()}_promisesSupported(e){return("object"==typeof e||"function"==typeof e)&&e.then&&"function"==typeof e.then}_windowOnClicked(e){this.play(e),clearTimeout(this.touchListenerTimeout),this._removeHackListeners([window.parent,window],"click",this._windowOnClicked),this.touchListenerTimeout=null}_mobileHackHandler(){this._mobileHack(),this._removeHackListeners([window.parent,window],"click",this._mobileHackHandler)}_mobileHack(){this.play(this.sounds[1],!0)}_addHackListeners(e,t,n){e.forEach((e=>(0,o.addListener)(e,t,n)))}_removeHackListeners(e,t,n){e.forEach((e=>(0,o.removeEvent)(e,t,n)))}}t.HTMLAudioSoundManager=d},21201:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.SoundDownloader=void 0;var i=n(83778),o=n(67597),r=n(54415),s=n(69479),l=n(46902),u=n(97615),c=n(95911);const d=a(n(4855)).default.name("SoundDownloader");t.SoundDownloader=class{constructor(e){this.audioContext=e,this.soundValidator=new s.SoundValidator,this.exceptionReported=!1}downloadSounds(e,t){e.forEach((e=>{this.download(e,t)}))}download(e,t){c.xhrRequest.get(this._getUrl(e,t),((n,a)=>{if(n)return this._handleDownloadError(n,e,t);const i=this.soundValidator.validate(e,t,a.data);if(i.success)this._decodeBuffer(a.data,e,t);else if(i.error){this._fallback(e,t)||(r.Monitoring.telemetryWithProbability("sound_fallback",{param1:e,param2:t,param3:"validation"},5),d.warn(i.error))}}),{responseType:"arraybuffer"})}_getUrl(e,t){const n=(u.EnvironmentManager.isDevelopment()?"/public":"")+`/sounds/${e}.`;return(0,o.staticUrl)(n+t,!0)}_decodeBuffer(e,t,n){this.audioContext.decodeAudioData(e,(e=>{l.AudioBufferStore.set(t,e)}),(e=>{this._handleDecodeBufferError(e,t,n)}))}_handleDownloadError(e,t,n){this._fallback(t,n)||(r.Monitoring.telemetryWithProbability("sound_fallback",{param1:t,param2:n,param3:"download"},5),d.warn(`Error downloading arrayBuffer for sound "${t}.${n}". Reason: ${e.code} ${e.text}`))}_handleDecodeBufferError(e,t,n){this._fallback(t,n)||(r.Monitoring.telemetryWithProbability("sound_fallback",{param1:t,param2:n,param3:"decode"},5),d.warn(`Error decoding arrayBuffer for sound "${t}.${n}". Reason: ${e}`))}_fallback(e,t){const n=this._getFallbackExtension(t);return!!n&&(r.Monitoring.telemetryWithProbability("sound_fallback",{param1:e,param2:t,param3:"fallback"},5),this.download(e,n),!0)}_getFallbackExtension(e){return"mp3"===e?"ogg":null}_reportErrorMessageOnce(e){this.exceptionReported||((0,i.reportException)(e),this.exceptionReported=!0)}}},14433:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.SoundManagerBase=void 0;const i=a(n(4855)).default.name("SoundManagerBase");t.SoundManagerBase=class{constructor(e,t){this.disabled=t,this.sounds=e}initSoundPlayer(){i.log("initSoundPlayer method is NOT implemented!")}enableSoundPlayer(){this.disabled=!1}disableSoundPlayer(){this.disabled=!0}play(e){i.log("play method is NOT implemented!")}}},69479:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SoundValidator=void 0;var a=n(46902);t.SoundValidator=class{validate(e,t,n){let i;return n?n instanceof ArrayBuffer?this._isValidBufferLength(e,t,n)?{success:!0,error:null}:(i=new Error(`ArrayBuffer byteLength for sound "${e}.${t}" is ${n.byteLength}, should be ${a.AudioBufferStore.getReferenceBufferLength(e,t)}.`),{success:!1,error:i}):(i=new Error(`ArrayBuffer for sound "${e}.${t}" is not an instance of ArrayBuffer.`),{success:!1,error:i}):(i=new Error(`No arrayBuffer for sound "${e}.${t}"`),{success:!1,error:i})}_isValidBufferLength(e,t,n){return n.byteLength===a.AudioBufferStore.getReferenceBufferLength(e,t)}}},50725:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.WebAudioSoundManager=void 0;var i=n(14433),o=n(54415),r=a(n(19955)),s=a(n(4855)),l=n(21201),u=n(46902);const c=s.default.name("WebAudioSoundManager");class d extends i.SoundManagerBase{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]),this.audioContext=null,this.soundDownloader=null}initSoundPlayer(){if(c.log("Initialization started"),this.disabled||this._checkIfIsInitialized())return;const e=r.default.firefox()?"ogg":"mp3";this.audioContext=this._createAudioContext(),this.soundDownloader=new l.SoundDownloader(this.audioContext),this.soundDownloader.downloadSounds(this.sounds,e)}play(e){!this.disabled&&this._checkIfIsInitialized()?(this.audioContext||(c.log("AudioContext was created on play"),this.audioContext=this._createAudioContext()),"suspended"===this.audioContext.state?this.audioContext.resume().then((()=>{c.log("AudioContext was resumed"),this._startBufferAudio(e)})):this._startBufferAudio(e)):c.log(`Cannot play sound "${e}". SoundManager is either disabled or is not initialized.`)}_createAudioContext(){c.log("Creating AudioContext");try{let e=window.AudioContext||window.webkitAudioContext;if(e){return new e}}catch(e){let t=new Error(`Exception during the creation of audio context. ${e.message}`);return o.Monitoring.reportException(t),this.disableSoundPlayer(),null}}_startBufferAudio(e){let t=u.AudioBufferStore.get(e);if(t){let n=this.audioContext.createBufferSource();if(n)n.buffer=t,n.connect(this.audioContext.destination),n.start();else{let t=new Error(`Error creating buffer source for sound "${e}".`);o.Monitoring.reportException(t),this.disableSoundPlayer()}}else{let t=new Error(`Error there is no audiobuffer for sound "${e}".`);o.Monitoring.reportException(t),this.disableSoundPlayer()}}_checkIfIsInitialized(){return this.sounds.length===u.AudioBufferStore.getReadyAudioBuffersCount()&&(this.soundDownloader=null,!0)}}t.WebAudioSoundManager=d},71277:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.disableSoundPlayer=t.default=t.WebAudioDisabled=t.Sounds=void 0;var i=a(n(19955)),o=n(47060),r=n(50725),s=n(39933),l=a(n(73687)),u=n(44145);a(n(4855)).default.name("SoundManager index");const c=i.default.operaMini()||(0,u.getApp)().route===o.Route.HIDDEN||l.default.get("is_blacklisted");t.disableSoundPlayer=c;const d=["agent_message","notification","outgoing_message"];t.Sounds=d;const f=!function(){if(!i.default.mobileOrTablet()||!window.AudioContext&&!window.webkitAudioContext||i.default.ieOrEdge())return!1;{const e=window.AudioContext||window.webkitAudioContext;try{return(new e).close(),!0}catch(e){return!1}}}();t.WebAudioDisabled=f;var p=f?new s.HTMLAudioSoundManager(d,c):new r.WebAudioSoundManager(d,c);t.default=p},22541:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(84726)),o=n(69882);const r=a(n(4855)).default.name("TitleManager");var s=new class{constructor(e,t){this.originalTitle=e,this.jivoTitle=t,this.titleShown=!1,this.timer=null}getTitle(){return(0,o.getPageWindow)().document.title}startBlinking(){clearInterval(this.timer),this.timer=setInterval((()=>{let e;this.titleShown?e=this.originalTitle:(this.originalTitle=this.getTitle(),e=this.jivoTitle),this.changeTitle(e),this.titleShown=!this.titleShown}),1e3)}stopBlinking(){clearInterval(this.timer);const e=this.getTitle();e!==this.originalTitle&&e!==this.jivoTitle&&(this.originalTitle=e),this.changeTitle(this.originalTitle),this.titleShown=!1}changeTitle(e){(0,o.getPageWindow)().document.title=e,r.log("Title changed to:",e)}}((0,o.getPageWindow)().document.title,(0,i.default)("lblNewMessage"));t.default=s},40202:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1039)),o=a(n(38121));a(n(4855)).default.name("TransitionManager");t.default=class{static getEmptyTransition(){return o.default.NoTransition}static getTransitionByName(e){return"function"==typeof o.default[e]?o.default[e]((()=>{let e=window.parent.document.getElementById("jvlabelWrap");if(e){if("bottom"===i.default.widget_orientation)return{marginRight:e.style.marginRight,width:e.offsetWidth,height:e.offsetHeight};if("right"===i.default.widget_orientation)return{marginBottom:e.style.marginBottom,height:e.offsetWidth,width:e.offsetWidth};if("left"===i.default.widget_orientation)return{marginBottom:e.style.marginBottom,height:e.offsetWidth,width:e.offsetWidth}}return 0})()):o.default[e]}}},47914:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(21951),o=n(69882),r=n(43374),s=n(26932),l=a(n(75686)),u=n(47245),c=n(2982),d=a(n(19955)),f=n(52274);const p=a(n(4855)).default.name("WindowResizeManager");let h=null;t.default=class{constructor(e){if(h)return h;this.handler=(0,r.throttle)(this.resizeHandler.bind(this),100),(0,i.addListener)((0,o.getPageWindow)(),"resize",this.handler),h=this,this.onResize=e,this.lastHeight=null,this.container=null}static getInstance(){return h}destroy(){(0,i.removeEvent)((0,o.getPageWindow)(),"resize",this.handler)}resizeHandler(){const e=l.default.get(u.Component.WIDGET_CONTAINER);if(p.log("resizeHandler"),!e)return;if(e&&!e.style)return;this.container=e;const t=parseInt((0,c.getProperty)("right",e))||0,n=parseInt((0,c.getProperty)("left",e))||0,a=parseInt((0,c.getProperty)("height",e))||0,i=t+n+f.CHAT_WIDTH+28,h=(0,o.getPageWindow)().document.body.clientWidth,g=(0,o.getPageWindow)().innerHeight-30;if(i>h)s.positionDispatchers.initializePositionStore({height:a>g?g<f.MINIMAL_WIDGET_HEIGHT?`${f.MINIMAL_WIDGET_HEIGHT}px`:`${g}px`:`${a}px`,left:this.getNewValue(n,i,h,40),right:this.getNewValue(t,i,h,30)});else if(a>g){const e=g<f.MINIMAL_WIDGET_HEIGHT?`${f.MINIMAL_WIDGET_HEIGHT}px`:`${g}px`;s.positionDispatchers.setWidgetPositionHeight(e)}if(this.onResize){const t=getComputedStyle(e);t&&this.lastHeight!==t.height&&(this.onResize({width:f.CHAT_WIDTH+"px",height:t.height}),this.lastHeight=t.height)}d.default.safari()&&!d.default.mobileOrTablet()&&(0,r.throttle)(this.updateKeyFrames,200)}updateKeyFrames(){this.container&&(0,c.updateKeyframes)(this.container)}getNewValue(e,t,n,a){if(!e)return null;let i=e-(t-n);return i<a&&(i=a),`${i}px`}}},69845:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.checkAlone=d,t.createEmoji=f,t.formatText=function(e){if(!e)return"";const t=(e=(e=(0,c.escape)(e)).replace(/(?:\r\n|\r|\n)/g,"<br />")).replace((0,u.getEmojiRegExp)()," $& "),n=(0,l.replaceLinksWithAnchor)(t);return r.default.disable_emoji?n:f(n)};var i=a(n(98661)),o=a(n(98661)),r=a(n(1039)),s=a(n(3501)),l=n(63621),u=n(66488),c=n(11413);function d(e){let t=!1,n=0;const a=(0,u.replace)(e,(()=>(n++,""))).match(/\S/gu);return 1!==n||a||(t=!0),t}function f(e){const t=d(e);return(0,u.replace)(e,(e=>{var n;const a=(0,u.toCodePoint)(e),r=document.createElement("jdiv");return o.default.render(i.default.createElement(s.default,{icon:a,alone:t,className:"emojiMessages",style:{}}),r),(null===(n=r.childNodes[0])||void 0===n?void 0:n.outerHTML)||""}))}},49594:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.deleteMessagesFromHistory=S,t.getMsgHistory=C,t.updateEditedMessages=O,t.updateHistory=function(e){const t=(0,b.getApp)(),n=!!e.jv_client_id;if((e&&t.lastMsgId!==e.last_msg_id||n)&&e.last_msg_id){E.warn("updateHistory",e);C(e,(()=>{t.started||T()}))}else t.started||T()};var i=a(n(26754)),o=n(96879),r=n(47060),s=a(n(14264)),l=a(n(86961)),u=n(81152),c=n(54415),d=n(83170),f=a(n(91275)),p=a(n(4855)),h=n(26932),g=a(n(35802)),m=a(n(19955)),_=n(33180),v=n(15787),b=n(44145),y=a(n(22866));const E=p.default.name("MessageHistory"),T=()=>{_.cssLoader.subscribe((()=>{g.default.getInstance().start()}),(()=>{g.default.getInstance().stop()}))};function C(e,t){E.log("getMsgHistory",e);const n=(0,b.getApp)(),a=e&&e.last_msg_id>n.lastMsgId;e.jv_client_id||a?(E.log("start get new history",a),l.default.getHistoryMessages("messages",{},((n,a)=>{if(n)return function(e,t){E.log("handleError",e),t(),c.Monitoring.telemetry(d.TelemetryName.API_GET_MESSAGES_ERROR,{param1:e.code}),E.log("error: ",e)}(n,t);const l=a.data;if(E.log("receive new history",l),y.default.getInstance().saveMessageHistory("lastMessageHistoryRequest",a),l.result){const n=l.result;p=n.chat_opened,E.log("handleChatOpened",p),h.appDispatchers.setChatStarted(p||!1),p||(s.default.closeChat(),h.appDispatchers.setChatAccepted(!1),h.clientDispatchers.updateClient({departmentId:null})),function(e,t,n){if(E.log("handleMessages",e),e&&e.length){const a=function(){E.log("getLastMessage");const e=s.default.filter((e=>{const t=e.get("from");return(t===u.MessageInitiator.CLIENT||t===u.MessageInitiator.AGENT)&&e.get("msg_id")}));return e[e.length-1]}(),l=function(e){E.log("getLastMessageId",e);let t=e?e.get("msg_id"):null;e||(e=s.default.getLastProactive())&&(t=e.get("msg_id"));return t}(a),p=e.filter((e=>{const t=(0,o.filterMessage)(e);return e.type===u.MessageType.PROACTIVE&&a&&a.get("type")===u.MessageType.PROACTIVE&&a.destroy(),t&&l!==e.msg_id}));if(p.forEach((e=>{if(e.deleted)e.status=u.MessageStatus.DELETED;else{E.log("add item from history",e);const t=1e3*e.created_ts,n=1e3*e.updated_ts;e.created_ts=t,e.updated_ts&&(e.updated_ts=n),e.status=u.MessageStatus.DELIVERED,e.type===u.MessageType.EMAIL&&(e.type=u.MessageType.MESSAGE),e.media&&(e.media.status=u.MediaStatus.COMPLETE)}})),"resume_ok"===n&&!m.default.mobileOrTablet()&&p.length&&(h.agentsDispatchers.addAgent(i.default.toReduxFormat()),h.appDispatchers.setAppRoute(r.Route.CHAT),f.default.syncRouter()),h.messagesDispatchers.addMessages(p),t){const t=!!p.length,n=t?p:e;let{chat_id:a,created_ts:i}=n.slice(-1)[0];t||(i*=1e3),(0,v.needToRateForm)(a,i)}c.Monitoring.telemetry(d.TelemetryName.API_GET_MESSAGES_RECEIVED)}}(n.messages,n.chat_rate_requested,e.name),S(n.messages),O(n.messages),e&&h.appDispatchers.setLastMsgId(e.last_msg_id),t(n)}else E.error("Empty history data");var p}))):t()}function S(e){const t=e.filter((e=>e.deleted));t.length&&t.forEach((e=>{const t=s.default.getMessageById(e.msg_id);t&&t.set({status:u.MessageStatus.DELETED,type:u.MessageType.MESSAGE,body:null})}))}function O(e){const t=e.filter((e=>!e.deleted));t.length&&t.forEach((e=>{const t=s.default.getMessageById(e.msg_id);t&&e.updated_ts&&(E.warn("message edited: ",t.toJSON()),t.set({updated_ts:1e3*e.updated_ts,text:e.text}))}))}},82726:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.cleanTempProactive=function(){E.log("cleanTempProactive");const e=r.default.getTmpProactive(),t=r.default.getLastMessage(),n=t?t.get("from"):null,{AGENT:a,CLIENT:i,FORM:o}=u.MessageInitiator;t&&e&&e.get("body")&&e.get("body").unsave&&-1!==[a,i,o].indexOf(n)&&e!==t&&(e.destroy(),s.default.reload(),s.default.agent_id=0);(0,l.prechatEnabled)()&&r.default.getClientMessages()&&r.default.getClientMessages().length&&c.messageActions.deletePrechatMsg()},t.getMessagesGroup=T,t.getScrollToFormState=function(e){const t=(0,b.getFormMessage)(),n=(0,b.getFormIntroduceText)();if(t){if(n){const t=e?(0,i.default)("lblIntroduceRequest"):(0,i.default)("offlineIntroductionText");y.messagesDispatchers.updateMessage({privateId:n.private_id},{created_ts:(new Date).getTime(),text:t})}return y.messagesDispatchers.updateMessage({privateId:t.private_id},{created_ts:(new Date).getTime()}),r.default.sort(),d.Monitoring.telemetry(f.TelemetryName.CHAT_INTRODUCE,{param1:"btnform"}),{hideScrollButton:!0,messagesGroups:T()}}},t.onWrapTouch=function(e){if(o.default.mobileOrTablet()){if(o.default.safari())return;const t=(0,h.getPageWindow)().document.activeElement,n=g.Component.CHAT_INPUT,a=_.default.get(n);(0,m.isTextArea)(t)&&function(e){if(!e)return;return"none"!==e.style.display}(a)&&!(0,m.isParentA)(e)&&(E.log("onWrapTouch",t),setTimeout((()=>{t.blur()}),300))}};var i=a(n(84726)),o=a(n(19955)),r=a(n(14264)),s=a(n(26754)),l=n(55329),u=n(81152),c=n(65465),d=n(54415),f=n(83170),p=n(9393),h=n(69882),g=n(47245),m=n(43025),_=a(n(75686)),v=a(n(4855)),b=n(44145),y=n(26932);const E=v.default.name("MessagesMainUtils");function T(){const e=[];let t,n,a,i,o=0;if((0,p.each)(r.default.getAll(),(r=>{const s=r.toJSON(),l=new Date(s.created_ts);let c=!1;!n||n.getMonth()===l.getMonth()&&n.getDate()===l.getDate()||(c=!0),s.type!==u.MessageType.MESSAGE||-1!==[u.MessageType.COBROWSE,u.MessageType.MEDIA,u.MessageType.INVOICE,u.MessageType.SYSTEM,u.MessageType.WEB_RTC_CALL].indexOf(a)||s.from!==t||s.from_id!==i||c?(c&&(e.push([{type:u.MessageType.SEPARATOR,time:l.getTime(),from:u.MessageInitiator.SYSTEM}]),o++),e.push([r])):e[e.length-1].push(r),t=s.from,a=s.type,i=s.from_id,n=l})),r.default.store.length>0&&e.length>0){const t=e[0][0].get("created_ts"),n=(s=t,Math.round(Math.abs((s-(new Date).getTime())/864e5)));(o>0||n>=1)&&e.unshift([{type:u.MessageType.SEPARATOR,time:t,from:u.MessageInitiator.SYSTEM}])}var s;return e}},54415:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Monitoring=void 0;var a=n(75048),i=n(97615),o=n(67597),r=n(83170),s=n(44733);const l=new class{constructor(){this.reportedTelemetry={},this.provider=new a.MonitoringProvider}init(){window.onerror=(e,t,n,a,r)=>{!r&&(r={}),(window||arguments||"function"==typeof this.reportException)&&this.reportException({message:e,lineNumber:n,fileName:(0,o.getBundleSrc)()+"&v="+i.EnvironmentManager.getVersion(),columnNumber:a,stack:JSON.stringify(r.stack||r.stacktrace||r)})};const e=t=>{const n=this.reportedTelemetry[r.TelemetryName.CHAT_INVITE]||this.reportedTelemetry[r.TelemetryName.OFFLINE_INVITE];t.persisted||!n||s.StorageProvider.get("hide_reported")||(s.StorageProvider.set("hide_reported",!0),this.telemetryOnce(r.TelemetryName.PAGE_HIDE,{param1:"has_proactive"})),window.removeEventListener("unload",e),window.removeEventListener("pagehide",e)};window.addEventListener("unload",e,!1),window.addEventListener("pagehide",e,!1)}reportException(e){this.provider.reportException(e)}telemetry(e,t){this.provider.telemetry(e,t),!0!==this.reportedTelemetry[e]&&(this.reportedTelemetry[e]=!0)}telemetryOnce(e,t){!0!==this.reportedTelemetry[e]&&this.telemetry(e,t)}telemetryWithProbability(e,t,n){this._invokeWithProbability((()=>{this.telemetry(e,t)}),n)}_invokeWithProbability(e,t){Math.random()<=.01*t&&e()}isTelemetryReported(e){return!0===this.reportedTelemetry[e]}getTelemetryNames(){return r.TelemetryName}reportStats(e,t){this.provider.reportStats(e,t)}};t.Monitoring=l},75048:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.MonitoringProvider=void 0;var i=a(n(1039)),o=a(n(4855)),r=a(n(19955)),s=n(69882),l=a(n(22866)),u=n(97615),c=n(95911),d=n(44145),f=n(31343),p=a(n(55908)),h=n(21733),g=n(96078);const m=o.default.name("MonitoringProvider");t.MonitoringProvider=class{constructor(){this.lastTelemetry=[],this.errorSentCnt=0}isNotSearchSpider(){const e=navigator.userAgent.toLowerCase();return-1==e.search(/google/gi)&&-1==e.search(/\+http:\/\/yandex\.com\/bots/gi)&&-1==e.search(/\+http:\/\/www\.cloudflare\.com\/always-online/gi)&&-1==e.search(/linespider\//gi)}reportException(e){if(l.default.getInstance()&&l.default.getInstance().saveException(e),!i.default.disable_error_reporting&&this.isNotSearchSpider()){if(++this.errorSentCnt>3)return;try{this.reportError(e)}catch(e){m.error(e.message)}}else m.warn("REPORT",e)}reportError(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;const n=`${(0,s.getProtocol)()}//${i.default.err_host}/widget`,a=(0,d.getClient)(),o={body:{widget:"true",widget_id:i.default.widget_id,widget_version:u.EnvironmentManager.getVersion(),level:t,url:this.getUrl(),client_id:a.clientId?a.clientId.split(".")[0]:null,lineNumber:e.lineNumber,fileName:e.fileName,column:e.columnNumber,full_message:this.getStack(e.message,e.stack),short_message:e.message,device:r.default.getDevice(),shard:this.getShard()},headers:{"Content-Type":f.CONTENT_TYPE.APP_JSON},responseType:"json",monitoring:!0};this.ignoreMessage(o.body.full_message,"chrome://internal")||c.xhrRequest.post(n,((e,t)=>{m.log("Error reported:",e,t)}),o)}ignoreMessage(e,t){return e.includes(t)}getUrl(){const e=(0,s.getPageWindow)().location;return e.protocol+"//"+e.host+e.pathname}telemetry(e,t){if(!e||!(0,h.isString)(e))return void m.warn("EventName is empty");if(e=(0,g.replaceAll)(e," ","_"),this.saveTelemetry(e),i.default.disable_telemetry||!this.isNotSearchSpider())return;"object"==typeof t&&t||(t={});const n=(0,d.getClient)();t.event=e,t.widget_id=i.default.widget_id,t.chat_mode=i.default.chat_mode,t.site_id=i.default.site_id,t.device=r.default.getDevice(),t.visitor_id=n.visitorId,t.widget_version=u.EnvironmentManager.getVersion(),t.shard=this.getShard();const a=p.default.getInstance();a&&a.getActiveTest()&&(t.abtest_name=a.getActiveTestName(),t.abtest_group=a.getActiveTestGroup()),n.clientId&&(t.client_id=parseInt(n.clientId.split(".")[0])||0);for(let e=1;e<5;e++){const n=t[`param${e}`];null!=n&&n.toString&&(t[`param${e}`]=n.toString())}m.log("TELEMETRY",t);try{let e=(0,s.getProtocol)();i.default.telemetry_host&&(e+="//"+i.default.telemetry_host+"/w"),window.navigator.sendBeacon&&navigator.sendBeacon(e,JSON.stringify(t))}catch(e){m.warn(e)}}saveTelemetry(e){5===this.lastTelemetry.length&&this.lastTelemetry.shift(),this.lastTelemetry.push(e.substr(0,60))}getStack(e,t){if("Script error."==e)return t;const n=o.default.lastLog.join("\r\n");return"{}"!=t&&""!=t&&t?"Uncaught TypeError: undefined is not a function"==e||"t.set is not a function"==e||"Uncaught TypeError: Cannot read property 'set' of undefined"==e?`${t} \r\n ${n}`:t.replace(/(?:\\[n])+/,"\r\n"):`Custom stack: \r\n${n}\r\n\r\n${this.lastTelemetry.join("\r\n")}`}getShard(){return i.default.shard_id||"main"}reportStats(e,t){if(e&&(0,h.isString)(e)){if(this.isNotSearchSpider()){m.log("stats",e,t);try{let n=(0,s.getProtocol)();const{siteId:a,widgetId:o}=(0,d.getSystemSettings)();n+=`${i.default.base_url}/script/stat/campaign/${e}/${a}/${t}/${o}`,c.xhrRequest.get(n,(()=>{m.warn("stat posted",e,t)}),{})}catch(e){m.warn(e)}}}else m.warn("EventName is empty")}}},74890:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(4855)).default.name("Polyfill");var i={init:function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(window.document||window.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}};t.default=i},2833:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(54415),o=a(n(86961)),r=n(44145),s=n(83170),l=n(35967);const u=a(n(4855)).default.name("Proactive");var c=new class{constructor(){this.agents=null,this.departments=null,this.proactiveDepartmentId=null}getActiveAgent(e,t){u.log("getActiveAgent"),t&&(this.proactiveDepartmentId=t),o.default.getStatus(((t,n)=>{this.parseStatus(t,n,e)}))}parseStatus(e,t,n){if(e)return i.Monitoring.telemetry(s.TelemetryName.WIDGET_STATUS,{param1:e.code}),this.agents=null,this.departments=null,n(!1);const a=(0,r.getClient)(),o=a.assignedAgentId||a.priorityAgentId;n(this.getAgent(t.data,o,this.proactiveDepartmentId))}getAgent(e,t,n){const a=e.departments;if(u.log("parseStatus",e,t,n),e.bots)return e.bots[0];if(this.agents=e.bots||e.agents,this.departments=a,this.agents.length){if(n&&"object"==typeof a&&n in a){const e=this.departments[n],a=this.getOnlineAgentInDep(t,e.agents);if(a)return a;const i=this.getRandomOnlineAgentFromDep(e.agents);return i||(u.log("no online agents from proactive department."),!1)}const e=this.getAgentById(t);if(e)return e;const i=this.getRandomAgent(this.agents.length-1);return i||!1}return!1}getRandomAgent(e){return this.agents[this.randomInt(0,e)]}randomInt(e,t){const n=e+Math.random()*(t+1-e);return Math.floor(n)}getAgentById(e){return this.agents.find((t=>t.agent_id===e))}getRandomAgentIdByArray(e){return e[1===e.length?0:this.randomInt(0,e.length-1)]}getOnlineIds(){return this.agents.map((e=>e.agent_id))}getOnlineInDep(e){const t=this.getOnlineIds();return(0,l.intersection)(t,e)}getOnlineAgentInDep(e,t){const n=this.getOnlineInDep(t);if(n.length&&-1!==n.indexOf(e))return this.getAgentById(e)}getRandomOnlineAgentFromDep(e){const t=this.getOnlineInDep(e);if(t.length){const e=this.getRandomAgentIdByArray(t);return this.getAgentById(e)}return!1}};t.default=c},90361:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withLocator=void 0;var a=n(97615);t.withLocator=e=>e&&!a.EnvironmentManager.isProduction()?{"data-qa-id":e}:{}},21476:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.Router=void 0;var i=a(n(84633)),o=a(n(1039)),r=a(n(95003)),s=a(n(14264)),l=a(n(19955)),u=n(47060),c=n(80161),d=n(54415),f=n(83170),p=n(26932),h=a(n(47914)),g=a(n(75686)),m=n(2982),_=n(47245),v=a(n(71323)),b=n(44145),y=n(69882),E=n(47138),T=a(n(4855)),C=n(94537),S=n(68403);const O=T.default.name("Router"),A=new i.default({namespace:"ROUTER",initialState:(0,b.getApp)().route||r.default.route||u.Route.LABEL,eulaContext:{},debugClicks:0,clickTimer:null,getCurrentRoute:function(){return this.state},isContainerRoute:function(){return-1===[u.Route.LABEL,u.Route.LABEL_INVITATION,u.Route.HIDDEN].indexOf(this.state)},isChatPrevRoute:function(e){return-1!==[u.Route.CHAT,u.Route.CHAT_CALL,u.Route.INTRODUCE,u.Route.DEPARTMENTS].indexOf(e)},isChatInputRoute:function(e){return-1!==[u.Route.CHAT,u.Route.CHAT_CALL].indexOf(e)},isMinRoute:function(){return this.state===u.Route.CHAT_MIN},isChatClosedRoute:function(){return-1!==[u.Route.LABEL,u.Route.CHAT_MIN].indexOf(this.state)},isFormRoute:function(){return-1!==[u.Route.INTRODUCE].indexOf(this.state)},isHideAvatarRoute:function(){return-1!==[u.Route.INTRODUCE,u.Route.DEPARTMENTS].indexOf(this.state)},getPrevRoute:function(){return this.priorState},setNext:function(e){O.warn("setNext route:",e),this.transition(e)},getPrevEvent:function(){return this._priorAction},next:function(e,t){O.warn("next",e,"from",this.state),e&&this.handle(e,t)},_navToChat:function(){if((0,b.getCallback)().status==E.CallStatus.WAIT)return void this.transition(u.Route.CHAT_CALL);const e=(0,b.getApp)().isOnline,t=c.RouterUtils.showDepartmentsIfPossible();e&&(0,b.needToShowIntroduceForm)()?this.transition(u.Route.INTRODUCE):t?this.transition(u.Route.DEPARTMENTS):this.transition(u.Route.CHAT)},_navToChatFromChatMin:function(){this.priorState===u.Route.CHAT_EULA&&!(0,b.getClient)().eulaAccepted?this.transition(u.Route.CHAT_EULA):this.transition(u.Route.CHAT)},_debugClicked:function(){clearTimeout(this.clickTimer),this.debugClicks++,this.debugClicks>7&&(this.debugClicks=0,this.transition(u.Route.DEBUG),d.Monitoring.telemetryOnce(f.TelemetryName.DEBUG_PANEL_OPENED)),this.clickTimer=setTimeout((()=>{this.debugClicks=0}),1e3)},states:{[u.Route.HIDDEN]:{_onEnter:function(){this.trigger("route_change",u.Route.HIDDEN);const e=h.default.getInstance();e&&e.destroy()}},[u.Route.LABEL]:{_onEnter:function(){this.trigger("route_change",u.Route.LABEL)},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.ToCall]:function(){this.transition(u.Route.CALL)},[u.RouterEvent.ToChat]:function(){this.transition(u.Route.CHAT)},[u.RouterEvent.ApiOpen]:function(){this._navToChat()},[u.RouterEvent.Navigate]:function(){this._navToChat()},[u.RouterEvent.ToLabelInvitation]:function(){this.transition(u.Route.LABEL_INVITATION)},[u.RouterEvent.ToMobileMenu]:function(){this.transition(u.Route.MOBILE_MENU)},[u.RouterEvent.ToCallPopup]:function(){this.transition(u.Route.CALL_POPUP)},[u.RouterEvent.ToSocial]:function(){this.transition(u.Route.CHAT_SOCIAL)}},[u.Route.LABEL_INVITATION]:{_onEnter:function(){this.trigger("route_change",u.Route.LABEL_INVITATION)},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.ToCall]:function(){this.transition(u.Route.CALL)},[u.RouterEvent.ApiOpen]:function(){this._navToChat()},[u.RouterEvent.Navigate]:function(){this._navToChat()},[u.RouterEvent.CloseWindow]:function(){this.transition(u.Route.LABEL)}},[u.Route.DEPARTMENTS]:{_onEnter:function(){this.trigger("route_change",u.Route.DEPARTMENTS)},[u.RouterEvent.CloseWindow]:function(){this.transition(u.Route.LABEL)},[u.RouterEvent.ToCall]:function(){l.default.mobileOrTablet()?this.transition(u.Route.CALL):this.transition(u.Route.CHAT_CALL),d.Monitoring.telemetry(f.TelemetryName.CW_ONLINE_HEADER_BUTTON)},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.Navigate]:function(){(0,b.needToShowIntroduceForm)()&&0===s.default.store.length?this.transition(u.Route.INTRODUCE):this.transition(u.Route.CHAT)},[u.RouterEvent.ToDebug]:function(){this._debugClicked()}},[u.Route.INTRODUCE]:{_onEnter:function(){this.trigger("route_change",u.Route.INTRODUCE),d.Monitoring.telemetry(f.TelemetryName.CHAT_INTRODUCE,{param1:"show",param2:(0,S.getContactSettingsInfo)()})},[u.RouterEvent.Submit]:function(){c.RouterUtils.needToShowEula()?this.transition(u.Route.CHAT_EULA):(this.transition(u.Route.CHAT),this.trigger("submit_eula_success",u.Route.INTRODUCE))},[u.RouterEvent.ToCall]:function(){(0,y.isChatPage)()?this.transition(u.Route.CHAT_CALL):this.transition(u.Route.CALL)},[u.RouterEvent.CloseWindow]:function(){this.transition(c.RouterUtils.getRouteChatMin())},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.ToDebug]:function(){this._debugClicked()}},[u.Route.MOBILE_MENU]:{_onEnter:function(){this.trigger("route_change",u.Route.MOBILE_MENU)},[u.RouterEvent.ToCall]:function(){this.transition(u.Route.CALL)},[u.RouterEvent.CloseWindow]:function(){this.transition(u.Route.LABEL)},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.ToChat]:function(){this._navToChat()},[u.RouterEvent.Navigate]:function(){(0,b.needToShowIntroduceForm)()?this.transition(u.Route.INTRODUCE):c.RouterUtils.showDepartmentsIfPossible()?this.transition(u.Route.DEPARTMENTS):this.transition(u.Route.CHAT)}},[u.Route.CHAT]:{_onEnter:function(){this.trigger("route_change",u.Route.CHAT)},[u.RouterEvent.Submit]:function(e){e&&e.from&&e.from!==this.state||(c.RouterUtils.needToShowEula()?(e&&(this.eulaContext={link:e.link,context:e.context}),this.transition(u.Route.CHAT_EULA)):this.trigger("submit_success"))},[u.RouterEvent.ToCall]:function(){l.default.mobileOrTablet()?this.transition(u.Route.CALL):this.transition(u.Route.CHAT_CALL),d.Monitoring.telemetry(f.TelemetryName.CW_ONLINE_HEADER_BUTTON)},[u.RouterEvent.ToIntroduce]:function(){(0,b.getClient)().isIntroduced||o.default.contacts_ask!==C.ContactsType.BEFORE_CHAT?this._navToChat():this.transition(u.Route.INTRODUCE)},[u.RouterEvent.ToSocial]:function(){this.transition(u.Route.CHAT_SOCIAL)},[u.RouterEvent.CloseWindow]:function(){this.transition(c.RouterUtils.getRouteChatMin())},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.ToEula]:function(e){e&&c.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(u.Route.CHAT_EULA))},[u.RouterEvent.ToDebug]:function(){this._debugClicked()},[u.RouterEvent.ToCallSetup]:function(){this.transition(u.Route.CHAT_SETUP_CALL)}},[u.Route.CHAT_MIN]:{_onEnter:function(){this.trigger("route_change",u.Route.CHAT_MIN)},[u.RouterEvent.ToChat]:function(){this.transition(u.Route.CHAT)},[u.RouterEvent.ToCall]:function(){this.transition(u.Route.CHAT_CALL)},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.ApiOpen]:function(){this._navToChatFromChatMin()},[u.RouterEvent.Navigate]:function(){this._navToChat()}},[u.Route.CHAT_EULA]:{_onEnter:function(){const e=this.eulaContext&&this.eulaContext.link?this.eulaContext.link:null,t=this.eulaContext&&this.eulaContext.context?this.eulaContext.context:"introduce";"cb"!==t&&A.getPrevRoute()!==u.Route.CHAT_CALL&&v.default.showEula(!0,e,t),this.eulaContext={},this.trigger("route_change",u.Route.CHAT_EULA)},[u.RouterEvent.Submit]:function(){const e=this.priorState;e?(this.trigger("submit_eula_success",A.getPrevRoute()),-1===[u.Route.INTRODUCE,u.Route.CHAT_MIN].indexOf(e)?this.transition(e):this.transition(u.Route.CHAT)):this.transition(u.Route.CHAT)},[u.RouterEvent.ToCall]:function(){l.default.mobileOrTablet()?this.transition(u.Route.CALL):this.transition(u.Route.CHAT_CALL)},[u.RouterEvent.Cancel]:function(){this.priorState&&this.priorState!==u.Route.CHAT_MIN?this.transition(this.priorState):this.transition(u.Route.CHAT)},[u.RouterEvent.CloseWindow]:function(){!l.default.mobileOrTablet()&&(0,b.getApp)().chatStarted&&(0,b.getApp)().isOnline?this.transition(u.Route.CHAT_MIN):this.transition(u.Route.LABEL)},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.ToDebug]:function(){this._debugClicked()}},[u.Route.CHAT_SOCIAL]:{_onEnter:function(){this.trigger("route_change",u.Route.CHAT_SOCIAL)},[u.RouterEvent.Submit]:function(){this.transition(u.Route.LABEL)},[u.RouterEvent.ToChat]:function(){this.transition(u.Route.CHAT)},[u.RouterEvent.ToCall]:function(){this.transition(u.Route.CALL)},[u.RouterEvent.Cancel]:function(){this.transition(u.Route.CHAT)},[u.RouterEvent.CloseWindow]:function(){this.transition(c.RouterUtils.getRouteChatMin())},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.ToEula]:function(e){e&&c.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(u.Route.CHAT_EULA))},[u.RouterEvent.ToDebug]:function(){this._debugClicked()}},[u.Route.CHAT_CALL]:{_onEnter:function(){this.trigger("route_change",u.Route.CHAT_CALL)},[u.RouterEvent.Submit]:function(){c.RouterUtils.needToShowEula()?this.transition(u.Route.CHAT_EULA):this.trigger("submit_success")},[u.RouterEvent.ToCall]:function(){const e=A.getPrevRoute();e&&this.transition(-1===[u.Route.CHAT_MIN,u.Route.CHAT_EULA].indexOf(e)?e:u.Route.CHAT)},[u.RouterEvent.ToSocial]:function(){this.transition(u.Route.CHAT_SOCIAL)},[u.RouterEvent.Cancel]:function(){this.transition(u.Route.CHAT)},[u.RouterEvent.CloseWindow]:function(){this.transition(c.RouterUtils.getRouteChatMin())},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.ToChat]:function(){this._navToChat()},[u.RouterEvent.ToEula]:function(e){e&&c.RouterUtils.needToShowEula()&&(this.eulaContext={link:e.link,context:e.context},this.transition(u.Route.CHAT_EULA))},[u.RouterEvent.ToIntroduce]:function(){o.default.contacts_ask===C.ContactsType.BEFORE_CHAT&&this.transition(u.Route.INTRODUCE)},[u.RouterEvent.ToDebug]:function(){this._debugClicked()}},[u.Route.CHAT_SETUP_CALL]:{_onEnter:function(){this.trigger("route_change",u.Route.CHAT_SETUP_CALL)},[u.RouterEvent.Cancel]:function(){this.transition(u.Route.CHAT)},[u.RouterEvent.Submit]:function(){this.transition(u.Route.CHAT)},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.ToDebug]:function(){this._debugClicked()},[u.RouterEvent.CloseWindow]:function(){c.RouterUtils.isChatMinAvailable()?this.transition(u.Route.CHAT_MIN):this.transition(u.Route.LABEL)}},[u.Route.CALL]:{_onEnter:function(){this.trigger("route_change",u.Route.CALL)},[u.RouterEvent.Submit]:function(){c.RouterUtils.needToShowEula()?this.transition(u.Route.CALL_EULA):this.trigger("submit_success")},[u.RouterEvent.ToEula]:function(){this.transition(u.Route.CALL_EULA)},[u.RouterEvent.CloseWindow]:function(){c.RouterUtils.isChatMinAvailable()?this.transition(u.Route.CHAT_MIN):this.transition(u.Route.LABEL)},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.ToChat]:function(){this._navToChat()},[u.RouterEvent.ToDebug]:function(){this._debugClicked()}},[u.Route.CALL_EULA]:{_onEnter:function(){this.trigger("route_change",u.Route.CALL_EULA)},[u.RouterEvent.Submit]:function(){if(A.getPrevRoute()===u.Route.CALL)return this.transition(u.Route.CALL),void this.trigger("submit_eula_success",A.getPrevRoute());this.trigger("submit_success")},[u.RouterEvent.Cancel]:function(){p.appDispatchers.setShowEula(!1),this.transition(u.Route.CALL)},[u.RouterEvent.ToChat]:function(){this.transition(u.Route.CHAT)},[u.RouterEvent.CloseWindow]:function(){p.appDispatchers.setShowEula(!1),this.transition(u.Route.LABEL)},[u.RouterEvent.Hide]:function(){this.transition(u.Route.HIDDEN)},[u.RouterEvent.ToDebug]:function(){this._debugClicked()}},[u.Route.CALL_POPUP]:{_onEnter:function(){this.trigger("route_change",u.Route.CALL_POPUP)},[u.RouterEvent.Submit]:function(){this.transition(u.Route.CALL)},[u.RouterEvent.CloseWindow]:function(){c.RouterUtils.isChatMinAvailable()?this.transition(u.Route.CHAT_MIN):this.transition(u.Route.LABEL)}},[u.Route.DEBUG]:{_onEnter:function(){this.trigger("route_change",u.Route.DEBUG)},[u.RouterEvent.CloseWindow]:function(){this.transition(c.RouterUtils.getRouteChatMin())},[u.RouterEvent.ToChat]:function(){this._navToChat()},[u.RouterEvent.ToCall]:function(){l.default.mobileOrTablet()?this.transition(u.Route.CALL):this.transition(u.Route.CHAT_CALL),d.Monitoring.telemetry(f.TelemetryName.CW_ONLINE_HEADER_BUTTON)}}}});t.Router=A,A.on("route_change",(e=>{if(p.appDispatchers.setAppRoute(e),l.default.safari()&&!l.default.mobileOrTablet()){const t=A.getPrevRoute();(e===u.Route.DEBUG&&t===u.Route.INTRODUCE||e===u.Route.INTRODUCE&&t===u.Route.DEBUG||e==u.Route.INTRODUCE&&t===u.Route.CHAT||t===u.Route.CHAT_EULA||e===u.Route.CHAT_EULA)&&setTimeout((()=>{const e=g.default.get(_.Component.WIDGET_CONTAINER);(0,m.updateKeyframes)(e,!0)}),50)}}))},80161:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.RouterUtils=void 0;var i=a(n(1039)),o=a(n(26754)),r=a(n(19955)),s=n(47060),l=n(44145),u=n(94537),c=n(47138);const d=new class{showDepartmentsIfPossible(){const e=(0,l.getApp)(),t=(0,l.getClient)(),{contactsAsk:n,departments:a}=(0,l.getUserSettings)(),i=n==u.ContactsType.BEFORE_CHAT;return a&&!i&&!t.departmentId&&!o.default.agent_id&&!e.chatStarted&&e.isOnline}needToShowEula(){return i.default.eula&&!(0,l.getClient)().eulaAccepted}canShowIntroduceForm(){const{isOnline:e}=(0,l.getApp)(),{isIntroduced:t}=(0,l.getClient)(),{contactsAsk:n}=(0,l.getUserSettings)();return e&&!t&&n===u.ContactsType.BEFORE_CHAT}getRouteChatMin(){return this.isChatMinAvailable()?s.Route.CHAT_MIN:(0,l.getCallback)().status===c.CallStatus.CONNECTED?s.Route.CALL:s.Route.LABEL}callbackEnabled(){const e=i.default.callback_settings;return!!(e.time&&e.countries&&e.countries.length)}isChatMinAvailable(){const{labelBubble:e}=(0,l.getUserSettings)(),t=o.default.agent_id||o.default.bot_id,n=o.default.body&&"left"==o.default.body.state;return(0,l.getApp)().chatAccepted&&(0,l.getApp)().isOnline&&t&&!n&&!r.default.mobileOrTablet()&&(0,l.getCallback)().status!==c.CallStatus.CONNECTED&&!e}};t.RouterUtils=d},13077:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.addPageView=function(){const e=s.default.get("pages_count");e?s.default.set("pages_count",parseInt(e)+1):s.default.set("pages_count",1)},t.checkCondition=b,t.checkTimeConditions=function(e,t,n){let a=!1;for(let i=0;i<e.length;i++)if(b(e[i],n))a=!0;else if("all"===t)return!1;return a},t.getPageUrlValue=v,t.getRuleLocal=function(e){if(e in g)return g[e]},t.getValue=_,t.hasOnceCondition=function(e){let t=!1;for(let n=0;n<e.length;n++){const a=e[n];if("once_a_day"==a.condition){t=a;break}}return t},t.isDefaultProactive=function(){if(!i.default.rules)return;const e=JSON.stringify([{value:!0,condition:d.RuleConditions.ONLINE},{value:10,condition:d.RuleConditions.TIME_ON_PAGE,comparator:"greater"},{value:120,condition:d.RuleConditions.TIME_AFTER_CLOSE,comparator:"greater"},{value:60,condition:d.RuleConditions.TIME_AFTER_INVITAION,comparator:"greater"}]);return i.default.rules.filter((t=>{if(t.conditions&&JSON.stringify(t.conditions)===e)return!0})).length>0},t.isGoalCondition=function(e){return"goal_close"===e||"goal_scroll"===e},t.isPopupCommand=function(e){return-1!==[d.RuleTypes.PROACTIVE,d.RuleTypes.OPEN_OFFLINE,d.RuleTypes.SHOW_CALLFORM].indexOf(e)},t.isTimeCondition=function(e){return e&&e.indexOf("time")>=0},t.isYandexMarketClient=function(e){const t=1==l.default.get("visits_count"),n=s.default.get("pages_count")<10;return!u.default.mobileOrTablet()&&t&&n&&-1!==["market","YM"].indexOf(e.source)&&"cpc"==e.medium},t.setInvitationTime=function(){s.default.set("invitation_time",(new Date).getTime())},t.setRuleLocal=function(e,t){e in g&&(g[e]=t)},t.timeDiff=m;var i=a(n(1039)),o=n(4425),r=n(69882),s=a(n(66547)),l=a(n(73687)),u=a(n(19955)),c=a(n(4855)),d=n(83907),f=n(44145),p=n(66139);const h=c.default.name("RuleManagerUtils"),g={scrollPosition:!1,movedToCloseButton:!1,firstMessageTime:null,pageEnterTime:(new Date).getTime(),prechatUseTime:null,lastUpdateProactiveEvent:null,lastContactApiData:null,sendStartupTime:null,isVisitorInvite:null};function m(e){return Math.round(((new Date).getTime()-e)/1e3)}function _(e){var t,n;const a=(0,r.getCurrentPage)().url,i=(new Date).getDay(),c=s.default.get("close_time"),p=s.default.get("invitation_time"),{chatMode:h}=(0,f.getUserSettings)(),{geoIp:_}=(0,f.getSystemSettings)();switch(e){case d.RuleConditions.ONLINE:return h===o.ChatMode.ONLINE;case d.RuleConditions.PAGE_URL:return a.replace(/^http(s?):\/\//i,"");case d.RuleConditions.PAGE_TITLE:return(0,r.getCurrentPage)().title;case d.RuleConditions.HOUR:return(new Date).getHours();case d.RuleConditions.WEEK_DAY:return 0===i?7:i;case d.RuleConditions.TIME_AFTER_CLOSE:return c?m(c):Number.MAX_VALUE;case d.RuleConditions.TIME_AFTER_FIRST_MSG:return g.firstMessageTime?m(g.firstMessageTime.getTime()):NaN;case d.RuleConditions.TIME_AFTER_INVITAION:return null===p||""===p?Number.MAX_VALUE:m(p);case d.RuleConditions.TIME_ON_PAGE:return m(g.pageEnterTime);case d.RuleConditions.TIME_ON_SITE:return m(s.default.get("enter_ts"));case d.RuleConditions.NUMBER_OF_VISITS:return l.default.get("visits_count");case d.RuleConditions.GOAL_CLOSE:return g.movedToCloseButton;case d.RuleConditions.GOAL_SCROLL:return g.scrollPosition;case d.RuleConditions.PAGES_COUNT:return parseInt(s.default.get("pages_count"));case d.RuleConditions.COUNTRY:return null==_?void 0:_.split(";")[0];case d.RuleConditions.CITY:return(null==_?void 0:_.split(";")[2])||null;case d.RuleConditions.ONCE_A_DAY:return!0;case d.RuleConditions.UTM_SOURCE:return(null===(t=(0,f.getClient)().utm)||void 0===t||null===(n=t.source)||void 0===n?void 0:n.toLowerCase().trim().replace("/(|)/i",""))||d.UtmSource.DIRECT;case d.RuleConditions.DEVICE:return u.default.mobileOrTablet()?d.DeviceType.MOBILE:d.DeviceType.DESKTOP;default:return s.default.get(e)}}function v(e){const t=e.match(/^(?:https?:)?(?:\/\/)?([^\/\?]+)/gi);if(t&&t.length){const n={href:e,hostname:t[0]};e=(0,r.getUnicodeHref)(n).replace(/http(|s):\/\//,"")}else e=e.replace(/http(|s):\/\//,"");return e}function b(e,t){h.log("checkCondition",e);const n=_(e.condition);"page_url"===e.condition&&(e.value=v(e.value)),"pages_count"===e.condition&&(e.value=parseInt(e.value));const a=(0,p.compareCondition)(n,e.value,e.comparator);let i=`${t||""}; ${a?"success":"failed"}`;return i+=` condition ${e.condition}; comparator=${e.comparator}`,h.info(`${i}; expected=${e.value}; actual=${n}`),"once_a_day"==e.condition||a}},79868:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1039)),o=n(67597),r=n(21951),s=a(n(19955)),l=n(54034),u=n(54415),c=n(83170),d=n(26932),f=n(97615),p=a(n(73687)),h=n(44145);const g=a(n(4855)).default.name("Social"),{EventEmitter:m}=n(89766),_=new m;let v={vk:!1,fb:!1,mode:!1},b=null,y=!1;const E={getSocial(){return b||v},setPopupMode(e){b=e,v.mode=b,d.socialDispatchers.initializeSocialStore(v),_.emit("update",v)},getPopupMode(){return b},setSocial(e){return v=e,v},isLoginned(){return v.vk||v.fb},getJoints(){let e=0;const t={};return l.CallbackUtils.isCallbackEnabled()?(t.callback=!0,e++):i.default.power_button_phone&&(t.cbUrl=i.default.power_button_phone,e++),i.default.joint?(i.default.joint.sb&&e++,i.default.joint.ig&&e++,i.default.joint.fb&&i.default.joint.fb.joint_id&&(t.fbUrl="https://m.me/"+i.default.joint.fb.joint_id,e++),i.default.joint.wa&&(t.waUrl="https://wa.me/"+i.default.joint.wa,e++),i.default.joint.vk&&i.default.joint.vk.joint_id&&(t.vkUrl="https://vk.me/club"+i.default.joint.vk.joint_id,e++),i.default.joint.vb&&i.default.joint.vb.botname&&(t.vbUrl="viber://pa?chatURI="+i.default.joint.vb.botname,e++),i.default.joint.tg&&i.default.joint.tg.botname&&(t.tgUrl=this.getTgLink()+i.default.joint.tg.botname,e++),this.isImVersion()&&i.default.joint.im&&i.default.joint.im.joint_id&&(t.imUrl=`sms://open?service=iMessage&recipient=urn:biz:${i.default.joint.im.joint_id}&biz-intent-id=click_in_jivo`,e++),{links:t,count:e}):{links:t,count:e}},startSocials(){g.log("startSocials"),y||s.default.mobileOrTablet()||!i.default.joint||!i.default.joint.vk&&!i.default.joint.fb||p.default.get("is_blacklisted")||(y=!0,this.initSocial(),(0,r.addListener)(window,"message",this.checkLogin.bind(this),!1))},initSocial(){const e=this.checkSocial();if(g.log("initSocial",e),e){const t=this.genSocialIframeUrl(e)+"#rand="+(new Date).getMilliseconds()+",lang="+i.default.locale,n=document.createElement("iframe");n.src=t,n.className="iframe-social",n.title="JivoSocial",document.body.appendChild(n)}},getTgLink(){let e="https://telegram.me/";if(i.default.geoip){"RU"==i.default.geoip.split(";")[0]&&(e="tg://resolve/?domain=")}return e},checkSocial(){if(!i.default.joint)return;let e="check";i.default.joint.vk&&!i.default.joint.fb&&(e="checkvk"),i.default.joint.fb&&!i.default.joint.vk&&(e="checkfb");const t=document.getElementsByClassName("check-iframe");return!(t&&t.length>0)&&(!(!i.default.joint.vk&&!i.default.joint.fb)&&e)},genSocialIframeUrl(e){g.log("getnSocialIframeUrl",e);const t=["mode="+e],n=(0,h.getClient)();i.default.joint.vk&&(t.push("vk_app_id="+i.default.joint.vk.app_id),t.push("vk_joint_id="+i.default.joint.vk.joint_id),t.push("vk_key="+this.genVkRandomKey())),i.default.joint.fb&&(t.push("fb_app_id="+i.default.joint.fb.app_id),t.push("fb_joint_id="+i.default.joint.fb.joint_id),t.push("fb_key="+n.clientId+"_"+i.default.widget_id)),t.push("logs="+(i.default.logs||0));const a=f.EnvironmentManager.isDevelopment()?"/public/social.html?":"/social.min.html?";return(0,o.staticUrl)(a+t.join("&"),!0)},genVkRandomKey(){return((0,h.getClient)().clientId+"="+i.default.widget_id).replace(/./g,(function(e){return e.charCodeAt(0).toString(16)}))},getIframeUrl(e){return this.genSocialIframeUrl(e)+"#rand="+(new Date).getMilliseconds()+",lang="+i.default.locale},checkLogin(e,t){if(g.log("checkLogin",e,t),e&&"object"==typeof e){if(t&&(e={data:{social:t}}),e.data&&e.data.social){const t={},n=e.data.social;return n.fb&&(t.fb=!0,t.vk=!1,t.mode="fb",u.Monitoring.telemetryOnce(c.TelemetryName.SOCIAL_SHOW_FACEBOOK)),n.vk&&(t.vk=!0,t.fb=!1,t.mode="vk",u.Monitoring.telemetryOnce(c.TelemetryName.SOCIAL_SHOW_VK)),n.fb||n.vk||(t.vk=!1,t.fb=!1,t.mode="email"),v={vk:t.vk,fb:t.fb,mode:t.mode},_.emit("update",v),d.socialDispatchers.initializeSocialStore(v),t}}else g.log("postMessage from social failed: ",e)},isImVersion(){return(s.default.ios()||s.default.ipad())&&s.default.iosVersion()>=11.3},ifIMessageEnabled(){const e=this.getJoints();return!!(this.isImVersion()&&e.links&&e.links.imUrl)}};var T=Object.assign(_,E);t.default=T},44145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAgentById=l,t.getAgentIdsByStatus=function(e){return r().reduce(((t,n)=>(n.state===e&&t.push(n.id),t)),[])},t.getAgentMessages=g,t.getAgents=r,t.getApp=function(){return o.reduxStore.getState().app},t.getBotById=function(e){return s().find((t=>t.id===e&&t.isBot))},t.getBotIdsByStatus=function(e){return s().reduce(((t,n)=>(n.state===e&&t.push(n.id),t)),[])},t.getBots=s,t.getCallback=function(){return o.reduxStore.getState().callback},t.getCallbackSettings=function(){return o.reduxStore.getState().settings.user.callback},t.getChatById=function(e){return u().find((t=>t.id===e))},t.getChats=u,t.getClient=c,t.getClientMessages=h,t.getFeatures=function(){return o.reduxStore.getState().settings.features},t.getFormIntroduceText=function(){return d().filter((e=>e.type===i.MessageType.PREFORM&&e.from===i.MessageInitiator.FORM))[0]},t.getFormMessage=function(){return m(d(),i.MessageType.FORM)[0]},t.getJoinedAgents=function(){const e=[],t=u();if(t&&t.length>0){const n=t[t.length-1];n.joinedAgents.forEach((t=>{e.push(l(t))}))}return e},t.getLastChatId=function(){const e=g(d()),t=h(d()),n=e.length?e[e.length-1].chat_id:null,a=t.length?t[t.length-1].chat_id:null;return a>n?a:n},t.getLastClientMessage=function(){const e=h(d());return e[e.length-1]},t.getLastMessageByName=function(e){const t=v(d(),e);return t[t.length-1]},t.getLastMessageByStatus=function(e){const t=_(d(),e);return t[t.length-1]},t.getLastMessageByType=function(e){const t=m(d(),e);return t[t.length-1]},t.getMessageByMessageId=function(e){return d().find((t=>t.msg_id===e))},t.getMessageByPrivateId=function(e){return d().find((t=>t.private_id===e))},t.getMessages=d,t.getMessagesByName=v,t.getMessagesByStatus=_,t.getMessagesByType=m,t.getOfflineUnreadProactive=function(){return d().filter((e=>e.from===i.MessageInitiator.AGENT&&e.status!==i.MessageStatus.READ&&e.type===i.MessageType.FOR_TEST))},t.getPosition=function(){return o.reduxStore.getState().position},t.getProactive=f,t.getRateFormMessage=function(){return m(d(),i.MessageType.RATE_FORM)[0]},t.getSettings=function(){return o.reduxStore.getState().settings},t.getState=function(){return o.reduxStore.getState()},t.getSystemSettings=function(){return o.reduxStore.getState().settings.system},t.getUnreadMessages=function(){return d().filter((e=>e.from===i.MessageInitiator.AGENT&&e.status!==i.MessageStatus.READ&&e.status!==i.MessageStatus.DELETED&&e.type!==i.MessageType.FOR_TEST))},t.getUserSettings=p,t.getZoom=function(){return o.reduxStore.getState().zoom},t.needToShowIntroduceForm=function(){const{contactsAsk:e}=p(),{isIntroduced:t}=c(),{text:n}=f();return e===a.ContactsType.BEFORE_CHAT&&!t&&!n};var a=n(94537),i=n(81152),o=n(62096);function r(){return o.reduxStore.getState().agents}function s(){return o.reduxStore.getState().bots}function l(e){return r().find((t=>t.id===e))}function u(){return o.reduxStore.getState().chats}function c(){return o.reduxStore.getState().client}function d(){return o.reduxStore.getState().messages}function f(){return o.reduxStore.getState().proactive}function p(){return o.reduxStore.getState().settings.user}function h(e){return e.filter((e=>e.from===i.MessageInitiator.CLIENT))}function g(e){return e.filter((e=>e.from===i.MessageInitiator.AGENT))}function m(e,t){return e.filter((e=>e.type===t))}function _(e,t){return e.filter((e=>e.status===t))}function v(e,t){return e.filter((e=>{var n;return(null===(n=e.body)||void 0===n?void 0:n.name)===t}))}},39976:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(84633)),o=n(32710),r=a(n(66547));const s=a(n(4855)).default.name("Timer");var l=new i.default({timer:0,seconds:0,timerText:!1,initialState:"unitialized",namespace:"Timer",setTimerNull:function(){clearInterval(this.timer),r.default.set("cw_timer",null)},initialize:function(){s.log("Timer initalized.")},states:{unitialized:{start_timer:"STARTTIMER"},STARTTIMER:{_onEnter:function(){this.handle("start_timer")},start_timer:function(){let e=1e3*this.seconds;const t=this.timerText;t&&(t.innerText=e/1e3);let n=this.seconds;clearInterval(this.timer),this.timer=setInterval((0,o.bind)((function(){const t=r.default.get("cw_timer");if(t){const n=parseInt((new Date).getTime())-parseInt(t);if(e=1e3*this.seconds-n,e=1e3*(e/1e3).toFixed(2),e<=0)return clearInterval(this.timer),this.timer=!1,void this.handle("timer_finished")}else r.default.set("cw_timer",(new Date).getTime());n=e/1e3,e-=100,e<=0&&(n=e,clearInterval(this.timer),this.timer=!1,this.handle("timer_finished")),this.emit("tick",n)}),this),10)},timer_finished:"STOP",cancel_timer:"unitialized"},STOP:{_onEnter:function(){s.log("STOP, timer_finished")},start_timer:"STARTTIMER"}}});t.default=l},2982:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.updateKeyframes=t.setProperty=t.saveLabelPosition=t.jivoCustomCSSProperty=t.isFallbackNeeded=t.getSavedLabelPosition=t.getProperty=void 0;var i=a(n(19955));const o=a(n(4855)).default.name("TransitionUtils"),r=e=>`--j${e}`;t.jivoCustomCSSProperty=r;const s=(e,t)=>t&&t.style?l()?t.style[e]:t.style.getPropertyValue(r(e)):null;t.getProperty=s;t.setProperty=(e,t,n)=>{l()?n.style[e]=t:n.style.setProperty(r(e),t)};t.updateKeyframes=(e,t)=>{if(i.default.supportsWebAnimationApi()){const n=s("height",e),a=s("left",e),r=s("right",e),l=e&&e.getAnimations()[0];if(i.default.safari()&&i.default.iosVersion()>="15.4"&&!l.effect.composite&&!t)return;const u=l&&l.effect.getKeyframes(),c=u&&u[u.length-1];o.log("updateKeyframes",l),c&&(c.height=n,c.left=a,c.right=r,l.effect.setKeyframes(u),l.currentTime=300)}};const l=()=>!i.default.supportsCssVariables()||i.default.ieOrEdge()||i.default.safari()&&!i.default.supportsWebAnimationApi();t.isFallbackNeeded=l;let u={};t.saveLabelPosition=e=>{u={right:e.right||null,left:e.left||null,offsetWidth:e.offsetWidth||null}};t.getSavedLabelPosition=()=>({...u})},56026:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(54415),o=a(n(8117));t.default=class{decode(e){try{return o.default.decodeString(e)}catch(e){e.message+=" UTMDecoder",i.Monitoring.reportException(e)}return e}}},66139:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compareCondition=function(e,t,n){switch(n){case"contain":return-1!=e.toLowerCase().indexOf(t.toLowerCase());case"greater":return e>t;case"greater_equal":return e>=t;case"lower":return e<t;case"lower_equal":return e<=t;case"not_contain":return-1===e.toLowerCase().indexOf(t.toLowerCase());case"not_equal":return t!=e;case"regexp":return new RegExp(t,"i").test(e);default:return t==e}}},43914:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t._callUserFunction=function(e,t){if(l.log("_callUserFunction",e,t),e="jivo_"+e,"function"==typeof(0,s.getPageWindow)().window[e])try{l.log("JIVO: calling user function "+e),(0,s.getPageWindow)().window[e](t),l.log("JIVO: user function "+e+" returned"),r.Monitoring.telemetryWithProbability(e,{},i.RateLimit.Low)}catch(e){l.log("ERROR: _callUserFunction",e)}};var i=n(83170),o=a(n(4855)),r=n(54415),s=n(69882);const l=o.default.name("callParent")},6987:function(e,t,n){"use strict";function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=o?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(i,r,s):i[r]=e[r]}return i.default=e,n&&n.set(e,i),i}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={common:i(n(83778)),callback:i(n(54034)),call:i(n(31984)),chat:i(n(81722)),config:i(n(94564)),dom:i(n(43025)),messageHistory:i(n(49594)),messagesMain:i(n(82726)),qa:i(n(90361)),router:i(n(80161)),ruleManager:i(n(13077)),store:i(n(44145)),transition:i(n(2982))};t.default=o},41168:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.getCallDefaultError=void 0;var i=a(n(84726));t.getCallDefaultError=()=>`${(0,i.default)("cw_unableToConnect")}\n${(0,i.default)("cw_errInfoText")}`},21951:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.addListener=void 0,t.listenVisibility=function(e){const t=(0,o.debounce)(e,50);let n,a,r="hidden";void 0!==document.hidden?(r="hidden",a="visibilitychange",n="visibilityState"):void 0!==document.mozHidden?(r="mozHidden",a="mozvisibilitychange",n="mozVisibilityState"):void 0!==document.msHidden?(r="msHidden",a="msvisibilitychange",n="msVisibilityState"):void 0!==document.webkitHidden&&(r="webkitHidden",a="webkitvisibilitychange",n="webkitVisibilityState");"addEventListener"in document&&void 0!==a&&(document.addEventListener(a,(0,i.bind)(t,this,n),!1),parent.document.addEventListener(a,(0,i.bind)(t,this,n),!1),parent.document.addEventListener("focus",(0,i.bind)(t,this,n),!1),parent.document.addEventListener("blur",(0,i.bind)(t,this,n),!1),parent.window.addEventListener("focus",(0,i.bind)(t,this,n),!1),parent.window.addEventListener("blur",(0,i.bind)(t,this,n),!1))},t.removeEvent=void 0;var i=n(32710),o=n(90991),r=a(n(19955));t.addListener=function(e,t,n){let a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];var i;e.addEventListener?e.addEventListener(t,n,!!r.default.supportsPassiveListeners()&&{passive:a}):e.attachEvent&&(e.attachEvent("on"+t,(i=e,function(){n.call(i,window.event)})),e=null)};t.removeEvent=(e,t,n)=>{if(window.removeEventListener)e.removeEventListener(t,n,!1);else{if(!window.detachEvent)return!1;{const a=function(){n.call(e)};e.detachEvent("on"+t,a)}}}},91225:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMinRoute=t.isContainerRoute=t.isChatRoute=t.isChatClosedRoute=void 0;var a=n(47060);t.isContainerRoute=e=>-1===[a.Route.LABEL,a.Route.LABEL_INVITATION,a.Route.HIDDEN].indexOf(e);t.isChatClosedRoute=e=>-1!==[a.Route.LABEL,a.Route.CHAT_MIN].indexOf(e);t.isMinRoute=e=>e===a.Route.CHAT_MIN;t.isChatRoute=e=>-1!==[a.Route.CHAT,a.Route.INTRODUCE,a.Route.DEPARTMENTS].indexOf(e)},68403:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.showAd=t.isPaidCustomer=t.isJivoSite=t.isEmailOrPhoneRequired=t.isChatContactForm=t.isAnyRequired=t.isAnalyticsDisabled=t.hasIntegration=t.getJoinedAgents=t.getContactSettingsInfo=t.fixOfflineSettings=void 0;var i=n(94537),o=n(9393),r=a(n(1039));t.showAd=()=>!(r.default.unverified||r.default.options&&r.default.hide_ad);t.isPaidCustomer=()=>16&r.default.options;t.hasIntegration=e=>-1!==["vk","fb","sb"].indexOf(e);t.fixOfflineSettings=e=>(!e.email.show&&e.phone.show?e.phone={show:!0,required:!0}:e.email={show:!0,required:!0},e);t.isEmailOrPhoneRequired=e=>{let t=!1;return!!e&&((e.phone.show&&e.phone.required||e.email.show&&e.email.required)&&(t=!0),t)};t.isAnyRequired=e=>{let t=!1;return!!e&&((e.phone.show&&e.phone.required||e.email.show&&e.email.required||e.name.show&&e.name.required)&&(t=!0),t)};t.getContactSettingsInfo=()=>{if(!r.default.contacts_settings)return"";const e=r.default.contacts_settings,t=Object.keys(e),n={name:0,phone:1,email:2},a=[];return(0,o.each)(t,(t=>{const i=e[t].show&&e[t].required?"*":"";e[t].show&&(a[n[t]]=t+i)})),a.filter((e=>e)).join(";")};t.isChatContactForm=()=>-1!==[i.ContactsType.DURING_CHAT,i.ContactsType.DURING_CHAT_NO_CLOSE].indexOf(r.default.contacts_ask);t.getJoinedAgents=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e.length>t.length)return[];const a=[];return t.forEach((t=>{e.includes(t.id)&&t.isBot===n&&a.push(t)})),a};t.isAnalyticsDisabled=()=>!!r.default.disable_analytics;t.isJivoSite=()=>1===r.default.site_id},16016:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSubstrTitle=t.getRandomString=t.generateGUIDCount=t.generateGUID=t.formatTextLen=void 0;const n=()=>{const e=Math.floor(65536*Math.random()).toString(16);return 4===e.length?e:n()};t.getRandomString=n;t.generateGUID=()=>{const e=n;return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()};t.generateGUIDCount=e=>{let t="";for(;e--;)t+=n();return t};t.setSubstrTitle=e=>e.substring(0,255);t.formatTextLen=(e,t)=>e.length>t?e.substr(0,t)+"...":e},80598:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.getThemeColor=t.getTextSize=t.getTextColor=t.getPowerButtonDesktopPosition=t.getMobileBackgroundColor=t.getLineHeight=t.getBackground=void 0;var i=a(n(19955)),o=n(69882),r=a(n(27104)),s=a(n(2559));t.getTextSize=e=>{if(i.default.ios()&&(0,o.isWixContext)())return"normal";let t=null;return i.default.ios()?(1!==e&&(t=100*e+"%"),t||"none"):t};t.getLineHeight=(e,t)=>{let n=null;return 1!==t&&(n=(e||1.25)/t+"em"),n};t.getTextColor=e=>"dark"==e?"#222222":"#F0F1F1";t.getThemeColor=e=>{switch(e){case"grey":return s.default.STEEL_80;case"blue":return s.default.BLUE_90;default:return s.default.GREEN_90}};t.getBackground=(e,t,n,a,i)=>{let o=r.default.getGradientBg(e,t);return i&&(o=l(n,a,o)),o};const l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#44BB6E",n=arguments.length>2?arguments[2]:void 0;return e?n:t};t.getMobileBackgroundColor=l;t.getPowerButtonDesktopPosition=(e,t)=>{const n=+t;return"right"!==e&&"bottom"!==e||50!==n&&100!==n?"left":"right"}},67597:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.validateCustomDataLink=t.trackCallLogo=t.staticUrl=t.replaceServicezoneURL=t.replaceServicezoneTitle=t.isValidHttpURL=t.isServicezoneURL=t.getUtmLink=t.getIMessageLink=t.getHostURL=t.getEulaLink=t.getCopyrightSiteByLocale=t.getBundleSrc=t.getAvatarUrl=t.getAvatarApiUrl=t.fixUrl=t.fixTitle=t.cdnPatternUrl=t.cdnLinkToEmoji=void 0;var i=n(69882),o=n(28008),r=n(55004),s=n(97615),l=a(n(1039)),u=a(n(19955)),c=n(22271),d=n(51542),f=n(68403);const p=(e,t)=>t?`${(0,i.getProtocol)()}${e}/avatars/${t}`:null;t.getAvatarUrl=p;t.getAvatarApiUrl=(e,t)=>{if(t)return 0==t.indexOf("data:image")?t:p(e,t)};t.getIMessageLink=e=>`sms://open?service=iMessage&recipient=urn:biz:${e}&biz-intent-id=click_in_jivo`;const h=()=>l.default.base_url;t.getHostURL=h;const g=(e,t)=>(t||(e+="?rnd="+(new Date).getTime()),s.EnvironmentManager.isDevelopment()?e:(0,i.getProtocol)()+h()+e);t.staticUrl=g;t.cdnLinkToEmoji=e=>g((s.EnvironmentManager.isDevelopment()?"/public":"")+"/images/emoji/"+e+".svg",!0);const m=(e,t)=>{const n=_(e);return!(0,o.isUndefined)(n)&&((0,r.isFunction)(t)?t(n):/^https?:$/.test(n.protocol))};t.isValidHttpURL=m;t.validateCustomDataLink=(e,t)=>m(e,(e=>{const n=_(t);return n&&e.origin.includes(n.origin)}));const _=e=>{let t;try{t=new URL(e)}catch(e){return}return t},v=()=>{const e=l.default.locale;let t="https://www.jivochat.com";-1!=["ru_RU","be","kk","uk"].indexOf(e)?t="https://www.jivo.ru":-1!=["pt","pt_BR"].indexOf(e)?t="https://www.jivochat.com.br":-1!=["es"].indexOf(e)?t="https://www.jivochat.es":-1!=["de"].indexOf(l.default.locale)?t="https://www.jivochat.de":-1!=["tr"].indexOf(l.default.locale)?t="https://www.jivochat.com.tr":-1!=["id"].indexOf(l.default.locale)&&(t="https://www.jivochat.co.id");const n=(0,i.getPageWindow)().location.hostname.split("."),a=n[n.length-1];return"de"===a?t="https://www.jivochat.de":"cl"===a?t="https://www.jivochat.cl":"bo"===a?t="https://www.jivochat.com.bo":"co"===a?t="https://www.jivochat.com.co":"ve"===a?t="https://www.jivochat.com.ve":"pe"===a?t="https://www.jivochat.com.pe":"mx"===a?t="https://www.jivochat.mx":"ar"===a&&(t="https://www.jivochat.com.ar"),t};t.getCopyrightSiteByLocale=v;t.getUtmLink=e=>("chat"===e&&(e=u.default.mobile()?"chat_mobile":"chat_desktop"),v()+"/i_sa/?utm_source="+encodeURIComponent((0,i.getPageWindow)().location.hostname)+"&utm_medium=link&utm_content="+e+"&utm_campaign=from_widget");t.trackCallLogo=()=>v()+"/calls?utm_source="+(0,i.getPageWindow)().location.host+"&utm_medium=link&utm_content=callback_popup&utm_campaign=self_ad";t.cdnPatternUrl=()=>`url(${g((s.EnvironmentManager.isDevelopment()?"/public":"")+"/images/pattern/"+l.default.pattern+".svg",!0)})`;t.getBundleSrc=()=>(s.EnvironmentManager.isDevelopment()?"/public/js/bundle_":l.default.base_url+"/js/bundle_")+l.default.locale+".js?rand="+l.default.build_number;t.getEulaLink=(e,t)=>window.parent.location.protocol+e+"/script/eula/"+t;t.fixUrl=e=>{const{shard_id:t,site_id:n}=l.default;return(0,f.isJivoSite)()||!b(e)?e:t===d.Shards.SBER?y(e,"https://jivo.ru"):y(e,"https://jivochat.com")};t.fixTitle=(e,t)=>{const{shard_id:n}=l.default;return(0,f.isJivoSite)()||!b(t)?e:n===d.Shards.SBER?E(e,"Jivo"):E(e,"JivoChat")};const b=e=>c.Regexp.SERVICEZONE_DOMAIN.test(e);t.isServicezoneURL=b;const y=(e,t)=>e.replace(e,t);t.replaceServicezoneURL=y;const E=(e,t)=>e.replace(e,t);t.replaceServicezoneTitle=E},84727:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.validateCustomData=t.validateClientAnswer=void 0;var i=a(n(4855)),o=a(n(98960)),r=n(67597);const s=i.default.name("validators:","color: grey");t.validateCustomData=(e,t)=>{if(!Array.isArray(e))return"Data must be array.";if(0===e.length)return"Data limit error, data length must be 1 to 10.";e.length>10&&(e.splice(10),s.warnParent("Data limit warning, data length must be 1 to 10."));const n=(e,t)=>{s.warnParent(`Item ${t} in setCustomData: ${e}.`)};return e.reduce(((e,a,i)=>{if("string"!=typeof a.content)return n("Property content must be string",i),e;a.link&&(t&&(0,r.isValidHttpURL)(a.link)?(0,r.validateCustomDataLink)(a.link,t)||(n("Such link is not allowed",i),delete a.link):(n("Safe url is not indicated",i),delete a.link));const o=((e,t)=>(a,i)=>{const o=e[a];return"string"==typeof o&&o.length>i?(n(`Max length for ${a} property is ${i}`,t),o.slice(0,i)):o})(a,i);return a.content=o("content",255),a.title=o("title",255),a.key=o("key",1e3),[...e,a]}),[])};t.validateClientAnswer=(e,t)=>{if(!t||!e)return!1;const n=String(t).trim();return"email"==e?o.default.emailBot(n):"phone"==e?o.default.phone(n):"name"==e?o.default.name(n):void 0}},69882:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.isWixIframe=t.isWixEditor=t.isWixContext=t.isTextEmojiDisabled=t.isCustomLabel=t.isChatPage=t.isAppCobrowse=t.getUnicodeHref=t.getProtocol=t.getPageWindow=t.getCurrentPage=t.getChatPageToken=t.deleteNonce=void 0;var i=a(n(50754)),o=n(67597);const r=()=>window.parent||window;t.getPageWindow=r;const s=()=>r().jivo_chat_page||!1;t.isChatPage=s;t.isAppCobrowse=()=>"cobrowser-iframe"===r().name;t.getProtocol=()=>{let e=r().location.protocol;return-1===["http","https"].indexOf(e)&&(e="https:"),e};t.deleteNonce=()=>{r().jivo_cspNonce&&delete r().jivo_cspNonce};t.isWixIframe=()=>void 0!==r().jivo_in_wix_iframe;const l=()=>{const e=r().wix_context;return e&&e.Utils&&e.Utils.getViewMode()};t.isWixContext=l;t.isWixEditor=()=>{const e=l();return!!e&&-1!==["preview","editor"].indexOf(e)};t.isCustomLabel=()=>{try{return!(!(window&&window.parent)||"function"!=typeof window.parent.jivo_onLoadCallback)&&-1!=window.parent.jivo_onLoadCallback.toString().search(/jivo_custom_widget/gi)}catch(e){return!1}};const u=e=>{try{const t=e.hostname;return e.href.replace(t,i.default.toUnicode(t))}catch(t){return e.href}};t.getUnicodeHref=u;t.getCurrentPage=()=>{const e=r();let t=e.location.href,n=e.document.title;const a=-1!==t.indexOf("about:");return""==n&&a&&(n=e.parent.document.title),t=u(a?e.parent.location:e.location),l()&&(t=e.wix_url||t,n=e.wix_title||n),{url:(0,o.fixUrl)(t),title:(0,o.fixTitle)(n.substring(0,255),t)}};t.isTextEmojiDisabled=()=>{const e=r();return e._wpemojiSettings||e.twemoji};t.getChatPageToken=()=>{if(s()){let e=null;try{const t=new URLSearchParams(r().location.search).get("token");t&&(e=decodeURIComponent(t))}catch(e){console.error(e)}return e}return null}},45430:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,n(95020);var i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=L(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(1039)),o=n(52274),r=a(n(95003)),s=a(n(84726)),l=a(n(14264)),u=a(n(23116)),c=n(21951),d=n(69882),f=n(9393),p=n(90991),h=a(n(56026)),g=n(94564),m=n(43025),_=n(52028),v=n(47060),b=n(54415),y=n(83170),E=n(26022),T=a(n(22866)),C=n(13077),S=a(n(66547)),O=a(n(73687)),A=(a(n(91275)),n(26932)),w=n(20361),I=n(44145),M=n(97615),R=a(n(35802)),N=a(n(4855)),P=n(41504),D=n(91225);function L(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(L=function(e){return e?n:t})(e)}const k=N.default.name("VI"),x=["purl","ptitle","navcount","visible","status"];class B{constructor(){this.ifNeedConnect()?(A.appDispatchers.setVIReconnectTime(null),this.changeCurrentKeysFn=(0,p.debounce)(this.changeCurrentKeys.bind(this),100),(0,m.pageVisible)()?setTimeout(this.init.bind(this),1e3):(0,c.listenVisibility)(this.onVisibilityChange.bind(this))):k.log("not initialized"),this.inited=!1}onVisibilityChange(){(0,m.pageVisible)()&&!this.inited&&(this.changeCurrentKeysFn(),this.init(),this.inited=!0)}ifNeedConnect(){const{isOnline:e,route:t,viReconnectTime:n}=(0,I.getApp)();return i.default.new_visitors_insight&&!i.default.maintenance&&!i.default.botmode&&!O.default.get("is_blacklisted")&&!(0,d.isWixEditor)()&&!_.isDesignerEditor&&!(0,d.isAppCobrowse)()&&!(!e&&1===i.default.hide_offline)&&!(t===v.Route.HIDDEN)&&(!n||(new Date).getTime()>n)}init(){if(this.openConnection()){if(k.log("start init"),this.net.onopen=this.connectionOnOpen.bind(this),this.net.onget=this.onget.bind(this),this.net.onset=this.onset.bind(this),this.net.onclose=this.connectionOnClosed.bind(this),this.net.onerror=this.connectionOnError.bind(this),this.net.onfail=this.connectionOnFail.bind(this),this.net.ondrop=this.connectionOnDrop.bind(this),this.cacheCurrentKeys=this.getAllCurrentKeys(),r.default.addListener(this.changeCurrentKeysFn),R.default.getInstance().reduxStore.subscribe((()=>{const{route:e}=(0,I.getApp)();e===v.Route.HIDDEN&&this.closeConnection(),this.changeCurrentKeysFn()})),l.default.on("create",this.changeCurrentKeysFn),u.default.addListener("update",(0,p.debounce)(this.checkClientAway.bind(this),o.AWAY_CLIENT_TIMEOUT)),(0,d.isWixContext)()){const e=(0,d.getPageWindow)().wix_context;e.addEventListener(e.Events.PAGE_NAVIGATION,this.changeCurrentKeysFn)}(0,c.listenVisibility)((()=>{this.changeCurrentKeysFn(),(0,m.pageVisible)()&&this.openConnection()}))}}checkClientAway(){u.default.isActive||(0,m.pageVisible)()||!this.isConnected||this.net.close()}getURL(){const e=(0,I.getClient)();return`${M.EnvironmentManager.isProduction()||"https:"===(0,d.getProtocol)()?"wss":"ws"}://${(0,i.getViHost)()}/${i.default.widget_id}?${e.visitorId}`}openConnection(){return this.isConnected||!this.ifNeedConnect()?(k.log("cant open connection"),!1):(this.net||(this.net=new ClientSocket),this.net.open(this.getURL()),!0)}closeConnection(){k.log("close connection"),this.isConnected&&this.net&&this.net.close()}connectionOnOpen(){k.log("connection open"),this.isConnected=!0,this.sendDynamicKeys(),this.changeCurrentKeysFn()}connectionOnClosed(e){this.isConnected=!1,k.log("connection close: ",e)}connectionOnError(e){k.error("connection error: ",e)}connectionOnFail(e){b.Monitoring.telemetry(y.TelemetryName.VISITORS_FAIL,{param1:e})}connectionOnDrop(e){0!==e&&(A.appDispatchers.setVIReconnectTime((new Date).getTime()+e),k.log("connection drop: ",e/1e3+"s"),setTimeout((()=>{g.ConfigUtils.reloadConfig(this.openConnection.bind(this))}),e))}getKeys(e){const t=(0,d.getPageWindow)(),n=(0,I.getApp)(),a=(0,I.getClient)(),i={name:()=>a.name,phone:()=>a.phone,email:()=>a.email,desc:()=>a.description,purl:()=>(0,d.isWixContext)()?t.wix_url:(new h.default).decode((0,d.getCurrentPage)().url),ptitle:()=>{let{title:e}=(0,d.getCurrentPage)();return e===(0,s.default)("lblNewMessage")&&(e=this.cacheCurrentKeys&&this.cacheCurrentKeys.ptitle),(0,d.isWixContext)()?t.wix_title:e},cid:()=>a.clientId?a.clientId.split(".")[0]:null,utm:()=>{const e={...a.utm.campaign&&{campaign:a.utm.campaign},...a.utm.source&&{source:a.utm.source},...a.utm.medium&&{medium:a.utm.medium},...a.utm.keyword&&{keyword:a.utm.keyword},...a.utm.term&&{keyword:a.utm.term},...a.utm.content&&{content:a.utm.content}};return JSON.stringify(e)},status:()=>{let e;const t=!l.default.getCurrentChatAgentMessages().length&&l.default.getCurrentClientMessages().length;e=n.chatStarted?n.chatAccepted?E.ClientStatus.ON_CHAT:n.isOnline?R.default.getInstance().managers.connection.isOpen()&&t?E.ClientStatus.INVITE_SENT:E.ClientStatus.ON_SITE:R.default.getInstance().managers.connection.isOpen()&&t&&n.lastChatOpened?E.ClientStatus.INVITE_SENT:E.ClientStatus.ON_SITE:(0,I.getProactive)().text?E.ClientStatus.PROACTIVE_SHOW:E.ClientStatus.ON_SITE;const a=(0,I.getCallback)().status;return a&&-1!==["cw_wait","cw_connecting","cw_connected"].indexOf(a)&&(e=E.ClientStatus.ON_CALL),e==E.ClientStatus.INVITE_SENT&&R.default.getInstance().managers.connection.isOpen()&&!t&&b.Monitoring.telemetryOnce(y.TelemetryName.VI_STATUS_FAIL,{param1:"no_client_message",param2:n.chatAccepted?"1":"0"}),e},navcount:()=>S.default.get("pages_count"),visits:()=>O.default.get("visits_count"),chats:()=>l.default.getChatCounts(),visible:()=>(0,m.pageVisible)(),opened:()=>{const{route:e}=n;return!(0,D.isChatClosedRoute)(e)},agentids:()=>{const{chatAccepted:e}=n;return JSON.stringify(e?(0,I.getAgentIdsByStatus)("join"):[])},botids:()=>{const{chatAccepted:e}=n;return JSON.stringify(e?(0,I.getBotIdsByStatus)("join"):[])},pa_id:()=>a.priorityAgentId,avatar:()=>a.avatarUrl,wversion:()=>M.EnvironmentManager.getVersion(),cdata:()=>{const e=a.customData;return e?JSON.stringify(e):null}};return e?i[e]&&i[e]():Object.keys(i)}getAllCurrentKeys(){const e={};return(0,f.each)(this.getKeys(),(t=>{e[t]=this.getKeys(t)})),e}changeCurrentKeys(){const e=this.getAllCurrentKeys();this.isConnected&&JSON.stringify(this.cacheCurrentKeys)!==JSON.stringify(e)&&(0,f.each)(this.getKeys(),(t=>{const n=e[t];this.cacheCurrentKeys[t]!==n&&this.set(t,n)}))}sendAllKeys(e,t){(0,f.each)(this.getKeys(),(n=>{this.cacheCurrentKeys[n]||(this.cacheCurrentKeys[n]=this.getKeys(n));const a=this.cacheCurrentKeys[n];a&&this.net.set({room:t,to:e,key:n,value:a})}))}sendDynamicKeys(){(0,f.each)(x,(e=>{this.set(e,this.getKeys(e))}))}set(e,t,n,a){if(this.isConnected&&null!=t){this.cacheCurrentKeys[e]=t;const i={key:e,value:t};a&&(i.room=a),n&&(i.to=n),T.default.getInstance().saveViEvent(i),this.net.set(i)}}onget(e){T.default.getInstance().saveViEvent(e),"*"===e.key||"all"===e.key?(this.sendAllKeys(e.from,e.room),(0,f.each)({startsec:()=>{const e=S.default.get("enter_ts");return e&&(0,C.timeDiff)(e)}},((t,n)=>{t()&&this.set(n,t(),e.from,e.room)}))):this.getKeys(e.key)&&this.set(e.key,this.getKeys(e.key),e.from,e.room)}onset(e){const{isOnline:t,route:n}=(0,I.getApp)();if(T.default.getInstance().saveViEvent(e),"invite"===e.key&&!this.isInvited){t||(0,D.isChatClosedRoute)(n)&&(A.transitionDispatchers.startTransition(w.ScriptName.OPEN_WIDGET),A.appDispatchers.setAppRoute(v.Route.CHAT));const a=R.default.getInstance().managers.connection;a.isOpen()?a.send(new P.StartChat(e.value)):a.open((()=>{a.send(new P.StartChat(e.value))}),!0),this.isInvited=!0,setTimeout((()=>{this.isInvited=!1}),o.APP_INVITE_TIME),b.Monitoring.telemetry(y.TelemetryName.VISITORS_INVITE,{param1:parseInt(e.value)}),(0,C.setRuleLocal)("isVisitorInvite")}}}var j={run:function(){const e=(0,I.getClient)();k.log("run",e.visitorId),0!=e.visitorId?new B:b.Monitoring.telemetry(y.TelemetryName.VISITORS_FAIL,{param1:"visitorId = 0"})}};t.default=j},63427:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(69882),o=n(44145),r=n(26932),s=n(26754),l=a(n(1039)),u=n(95911);const c=a(n(4855)).default.name("StatusProvider");var d=new class{constructor(){c.log("init")}getUrl(){const e=(0,o.getSystemSettings)();return(0,i.getProtocol)()+"//"+e.chatHost+"/widget/status/"+e.siteId+"/"+e.widgetId+"?rnd="+Math.random()}async getStatus(e){await u.promisedRequest.get(this.getUrl()).then((t=>{var n;c.warn("response",t,e);const a=t.data;a.maintenance&&r.appDispatchers.setMaintenance(!0);const i=a.bots&&a.bots.length;if(i){const e=a.bots[0];r.botsDispatchers.addBot({avatarUrl:e.avatar_url||null,id:e.bot_id,name:e.display_name||null,title:e.title||null,type:e.type,isBot:!0})}if(a.agents&&!a.agents.length&&(i&&l.default.enable_bot_offline?r.appDispatchers.setAppIsOnline(!0):r.appDispatchers.setAppIsOnline(!1)),null!==(n=a.agents)&&void 0!==n&&n.length)for(const e of a.agents){const t=(0,s.agentToReduxFormat)(e);r.agentsDispatchers.addAgent(t)}e(!0)})).catch((t=>{c.warn(t),e(!1)}))}};t.default=d},95911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.xhrRequest=t.promisedRequest=void 0;var a=n(46322),i=n(31343),o=n(54415),r=n(80210),s=n(82956);const l=(e,t)=>t&&(0,a.isObject)(t.params)?e+=`?${r.querystring.create(t.params)}`:e,u=e=>((e=Object.assign({},i.REQUEST_OPTIONS,e)).body&&(e.headers["Content-Type"]===i.CONTENT_TYPE.X_WWW_FORM?e.body=(0,a.isObject)(e.body)?r.querystring.create(e.body):JSON.stringify(e.body):e.headers["Content-Type"]===i.CONTENT_TYPE.APP_JSON&&(e.body=JSON.stringify(e.body))),e),c=(e,t,n)=>(a,i)=>{!a||"SyntaxError"!==a.name||null!=t&&t.monitoring||o.Monitoring.reportException(`Error parsing response from ${e}. ${a.message}`),n(a,i)},d=(e,t,n)=>({url:l(e,t),options:u(t),callback:n&&c(e,t,n)}),f=e=>(t,n,a)=>{const i=d(t,a,n);return(0,s.xhr)(i.url,e,i.options,i.callback)},p=e=>(t,n)=>{const a=d(t,n);return(0,s.xhrPromised)(a.url,e,a.options)},h={get:f(i.METHODS.GET),post:f(i.METHODS.POST)};t.xhrRequest=h;const g={get:p(i.METHODS.GET),put:p(i.METHODS.PUT),head:p(i.METHODS.HEAD)};t.promisedRequest=g},63621:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.replaceLinksWithAnchor=t.isValidUrl=t.isValidIp=t.isValidFile=t.isValidEmail=t.findAllLinks=void 0;var i=a(n(15176)),o=a(n(50754));t.replaceLinksWithAnchor=e=>(0,i.default)({input:e,options:{protocol:e=>{if(l(e))return"mailto:"},attributes:e=>({target:"_blank",rel:"noopener",title:e}),truncate:80,middleTruncation:!0,specialTransform:[{test:/^https?/,transform:e=>{const t=e.replace(/https?:\/\//,""),n=t.split("/")[0],a=o.default.toUnicode(n);return`<a title="${e}" href="${e}" target="_blank" rel="noopener">${(e=>e.length>80?e.slice(0,30)+"..."+e.slice(-30):e)(a!==n?decodeURIComponent(t.replace(n,a)):t)}</a>`}}]}});const r=i.default.list;t.findAllLinks=r;const s=i.default.validate.url;t.isValidUrl=s;const l=i.default.validate.email;t.isValidEmail=l;const u=i.default.validate.ip;t.isValidIp=u;const c=i.default.validate.file;t.isValidFile=c},98960:function(e){"use strict";e.exports={phone:e=>e.length>0&&e.trim().replace(/\D+/g,"").length>=5&&/^\+?[0-9() -]+$/i.test(e),client_name:e=>{const t=e.trim();return t.length>0&&t.length<100},name:e=>{const t=e.trim();return t.length>0&&t.length<100},email:e=>e.length>=4&&new RegExp(/^([a-zA-Z\d-_]+([+.][a-zA-Z\d-_]+)*)@(([a-zA-Z\d][a-zA-Z\d-_.]*[a-zA-Z\d])|([a-zA-Z\d]))\.([a-zA-Z\d]{2,})$/i).test(e),emailBot:e=>e.length>=4&&new RegExp(/^([a-zA-Z\d\-_+!]+(\.[a-zA-Z\d\-_+!]+)*)@(([a-zA-Z\d-]+\.)+[a-zA-Z\d]{2,})$/i).test(e),message:e=>e.trim().length>0,description:e=>e.trim().length>0}},74379:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(19955)),o=n(69882),r=n(21951),s=n(43374),l=n(9393),u=n(43025),c=a(n(99881)),d=n(26932),f=n(52274);const p=a(n(4855)).default.name("SiteConnector");var h=new class{constructor(){this.window=(0,o.getPageWindow)(),this.screen=this.window.screen?this.window.screen:window.screen,this.document=this.window.document,this.bodyEl=this.document.body,this.documentEl=this.document.documentElement,this.scrollEl=this.document.scrollingElement||this.bodyEl,this.pageZoom=null,this.userZoom=null,this.appZoom=null,this.isSiteOptimizedForMobile=!1,this.isWidgetOnWix=!1,this.changeZoomSubscription=[],this.checkZoomsFn=(0,s.throttle)((()=>{this.checkZooms()}),200,{trailing:!0}),!i.default.mobileOrTablet()||(0,o.isWixContext)()&&!i.default.android()||(this.checkViewport(),this.initListenChangeZooms())}initListenChangeZooms(){(0,r.addListener)(this.window,"scroll",this.checkZoomsFn,!0),(0,r.addListener)(this.window,"resize",this.checkZoomsFn,!0),(0,r.addListener)(this.window,"orientationchange",this.checkZoomsFn),this.window.visualViewport&&this.window.visualViewport.addEventListener&&((0,r.addListener)(this.window.visualViewport,"scroll",this.checkZoomsFn,!0),(0,r.addListener)(this.window.visualViewport,"resize",this.checkZoomsFn,!0))}setZoomChangeIterval(e){e!==this.intervalTime&&(clearInterval(this.intervalId),this.intervalTime=e,this.intervalId=setInterval(this.checkZoomsFn,e))}checkZooms(){const e=this.getUserZoom(),t=this.getPageZoom(),n=this.getAppZoom();e===this.userZoom&&t===this.pageZoom&&n===this.appZoom||(p.log("zoom:",e,t,n),this.userZoom=e,this.pageZoom=t,this.appZoom=n,d.zoomDispatchers.initializeZoomStore({user:this.userZoom,page:this.pageZoom,app:this.appZoom}),this.triggerChangeZoom())}checkViewport(){const e=this.document.querySelector("meta[name=viewport]");if(e&&e.content){const t=e.getAttribute("content").toLowerCase().split(","),n=e.getAttribute("id");for(let e=0;e<t.length;e++){t[e]=t[e].replace(/^\s+/,"");const a=t[e].split("=");"width"==a[0]&&"device-width"===a[1]&&(this.isSiteOptimizedForMobile=!0),"width"!=a[0]||"device-width"===a[1]||"wixMobileViewport"!=n||this.window.isWixIframe||(this.isWidgetOnWix=!0)}}}triggerChangeZoom(){(0,l.each)(this.changeZoomSubscription,(e=>{e({userZoom:this.userZoom,pageZoom:this.pageZoom,appZoom:this.appZoom})}))}blockScroll(){(0,u.addClass)(this.bodyEl,"jivo-block-scroll"),(0,r.addListener)(this.window,"scroll",this.preventDefault),(0,r.addListener)(this.document,"touchmove",this.preventDefault),this.window.visualViewport&&this.window.visualViewport.addEventListener&&(this.window.visualViewport.addEventListener("scroll",this.preventDefault),this.window.visualViewport.addEventListener("resize",this.preventDefault))}unblockScroll(){(0,u.removeClass)(this.bodyEl,"jivo-block-scroll"),(0,r.removeEvent)(this.window,"scroll",this.preventDefault),(0,r.removeEvent)(this.document,"touchmove",this.preventDefault),this.window.visualViewport&&this.window.visualViewport.removeEventListener&&(this.window.visualViewport.removeEventListener("scroll",this.preventDefault),this.window.visualViewport.removeEventListener("resize",this.preventDefault))}addOverlay(){(0,u.addClass)(this.documentEl,"jivo-mobile-overlay")}removeOverlay(){(0,u.removeClass)(this.documentEl,"jivo-mobile-overlay")}blockSite(){void 0===this.blockState&&(this.resetScrollPositions(),(0,u.addClass)(this.documentEl,"jivo-site-full-block"),i.default.tablet()&&setTimeout((()=>{(0,u.addClass)(this.documentEl,"jivo-tablet-overlay")}),300),this.blockState=!0)}unblockSite(){(0,u.removeClass)(this.documentEl,"jivo-site-full-block"),(0,u.removeClass)(this.documentEl,"jivo-tablet-overlay"),this.restoreScrollPositions(),delete this.blockState}resetScrollPositions(){this.scrollEl&&(this.originalScrollTop=this.scrollEl.scrollTop,this.originalScrollLeft=this.scrollEl.scrollLeft,this.scrollEl.scrollTop=0,this.scrollEl.scrollLeft=0)}restoreScrollPositions(){(this.originalScrollTop||this.originalScrollleft)&&this.scrollEl&&(this.scrollEl.scrollTop=this.originalScrollTop,this.scrollEl.scrollLeft=this.originalScrollLeft,delete this.originalScrollTop,delete this.originalScrollLeft)}preventDefault(e){return e.preventDefault(),e.stopPropagation(),!1}getUserZoom(){let e=this.documentEl.clientWidth/this.window.innerWidth;const t=this.window.visualViewport;if(t&&1!==t.scale){const n=this.getPseudo().clientWidth;e=this.documentEl.clientWidth<n?n/t.width:this.documentEl.clientWidth/t.width}return!this.isSiteOptimizedForMobile&&e>=.97&&e<=f.MAX_ALLOWED_USER_ZOOM&&(e=1),e}getPageZoom(){return this.screen?this.window.visualViewport?"landscape"===this.getOrientation()?this.screen.height/this.window.visualViewport.width:this.screen.width/this.window.visualViewport.width:"landscape"===this.getOrientation()?this.screen.height/this.window.innerWidth:this.screen.width/this.window.innerWidth:1}getAppZoom(){return this.screen?this.window.visualViewport?"landscape"===this.getOrientation()&&i.default.ios()?this.window.visualViewport.width/this.screen.height:this.window.visualViewport.width/this.screen.width:"landscape"===this.getOrientation()?this.window.innerWidth/this.screen.height:this.window.innerWidth/this.screen.width:1}getTextSize(){if(i.default.ios()&&(0,o.isWixContext)())return"normal";let e=null;if(!i.default.ios())return e;const t=this.getAppZoom();return 1!==t&&(e=100*t+"%"),e||"none"}getLineHeight(e){let t=null;const n=this.getAppZoom();return 1!==n&&(t=(e||1.25)/n+"em"),t}getOrientation(){let e,t=0;switch("number"==typeof this.window.orientation?t=this.window.orientation:this.window.screen&&this.window.screen.orientation&&(t=this.window.screen.orientation.angle),t){case-90:case 90:e="landscape";break;default:e="portrait"}return e}getBodyOffset(){const e=this.getBodyPosition(),t=this.bodyEl.getBoundingClientRect(),n=this.documentEl.getBoundingClientRect();return{top:"static"===e?0:t.top-n.top,left:"static"===e?0:t.left-n.left}}getBodyPosition(){return this.window.getComputedStyle(this.bodyEl).position}getPseudo(){if(this.documentEl.querySelector){const e=this.documentEl.querySelector("."+c.default.pseudoHeight);return e||0}return 0}listenChangeZoom(e){this.changeZoomSubscription.push(e)}};t.default=h},14762:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(34973)),o=n(9393),r=n(42687);a(n(4855)).default.name("AgentsStore");class s extends i.default{getAgentById(e){return e?this.store.find((t=>t.get("agent_id")===parseInt(e))):null}getBotById(e){return e?this.store.find((t=>t.get("bot_id")===parseInt(e))):null}getAgentsByStatus(e){return e?this.store.filter((t=>t.get("body.state")===e)):null}getAgentIdsByStatus(e){return e?this.store.reduce(((t,n)=>(n.get("body.state")===e&&t.push(n.get("agent_id")||n.get("bot_id")),t)),[]):null}getOnlyAgentIdsByStatus(e){return e?this.store.reduce(((t,n)=>(n.get("body.state")===e&&n.get("agent_id")&&t.push(n.get("agent_id")),t)),[]):null}getBotIdsByStatus(e){return e?this.store.reduce(((t,n)=>(n.get("body.state")===e&&n.get("bot_id")&&t.push(n.get("bot_id")),t)),[]):null}closeChat(){(0,o.each)(this.store,(e=>{e.set("body.state","left")}))}updateAgentList(e){e&&e.length&&(1==e.length&&this.closeChat(),(0,o.each)(e,(e=>{let t;t=e.bot_id?this.getBotById(e.bot_id):this.getAgentById(e.agent_id),e.body={state:"join"},e=(0,r.omit)(e,["state","vox_name"]),t?t.set(e):super.push(e)})))}toReduxFormat(){const e=[];return(0,o.each)(this.store,(t=>{const n=t.toJSON(),a={avatarUrl:n.avatar_url||null,id:n.agent_id||n.bot_id,name:n.display_name||null,title:n.title||null,isBot:!!n.bot_id,state:(null==n?void 0:n.body.state)||null,type:n.type||null};e.push(a)})),e}}var l=new s({type:"default",name:"agents",keys:{type:null,agent_id:null,bot_id:null,display_name:null,title:null,avatar_url:null,body:{state:"join"}}});t.default=l},16818:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(44733),o=a(n(56026)),r=n(45950);a(n(4855)).default.name("HistoryStore");var s=new class{constructor(){this.LS=i.StorageProvider}push(e){let t=this.get()||[];e=this.format(e);this.getHistoryByUrl(t,e.url).length?t=this.updateHistoryByUrl(t,e.url):(10===t.length&&(t=this.deleteOldestEntry(t)),e.time=(new Date).getTime(),t.push(e)),this.LS.set("history",t)}get(){return this.LS.get("history")||[]}destroy(){this.LS.remove("history")}format(e){return e.url=this.subStr((new o.default).decode(e.url)),e.title=this.subStr(e.title),e}subStr(e){return e.length>150?e.substr(0,150)+"...":e}getHistoryByUrl(e,t){return e.filter((e=>e.url===t))}updateHistoryByUrl(e,t){for(let n=0;n<e.length;n++)e[n].url===t&&(e[n].time=(new Date).getTime());return e}deleteOldestEntry(e){const t=this.sortByTime(e);return t.shift(),t}sortByTime(e){return(0,r.sortBy)(e,"time")}};t.default=s},4867:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(6131)),o=n(81152);class r extends i.default{isAgentMessage(){const e=this.store;return e.from===o.MessageInitiator.AGENT||"bot"===e.from}unStorage(){if(window.parent.window&&window.parent.window.isWixPreview)return!0;const e=this.store;return-1!==[o.MessageType.EMAIL,o.MessageType.SOCIAL,o.MessageType.PRECHAT].indexOf(e.type)||e.body&&e.body.unsave||!1}}t.default=r},14264:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(44145),o=n(16016),r=n(9393),s=n(38392),l=n(45950),u=a(n(34973)),c=a(n(4867)),d=n(81152);const f=a(n(4855)).default.name("MessagesStore");class p extends u.default{constructor(e){super(e),this.destroyDeletedMessages(),this.destroyErrorMediaMessages(),this.setTempMessagesForInit()}push(e){const t=this.formatMessage(e);return super.push(t)}pushAll(e){super.pushAll(e)}sort(){this.store=(0,l.sortBy)(this.store,(e=>e.get("created_ts")))}formatMessage(e){var t=(0,s.pick)(e,"private_id","msg_id","chat_id","created_ts","updated_ts","from","from_id","text","type","status","body");const n=e.meta||e.body;if(void 0!==n&&"tinkoffInvoice"===n.type&&"SUCCESS"===n.status){const e=this.store.filter((function(e){return(e.get("body")?e.get("body").invoice_id:e.invoice_id)===n.invoice_id}));if(e.length){const t=e[0].get("body");t&&(t.status="SUCCESS",e[0].set("body",t))}}return e.type==d.MessageType.MESSAGE&&e.media&&(t.type=d.MessageType.MEDIA,t.body=e.media),t}getLastMessage(){return this.store[this.store.length-1]||null}getFirstMessage(){return this.store.length?this.store[0]:null}getClientMessages(){return this.store.filter((e=>e.get("from")===d.MessageInitiator.CLIENT))}getAgentMessages(){return this.store.filter((e=>e.get("from")===d.MessageInitiator.AGENT))}getAgentTextMessages(){const e=this.getChatId();return e?this.store.filter((t=>t.get("chat_id")===e&&t.get("from")===d.MessageInitiator.AGENT&&t.get("type")===d.MessageType.MESSAGE)):[]}getMessagesByType(e){return this.store.filter((t=>t.get("type")===e))}getMessageById(e){return e?this.store.find((t=>t.get("msg_id")===e)):null}getMessageByPrivateId(e){return e?this.store.find((t=>t.get("private_id")===e)):null}closeChat(){const e=this.getLastMessage(),t=this.getLastProactive();t&&t.set("chat_id",e.get("chat_id"))}getCurrentProactive(){const e=this.getLastProactive();let t=null;return(0,i.getApp)().chatStarted&&e&&!e.get("chat_id")&&(t=e),f.log("getCurrentProactive",t),t}getLastProactive(){const e=this.store.filter((e=>e.get("type")===d.MessageType.PROACTIVE));return f.log("getLastProactive",e),e.length?e[e.length-1]:null}getTmpProactive(){const e=this.store.filter((e=>e.get("type")===d.MessageType.PROACTIVE&&e.get("body")&&e.get("body").unsave));return f.log("getTmpProactive",e),e.length?e[e.length-1]:null}getUnreadMessage(){return this.store.filter((e=>{const t=e.toJSON();return t.from===d.MessageInitiator.AGENT&&t.status!==d.MessageStatus.READ&&t.status!==d.MessageStatus.DELETED&&t.type!==d.MessageType.FOR_TEST}))}getOfflineUnreadProactive(){return this.store.filter((e=>{const t=e.toJSON();return t.from===d.MessageInitiator.AGENT&&t.status!==d.MessageStatus.READ&&t.type===d.MessageType.FOR_TEST}))}destroyDeletedMessages(){const e=this.getDeletedMessages();(0,r.each)(e,(e=>{e.destroy()}))}getDeletedMessages(){return this.store.filter((e=>e.get("status")==d.MessageStatus.DELETED))}destroyErrorMediaMessages(){const e=this.getMediaErrors();(0,r.each)(e,(e=>{e.destroy()}))}getMediaErrors(){return this.store.filter((e=>{if(!e)return!1;const t=e.toJSON();return t.type==d.MessageType.MEDIA&&t.body&&t.body.status&&t.body.status!==d.MediaStatus.COMPLETE&&t.body.status!==d.MediaStatus.EXPIRED}))}getChatCounts(){let e,t=0;return(0,r.each)(this.store,(n=>{const a=n.get("chat_id");null!==a&&a!==e&&(e=a,t+=1)})),t}getAllChatIds(){const e=[];return(0,r.each)(this.store,(t=>{t.get("chat_id")&&e.push(t.get("chat_id"))})),[...new Set(e)]}getChatId(){const e=this.getAgentMessages(),t=this.filter((e=>e.get("chat_id")&&e.get("from")===d.MessageInitiator.CLIENT));let n=e.length?e[e.length-1].get("chat_id"):null;const a=t.length?t[t.length-1].get("chat_id"):null;return a>n&&(n=a),n}getChatMessages(e){return this.store.filter((t=>t.get("chat_id")===e&&t.get("type")!==d.MessageType.SYSTEM&&"bot"!==t.get("from")))}getChatMessagesAfterId(e,t){return this.store.filter((n=>n.get("chat_id")===e&&n.get("type")!==d.MessageType.SYSTEM&&"bot"!==n.get("from")&&n.get("msg_id")>t))}getCurrentChatMessages(){const e=this.getChatId();return e?this.getChatMessages(e):[]}getAgentChatMessages(e){return this.store.filter((t=>t.get("chat_id")===e&&[d.MessageInitiator.AGENT,d.MessageInitiator.FORM].includes(t.get("from"))&&t.get("type")!==d.MessageType.PROACTIVE))}getCurrentChatAgentMessages(){const e=this.getChatId();return this.getAgentChatMessages(e)}getCurrentClientMessages(){return this.getChatMessages(this.getChatId()).filter((e=>e.get("from")===d.MessageInitiator.CLIENT))}find(e){return this.store.find((t=>e(t)))}filter(e){return this.store.filter((t=>e(t)))}getUndelivered(){return this.store.filter((e=>e.get("status")===d.MessageStatus.NOT_DELIVERED))}setUndeliveredForInit(){return(0,r.each)(this.store,(e=>{e.get("from")===d.MessageInitiator.CLIENT&&e.get("status")===d.MessageStatus.SENT&&e.set("status",d.MessageStatus.NOT_DELIVERED)}))}setTempMessagesForInit(){return(0,r.each)(this.store,(e=>{if(e&&e.get("from")===d.MessageInitiator.CLIENT&&e.get("status")===d.MessageStatus.SENT&&e.get("type")===d.MessageType.TEMPORARY){((new Date).getTime()-e.get("created_ts"))/1e3>604800?(e.set("status",d.MessageStatus.NOT_DELIVERED),e.set("type",d.MessageType.MESSAGE)):e.destroy()}}))}getSentMessages(){return this.store.filter((e=>e.get("from")===d.MessageInitiator.CLIENT&&e.get("status")===d.MessageStatus.SENT&&!e.get("msg_id")&&e.get("type")!==d.MessageType.TEMPORARY))}getFormMessage(){return this.store.filter((e=>e.get("type")===d.MessageType.FORM))}getFormIntroduceText(){return this.store.filter((e=>e.get("type")===d.MessageType.PREFORM&&e.get("from")===d.MessageInitiator.FORM))}getBotMessages(e){return this.store.filter((t=>t.get("chat_id")===e&&t.get("type")===d.MessageType.MESSAGE&&"bot"===t.get("from")))}getTemporaryMessageWithText(e){const t=this.store.filter((t=>t.get("type")===d.MessageType.TEMPORARY&&t.get("text")===e));return t.length?t[t.length-1]:null}getTemporaryMessages(){return this.store.filter((e=>e.get("type")===d.MessageType.TEMPORARY&&e.get("from")===d.MessageInitiator.CLIENT))||null}getOfflineTmpMessage(){const e=this.store.filter((e=>e.get("type")===d.MessageType.TEMPORARY&&e.get("from")===d.MessageInitiator.CLIENT));return e.length?e[e.length-1]:null}getLastUnreadApiInvitation(){const e=this.store.filter((e=>e.get("type")===d.MessageType.MESSAGE&&e.get("body")&&e.get("body").customerIO));return e.length?e[e.length-1]:null}getUnreadApiInvitations(){return this.store.filter((e=>e.get("type")===d.MessageType.MESSAGE&&e.get("body")&&e.get("body").customerIO&&e.get("body").unsave))}getSystemMessageByText(e){return this.store.filter((t=>t.get("type")===d.MessageType.SYSTEM&&t.get("text")===e))}hasMessages(){return this.store.length>0}getCobrowseByHash(e){if(e)return this.store.find((t=>{const n=t.toJSON();return n.type===d.MessageType.COBROWSE&&n.body&&n.body.type===d.MessageType.COBROWSE&&n.body.address===e}))}}var h=new p({type:"default",name:"messages",itemClass:c.default,keys:{private_id:function(){return(0,o.generateGUID)()},msg_id:null,chat_id:null,created_ts:function(){return(new Date).getTime()},updated_ts:null,from:d.MessageInitiator.EMPTY,from_id:null,text:null,type:d.MessageType.EMPTY,status:d.MessageStatus.SENT,body:{}}});t.default=h},23116:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(62096),o=a(n(4855)),r=a(n(19955)),s=n(21951),l=n(43374),u=n(43025),c=n(91225),d=n(35233);const{EventEmitter:f}=n(89766);let p=(new Date).getTime();const h=o.default.name("TabActiveManager"),g=Object.assign(new f,{isActive:null});let m;const _=(0,l.throttle)((()=>{p=(new Date).getTime(),(0,c.isChatRoute)(m)&&(0,u.pageVisible)()&&!0!==g.isActive&&(h.log("setActive"),g.isActive=!0,g.emit("update"))}),500),v=()=>{h.log("setNotActive"),g.isActive=!1,g.emit("update")};setInterval((()=>{!1!==g.isActive&&(new Date).getTime()-p>3e4&&v()}),15e3),r.default.desktop()?((0,s.addListener)(window.parent,"scroll",_,!0),(0,s.addListener)(window.parent,"mousemove",_,!0)):((0,s.addListener)(window.parent,"touchmove",_,!0),(0,s.addListener)(window.parent,"touchend",_,!0)),(0,s.listenVisibility)((()=>{(0,u.pageVisible)()?_():v()})),i.reduxStore.subscribe((()=>{const e=m;m=(0,d.selectRoute)(i.reduxStore.getState()),e!==m&&((0,c.isChatRoute)(m)?_():v())}));var b=g;t.default=b},31802:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.closeWidget=function(e){if(u.appDispatchers.setAppIsFocused(!1),r.default.mobileOrTablet())(0,s.blurActiveElement)(),e||(0,c._callUserFunction)("onClose");else if((0,d.isMinRoute)((0,l.getApp)().route))parent.document.getElementById("jivo_custom_widget")||(0,c._callUserFunction)("onClose");else{const e=(0,l.getProactive)().name;e&&(i.default.trackProactiveInvitationRejected(e),u.proactiveDispatchers.setName(null)),(0,c._callUserFunction)("onClose")}o.default.set("close_time",(new Date).getTime()),u.appDispatchers.setChatOpenByClient(!1)};var i=a(n(138)),o=a(n(66547)),r=a(n(19955)),s=n(43025),l=n(44145),u=n(26932),c=n(43914),d=n(91225)},11281:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(16016),o=a(n(26754)),r=a(n(14264)),s=a(n(14762)),l=a(n(16818)),u=n(68403),c=a(n(84726)),d=a(n(91275)),f=a(n(138)),p=a(n(19955)),h=a(n(71277)),g=n(96879),m=n(33069),_=n(21476),v=n(47060),b=n(81152),y=n(65465),E=n(54415),T=n(83170),C=n(43914),S=n(55329),O=n(26932),A=n(94564),w=a(n(4855)),I=n(47138),M=a(n(5735)),R=a(n(22541)),N=a(n(73687)),P=n(49594),D=a(n(35802)),L=a(n(1039)),k=n(28302),x=n(44145),B=n(23336),j=n(94537),F=n(97939),H=n(41168),U=n(64123),W=n(80161),G=n(15787),z=n(62162),V=n(54346),q=n(13077);const $=w.default.name("actions/connection");var K={accept:e=>{const n=e.agent_info.bot_id,a=(0,x.getApp)(),i=(0,x.getClient)(),l=(0,x.getChats)(),u=l[l.length?l.length-1:0],c=(0,x.getUserSettings)();if(O.appDispatchers.setChatStarted(!0),O.appDispatchers.setChatAccepted(!0),O.appDispatchers.setLastChatOpened(!0),O.chatsDispatchers.setChatEvaluated(!1),!a.isOnline){if(n||t.default.setOnline(),y.messageActions.deleteUnansweredOfflineSystemInvite(),W.RouterUtils.canShowIntroduceForm()){const e=r.default.getOfflineTmpMessage();e&&e.destroy(),_.Router.next(v.RouterEvent.ToIntroduce)}E.Monitoring.telemetry(T.TelemetryName.NEWOFFLINE_AGENT_ACCEPT)}n?(o.default.agent_id=0,o.default.type=e.agent_info.type||null):(o.default.bot_id&&t.default.setOnline(),o.default.bot_id=0),o.default.agent_id=e.agent_info.agent_id||null,o.default.bot_id=e.agent_info.bot_id||null,o.default.display_name=e.agent_info.display_name||null,o.default.title=e.agent_info.title||null,o.default.avatar_url=e.agent_info.avatar_url||null,o.default.typing=e.agent_info.typing||null,o.default.state="join";const d=o.default.toReduxFormat();n?(O.botsDispatchers.addBot(d),O.chatsDispatchers.setJoinedBots([o.default.bot_id]),s.default.updateAgentList([e.agent_info])):(O.agentsDispatchers.addAgent(d),O.chatsDispatchers.setJoinedAgents([e.agent_info]),O.chatsDispatchers.setJoinedBots([]),O.appDispatchers.setIsInputDisabled(!1)),n||(!i.isIntroduced&&a.isOnline&&y.messageActions.checkContactsForm(),O.clientDispatchers.setPaId(o.default.agent_id)),f.default.trackChatConnected(),(0,C._callUserFunction)("onAccept"),(0,z.saveLastProactive)(),(0,G.openChatOnMessage)();const p=n?b.MessageType.BOT:b.MessageInitiator.AGENT;c.contactsAsk===j.ContactsType.BEFORE_CHAT&&E.Monitoring.telemetry(T.TelemetryName.CHAT_ACCEPTED_CONTACTS,{param1:p,param2:JSON.stringify({chat_id:u.id,department_id:i.departmentId,display_name:Boolean(i.displayName),name:Boolean(i.name),email:Boolean(i.email),is_introduced:i.isIntroduced,phone:Boolean(i.phone)})}),n?E.Monitoring.telemetry(T.TelemetryName.CHAT_BOT_ACCEPTED,{param1:(0,V.isAssistantBot)()?F.BotType.ASSISTANT:F.BotType.DEFAULT}):E.Monitoring.telemetry(T.TelemetryName.CHAT_ACCEPTED,{param1:p,...f.default.getCountersTelemetry()})},transferred:e=>{(0,x.getApp)().isOnline||t.default.setOnline(),Object.assign(o.default,e.agent_info);const n=e.agent_info.bot_id,a=o.default.toReduxFormat();n?(O.botsDispatchers.addBot(a),O.chatsDispatchers.setJoinedBots([n])):(O.agentsDispatchers.addAgent(a),O.chatsDispatchers.setJoinedAgents([e.agent_info]),O.chatsDispatchers.setJoinedBots([])),O.messagesDispatchers.addMessage({text:(0,c.default)("lblTransferred").replace("_AGENT_",e.agent_info.display_name),type:b.MessageType.SYSTEM,from:b.MessageType.SYSTEM}),O.clientDispatchers.setPaId(o.default.agent_id)},startup_ok:e=>{const t=(0,x.getApp)(),n=(0,x.getClient)();$.log("startup_ok",e),d.default.reloadStories(),s.default.closeChat(),O.appDispatchers.setMaintenance(!1),O.callbackDispatchers.setCallbackStatus(!1),_.Router.getCurrentRoute()===v.Route.CHAT_MIN&&_.Router.setNext(v.Route.LABEL),O.clientDispatchers.setClientId(e.jv_client_id),O.clientDispatchers.setClientSessionId(e.jv_sess_id),(0,G.setStartupClientInfo)(e.client_info),y.messageActions.deleteMaintenanceMessage(),(0,P.updateHistory)(e),(n.isIntroduced&&!t.isOnline||t.isOnline)&&D.default.getInstance().managers.connection.flushBuffer(),E.Monitoring.telemetry(T.TelemetryName.STARTUP_OK,{param1:(0,U.getStarupTime)(),param2:(0,x.getSystemSettings)().chatHost})},startup_error:e=>{"blacklisted"==e.err_code?(O.appDispatchers.setChatStarted(!1),O.appDispatchers.setChatAccepted(!1),N.default.set("is_blacklisted",!0,86400),_.Router.next(v.RouterEvent.Hide),h.default.disableSoundPlayer()):"moved"==e.err_code?($.log("startup_error, Site is moved"),A.ConfigUtils.reloadConfig((e=>{$.log("Site is moved",e);const t=D.default.getInstance();if(t){const e=t.managers.connection;e.isOpen()||setTimeout((()=>{e.open()}),5e3)}}))):"maintenance"===e.err_code?(0,U.enableMaintenance)():e.err_code,E.Monitoring.telemetry(T.TelemetryName.STARTUP_ERROR,{param1:(0,U.getStarupTime)(),param2:e.err_code||"no_err_code",param3:(0,x.getSystemSettings)().chatHost}),(0,q.setRuleLocal)("isVisitorInvite",!1)},resume_ok:e=>{$.log("resume_ok",e);const n=(0,x.getApp)(),a=(0,x.getClient)(),i=(0,x.getCallback)();if(O.clientDispatchers.setClientId(e.jv_client_id),O.appDispatchers.setMaintenance(!1),d.default.reloadStories(),l.default.destroy(),(a.isIntroduced&&!n.isOnline||n.isOnline)&&(W.RouterUtils.canShowIntroduceForm()||D.default.getInstance().managers.connection.flushBuffer()),e.agents&&e.agents.length>0){let n=!1;e.agents.forEach((e=>{e.bot_id&&(n=e)})),n?(O.botsDispatchers.addBot({avatarUrl:n.avatar_url||null,id:n.bot_id,name:n.display_name||null,title:n.title||null,type:n.type,isBot:!0}),O.chatsDispatchers.setJoinedBots([n.bot_id])):O.chatsDispatchers.setJoinedAgents(e.agents),t.default.updateAgentInfo(e.agents),s.default.getAgentsByStatus("join").length&&(O.appDispatchers.setChatAccepted(!0),O.appDispatchers.setAppIsOnline(!0),O.appDispatchers.setLastChatOpened(!0))}else O.chatsDispatchers.setNoJoinedAgents(),O.appDispatchers.setLastChatOpened(!1),O.appDispatchers.setChatAccepted(!1);const o=_.Router.getCurrentRoute();p.default.mobileOrTablet()||n.chatStarted||r.default.getCurrentChatMessages().length||!n.isOnline||o===v.Route.CALL||o===v.Route.CHAT_CALL||o===v.Route.LABEL||(0,x.getProactive)().text||_.Router.next(v.RouterEvent.CloseWindow);const u=e.client_info.cw_call;(0,U.setCallbackStatus)(u),u===I.CallStatus.WAIT&&d.default.startCallTimeout(),u&&(Object.assign(i,u),_.Router.getCurrentRoute()===v.Route.CHAT_CALL||p.default.mobileOrTablet()||_.Router.next(v.RouterEvent.ToCall),u.status!=I.CallStatus.CONNECTED&&u.status!=I.CallStatus.CONNECTING||(0,m.resetDelayedCallStatus)()),e.client_info.has_integration&&O.clientDispatchers.setHasIntegration(e.client_info.has_integration),e.assigned_agent_id&&O.clientDispatchers.setAssignedAgentId(e.assigned_agent_id),d.default.checkChatStarted(e.chat_started),(0,G.setStartupClientInfo)(e.client_info),y.messageActions.checkContactsForm(),y.messageActions.deleteMaintenanceMessage(),(0,P.updateHistory)(e),E.Monitoring.telemetry(T.TelemetryName.RESUME_OK,{param1:(0,U.getStarupTime)(),param2:e.chat_started,param3:e.agents?e.agents.length:null,param4:e.last_msg_id})},cw_wait:()=>{},cw_call_end:()=>{const e=(0,x.getCallback)();if($.warn("cw_call_end",e),e.webRTCCallStatus){const e=(0,k.getActiveMessage)(I.WebRTCCallStatus.ACCEPTED);e&&O.messagesDispatchers.updateWebRTCCallStatus(e.private_id,I.WebRTCCallStatus.ENDED),O.callbackDispatchers.setActiveWebRTCCallMessageId(null),O.callbackDispatchers.setWebRTCCallStatus(null),O.callbackDispatchers.setCallbackStatus(I.CallStatus.ENDED),(0,C._callUserFunction)("onCallEnd",{result:"ok"}),E.Monitoring.telemetry(T.TelemetryName.CALL_END,{param1:"webrtc"})}else d.default.clearCallTimeout(),y.messageActions.systemCallMessage((0,c.default)("c_callDisconnected"),b.MessageName.CALL_END),O.callbackDispatchers.setCallbackStatus(I.CallStatus.ENDED),O.callbackDispatchers.setCallbackAvailable(!0),(0,C._callUserFunction)("onCallEnd",{result:"ok"}),E.Monitoring.telemetry(T.TelemetryName.CALL_END)},cw_connecting:()=>{(0,x.getCallback)().webRTCCallStatus?O.callbackDispatchers.setWebRTCCallStatus(I.CallStatus.CONNECTING):O.callbackDispatchers.setCallbackStatus(I.CallStatus.CONNECTING),(0,m.resetDelayedCallStatus)()},cw_connected:()=>{const e=(0,x.getCallback)();if($.warn("cw_connected",e.webRTCCallStatus,e.activeWebRTCCallMessageId),!e.activeWebRTCCallMessageId){const e=(0,k.getActiveMessage)(I.WebRTCCallStatus.INITIAL);e&&O.messagesDispatchers.updateWebRTCCallStatus(e.private_id,I.WebRTCCallStatus.ACCEPTED)}e.webRTCCallStatus?(O.callbackDispatchers.setWebRTCCallStatus(I.CallStatus.CONNECTED),O.messagesDispatchers.updateWebRTCCallStatus(e.activeWebRTCCallMessageId,I.WebRTCCallStatus.ACCEPTED)):(O.callbackDispatchers.setCallbackStatus(I.CallStatus.CONNECTED),O.callbackDispatchers.setCallbackAvailable(!1)),(0,m.resetDelayedCallStatus)()},cw_error:e=>{const t=(0,c.default)(`cw_reason_${e.reason}`);let n=t;n&&n!=t||(n=(0,H.getCallDefaultError)());const a=(0,x.getCallback)();if(a.webRTCCallStatus){if(a.webRTCCallStatus!==I.CallStatus.ENDED){O.callbackDispatchers.setWebRTCCallStatus(I.CallStatus.ERROR);let e=a.activeWebRTCCallMessageId;if(!e){const t=(0,k.getActiveMessage)(I.WebRTCCallStatus.INITIAL);e=t&&t.private_id}O.messagesDispatchers.updateWebRTCCallStatus(e,I.WebRTCCallStatus.ERROR)}O.callbackDispatchers.setCallbackAvailable(!0),O.callbackDispatchers.setCallbackStatus(I.CallStatus.ERROR),O.callbackDispatchers.setActiveWebRTCCallMessageId(null),O.callbackDispatchers.setWebRTCCallStatus(null),_.Router.getCurrentRoute()===v.Route.CHAT_SETUP_CALL&&_.Router.next(v.RouterEvent.Cancel)}else d.default.clearCallTimeout(),O.messagesDispatchers.addMessage({text:n,type:b.MessageType.SYSTEM,from:b.MessageInitiator.SYSTEM,body:{type:b.MessageType.CALL,name:b.MessageName.CALL_END}}),O.callbackDispatchers.setCallbackAvailable(!0),O.callbackDispatchers.setCallbackStatus(I.CallStatus.ERROR),O.callbackDispatchers.setCallbackError(n),p.default.mobileOrTablet()||_.Router.next(v.RouterEvent.ToCall);(0,C._callUserFunction)("onCallEnd",{result:"fail",reason:n}),E.Monitoring.telemetry(T.TelemetryName.CALL_ERROR,{param1:e.reason})},cw_call_requested:async e=>{if(!L.default.enable_webrtc_calls)return;const{call_id:t,vox_user_login:a,vox_user_password:i}=e;O.callbackDispatchers.setCallbackAvailable(!1),O.callbackDispatchers.setWebRTCCallStatus(I.CallStatus.WAIT);const o=(await n.e(772).then(n.bind(n,51961))).default;D.default.getInstance().managers.webRTCCall=new o(D.default.getInstance(),t,a,i),L.default.enable_webrtc_separate_window||D.default.getInstance().managers.webRTCCall.setupSdk(),(0,G.addWebCallMessage)()},agentMessage:(e,n)=>{var a;$.log("agentMessage",e),(0,x.getApp)().isOnline||t.default.setOnline(),y.messageActions.saveLastSystemMessage(),e.media&&(e.media.status=b.MediaStatus.COMPLETE);const o={text:e.message||e.text,type:e.media?b.MessageType.MEDIA:b.MessageType.MESSAGE,from:e.from,from_id:e.from_id,private_id:e.private_id||(0,i.generateGUID)(),msg_id:e.msg_id,chat_id:e.chat_id,meta:e.meta,body:e.media||{}};var r;n&&(0,V.isAssistantBot)()&&(o.body.bot_message_type=null===(r=e.body)||void 0===r?void 0:r.type);const s=e.type==b.MessageType.LISTPICKER;if(n){var l;if(s)o.text=(e.body.text||e.body.title).trim(),null!==(l=e.body)&&void 0!==l&&l.is_markdown&&(o.body.is_markdown=!0);if(e.is_markdown&&(o.body.is_markdown=!0),e.type==b.MessageType.INVITE){if((0,V.isAssistantBot)())return;if(o.type=b.MessageType.SYSTEM,o.text=(0,c.default)("botTransferChat"),E.Monitoring.telemetry(T.TelemetryName.BOT_TRANSFER_CHAT),(0,G.isNeedShowBotForm)(L.default))return void y.messageActions.handleBotContactsForm()}else E.Monitoring.telemetry(T.TelemetryName.CLIENT_MESSAGE_BOT)}O.messagesDispatchers.addMessage(o),s&&(o.type=b.MessageType.LISTPICKER,o.body=e.body,o.msg_id=e.msg_id+.1,o.body&&o.body.force_reply&&O.appDispatchers.setIsInputDisabled(!0),O.messagesDispatchers.addMessage(o)),(0,G.agentMessageAck)([e.msg_id],e.chat_id),O.clientDispatchers.updateClient({lastMessage:null}),d.default.agentTyping(0),O.appDispatchers.setLastMsgTime((new Date).getTime()),(0,G.openChatOnMessage)(),(0,G.sendAgentMessageTelemetry)((0,V.isAssistantBot)()?null===(a=o.body)||void 0===a?void 0:a.bot_message_type:null)},update_agent_info:e=>{(0,x.getApp)().isOnline||t.default.setOnline();const n=e.agent_info,a=s.default.getAgentsByStatus("join").map((e=>{const t=e.store;return t.agent_id===n.agent_id?n:t}));t.default.updateAgentInfo([n]),O.chatsDispatchers.setJoinedAgents(a)},invoice:e=>{$.log("invoice",e),O.messagesDispatchers.addMessage({type:"invoice",msg_id:e.invoice.msg_id,from:"agent",body:{type:e.invoice.gateway_system+"Invoice",comment:e.invoice.comment,amount:e.invoice.amount,invoice_id:e.invoice.invoice_id,payment_url:e.invoice.payment_url,status:e.status,currency:e.invoice.currency}})},agent_chat_close:()=>{O.appDispatchers.setChatStarted(!1),O.appDispatchers.setChatAccepted(!1),r.default.closeChat(),O.chatsDispatchers.setNoJoinedAgents(),O.appDispatchers.setLastChatOpened(!1),O.chatsDispatchers.setChatEvaluated(!1),O.clientDispatchers.updateClient({departmentId:null}),_.Router.getCurrentRoute()==v.Route.CHAT_MIN&&(_.Router.setNext(v.Route.LABEL),d.default.reloadTransitionStore())},agent_service_message:e=>{$.warn("unhandled agent_service_message",e)},agent_typing:e=>{(0,x.getApp)().isOnline||t.default.setOnline(),d.default.agentTyping(e.typing)},update_client_info:e=>{$.warn("update_client_info",e);const t={};e.avatar_url&&(t.avatarUrl=e.avatar_url),e.display_name&&(t.displayName=e.display_name),e.assigned_agent_id&&(t.assignedAgentId=e.assigned_agent_id),e.email&&(t.email=e.email),e.phone&&(t.phone=e.phone),L.default.bots&&(e.email||e.phone)&&(t.isIntroduced=!0),O.clientDispatchers.setClientContacts(t)},update_client_id:e=>{$.warn("update_client_id",e);(0,x.getClient)().clientId!==e.jv_client_id&&(O.clientDispatchers.setClientId(e.jv_client_id),(0,P.updateHistory)(e))},message_state:e=>{const t=r.default.getMessageByPrivateId(e.private_id);if($.log("messageState",e,t),e.status!==b.MessageStatus.DELIVERED){if(t){const n=(0,x.getApp)(),a=(0,x.getClient)(),i={chat_id:e.chat_id,msg_id:e.msg_id,status:b.MessageStatus.SENT};O.messagesDispatchers.updateMessage({privateId:t.get("private_id")},i),t.get("from")===b.MessageInitiator.CLIENT&&(t.get("type")==b.MessageType.TEMPORARY&&a.isIntroduced&&!n.isOnline&&"sent"==e.status&&($.warn("messageState replace temp form message",t),O.messagesDispatchers.updateMessage({privateId:t.get("private_id")},{type:b.MessageType.MESSAGE}),O.clientDispatchers.setInputText("")),(0,S.prechatSetUsed)(!1),O.clientDispatchers.updateClient({lastMessage:null}))}}else{const t=(0,x.getMessages)().filter((e=>{let{status:t,from:n}=e;return t===b.MessageStatus.SENT&&n===b.MessageInitiator.CLIENT})),n=(t.length?[e,...t]:[e]).map((e=>e.msg_id));O.messagesDispatchers.updateMessages({messageIds:n},{status:b.MessageStatus.DELIVERED})}},blacklist:()=>{N.default.set("is_blacklisted",!0,86400),O.appDispatchers.setChatStarted(!1),O.appDispatchers.setChatAccepted(!1),_.Router.next(v.RouterEvent.Hide),h.default.disableSoundPlayer()},disconnecting:()=>{R.default.stopBlinking()},offline:()=>{(0,x.getApp)().isOnline&&y.messageActions.sendNoAgentsOnline(),(0,B.setOfflineIntroduced)(),!(0,x.getClient)().isIntroduced||(0,B.needIntroduceInOffline)()?(L.default.bots||L.default.enable_bot_offline||(0,V.isAssistantBot)()||(O.appDispatchers.setAppIsOnline(!1),O.appDispatchers.setIsInputDisabled(!0),y.messageActions.handleContactsForm(!0)),E.Monitoring.telemetryOnce(T.TelemetryName.NEWOFFLINE_FORCE_OFFLINE)):(O.appDispatchers.setAppIsOnline(!1),f.default.trackOfflineMessageSent())},update_client:e=>{e.has_integration&&(0,u.hasIntegration)(e.has_integration)&&(O.clientDispatchers.setHasIntegration(e.has_integration),O.messagesDispatchers.addMessage({text:(0,c.default)("social_success_"+e.has_integration),type:b.MessageType.SYSTEM,body:{type:b.MessageType.SOCIAL}}),_.Router.next(v.RouterEvent.ToChat),E.Monitoring.telemetry(T.TelemetryName.SOCIAL_HAS_INTEGRATION+e.has_integration),(0,u.isChatContactForm)()&&E.Monitoring.telemetry(T.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:"connect_"+e.has_integration}))},connect_failed:()=>{$.log("connect_failed")},offline_ack:e=>{y.messageActions.offlineAck(e)},agent_message:e=>{(0,x.getApp)().isOnline||t.default.setOnline(),e.meta&&t.default.agentMessage(e)},chat_message:e=>{$.log("chat_message",e);const n=(0,x.getApp)(),a=e.params;if(n.isOnline||t.default.setOnline(),-1!==["join","left"].indexOf(a.type))d.default.updateChatAgent(e);else{const e=a.from===b.MessageType.BOT;if((a.from===b.MessageInitiator.AGENT||e)&&t.default.agentMessage(a,e),a.from===b.MessageInitiator.CLIENT){const e=(0,g.filterMessage)(a),t=(0,x.getMessageByPrivateId)(a.private_id);if(a.private_id&&t){const e={chat_id:a.chat_id,msg_id:a.msg_id,status:b.MessageStatus.SENT};O.messagesDispatchers.updateMessage({privateId:t.private_id},e)}if(e&&!t){const e=a.private_id?a.private_id:(0,i.generateGUID)();O.messagesDispatchers.addMessage({from:b.MessageInitiator.CLIENT,text:a.text,type:b.MessageType.MESSAGE,private_id:e,status:b.MessageStatus.DELIVERED,...a.chat_id?{chat_id:a.chat_id}:null,...a.msg_id?{msg_id:a.msg_id}:null,...a.media?{media:a.media}:null})}e&&!_.Router.isChatInputRoute(n.route)&&_.Router.next(v.RouterEvent.ToChat)}}},chat_message_update:e=>{const t=e.params,n=t.msg_id,a=(0,x.getMessageByMessageId)(n);$.log("chat_message_update",e,n,a),a&&(t.deleted?O.messagesDispatchers.updateMessage({messageId:a.msg_id},{status:b.MessageStatus.DELETED,type:b.MessageType.MESSAGE,body:null}):t.updated_ts&&O.messagesDispatchers.updateMessage({messageId:a.msg_id},{updated_ts:1e3*t.updated_ts,text:t.text}))},agents_list_updated:e=>{if($.log("agents_list_updated"),(0,x.getApp)().isOnline||t.default.setOnline(),e.params.length){if(1===e.params.length){const t=e.params[0];Object.assign(o.default,t),t.bot_id||O.clientDispatchers.setPaId(t.agent_id)}t.default.updateAgentInfo(e.params),O.chatsDispatchers.setJoinedAgents(e.params),O.agentsDispatchers.initializeAgentStore(s.default.toReduxFormat())}},rate:e=>{const t=e.chat_id;(0,G.needToRateForm)(t)},updateAgentInfo:e=>{if($.log("updateAgentInfo",e),1===e.length){const t=e[0];Object.assign(o.default,{agent_id:t.agent_id||0,bot_id:t.bot_id||0,display_name:t.display_name,title:t.title||null,avatar_url:t.avatar_url||null}),t.bot_id||(O.agentsDispatchers.updateAgent({id:t.agent_id||t.bot_id,name:t.display_name,title:t.title,avatarUrl:t.avatar_url||null,isBot:!!t.bot_id}),O.clientDispatchers.setPaId(t.agent_id))}},setOnline(){if(O.appDispatchers.setAppIsOnline(!0),!L.default.bots&&!L.default.enable_bot_offline&&!(0,V.isAssistantBot)()){const e=(0,c.default)("offlineAgentConnected");y.messageActions.systemMessageOnce(e)}},enableRecaptchaAntispam:()=>{$.log("Enable antispam"),O.callbackDispatchers.setCallbackAvailable(!1),y.messageActions.systemMessageOnce((0,c.default)("maintenanceSystemText"),"text",!1),O.appDispatchers.setIsInputDisabled(!0),M.default.allRulesCancel()},client_message_ack:()=>{}};t.default=K},15787:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setStartupClientInfo=t.setIntroduce=t.sendOfflineTmpMessages=t.sendIntroduceAndMessage=t.sendClientAnswerTelemetry=t.sendApiIntroduce=t.sendAgentMessageTelemetry=t.openChatOnMessage=t.needToRateForm=t.isNeedShowBotForm=t.checkCustomData=t.agentMessageRead=t.agentMessageAck=t.addWebCallMessage=void 0;var i=n(88928),o=n(69882),r=n(20361),s=a(n(19955)),l=a(n(91275)),u=n(21476),c=n(47060),d=n(55329),f=n(26932),p=a(n(22541)),h=a(n(71277)),g=n(43914),m=n(54415),_=n(83170),v=n(44145),b=n(33813),y=a(n(35802)),E=n(41504),T=n(65465),C=a(n(23116)),S=n(13077),O=a(n(14264)),A=n(47138),w=n(28302),I=n(32046),M=n(81152),R=a(n(4855)),N=n(84727);const P=R.default.name("ConnectionHelpers"),D=function(){if(s.default.desktop()&&(!(0,o.isCustomLabel)()||"function"!=typeof(0,o.getPageWindow)().jivo_onMessageReceived)){u.Router.isChatInputRoute(u.Router.getCurrentRoute())||u.Router.next(c.RouterEvent.ToChat),u.Router.getPrevRoute()===c.Route.CHAT_MIN?f.transitionDispatchers.startTransition(r.ScriptName.MAXIMIZE_WIDGET):f.transitionDispatchers.startTransition(r.ScriptName.OPEN_WIDGET);const e=setInterval((()=>{(0,b.fixSafariKeyframes)()}),50);setTimeout((()=>{clearInterval(e)}),300),p.default.startBlinking()}h.default.play("agent_message"),(0,g._callUserFunction)("onMessageReceived")};t.openChatOnMessage=D;t.sendAgentMessageTelemetry=e=>{m.Monitoring.telemetry(_.TelemetryName.AGENT_MESSAGE,{param1:(0,d.getPrechatUseTime)(),param2:C.default.isActive&&u.Router.isChatInputRoute(u.Router.getCurrentRoute())?"visible":"hide",param3:e||M.MessageType.MESSAGE})};t.sendClientAnswerTelemetry=e=>{P.warn("sendClientAnswerTelemetry",e);const t=O.default.getLastMessage();if(t){const n=t.get("body.bot_message_type"),a=(0,N.validateClientAnswer)(n,e.text);m.Monitoring.telemetry(_.TelemetryName.CLIENT_MESSAGE_ASSISTANT,{param1:n,param2:a?"valid":"not_valid",param3:e.text})}};t.setStartupClientInfo=e=>{f.clientDispatchers.setHasIntegration(e.has_integration),f.clientDispatchers.setAssignedAgentId(e.assigned_agent_id||null);const t=e.name||e.client_name,n=(0,v.getClient)(),a={description:n.description,accept_eula:n.eulaAccepted||null};n.email&&!e.email&&(a.email=n.email),n.phone&&!e.phone&&(a.phone=n.phone),n.name&&!t&&(a.client_name=n.name),P.log("setStartupClientInfo",n,a),(a.email||a.phone||a.client_name)&&L(a),!n.email&&e.email&&f.clientDispatchers.setClientEmail(e.email),!n.phone&&e.phone&&f.clientDispatchers.setClientPhone(e.phone),!n.name&&t&&f.clientDispatchers.setClientName(t),(0,v.getApp)().isOnline||k()};t.isNeedShowBotForm=e=>{const t=e.lastStatus;return!((t&&t.agents?t.agents.length:0)>0&&2==e.contacts_ask)&&(e.bots&&e.enable_bot_offline)};t.checkCustomData=e=>{const t=y.default.getInstance();if(t&&e){const n=t.managers.connection;n&&n.isOpen()&&n.send(new E.UpdateCustomData(e)),e&&f.clientDispatchers.setCustomData(e)}};const L=e=>{f.clientDispatchers.setClientContacts({name:e.name||e.client_name||null,phone:e.phone||null,email:e.email||null,description:e.description||null}),P.warn("setIntroduce",e);const t=new E.Introduction(e.name||e.client_name||null,e.phone||null,e.email||null,e.description||null,(0,v.getSystemSettings)().eula&&(0,v.getClient)().eulaAccepted||null),n=y.default.getInstance();if(n){const e=n.managers.connection;e&&e.sendIfConnected(t)}};t.setIntroduce=L;t.sendApiIntroduce=e=>{const t=(0,S.getRuleLocal)("lastContactApiData"),n={client_name:e.name||e.client_name,phone:e.phone,email:e.email,description:e.description};return(0,i.shallowEqual)({...n,message:e.message},t)?(P.error("setContactInfo same client contacts",t),!1):(e.message&&T.messageActions.sendClientMessage(e.message),l.default.setClientContactInfo(n,!0),e.message&&(n.message=e.message),(0,S.setRuleLocal)("lastContactApiData",n),!0)};const k=()=>{const e=O.default.getTemporaryMessages();e&&(P.warn("sendOfflineTmpMessages"),e.forEach((e=>{T.messageActions.sendClientMessage(e.get("text"),e.get("private_id"))})))};t.sendOfflineTmpMessages=k;t.addWebCallMessage=()=>{T.messageActions.addWebRTCCallMessage();const e=(0,w.getActiveMessage)(A.WebRTCCallStatus.INITIAL);e&&f.messagesDispatchers.updateWebRTCCallStatus(e.private_id,A.WebRTCCallStatus.INITIAL),D(),h.default.play("agent_message")};t.sendIntroduceAndMessage=(e,t)=>{t&&T.messageActions.sendClientMessage(t),f.clientDispatchers.updateClient({lastMessage:null}),l.default.setClientContactInfo(e,!1,!0)};t.needToRateForm=(e,t)=>{P.warn("needToRateForm",e,t);const n=O.default.getMessagesByType(M.MessageType.RATE_FORM);if(n.length&&n[0]&&n[0].get("chat_id")==e)return;const{rateSettings:a}=(0,v.getUserSettings)();e&&a&&(0,I.pushRateForm)(e,a.conditionName,t)};t.agentMessageRead=(e,t)=>{const n=y.default.getInstance();n&&n.managers.connection.send(new E.AgentMessagesRead(e,t))};t.agentMessageAck=(e,t)=>{const n=y.default.getInstance();n&&n.managers.connection.send(new E.AgentMessagesAck(e,t))}},91275:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1039)),o=a(n(26754)),r=a(n(95003)),s=n(69882),l=n(16016),u=a(n(19955)),c=a(n(138)),d=a(n(14264)),f=a(n(14762)),p=a(n(84726)),h=a(n(4855)),g=n(21476),m=n(47060),_=n(81152),v=n(65465),b=n(80161),y=n(54415),E=n(83170),T=n(43914),C=n(62096),S=n(26932),O=n(31984),A=n(47138),w=n(20361),I=a(n(79868)),M=a(n(71323)),R=a(n(74379)),N=a(n(35802)),P=n(41504),D=n(44145),L=a(n(73687)),k=n(15787),x=n(62162),B=n(68403),j=n(23336),F=n(91225),H=n(33069),U=n(41168);const W=h.default.name("Actions");let G=null,z="",V=0,q=null,$=!1;const K={startCallDebounce:function(e,n){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(W.warn("startCallDebounce",e,n),t.default.startCallTimeout(),["cw_wait","cw_connecting","cw_connected"].indexOf((0,D.getCallback)().status)>=0)return void W.log("already calling");const i=(0,O.getPhoneNumberInfo)(e);i?S.clientDispatchers.setClientPhone("+"+i.phoneCode+i.innerNumber):S.clientDispatchers.setClientPhone(e);const o=(0,D.getClient)(),r=(0,D.getApp)();(0,k.setIntroduce)({name:o.name,phone:o.phone,email:o.email,description:o.description},!1),(0,O.checkStartCall)({phone:e,invitationText:a,clientToken:o.clientId},((a,i)=>a?(t.default.setCallError(),y.Monitoring.telemetry(E.TelemetryName.CALL_ERROR,{param1:"in request"})):((i=i.data)||(W.log("Wrong response from telephony"),i={ok:!1,error_list:["wrong_response"]}),i.only_forward?(S.callbackDispatchers.setCallbackStatus(A.CallStatus.ERROR),void S.callbackDispatchers.setCallbackError((0,p.default)("cw_call_forward"))):void(i.ok?(S.appDispatchers.setChatStarted(!0),S.appDispatchers.setChatAccepted(!0),S.callbackDispatchers.setCallbackStatus(A.CallStatus.WAIT),v.messageActions.handleContactsForm(),v.messageActions.systemCallMessage(`${(0,p.default)("cw_call_to")} ${(0,O.getMaskedPhone)(e)}`,_.MessageName.CALL_MESSAGE_START),(0,T._callUserFunction)("onCallStart"),c.default.trackCallWidgetRequested(),y.Monitoring.telemetry(E.TelemetryName.CALL_START,{param1:n}),t.default.reloadTransitionStore()):(t.default.setCallError(),y.Monitoring.telemetry(E.TelemetryName.CALL_ERROR,{param1:i.error_list.join(" ")}),i.work_time&&i.work_time.schedule&&((0,H.onDelayedCallAvailable)(i.work_time),(0,H.redirectAfterRequestDelayedCall)(),y.Monitoring.telemetry(E.TelemetryName.CALL_START,{param1:n})),u.default.mobileOrTablet()||r.route!==m.Route.LABEL||g.Router.next(m.RouterEvent.Navigate))))))},checkConnection:e=>{const t=N.default.getInstance().managers.connection;W.warn("checkConnection",e,t),t.isOpen()?e():t.open(e,!0)},requestCWAvailable:e=>{const t=(0,D.getApp)();L.default.get("is_blacklisted")||t.route==m.Route.HIDDEN||(i.default.maintenance?S.callbackDispatchers.setCallbackAvailable(!1):(W.warn("requestCWAvailable"),(0,O.callWidgetPing)((t=>{S.callbackDispatchers.setCallbackAvailable(t.ok),t.work_time&&(0,H.onDelayedCallAvailable)(t.work_time),(0,D.getCallback)().available&&"function"==typeof e&&e()}),t.chatStarted)))},requestApiCWAvailable:e=>{(0,O.callWidgetPing)((t=>{if(S.callbackDispatchers.setCallbackAvailable(t.ok),(0,D.getCallback)().available&&"function"==typeof e)e({result:"ok"});else{const n=t.error_list?t.error_list.join(" "):"Call request error";e({result:"fail",reason:n})}}),(0,D.getApp)().chatStarted)},pingAndOpenCall:()=>{W.info("pingAndOpenCall"),t.default.checkConnection((()=>{const e=(0,D.getApp)();(0,O.callWidgetPing)((e=>{S.callbackDispatchers.setCallbackAvailable(e.ok),e.ok&&(0,D.getApp)().route===m.Route.LABEL&&(S.userDispatchers.setCallHeaderText(null),[A.CallPopupStatus.ENABLED,A.CallPopupStatus.ONLY_BUTTON_CLICK].includes((0,D.getCallback)().separateForm)&&u.default.desktop()?g.Router.next(m.RouterEvent.ToCallPopup):(g.Router.next(m.RouterEvent.ToCall),u.default.desktop()&&S.transitionDispatchers.startTransition(w.ScriptName.OPEN_WIDGET)),y.Monitoring.telemetryOnce(E.TelemetryName.API_CALL_OPEN))}),e.chatStarted)}))},openChatCallbacks(){W.log("openChatCallbacks"),(0,D.getApp)().isOnline?c.default.trackChatOpenedByClick():c.default.trackOfflineFormOpenedByClick(),(0,T._callUserFunction)("onOpen")},setClientContactInfo:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];W.warn("setClientContactInfo",e,t,n),(0,k.setIntroduce)(e),t||(S.clientDispatchers.setIsIntroduced(!0),c.default.trackGaveContacts(),n&&y.Monitoring.telemetry(E.TelemetryName.INTRODUCE,{param1:i.default.contacts_ask,param2:JSON.stringify({name:Boolean(e.client_name),department_id:e.departmentId,email:Boolean(e.email),phone:Boolean(e.phone)})}),(0,T._callUserFunction)("onIntroduction"))},startCall:(e,n,a)=>{W.log("startCall from chat",e),t.default.checkConnection((()=>{t.default.startCallDebounce(e.replace(/\D+/g,""),n,a)}))},markEvaluated:()=>{S.chatsDispatchers.setChatEvaluated(!0)},clientTyping:e=>{const t=e?1:0;if(V!=t){V=t;const e=new P.ClientTyping(t),n=N.default.getInstance().managers.connection;n&&n.isOpen()&&n.send(e)}},typingInsight:e=>{if(1==i.default.typing_insight&&z!=e){z=e;const t=N.default.getInstance().managers.connection;t&&t.isOpen()&&t.send({name:"client_service_message",service:"typing_insight",event:"input_changed",new_val:e})}},updateTitle:(e,t)=>{if(W.log("updateTitle",e),!window||!window.location)return void W.log("no window");if(u.default.mobileOrTablet()&&(0,D.getApp)().route!==m.Route.LABEL)return;const n=t||(0,s.getCurrentPage)().url;W.log("updateTitle url",n);const a=N.default.getInstance().managers.connection;a&&a.isOpen()&&a.send({name:"url_change",url:n,title:(0,l.setSubstrTitle)(e)})},submitShowEula:e=>{if(b.RouterUtils.needToShowEula()){const t=(0,O.getMaskedPhone)(e);return M.default.showEula(`${(0,p.default)("eula_phone")}<br/>${t}`,null,"cb"),g.Router.next(m.RouterEvent.Submit,{context:"cb"}),!0}return!1},reloadStories:()=>{r.default.reload(),t.default.syncRouter()},syncRouter:()=>{const e=(0,D.getApp)(),n=(0,D.getClient)();if(W.warn("syncRouter",e.route,g.Router.getCurrentRoute()),e.route!==g.Router.getCurrentRoute()){const a=g.Router.getPrevEvent(),i=e.route===m.Route.INTRODUCE;if(n.isIntroduced&&i)return;if(!e.isOnline&&i)return;if((0,B.isChatContactForm)()&&i)return;if(!(e.route!==m.Route.CHAT_SOCIAL||a&&I.default.getPopupMode()))return void W.warn("prevent to show Social without user click.");if(-1!=[m.Route.CHAT_EULA,m.Route.CALL_EULA].indexOf(e.route)&&(!a||a&&-1==a.indexOf("submit"))&&e.showEula)return void W.warn("prevent to show Eula without user click.");if(e.route===m.Route.CHAT_MIN&&!e.chatAccepted)return void g.Router.setNext(m.RouterEvent.CloseWindow);g.Router.setNext(e.route),t.default.reloadTransitionStore()}},agentTyping(e){0==e?clearTimeout(G):G=setTimeout((()=>{t.default.agentTyping(0)}),3e3),S.chatsDispatchers.setAgentTyping(e)},updateChatAgent:e=>{const t=e.params,n=f.default.getAgentById(t.from_id);n?(n.set("body.state",t.type),S.messagesDispatchers.addMessage({type:"system",body:{from_id:t.from_id,action:t.type,type:"chat"},msg_id:t.msg_id,chat_id:t.chat_id})):W.error("updateChatAgent: No agent info in agents store.")},clearCallTimeout:()=>{q&&clearTimeout(q)},startCallTimeout:()=>{t.default.clearCallTimeout();const e=(0,D.getCallback)();q=setTimeout((()=>{["cw_wait","cw_connecting"].indexOf(e.status)>=0&&t.default.setCallError()}),24e4)},setCallError:()=>{const e=(0,U.getCallDefaultError)();S.callbackDispatchers.setCallbackStatus(A.CallStatus.ERROR),S.callbackDispatchers.setCallbackError(e),S.messagesDispatchers.addMessage({text:e,type:_.MessageType.SYSTEM,from:_.MessageInitiator.SYSTEM,body:{type:_.MessageType.CALL,name:_.MessageName.CALL_END}})},initializeReduxStores(){var e,n;const a=(0,s.getChatPageToken)(),{isInputDisabled:l}=(0,D.getApp)();if(a&&S.clientDispatchers.setUserToken(a),i.default.joint||S.clientDispatchers.setHasIntegration(!1),S.callbackDispatchers.setSeparateForm(null===(e=i.default.callback_settings)||void 0===e?void 0:e.separate_form),null!==(n=i.default.callback_settings)&&void 0!==n&&n.time||S.callbackDispatchers.setCallbackAvailable(!1),W.log("initializeReduxStores",r.default),S.appDispatchers.initializeAppStore({isFocused:r.default.is_focused,isOnline:r.default.is_online,route:r.default.route,tabRoute:null,lastChatOpened:r.default.lastChatOpened,isInputDisabled:l,maintenance:i.default.maintenance,chatOpenByClient:!1,chatStarted:r.default.chat_started,chatAccepted:r.default.chat_accepted,lastMsgId:r.default.lastMsgId,lastMsgTime:r.default.lastMsgTime,started:r.default.started,showEula:r.default.show_eula,viReconnectTime:r.default.viReconnectTime,didFreezeData:r.default.didFreezeData}),(0,j.setOfflineIntroduced)(),u.default.mobileOrTablet()){if(r.default.route==m.Route.HIDDEN)return;R.default.checkZooms()}if(f.default.toReduxFormat().length&&(S.agentsDispatchers.initializeAgentStore(f.default.toReduxFormat()),S.botsDispatchers.initializeBotsStore(f.default.toReduxFormat())),i.default.bots&&i.default.bots.length){const e=i.default.bots[0];S.botsDispatchers.addBot({avatarUrl:e.avatar_url||null,id:e.bot_id,name:e.display_name||null,title:e.title||null,isBot:!0,type:e.type})}S.messagesDispatchers.initializeMessagesStore(),S.chatsDispatchers.initializeChatsStore(),t.default.reloadTransitionStore();const c=(0,D.getProactive)();c.text&&(o.default.agent_id||o.default.bot_id)&&(W.warn("restore agent proactiveData",c),(0,x.setCurrentProactiveData)())},reloadTransitionStore(){const e=(0,D.getApp)().route;let t=(0,F.isContainerRoute)(e)?w.ScriptName.OPEN_WIDGET:w.ScriptName.CLOSE_WIDGET;e===m.Route.CALL_POPUP&&(t=w.ScriptName.CLOSE_WIDGET),(0,F.isMinRoute)(e)&&(t=w.ScriptName.MIN_WIDGET),t==w.ScriptName.OPEN_WIDGET&&C.reduxStore.getState().transition.currentScript==w.ScriptName.MAXIMIZE_WIDGET||S.transitionDispatchers.initializeTransitionStore({currentScript:t})},getCurrentChatStatus(){return(0,D.getApp)().chatAccepted?A.ChatState.ACCEPTED:(0,D.getApp)().chatStarted?A.ChatState.STARTED:A.ChatState.NOT_STARTED_OR_CLOSED},checkChatStarted(e){(0,D.getApp)().isOnline||(W.log("checkChatStarted for offline."),S.appDispatchers.setLastChatOpened(e),d.default.store.length||e||S.appDispatchers.setChatStarted(!1))},initSocial(){$||(I.default.startSocials(),$=!0)},addMessagesOnOpen(){v.messageActions.addMessagesOnOpen((0,D.getApp)().isOnline)}};var Y=K;t.default=Y},54346:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.reportVisitorSentTelemetry=t.markInvitationAnswered=t.isAssistantBot=t.checkTrackClientAnswer=void 0;var i=a(n(138)),o=a(n(14264)),r=n(78692),s=n(26932),l=n(55329),u=n(54415),c=n(83170),d=n(44145),f=n(97939),p=n(43914),h=n(60718);const g=()=>{if((0,d.getApp)().chatStarted){const e=o.default.getCurrentChatAgentMessages(),t=o.default.getCurrentClientMessages();t&&!t.length&&e&&e.length&&i.default.trackClientAnswerAgentChatRequest()}else i.default.trackClientInitChat(),(0,p._callUserFunction)("onClientStartChat")};t.checkTrackClientAnswer=g;t.markInvitationAnswered=()=>{const{name:e,campaignId:t}=(0,d.getProactive)();t&&u.Monitoring.reportStats(h.StatType.CHAT_INIT,t),e&&(i.default.trackProactiveInvitationAccepted(e),s.proactiveDispatchers.setName(null),u.Monitoring.telemetry(c.TelemetryName.INVITE_ACCEPTED)),g(),r.ApiInvitationsManager.isInitialized()&&r.ApiInvitationsManager.hasInvitations()&&r.ApiInvitationsManager.markInvitationsAnswered()};t.reportVisitorSentTelemetry=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=o.default.getChatCounts(),n=(0,l.prechatUsed)()?"prechat_used":"from_input",a={param1:t>0?"old":"new",param2:n,param3:(0,d.getUserSettings)().locale,param4:e?"media":"text"};u.Monitoring.telemetry(c.TelemetryName.VISITOR_MSG_SENT,a)};t.isAssistantBot=()=>{const e=(0,d.getBots)();return e.length&&e[0].type===f.BotType.ASSISTANT}},65465:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.messageActions=void 0;var i=a(n(26754)),o=n(44145),r=n(16016),s=n(69882),l=n(92560),u=a(n(1039)),c=a(n(19955)),d=a(n(14264)),f=a(n(79868)),p=a(n(84726)),h=a(n(4855)),g=n(21476),m=n(47060),_=n(81152),v=n(55329),b=n(52028),y=n(54415),E=n(83170),T=n(43914),C=n(13077),S=n(81722),O=n(26932),A=a(n(35802)),w=n(47138),I=a(n(63427)),M=n(66934),R=a(n(91275)),N=n(97615),P=n(94537),D=n(62162),L=n(15787),k=n(54346),x=n(80161),B=n(54346);const j=h.default.name("MessageActions");const F=new class{constructor(){this.cacheOfflineMsg={},this.mediaFile=!1,this.formTimeout=null,this.clientSendingFirstMessage=!1}systemMessage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];j.log("systemMessage",e,t);const a={type:"text"!==t?"call":t,name:t};n||(a.unsave=!0),O.messagesDispatchers.addMessage({text:e,type:_.MessageType.SYSTEM,body:a})}testMessage(e){O.messagesDispatchers.addMessage({text:e,type:_.MessageType.FOR_TEST,from:_.MessageInitiator.AGENT})}botMessage(e){j.log("botMessage",e),O.messagesDispatchers.addMessage({type:_.MessageType.PREFORM,text:e,from:_.MessageInitiator.FORM})}messageOnce(e,t,n,a){const i=this.checkIfMessageExists(e,t);if(j.log("messageOnce",i),!i)switch(e){case _.MessageType.SYSTEM:this.systemMessage(t,n,a);break;case _.MessageType.PREFORM:this.botMessage(t);break;case _.MessageType.FOR_TEST:this.testMessage(t)}}systemMessageOnce(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.messageOnce(_.MessageType.SYSTEM,e,t,n)}botMessageOnce(e){this.messageOnce(_.MessageType.PREFORM,e)}checkIfMessageExists(e,t){const n=(0,o.getMessages)();if(!n.length)return!1;const a=n.find((n=>{const a=n.type===e,i=!t||n.text===t;return a&&i}));return a||!1}_sendClientMessageBase(e,t){j.warn("_sendClientMessageBase",e,t);const n=t||(0,r.generateGUID)();(0,B.markInvitationAnswered)(),(0,D.saveLastProactive)(),this.saveLastSystemMessage();const a={name:"client_message",message:e,private_id:n},i=(0,o.getApp)(),l=(0,o.getClient)();l.departmentId&&(a.widget_department_id=l.departmentId);const c=!(0,B.isAssistantBot)()&&!l.isIntroduced&&!i.isOnline;let p=null;if(!this.mediaFile&&!t){const t={from:_.MessageInitiator.CLIENT,text:e,type:c?_.MessageType.TEMPORARY:_.MessageType.MESSAGE,private_id:n,status:_.MessageStatus.SENT};(0,v.prechatUsed)()&&(t.body={is_prechat:!0}),(0,B.isAssistantBot)()&&(0,L.sendClientAnswerTelemetry)(t),p=d.default.push(t),O.messagesDispatchers.addMessage(t,!0)}if(1!==d.default.getClientMessages().length||this.clientSendingFirstMessage||(this.clientSendingFirstMessage=!0,(0,T._callUserFunction)("onMessageSent")),(0,s.isWixEditor)()||b.isDesignerEditor)return void j.warn("send message disabled.");if(!p&&t&&(p=d.default.getMessageByPrivateId(t)),(0,v.prechatEnabled)()&&((0,v.prechatUsed)()&&(a.is_prechat_btn=!0),this.deletePrechatMsg()),3==u.default.contacts_ask&&f.default.isLoginned()&&this.initSocial(),this.startContactFormIfNeed(),x.RouterUtils.canShowIntroduceForm())return void g.Router.next(m.RouterEvent.ToIntroduce);if(this.mediaFile&&(a.media=this.mediaFile.file,a.private_id=this.mediaFile.privateId,this.mediaFile=!1),(0,C.getRuleLocal)("firstMessageTime")||(0,C.setRuleLocal)("firstMessageTime",new Date),p){if(c)return;setTimeout((()=>{(0,M.checkForDelivered)(p)}),2e3)}O.appDispatchers.setChatStarted(!0),O.appDispatchers.setLastMsgTime((new Date).getTime());const h=A.default.getInstance().managers.connection;R.default.checkConnection((()=>{h.send(a)})),(0,k.reportVisitorSentTelemetry)()}startContactFormIfNeed(){this.needToShowContactsForm()&&!u.default.bots&&this.startFormSequence((0,o.getApp)().isOnline?(0,p.default)("lblIntroduceRequest"):(0,p.default)("offlineIntroductionText"))}needToShowContactsForm(){if(j.warn("needToShowContactsForm"),(0,B.isAssistantBot)())return!1;const e=(0,o.getApp)(),t=(0,o.getClient)(),n=(0,o.getUserSettings)();return!t.isIntroduced&&!i.default.bot_id&&(-1!==[P.ContactsType.DURING_CHAT,P.ContactsType.DURING_CHAT_NO_CLOSE].indexOf(n.contactsAsk)||!e.isOnline)&&!d.default.getFormMessage().length&&d.default.getClientMessages().length}checkContactsForm(){if(this.needToShowContactsForm()){const e=(0,p.default)("lblIntroduceRequest"),t=this.checkIfMessageExists(_.MessageType.PREFORM,e);if(t||this.botMessage(e),t){const e=d.default.getMessageByPrivateId(t.private_id);e&&e.set("created_ts",(new Date).getTime())}this.addContactsForm()}}addContactsForm(){j.warn("addContactsForm");const e=this.checkIfMessageExists(_.MessageType.FORM);if(e){const t=d.default.getMessageByPrivateId(e.private_id);t&&t.set("created_ts",(new Date).getTime()+1)}else O.messagesDispatchers.addMessage({type:_.MessageType.FORM,from:_.MessageInitiator.FORM}),this.addSocialTelemetry()}saveLastSystemMessage(){const e=d.default.getLastMessage();e&&"system"==e.get("type")&&e.get("body")&&e.get("body").unsave&&e.set("body",null)}storeMediaFile(e,t){this.mediaFile={file:e,privateId:t}}addSocialTelemetry(){const{links:e}=f.default.getJoints();let t="";e.vkUrl&&e.fbUrl&&(t="show_vkfb"),e.vkUrl&&!e.fbUrl&&(t="show_vk"),!e.vkUrl&&e.fbUrl&&(t="show_fb"),(e.vkUrl||e.fbUrl)&&y.Monitoring.telemetry(E.TelemetryName.CHAT_INTRODUCE_SOCIAL,{param1:t})}initSocial(){if(j.log("initSocial",f.default.isLoginned()),!d.default.getMessagesByType(_.MessageType.SOCIAL).length&&!c.default.mobileOrTablet()){const e=(0,o.getClient)();setTimeout((()=>{1!==d.default.getCurrentClientMessages().length||e.hasIntegration||(i.default.bot_id||O.messagesDispatchers.addMessage({text:(0,p.default)("social_online_text"),type:_.MessageType.SYSTEM,body:{type:_.MessageType.SOCIAL}}),setTimeout((()=>{this.addSocialMessage()}),2e3))}),2e3)}}addSocialMessage(){const e=(0,o.getClient)();j.log("addSocialMessage"),u.default.joint&&!e.email&&!e.hasIntegration&&!c.default.mobileOrTablet()&&!d.default.getMessagesByType(_.MessageType.SOCIAL).length&&d.default.getCurrentClientMessages().length>0&&O.messagesDispatchers.addMessage({text:"",type:_.MessageType.SOCIAL})}getOfflineSuccessText(){return(0,p.default)("offlineSuccessContactsSubmit")}offlineSystemInvite(){if(!u.default.maintenance&&!(0,o.getApp)().isOnline&&!(0,o.getApp)().chatStarted){const e=(0,o.getUserSettings)().offlineFormText;j.log("offlineSystemInvite",e),this.messageOnce(_.MessageType.FOR_TEST,e)}}startFormSequence(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:700;j.log("startFormSequence",e,t),(0,o.getApp)().isOnline&&i.default.bot_id&&!u.default.enable_bot_offline||((0,B.isAssistantBot)()?j.log("Disable form for assistant bot."):(this.formTimeout&&clearTimeout(this.formTimeout),(0,o.getApp)().isOnline||this.setInputDisabled(!0),t?this.formTimeout=setTimeout((()=>{0===d.default.getFormMessage().length&&(e&&this.botMessageOnce(e),setTimeout((()=>{this.addContactsForm()}),t),y.Monitoring.telemetry(E.TelemetryName.CHAT_INTRODUCE,{param1:"show"}))}),t):0===d.default.getFormMessage().length&&(e&&this.botMessageOnce(e),this.addContactsForm(),y.Monitoring.telemetry(E.TelemetryName.CHAT_INTRODUCE,{param1:"show"}))))}deleteUnansweredOfflineSystemInvite(){if(j.warn("deleteUnansweredOfflineSystemInvite"),0===d.default.getTemporaryMessages().length){this.deleteOfflineSystemInvites();const e=(0,o.getClient)();(0,S.isValidEmail)()||e.isIntroduced||this.deleteOfflineTmpMessage(),O.messagesDispatchers.initializeMessagesStore()}}deleteOfflineTmpMessage(){j.warn("deleteOfflineTmpMessage"),this.destroyByType(_.MessageType.FOR_TEST),this.destroyByType(_.MessageType.TEMPORARY),(0,o.getApp)().isOnline&&0==u.default.contacts_ask||(this.destroyByType(_.MessageType.PREFORM),this.destroyByType(_.MessageType.FORM))}addPrechatMessage(){if(!(0,v.prechatEnabled)())return;const e=d.default.getMessagesByType(_.MessageType.PRECHAT),t=(0,o.getApp)();!t.isOnline||t.chatStarted||e.length?e.length&&(e[0].set("created_ts",(new Date).getTime()),d.default.sort(),d.default.trigger("update")):this.pushPrechat()}pushPrechat(e){O.messagesDispatchers.addMessage({body:{unsave:!0,prechats:e||null},type:_.MessageType.PRECHAT,from:_.MessageInitiator.FORM})}deletePrechatMsg(){const e=d.default.getMessagesByType(_.MessageType.PRECHAT);e&&e.forEach((e=>{e&&e.destroy()}))}deleteOfflineSystemInvites(){const e=d.default.getMessagesByType(_.MessageType.FOR_TEST);j.log("deleteOfflineSystemInvites",e),e.forEach((e=>{e&&e.destroy()}))}addMaintenanceMessage(){this.systemMessageOnce((0,p.default)("maintenanceSystemText"),"text",!1),O.appDispatchers.setIsInputDisabled(!0)}deleteMaintenanceMessage(){j.log("deleteMaintenanceMessage");d.default.getSystemMessageByText((0,p.default)("maintenanceSystemText")).forEach((e=>{e&&e.destroy()}))}destroyByType(e){d.default.getMessagesByType(e).forEach((e=>{e&&e.destroy()}))}markdownMessage(e){j.log("markdownMessage",e),O.messagesDispatchers.addMessage({type:_.MessageType.MESSAGE,text:e,from:_.MessageInitiator.AGENT,body:{customerIO:!0,unsave:!0}})}systemCallMessage(e,t){const n=d.default.getLastMessage();(!n||n&&n.get("text")!==e)&&this.systemMessage(e.replace("<br />","\n"),t)}sendClientMessage(e,t){0!==d.default.getClientMessages().length||N.EnvironmentManager.isDesignerEditor()||N.EnvironmentManager.isRegPage()?this.sendClientMessageCheck(e,t):I.default.getStatus((()=>{this.sendClientMessageCheck(e,t)}))}sendClientMessageCheck(e,t){if(t){const e=A.default.getInstance();if(e){e.managers.connection.provider.setLastError(null)}}if(u.default.bots)return this._sendClientMessageBase(e,t),void(u.default.enable_bot_offline||this.handleContactsForm());(0,o.getApp)().isOnline||this.handleContactsForm(),this._sendClientMessageBase(e,t)}offlineAck(e){j.log("offlineAck"),(0,l.isEmpty)(this.cacheOfflineMsg)&&!e||(g.Router.getCurrentRoute()===m.Route.CHAT||c.default.mobileOrTablet()||g.Router.next(m.RouterEvent.ToChat),this.cacheOfflineMsg=e)}sendNoAgentsOnline(){u.default.bots||u.default.enable_bot_offline||(0,B.isAssistantBot)()||this.systemMessageOnce((0,p.default)("offlineForceOfflineMessage"))}handleContactsForm(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=(0,o.getClient)();if(!(0,o.getApp)().isOnline&&!t.isIntroduced&&d.default.getClientMessages().length&&(d.default.getOfflineTmpMessage()||e)){j.warn("handleContactsForm");const e=d.default.getFormMessage();if(0===e.length)this.startFormSequence((0,p.default)("offlineIntroductionText")),y.Monitoring.telemetryOnce(E.TelemetryName.NEWOFFLINE_FIRST_MESSAGE);else{const t=d.default.getFormIntroduceText();t.length&&t[0].set({text:(0,p.default)("offlineIntroductionText"),created_ts:(new Date).getTime()}),e[0].set("created_ts",(new Date).getTime()+1),d.default.sort(),setTimeout((()=>{d.default.trigger("update")}),200),this.setInputDisabled(!0)}}}handleBotContactsForm(){const e=(0,o.getClient)();j.log("handleBotContactsForm"),!e.isIntroduced&&u.default.bots&&u.default.enable_bot_offline&&0===d.default.getFormMessage().length&&(this.startFormSequence(),y.Monitoring.telemetryOnce(E.TelemetryName.NEWOFFLINE_FIRST_MESSAGE))}setInputDisabled(e){j.log("setInputDisabled",e),O.appDispatchers.setIsInputDisabled(e)}checkMessageStatus(e){return j.log("checkMessageStatus"),new Promise((t=>{setTimeout((()=>{const n=(0,o.getMessageByPrivateId)(e);let a=!1;n?n.msg_id||(O.messagesDispatchers.updateMessage({privateId:n.private_id},{status:_.MessageStatus.NOT_DELIVERED}),a=!0,t({isNotDelivered:a,isDeleted:n.status===_.MessageStatus.DELETED})):(a=!0,t({isNotDelivered:a,isDeleted:!1}))}),2e3)}))}setListpickerAnswer(e,t){j.log("setListpickerAnswer",e,t);const n=d.default.getMessageById(e);if(n){n.set("body.answer_id",t);const e=n.get("body.keyboard")[t];n.set("body.keyboard",[e]),n.get("body.force_reply")&&n.set("body.force_reply",null),this.destroyByType(_.MessageType.LISTPICKER),this.setInputDisabled(!1)}}hideEmailForm(){const e=d.default.getMessagesByType("email");e.length&&e[e.length-1].destroy()}addMessagesOnOpen(e){this.deleteUnansweredOfflineSystemInvite(),e?this.addPrechatMessage():this.offlineSystemInvite()}addWebRTCCallMessage(){j.warn("addWebRTCCallMessage");const e=(0,o.getChats)(),t=e[e.length?e.length-1:0],n=t&&t.joinedAgents[0],a=(0,r.generateGUID)(),i={from:_.MessageInitiator.AGENT,type:_.MessageType.WEB_RTC_CALL,from_id:n,private_id:a,body:{webRTCCallStatus:w.WebRTCCallStatus.INITIAL}};O.messagesDispatchers.addMessage(i),O.callbackDispatchers.setActiveWebRTCCallMessageId(a)}readProactive(){const e=(0,o.getProactive)();e.text&&e.status!==_.MessageStatus.READ&&O.proactiveDispatchers.setStatus(_.MessageStatus.READ)}};t.messageActions=F},62162:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setCurrentProactiveData=t.sendUpdateProactive=t.saveLastProactive=void 0;var i=a(n(26754)),o=n(81152),r=n(16016),s=n(26932),l=n(44145),u=a(n(35802)),c=n(13077),d=a(n(14264));const f=a(n(4855)).default.name("proactiveHelpers");t.setCurrentProactiveData=(e,t,n,a,l)=>{const u=i.default.toReduxFormat();return u.isBot?(s.botsDispatchers.addBot({avatarUrl:u.avatarUrl,id:u.id,name:u.name,title:u.title,isBot:!0}),s.chatsDispatchers.setJoinedBots([u.id])):(s.agentsDispatchers.addAgent(u),s.chatsDispatchers.addJoinedAgent(u.id)),{text:e,name:t,createdTs:(new Date).getTime(),privateId:(0,r.generateGUID)(),status:o.MessageStatus.EMPTY,agentId:u.isBot?null:u.id,botId:u.isBot?u.id:null,isMarkdown:!!n,prechats:a,campaignId:l}};t.sendUpdateProactive=e=>{const t=(0,l.getClient)().sessionId;if(!t)return void f.log("updateProactive no session.");const n={name:"update_client",jv_sess_id:t};e&&(n.proactive_rule={invitation_text:e.text,private_id:e.privateId,created_ts:Math.floor(e.createdTs/1e3)},e.agentId&&(n.proactive_rule.agent_id=e.agentId),e.botId&&(n.proactive_rule.bot_id=e.botId));const a=JSON.stringify(n);if((0,c.getRuleLocal)("lastUpdateProactiveEvent")!=a&&((0,c.setRuleLocal)("lastUpdateProactiveEvent",a),f.log("sendUpdateProactive",n),n.proactive_rule)){const e=u.default.getInstance();if(e){const t=e.managers.connection;t&&t.isOpen()&&t.send(n)}}};t.saveLastProactive=()=>{const e=d.default.getLastProactive();if(e){const t=e.toJSON(),n=t.body.is_markdown;t.body={...i.default,is_markdown:n||null},e.destroy(),s.messagesDispatchers.addMessage(t)}}},92443:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(26754)),o=a(n(14264)),r=a(n(91275)),s=a(n(19955)),l=a(n(138)),u=n(55329),c=n(21476),d=n(47060),f=n(65465),p=n(54415),h=n(83170),g=n(81152),m=n(26932),_=n(20361),v=n(44145),b=n(47138),y=n(44733),E=n(13077),T=n(69882),C=a(n(4855)),S=n(60718),O=n(62162);const A=C.default.name("ruleActions"),w=()=>{(0,v.getApp)().isOnline&&f.messageActions.deleteUnansweredOfflineSystemInvite(),c.Router.getCurrentRoute()!==d.Route.LABEL||s.default.mobileOrTablet()||(c.Router.next(d.RouterEvent.ToChat),m.transitionDispatchers.startTransition(_.ScriptName.OPEN_WIDGET),f.messageActions.readProactive())},I=e=>{y.StorageProvider.set("hide_reported",e)};var M={proactive:e=>{let{message:t,agentInfo:n,name:a,isMarkdown:o,prechats:r,campaignId:s}=e;Object.assign(i.default,n);const l=(0,O.setCurrentProactiveData)(t,a,o,r,s);m.proactiveDispatchers.addProactive(l);const c={is_markdown:o,unsave:!0,prechats:r||null};s&&(c.campaign_id=s);const d={from:g.MessageInitiator.AGENT,from_id:n.agent_id,status:g.MessageStatus.READ,private_id:l.privateId,text:l.text,created_ts:l.createdTs,type:g.MessageType.PROACTIVE,body:c};n.bot_id&&(d.from_id=n.bot_id,d.from=g.MessageType.BOT),m.messagesDispatchers.addMessage(d),m.userDispatchers.setCallHeaderText(null),w(),(0,O.sendUpdateProactive)(l),(0,u.updatePrechatTime)(l.createdTs),I(!1),s&&p.Monitoring.reportStats(S.StatType.SHOWN,s);const f=s?"campaign"+s:(0,E.isDefaultProactive)()?"default":"custom";p.Monitoring.telemetry(h.TelemetryName.CHAT_INVITE,{param1:f,param2:(0,E.timeDiff)((0,E.getRuleLocal)("pageEnterTime")),param3:(0,T.isCustomLabel)()?"customlabel":"label"})},showCallForm:(e,t)=>{r.default.requestCWAvailable((()=>{if(A.log("requestCWAvailable: ",(0,v.getCallback)().available),p.Monitoring.telemetry(h.TelemetryName.CWP_SHOW_ON_PROACTIVE),!s.default.mobileOrTablet()&&[b.CallPopupStatus.ENABLED,b.CallPopupStatus.ONLY_TRIGGERS].includes((0,v.getCallback)().separateForm))return m.userDispatchers.setCallHeaderText(e),c.Router.next(d.RouterEvent.ToCallPopup),"function"==typeof t&&t(),void I(!1);(0,v.getCallback)().available&&(0,v.getApp)().route==d.Route.LABEL&&(m.userDispatchers.setCallHeaderText(e),!s.default.mobileOrTablet()&&c.Router.next(d.RouterEvent.ToCall),m.transitionDispatchers.startTransition(_.ScriptName.OPEN_WIDGET),"function"==typeof t&&t(),I(!1))}))},systemMessage:e=>{if(i.default.bot_id)return;const t=o.default.getLastMessage();t&&t.get("type")===g.MessageType.SYSTEM&&t.get("text")===e&&t.destroy();const n={type:g.MessageType.SYSTEM,text:e};(0,v.getApp)().chatStarted||(n.body={unsave:!0}),m.messagesDispatchers.addMessage(n),w(),I(!1)},systemMessageEmail:e=>{m.messagesDispatchers.addMessage({type:"email",text:e,body:{unsave:!0}}),w(),l.default.trackSystemMessageEmailShown(),I(!1)},openOffline:()=>{f.messageActions.offlineSystemInvite(!0),w(),I(!1),p.Monitoring.telemetry(h.TelemetryName.OFFLINE_INVITE)}};t.default=M},64123:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setCallbackStatus=t.getStarupTime=t.enableMaintenance=void 0;var i=n(26932),o=a(n(4855)),r=n(65465),s=n(13077);const l=o.default.name("Action utils","color: grey;");t.enableMaintenance=()=>{l.log("Maintenance mode is on"),i.appDispatchers.setMaintenance(!0),i.callbackDispatchers.setCallbackAvailable(!1),r.messageActions.addMaintenanceMessage()};t.setCallbackStatus=e=>{l.log("setCallbackStatus",e),i.callbackDispatchers.setCallbackStatus(!!e&&e.status)};t.getStarupTime=()=>(((new Date).getTime()-(0,s.getRuleLocal)("sendStartupTime")||0)/1e3).toFixed(1)},138:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(68403),o=n(69882),r=a(n(4855)),s=n(55004);const l=r.default.name("analytics");var u={counters:{ya:0,fb:0,ga:0},_yaCounter:[],_trackedEvents:[],getCountersTelemetry:function(){return{param2:this.counters.ya,param3:this.counters.fb,param4:this.counters.ga}},getAnalyticsClientId:function(){const e=(0,o.getPageWindow)(),t={};return"function"==typeof e.ga&&("function"==typeof e.ga.getAll&&e.ga.getAll().forEach((e=>{t.ga||(t.ga=e.get("clientId"))})),this.counters.ga=1),!t.ga&&e.gaGlobal&&(t.ga=e.gaGlobal.vid,this.counters.ga=1),this._yaCounter.forEach((n=>{e[n]&&"function"==typeof e[n].getClientID&&(t.ym||(t.ym=e[n].getClientID()))})),t},isAnalyticsIdAvaiable:function(){if(!this.isEnabled())return!1;const e=this.getAnalyticsClientId();return l.log("Counters userId",e),!(!(0,i.isPaidCustomer)()||!e.ga&&!e.ym)&&e},init:function(){if(this.isEnabled()){this._yaCounter=[];try{const e=(0,o.getPageWindow)();for(const t in e)0===t.indexOf("yaCounter")&&"function"==typeof e[t].reachGoal&&(this._yaCounter.push(t),this.counters.ya=1);!this.counters.ya&&e.Ya&&e.Ya._metrika&&e.Ya._metrika.getCounters&&e.Ya._metrika.getCounters().forEach((t=>{const n=e["yaCounter"+t.id];n&&this._yaCounter.push(n)})),l.log("Active Yandex counters: ",this._yaCounter.length)}catch(e){l.log(e.toString())}}},isEnabled:function(){if(!(0,i.isAnalyticsDisabled)()&&(0,i.isPaidCustomer)())return!0},_trackEvent:function(e,t){if(!this.isEnabled())return;if(this._trackedEvents.indexOf(e)>=0)return;this.counters.ga&&this.counters.ya||this.init(),this._trackedEvents.push(e),l.info("_trackEvent: "+e+"/"+t);const n=(0,o.getPageWindow)();void 0!==n._gaq&&"function"==typeof n._gaq.push&&n._gaq.push(["_trackEvent","JivoSite",e,t,void 0,!0]),"function"==typeof n.ga&&"function"==typeof n.ga.getAll&&(n.ga.getAll().forEach((function(n){const a=n.get("name");l.log("track ga:",n.get("name"),e,t),a&&0!==a.search(/^gtag_/i)&&n.send("event","JivoSite",e,t,{nonInteraction:1})})),this.counters.ga=1);const a="function"==typeof n.gtag,i={event_category:"JivoSite",event_action:e,event_label:t};if(a&&(l.log("track gtag:",i),n.gtag("event","JivoSite",i),this.counters.ga=1),!a&&n.dataLayer&&"function"==typeof n.dataLayer.push&&(l.log("track dataLayer:",i),n.dataLayer.push(i),this.counters.ga=1),n._gaUA_real&&"function"==typeof n._gaUA_real.getAll){const a=n._gaUA_real.getAll();2==a.length&&(a[1].send("event","JivoSite",e,t,{nonInteraction:1}),l.log("Track event to custom tiu client counter",a[1].get("trackingId"),e,t)),this.counters.ga=1}if(n.gaUA&&"function"==typeof n.gaUA.getAll){const a=n.gaUA.getAll();a.length&&a.length>0&&a[1]&&"function"==typeof a[1].send&&(a[1].send("event","JivoSite",e,t,{nonInteraction:1}),l.log("Track event to custom tiu client counter",a[1].get("trackingId"),e,t)),this.counters.ga=1}if(this._yaCounter.length>0){e=["Jivo"].concat(e.split(" ")).join("_");var r=(0,o.getPageWindow)();this._yaCounter.forEach((function(t){r&&r[t]&&"function"==typeof r[t].reachGoal&&r[t].reachGoal(e)})),this.counters.ya=1}this.trackFBEvents(e)},_setCustomVar:function(e,t){l.log("_setCustomVar: "+e+"/"+t);const n=(0,o.getPageWindow)();if(void 0!==n._gaq&&n._gaq.push(["_setCustomVar",1,e,t,1]),"function"==typeof n.ga&&n.ga("set",e,t),this._yaCounter.length>0){const a={};a[e]=t,this._yaCounter.forEach((function(e){n[e].params(a)}))}},trackFBEvents:function(e){const t=(0,o.getPageWindow)().fbq;t&&!(0,i.isJivoSite)()&&(e=e.replace(/ /gi,"_").replace("Jivo_",""),l.log("trackFBEvents",e),(0,s.isFunction)(t)&&(t("trackCustom","Jivo",{content_name:e}),this.counters.fb=1))},trackChatOpenedByClick:function(){this._trackEvent("Chat requested","User clicked chat widget")},trackOfflineFormOpenedByClick:function(){this._trackEvent("Offline form shown","User offline form")},trackOfflineMessageSent:function(){this._trackEvent("Offline message sent","User sent message via offline form")},trackProactiveInvitationShown:function(e){this._trackEvent("Proactive invitation shown",e)},trackProactiveInvitationAccepted:function(e){this._trackEvent("Proactive invitation accepted",e)},trackProactiveInvitationRejected:function(e){this._trackEvent("Proactive invitation rejected",e)},trackChatConnected:function(){this._trackEvent("Chat established","User connected to agent")},trackGaveContacts:function(){const e="User gave contacts during chat";this._trackEvent(e,e)},trackCallWidgetInvitationShown:function(e){this._trackEvent("Callback invitation shown",e)},trackCallWidgetRequested:function(){this._trackEvent("Callback requested","User request callback.")},setABTestGroupContacts:function(e,t){this._setCustomVar(e,t)},trackSystemMessageEmailShown:function(){const e="In-chat email form shown";this._trackEvent(e,e)},trackSystemMessageEmailSubmitted:function(){const e="In-chat email form submitted";this._trackEvent(e,e)},trackContinueInSocial:function(e){this._trackEvent("Continue in social",`User clicked ${e} button`)},trackMobileSocial:function(e){const t=this.getSocialName(e);this._trackEvent(`Jivo_${t}`,`User tap ${t} mobile link`)},trackSocial:function(e){const t=this.getSocialName(e);this._trackEvent(`Jivo_${t}`,`User click ${t} label link`)},trackClientInitChat:function(){this._trackEvent("Client initiate chat","Client initiate chat")},trackClientAnswerAgentChatRequest:function(){const e="Client answer on agent request";this._trackEvent(e,e)},trackMobileCallClick:function(){this._trackEvent("Mobile call","Mobile call")},trackCallClick:function(){this._trackEvent("Callback button","User requested callback form")},trackPrechatClick:function(e){this._trackEvent("Prechat phrase clicked",e)},trackBotButtonClick:function(e){this._trackEvent("Client press bot button",e)},getSocialName(e){switch(e){case"vk":return"Vkontakte";case"fb":return"Facebook";case"ig":return"Instagram";case"wa":return"WhatsApp";case"tg":return"Telegram";case"vb":return"Viber";default:return e}}};t.default=u},42908:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1039)),o=a(n(95003)),r=n(69882),s=n(84727),l=n(68403),u=n(92560),c=a(n(27104)),d=a(n(19955)),f=a(n(5735)),p=a(n(138)),h=a(n(3415)),g=a(n(91275)),m=n(21476),_=n(47060),v=n(65465),b=a(n(86961)),y=n(54415),E=n(83170),T=a(n(14264)),C=a(n(98960)),S=a(n(79868)),O=n(78692),A=n(31984),w=n(26932),I=n(20361),M=n(13077),R=n(97615),N=a(n(73687)),P=a(n(35802)),D=n(15787),L=n(41504),k=n(62096),x=n(87692),B=n(44145),j=n(44145),F=n(46322),H=n(55004),U=n(21733),W=n(31802);const G=a(n(4855)).default.name("api","color: grey"),z={open:function(e){const t=(0,B.getApp)();if(y.Monitoring.telemetryWithProbability(E.TelemetryName.API_OPEN,{param1:e},E.RateLimit.High),N.default.get("is_blacklisted"))return{result:"fail"};const n=(0,r.getPageWindow)();n.jivo_cstm_widget&&d.default.mobileOrTablet()&&(n.jivo_cstm_widget.style.display="block");const a="object"==typeof e;return a&&"call"===e.start?i.default.callback_settings.time?(t.route===_.Route.CALL||(f.default.allRulesCancel(),g.default.pingAndOpenCall()),{result:"ok"}):(G.info("Callback is disabled."),{result:"fail",reason:"Callback is disabled"}):t.route===_.Route.CHAT?{result:"ok",opened:!0}:(w.appDispatchers.setAppIsFocused(!0),a&&"menu"===e.start?d.default.mobile()&&S.default.getJoints().count>0?(w.appDispatchers.setChatOpenByClient(!1),m.Router.next(_.RouterEvent.ToMobileMenu)):(w.transitionDispatchers.startTransition(I.ScriptName.OPEN_WIDGET),m.Router.next(_.RouterEvent.ApiOpen)):(d.default.desktop()&&w.transitionDispatchers.startTransition(I.ScriptName.OPEN_WIDGET),m.Router.next(_.RouterEvent.ApiOpen)),v.messageActions.offlineSystemInvite(),v.messageActions.addPrechatMessage(),n.jivo_cstm_widget&&d.default.mobileOrTablet()&&((0,B.getApp)().isOnline?p.default.trackChatOpenedByClick():p.default.trackOfflineFormOpenedByClick()),{result:"ok"})},close:function(){if(y.Monitoring.telemetryWithProbability(E.TelemetryName.API_CLOSE,{},E.RateLimit.High),N.default.get("is_blacklisted"))return{result:"fail"};if([_.Route.LABEL,_.Route.CHAT_MIN].indexOf((0,B.getApp)().route)>=0)return{result:"ok",closed:!0};if((0,W.closeWidget)(),d.default.mobileOrTablet())m.Router.next(_.RouterEvent.CloseWindow);else{const e=(0,B.getApp)().chatAccepted?I.ScriptName.MINIMIZE_WIDGET:I.ScriptName.CLOSE_WIDGET;w.transitionDispatchers.startTransition(e)}return{result:"ok"}},getContactInfo:function(){y.Monitoring.telemetryWithProbability(E.TelemetryName.API_GET_CONTACT_INFO,{},E.RateLimit.Low);const e=(0,j.getClient)();return{client_name:e.name,email:e.email,phone:e.phone,description:e.description}},getVisitorNumber:function(e){G.log("getVisitorNumber",e);const t=(0,j.getClient)().clientId;if(t&&t.indexOf(".")>0&&(0,H.isFunction)(e))return e(null,t.split(".")[0]);(0,H.isFunction)(e)?(y.Monitoring.telemetryWithProbability(E.TelemetryName.API_GET_VISITOR_NUMBER,{},E.RateLimit.Low),b.default.getVisitorNumber(((n,a)=>{if(G.log(n,a),n)G.log("Error fetch visitor number.");else if((0,F.isObject)(a.data)&&a.data.client_id&&a.data.result){const{client_id:n}=a.data;t||w.clientDispatchers.updateClient({clientId:n}),(0,H.isFunction)(e)&&(0,U.isString)(n)&&e(null,n.split(".")[0])}else G.error("Error fetching visitor number")}))):G.error("Please provide callback function in jivo_api.getVisitorNumber(callback)")},setUserToken:function(e){if(y.Monitoring.telemetryWithProbability(E.TelemetryName.API_SET_USER_TOKEN,{},E.RateLimit.High),"string"==typeof e||e instanceof String){let t;if(e==(0,j.getClient)().userToken)t={result:"fail",error:`Cant set same token: ${e}`};else{w.clientDispatchers.setUserToken(e);const n=P.default.getInstance();if(n){const t=n.managers.connection;t&&t.isOpen()?(t.send(new L.UpdateUserToken(e)),G.log(`Token updated, token: ${e}`)):G.log("Token set, but was not sent to the server")}t={result:"ok",token:e||!1}}return!i.default.enable_api_invitation&&R.EnvironmentManager.isProduction()||(0,B.getApp)().chatStarted||O.ApiInvitationsManager.initialize(e),t}return G.error("Bad token. The token must be type of string"),{result:"fail",token:e||!1}},setCustomData:function(e){y.Monitoring.telemetryWithProbability(E.TelemetryName.API_SET_CUSTOM_DATA,{},E.RateLimit.Low);const t=k.reduxStore.getState(),n=(0,x.selectApiDomain)(t),a=(0,s.validateCustomData)(e,n);return Array.isArray(a)?((0,D.checkCustomData)(a),{result:"ok"}):(G.error("Invalid custom data.",a),{result:"fail",reason:a})},sendMessage:function(e){if("string"!=typeof e||"[object Object]"===Object.prototype.toString.call(e))return{result:"fail",error:"First argument must be text to send message."};const t=T.default.getClientMessages();return t.length&&e==t[t.length-1].get("text")?{result:"fail",error:"You cannot send 2 messages in a row"}:(v.messageActions.sendClientMessage(e),y.Monitoring.telemetryOnce(E.TelemetryName.API_SEND_MESSAGE),{result:"ok"})},setContactInfo:function(e){if(y.Monitoring.telemetryWithProbability(E.TelemetryName.API_SET_CONTACT_INFO,{},E.RateLimit.Low),e&&"object"==typeof e){G.log("setContactInfo",e);const t={};let n=!1,a="";for(const i in e)if({}.hasOwnProperty.call(e,i)){const o=e[i];let r=i;"name"==r&&(r="client_name"),o&&C.default[r]&&C.default[r](o)?(t[i]=o,n=!0):(G.error(r+" not valid."),a+=r+" not valid.")}if(n){return(0,D.sendApiIntroduce)(t)?{result:"ok",data:t}:{result:"false",data:t,error:"Cant send same client contacts twice."}}return y.Monitoring.telemetryWithProbability(E.TelemetryName.API_SET_CONTACT_INFO_BAD_DATA,{},E.RateLimit.High),G.error("setContactInfo bad data",e),{result:"fail",error:a}}},showProactiveInvitation:function(e,t,n){const a=(0,j.getClient)();(0,M.isYandexMarketClient)(a.utm)?G.log("Disabled for YM clients"):(0,l.isPaidCustomer)()?(y.Monitoring.telemetryOnce(E.TelemetryName.API_SHOW_PROACTIVE),f.default.showProactive(e,+t,"jivo_api.showProactiveInvitation",n)):G.log("Proactive disabled for free users.")},highlightCobrowse:function(e,t,n){if(!e)return!1;h.default.getCobrowseData(e,t,n)},sendOfflineMessage:function(e){if(y.Monitoring.telemetryOnce(E.TelemetryName.API_SEND_OFFLINE_MESSAGE),G.log("sendOfflineMessage",e),(0,B.getApp)().isOnline)return{result:"fail",error:"Error send offline message when chat is online."};if(e&&"object"==typeof e){G.log("sendOfflineMessage",e);let t="";for(const n in e)if({}.hasOwnProperty.call(e,n)){const a=e[n];let i=n;"name"==i&&(i="client_name"),a&&C.default[i]&&C.default[i](a)||(G.error(i+" not valid."),t+=i+" not valid. ")}if(""==t){return(0,D.sendApiIntroduce)(e)?{result:"ok"}:{result:"fail",error:"Cant send same message and contacts twice."}}return G.warn("sendOfflineMessage bad data",e),y.Monitoring.telemetryOnce(E.TelemetryName.API_SEND_OFFLINE_MESSAGE_BAD_DATA),{result:"fail",error:t}}return{result:"fail",error:"Invalid params for offline message"}},setRules:function(e){return y.Monitoring.telemetryOnce(E.TelemetryName.API_SET_RULES),e&&"object"==typeof e?(i.default.rules=e,{result:"ok"}):(G.error("Invalid type of rules, must be object."),{result:"fail"})},chatMode:function(){return y.Monitoring.telemetryWithProbability(E.TelemetryName.API_CHAT_MODE,{},E.RateLimit.Low),i.default.chat_mode},setWidgetColor:function(e,t){y.Monitoring.telemetryOnce(E.TelemetryName.API_SET_WIDGET_COLOR);const n=c.default.isLightColor(e)?"dark":"light";w.userDispatchers.setWidgetColor(e),w.userDispatchers.setWidgetColor2(t||null),w.userDispatchers.setWidgetFontColor(n)},sendPageTitle:function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e&&"string"==typeof e?(g.default.updateTitle(e,n),t&&y.Monitoring.telemetryOnce(E.TelemetryName.API_SEND_PAGE_TITLE),{result:"ok"}):{result:"fail",reason:"Invalid title"}},isCallbackEnabled:function(e){"function"==typeof e&&(y.Monitoring.telemetryWithProbability(E.TelemetryName.API_IS_CALLBACK_ENABLED,{},E.RateLimit.High),(0,u.isEmpty)(i.default.callback_settings)?e({result:"fail",reason:"Callback disabled"}):g.default.requestApiCWAvailable(e))},startCall:function(e){const t=(0,j.getCallback)();if(G.log("api startCall",e),!t.available||(0,u.isEmpty)(i.default.callback_settings))return{result:"fail",reason:"Callback disabled"};if(e){const t=(0,A.getPhoneNumberInfo)(e);return t?(e="+"+t.number,m.Router.next(_.RouterEvent.ToCall),g.default.startCall(e,"from_api"),{result:"ok"}):{result:"fail",reason:"Invalid phone"}}return{result:"fail",reason:"Invalid phone"}},getUtm:function(){y.Monitoring.telemetryWithProbability(E.TelemetryName.API_GET_UTM,{},E.RateLimit.High);const e=(0,j.getClient)().utm;return{term:e.term||e.keyword||null,campaign:e.campaign||null,content:e.content||null,medium:e.medium||null,source:e.source||null}},getUnreadMessagesCount:function(){const e=(0,B.getUnreadMessages)(),t=(0,B.getLastChatId)();return e.filter((e=>e.chat_id===t)).length},clearHistory:()=>{w.clientDispatchers.resetClient(),o.default.reset(),w.appDispatchers.setDidFreezeData(!0),T.default.destroy(),G.log("Client info deleted, history cleared.")}};var V=z;t.default=V},3415:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(98661)),o=a(n(98661)),r=a(n(84726)),s=n(21951),l=n(9393),u=n(46322),c=n(11413),d=n(43025),f=a(n(19955)),p=a(n(1039)),h=a(n(90842)),g=a(n(93867)),m=n(54415),_=n(83170),v=n(97615),b=a(n(22541)),y=a(n(87736)),E=n(38632),T=a(n(4855)),C=n(95911),S=n(55004),O=n(67597),A=n(69882);const w=T.default.name("cobrowse"),I=window.parent.document,M=function(e,t){const n=window.top;"function"==typeof n.history.replaceState?n.history.replaceState({},t,e):"function"==typeof n.history.pushState&&n.history.pushState({},t,e)},R={init:function(){var e,t,n=!1,a={};h.default.install(window.parent),this._process=t=function(t,i){n?(w.log("controller of childSandboxBridge set as for NodeWebkit"),(e=D).setLangpack(a),e.init(),"in_node_webkit"===t&&window.parent.jivo_cobrowse.source.postMessage({name:"widget_ready"},window.parent.jivo_cobrowse.origin)):e=P,e[t]&&"is_node_webkit"!==t&&e[t](i)},(0,s.addListener)(window.parent,"message",(function(e){if(e&&e.data&&"object"==typeof e.data){var i=e.data;-1!==["startSelection","stopSelection","in_node_webkit"].indexOf(i.name)&&e.source&&e.origin&&(e.source,e.origin,n=!0,i.langpack&&(a=i.langpack),t(i.name,i))}}),!1)},process:function(e,t){this._process||this.init(),this._process(e,t)},create:function(e,t){R.process("highlight",e),R.process("renderTooltip",e),M(t,I.title)},postMessage:function(e){setTimeout((function(){window.parent.jivo_cobrowse.source.postMessage(e,window.parent.jivo_cobrowse.origin)}),0)},isNodeWebkit:function(){return isNodeWebkit},isOldCobrowse:e=>{if(10==e.length)return!0;let t=null;try{t=window.atob(e),(0,A.getPageWindow)().document.querySelector(t)}catch(e){t=!1}return!t},getCobrowseData:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(w.log("getCobrowseData",e,t,n,a),!R.isOldCobrowse(e)){const o=(0,A.getPageWindow)().location.href.replace((0,A.getPageWindow)().location.hash,"");if(t&&t!==o)(0,A.getPageWindow)().document.location.href=`${t}#jvhs_${e}`;else{t=(0,A.getPageWindow)().document.location.href;const o=`${t.split("#")[0]}#jvhs_${e}`;let s=null;try{s=window.atob(e)}catch(t){return w.error(t),void m.Monitoring.telemetry(_.TelemetryName.COBROWSE_FAILED,{param1:e,param2:t})}R.create({comment:n?(0,c.escape)(n):(0,r.default)("lblDefaultCobrowseComment"),element:s,hash:e,page:o,show:!0,agentId:a&&a.agentId,agent:a,cb:i},o)}return}const o=p.default.base_url+`/script/cobrowsing?hash=${e}`;C.xhrRequest.get(o,((n,a)=>{if(n)return(0,S.isFunction)(i)&&i(!1),m.Monitoring.telemetry(_.TelemetryName.COBROWSE_FAILED);const o=a.data;if((0,u.isObject)(o)){if(o.isDeleted)return(0,S.isFunction)(i)&&i(!1),m.Monitoring.telemetry(_.TelemetryName.COBROWSE_FAILED);0===o.comment.length&&(o.comment=(0,r.default)("lblDefaultCobrowseComment")),o.comment=(0,c.escape)(o.comment),b.default.stopBlinking();const n=(0,A.getPageWindow)().document.location.href.split("#")[0],a=t&&t+"#jvhs_"+e;t&&n!==t&&n!==encodeURI(t)?(0,A.getPageWindow)().document.location.href=a:(i&&(o.cb=i),R.create(o,a))}}))}};function N(e){var t=function(e){var t="",n=e.split(" > ");return(0,l.each)(n,(function(e){t+="/*",-1!==e.indexOf(":")&&(t+="["+e.substr(e.indexOf("(")+1,e.indexOf(")")-e.indexOf("(")-1)+"]")})),t}(e),n=I.querySelector(e);return n||I.evaluate(t,I,null,h.default.XPathResultType.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue}var P={is_inited:!1,isCobrowseVisible:function(e){return(0,d.isVisible)(e)&&"HTML"!=e.tagName&&"hidden"!=e.style.visibility&&"jivo-iframe-container"!=e.id&&"jivo_container"!=e.id},highlight:function(e){if(w.log("highlight"),"cobrowser-iframe"===window.parent.name&&!this.is_inited&&!D.is_inited){var t=I.createElement("link");t.setAttribute("rel","stylesheet"),t.setAttribute("href",(0,O.staticUrl)((v.EnvironmentManager.isDevelopment()?"/public":"")+"/css/for_app.css")),I.body.appendChild(t),this.is_inited=!0}var n;if(L(n="string"==typeof e.element?N(e.element):e.element)){if(e.hash&&null!==I.getElementById("#jivo_cobrowsing_element_id_"+e.hash))return this.animateScroll(e);(0,l.each)(["jivo_cobrowsing_element","jivo_cobrowsing_tooltip"],(function(e){(0,l.each)(I.getElementsByClassName(e),(function(e){e.parentNode.removeChild(e)}))}));var a,i=L(n),o=i.width,r=i.height;if(w.log(n,e),!n||!this.isCobrowseVisible(n))return"cobrowser-iframe"!==window.parent.name&&m.Monitoring.telemetry(_.TelemetryName.COBROWSE_FAILED),void(e.cb&&e.cb(!1));w.log("overlayCreate"),d(),w.log("overlayCss"),c(i,o,r),w.log("overlayAppend"),f(),window.parent&&"cobrowser-iframe"!==window.parent.name&&m.Monitoring.telemetry(_.TelemetryName.COBROWSE_SUCCESS,{param1:e.hash?e.hash.length:0});var u=function(){var t;if(t="string"==typeof e.element?N(e.element):e.element,a||(d(),f()),t){var n=L(t);c(n,n.width,n.height)}if(a)return a};return setTimeout((function(){u()}),50),(0,s.addListener)(window.parent,"resize",u),a||void 0}function c(e,t,i){a.style.width=t+"px",a.style.height=i+"px",a.style.left=e.left-8+"px",a.style.top=e.top-8+"px",k(n)&&(a.style.position="fixed")}function d(){a||((a=I.createElement("jdiv")).className="jivo_cobrowsing_element",a.id="jivo_cobrowsing_element_id_"+e.hash,I.body.appendChild(a))}function f(){if(!a){var e=I.createElement("jdiv");a.className="jivo_cobrowsing_element_inner",a.appendChild(e)}}w.log("cobrowse element position failed.")},renderTooltip:function(e){w.log("renderTooltip",e);var t,n=null!==I.getElementById("#jivo_cobrowsing_element_id_"+e.hash);if(!1!==n)return this.animateScroll(e),n;if(!(t="string"==typeof e.element?N(e.element):e.element)||!this.isCobrowseVisible(t))return w.log("Error render tooltip, element not visible"),void(e.cb&&e.cb(!1));var a=I.createElement("jdiv");a.className="",a.id="jivo_content_cobrowsing_tooltip",a.style.width="100%",a.style.height="auto";var i=I.createElement("jdiv");return i.className="jivo_cobrowsing_tooltip",f.default.mobile()&&(i.style.width="200px"),i.id="jivo_cobrowsing_tooltip_"+e.hash,k(t)&&(i.style.position="fixed"),i.appendChild(a),e.show&&(i=this.addTooltipContent(i,e,t),e.cb&&e.cb(!0)),i},appendTooltip:function(e,t){var n=e.childNodes[0];I.body.appendChild(e);var a=function(){if((0,d.addClass)(n,"jivo-bottom"),(0,d.removeClass)(n,"jivo-top jivo-left jivo-right"),t){var a=L(t),i=(0,A.getPageWindow)(),o=a.width,r=a.height,s=a.left+o/2,l=a.top-30+15,u=L(e),c=L(n),p=i.innerWidth||i.outerWidth,h=u.width/2*-1;l<c.height+10?(l=a.top+r+10,n.className+=" jivo-top"):(n.style.position="absolute",n.style.bottom="10px"),s+h<10&&(s=35,h=0,n.className+=" jivo-left"),f.default.mobile()?s+u.width+h>p&&(h=0,s=p-u.width):s+u.width>p&&(h=-1*u.width,s=a.left+o-30,n.className+=" jivo-right"),e.style.left=(0!==s?s:35)+"px",e.style.top=l+"px",e.style.marginLeft=h+"px"}};a(),e.style.opacity=0,this.animateScroll(null,t,n),setTimeout((function(){a(),e.style.opacity=1}),300),(0,s.addListener)(window.parent,"resize",a)},addTooltipContent:function(e,t,n){w.log("addTooltipContent",t);const a=e.childNodes[0],r=32&p.default.options&&t.agent,s=I.createElement("jdiv");s.dir="ltr",s.id="jivo_action",s.className="jivo-desktop";const l=window.parent.document.createElement("jdiv");if(l.id="jivo_close_button",l.innerHTML=g.default,s.appendChild(l),a.appendChild(s),l.addEventListener("click",(function(n){n.preventDefault();var a=I.getElementsByClassName("jivo_cobrowsing_element")[0];a.parentNode.removeChild(a),function(e){const t=window.top;t.location.href.indexOf("#jvhs_"+e)>0&&M(t.location.href.replace("#jvhs_"+e,""),(0,A.getCurrentPage)().title)}(t.hash),e.parentNode.removeChild(e)})),r&&t.agent){if(t.agent.avatar_url){const e=I.createElement("jdiv");e.className="jivo_cobrowsing_tooltip_avatar",a.appendChild(e),o.default.render(i.default.createElement(y.default,{dark:!1,inChat:!0,url:(0,O.getAvatarUrl)(p.default.avatar_url,t.agent.avatar_url)}),e)}const e=I.createElement("jdiv");e.innerText=t.agent.display_name,e.className="jivo_cobrowsing_tooltip_agent",a.appendChild(e)}const u=I.createElement("jdiv");return u.innerHTML=t.comment.split("\n").join("<br />"),u.className="jivo_cobrowsing_tooltip_text",a.appendChild(u),this.appendTooltip(e,n),e},animateScroll:function(e,t,n){if(e&&(t=I.getElementById("#jivo_cobrowsing_element_id_"+e.hash),n=I.getElementById("#jivo_cobrowsing_tooltip_"+e.hash).childNodes[0]),k(t))w.log("Ignore scroll for fixed element");else{var a={top:(n&&(0,d.hasClass)(n,"jivo-top")?L(t).top:L(n.parentNode).top)-300};I.documentElement&&"scrollBehavior"in I.documentElement.style&&(a.behavior="smooth"),w.log("scrollTo",a),window.parent.scrollTo(a)}}},D={is_selecting:!1,is_tooltip_open:!1,is_inited:!1,langpack:{},init:function(){if(!this.is_inited){var e=I.createElement("link");e.setAttribute("rel","stylesheet"),e.setAttribute("href",(0,O.staticUrl)((v.EnvironmentManager.isDevelopment()?"/public":"")+"/css/for_app.css")),I.body.appendChild(e),(0,s.removeEvent)(window.parent,"keydown",this.keydownListener),(0,s.addListener)(window.parent,"keydown",this.keydownListener),this.is_inited=!0}},keydownListener:function(e){27===e.keyCode&&D.onEsc()},setLangpack:function(e){this.langpack=e},i18n:function(e){return this.langpack[e]?this.langpack[e]:e},startSelection:function(){var e=D;(0,d.addClass)(I.body,"jivo_selecting"),e.is_selecting=!0,(0,l.each)(["input","textarea","select","button"],(function(e){(0,l.each)(I.getElementsByTagName(e),(function(e){const t=I.createElement("jdiv"),n=L(e);t.style.width=n.width+"px",t.style.height=n.height+"px",t.style.left=n.left+"px",t.style.top=n.top+"px",t.style.position="absolute",t.realNode=e,e.disabled=!0,I.body.appendChild(t)}))})),(0,l.each)(I.getElementsByTagName("*"),(function(t){(0,s.addListener)(t,"mouseover",e.mouseoverListener),(0,s.addListener)(t,"mouseout",e.clearSelection)}))},stopTagsA:function(){(0,l.each)(I.getElementsByTagName("a"),(function(e){(0,s.addListener)(e,"click",(function(e){return e.preventDefault(),e.stopPropagation(),!1}))}))},mouseoverListener:function(e){var t=D;if("OPTION"===this.tagName)return!1;t.clearSelection(),P.highlight({element:e.target}),t.stopTagsA(),(0,s.removeEvent)(e.currentTarget,"click",t.clickListener),(0,s.addListener)(e.currentTarget,"click",t.clickListener)},clickListener:function(e){var t=D;e.preventDefault(),e.stopPropagation();var n=this.realNode?this.realNode:this;t.stopSelection(),t.toolTip(n)},stopSelection:function(){var e=D;(0,d.removeClass)(I.body,"jivo_selecting"),(0,l.each)(["input","textarea","select","button"],(function(e){(0,l.each)(I.getElementsByTagName(e),(function(e){e.disabled=!1}))})),(0,l.each)(I.getElementsByClassName("fake_cb_element"),(function(e){e.parentNode.removeChild(e)})),(0,l.each)(I.getElementsByTagName("*"),(function(t){(0,s.removeEvent)(t,"mouseover",e.mouseoverListener),(0,s.removeEvent)(t,"mouseout",e.clearSelection),(0,s.removeEvent)(t,"click",e.clickListener)})),e.is_selecting=!1},clearSelection:function(){(0,l.each)(["jivo_cobrowsing_element","jivo_cobrowsing_tooltip"],(function(e){(0,l.each)(I.getElementsByClassName(e),(function(e){e.parentNode.removeChild(e)}))}))},toolTip:function(e){var t=D,n=P.renderTooltip({element:e}),a=n.childNodes[0];n.className+=" air",n.style.width="auto",a.style.padding="8px",a.style.width="auto",a.style.backgroundColor="";var i=I.createElement("textarea");i.id="cobrowsing_textarea_comment",i.maxLength=200,i.placeholder=t.i18n("cb_enterComment"),i.value="",i.onkeypress=function(n){13===n.keyCode&&(n.preventDefault(),n.stopPropagation(),t.send(e))},t.textInput=i;var o=I.createElement("button");o.className="btn btn-mimi blue on_dark large",o.innerText=t.i18n("cb_send"),o.style.float="right",o.style.position="relative",o.style.marginRight="8px",o.onclick=function(){t.send(e)};var r=I.createElement("button");r.className="btn btn-mimi grey on_dark large",r.innerText=t.i18n("cb_cancel"),r.style.float="right",r.style.position="relative",r.style.marginRight="5px",r.onclick=function(){t.closeTooltip()};var s=I.createElement("jdiv");s.style.clear="both",a.appendChild(i),a.appendChild(r),a.appendChild(o),a.appendChild(s),P.appendTooltip(n,e),i.focus(),t.is_tooltip_open=!0},send:function(e){var t=this.textInput.value;t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");var n={name:"on_send",page_element:function(e){for(var t=[];e.parentNode;){if(e.id){t.unshift("#"+e.id);break}if(e==e.ownerDocument.documentElement)t.unshift(e.tagName);else{for(var n=1,a=e;a.previousElementSibling;a=a.previousElementSibling,n++);t.unshift(e.tagName+":nth-child("+n+")")}e=e.parentNode}return t.join(" > ")}(e),page_url:window.parent.location.href,comment:t};w.log("postMessage",n),R.postMessage(n),f.default.supportsLocalStorage()&&E.parentLS.remove(`jv_${p.default.widget_id}_tmp_app`)},closeTooltip:function(){var e=D;e.stopSelection(),e.is_tooltip_open=!1,e.startSelection(),R.postMessage({name:"on_cancel"})},onEsc:function(){this.is_tooltip_open?this.closeTooltip():this.is_selecting?(this.stopSelection(),R.postMessage({name:"reset"})):R.postMessage({name:"close"})}};function L(e){var t,n,a=0,i=0,o=0,r=0,s={top:0,left:0},l=I,u=l.body;return t=l.documentElement,e&&void 0!==e.getBoundingClientRect?(s=e.getBoundingClientRect(),e&&!k(e)&&(n=(0,A.getPageWindow)(),a=t.clientTop||u.clientTop||0,i=t.clientLeft||u.clientLeft||0,o=n.pageYOffset||t.scrollTop,r=n.pageXOffset||t.scrollLeft),{top:s.top+o-a,left:s.left+r-i,right:s.right,width:e.offsetWidth,height:e.offsetHeight,windowWidth:u.innerWidth,windowHeight:u.innerHeight}):(m.Monitoring.telemetry(_.TelemetryName.COBROWSE_FAILED),!1)}function k(e){var t=!1;if(e)for(var n=e,a=[];n&&"HTML"!==n.tagName;){if(a.unshift(n),window.parent.window.Polymer&&!window.parent.jivo_cobrowse&&n.treeScope_){var i=n[Object.keys(n)[0]];"fixed"===getComputedStyle(i).position&&(t=!0)}else"fixed"===getComputedStyle(n).position&&(t=!0);n=n.parentNode}return t}var x=R;t.default=x},1039:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.getCometHost=function(){return u.chat_host},t.getConfig=function(){return u},t.getViHost=function(){return u.vi_host},t.initConfig=function(e){window.parent.jivo_config=u=e};var a,i=n(4425),o=n(94537),r=n(52028),s=n(68403),l=window.parent||window,u=l.jivo_config;switch(u||(u={}),n.p="https:"+u.base_url+"/",u.chat_mode){case i.ChatMode.ONLINE:case 1:u.chat_mode=i.ChatMode.ONLINE;break;case i.ChatMode.OFFLINE:case 0:u.chat_mode=i.ChatMode.OFFLINE}u.bots&&u.enable_bot_offline&&(u.chat_mode=i.ChatMode.ONLINE),u.callback_settings||(u.callback_settings={});const c=u.contacts_settings;c&&u.contacts_ask===o.ContactsType.BEFORE_CHAT&&(c.phone.show||c.email.show||c.name.show||(u.contacts_settings.email.show=!0)),c||(u.contacts_settings={name:{show:!1,required:!1},email:{show:!0,required:!0},phone:{show:!1,required:!1}});const d=u.chat_mode==i.ChatMode.ONLINE;d&&u.contacts_ask===o.ContactsType.DISABLED&&!(0,s.isEmailOrPhoneRequired)(u.contacts_settings)&&(u.contacts_settings.email={show:!0,required:!0}),d||(0,s.isEmailOrPhoneRequired)(u.contacts_settings)||(u.contacts_settings=(0,s.fixOfflineSettings)(u.contacts_settings)),u.widget_color2||"#383345"!=u.widget_color||(u.widget_color="#2F324A",u.widget_color2="#424867",u.power_gradient=1),u.bubble_color||(u.bubble_color="green"),"[object Object]"===Object.prototype.toString.call(l.wix_context)&&"[object Object]"===Object.prototype.toString.call(l.jivo_wix)&&Object.assign(u,l.jivo_wix),l.jivo_in_wix_iframe&&(u.widget_orientation="bottom"),r.isDesignerEditor&&Object.assign(u,l._desingerConfig),u.joint&&"RU"==(null===(a=u.geoip)||void 0===a?void 0:a.split(";")[0])&&(delete u.joint.ig,delete u.joint.fb),u.disable_botmode&&(u.botmode=null);var f=u;t.default=f},99040:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ACTIVE_TEST=void 0;n(53049);t.ACTIVE_TEST=!1},52274:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PROACTIVE_TEXT_LIMIT=t.PROACTIVE_MAX_HEIGHT=t.MP_LINE_HEIGHT=t.MP_AGENT_HEIGHT=t.MINIMAL_WIDGET_HEIGHT=t.MAX_IMAGE_WIDTH=t.MAX_FILE_SIZE=t.MAX_ALLOWED_USER_ZOOM=t.MAINT_RECONNECT_TIMEOUT=t.LABEL_HEIGHT=t.INPUT_HEIGHT=t.HEADER_HEIGHT=t.DEFAULT_WIDGET_HEIGHT=t.CHAT_WIDTH=t.CACHE_KEY=t.AWAY_CLIENT_TIMEOUT=t.APP_INVITE_TIME=t.API_INVITES_CACHE_TIME=void 0;t.AWAY_CLIENT_TIMEOUT=144e5;t.APP_INVITE_TIME=8e3;t.PROACTIVE_TEXT_LIMIT=50;t.PROACTIVE_MAX_HEIGHT=74;t.MP_LINE_HEIGHT=19;t.MP_AGENT_HEIGHT=28;t.API_INVITES_CACHE_TIME=18e5;t.CACHE_KEY="api_invites";t.HEADER_HEIGHT=70;t.INPUT_HEIGHT=106;t.MAINT_RECONNECT_TIMEOUT=3e5;t.MAX_FILE_SIZE=10485760;t.MINIMAL_WIDGET_HEIGHT=402;t.CHAT_WIDTH=336;t.LABEL_HEIGHT=40;t.DEFAULT_WIDGET_HEIGHT=496;t.MAX_IMAGE_WIDTH=234;t.MAX_ALLOWED_USER_ZOOM=1.03},85948:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.addSyncExclude=void 0;var i=a(n(19955)),o=n(43025),r=n(44733),s=n(9393),l=n(90991),u=a(n(4855));const{EventEmitter:c}=n(89766),d=u.default.name("createStore"),f=["pa_id"],p=["widget_color","widget_color2","widget_font_color","show_container","started"];function h(e,t){for(var n in t)if(t[n]&&t[n].constructor&&t[n].constructor===Object)e[n]=e[n]||{},h(e[n],t[n]);else{if(window.parent.window&&window.parent.window.isWixPreview)return!0;"route"===n&&i.default.mobileOrTablet()||"cobrowser-iframe"===window.parent.name||-1!==p.indexOf(n)||(e[n]=t[n])}return e}t.addSyncExclude=e=>{f.push(e),p.push(e)};var g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if("JivoStore"==e.__type)return e;var n=JSON.stringify(e),a=i.default.supportsLocalStorage(),u=new c,g=(0,l.debounce)((()=>{u.emit("update",e)}),10),m=()=>{if(a){const n=(t=>{let n={...t};return t?h(n,e):n=e,n})(r.StorageProvider.get(t));r.StorageProvider.set(t,n)}},_=(e,n)=>{var a=e[n];Object.defineProperty(e,n,{set:e=>{if(a!=e&&(a=e,g(),t)){if(!(0,o.pageVisible)()&&f.indexOf(n)>-1)return;if(p.indexOf(n)>-1)return;if(window.parent&&"cobrowser-iframe"===window.parent.name)return;m()}},get:()=>a})},v=e=>{(0,s.each)(e,((t,n)=>{"function"!=typeof t&&(t&&"object"==typeof t&&"number"!=typeof t.length?v(t):_(e,n))}))},b=()=>{if(t)try{const n=r.StorageProvider.get(t);h(e,n)}catch(e){d.error(e)}},y=()=>{e=JSON.parse(n),v(e),m(),g()};return v(e),b(),Object.defineProperty(e,"__type",{enumerable:!1,configurable:!1,writable:!1,value:"JivoStore"}),Object.defineProperty(e,"addListener",{enumerable:!1,configurable:!1,writable:!1,value:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"update",t=arguments.length>1?arguments[1]:void 0;return"function"==typeof e&&(t=e,e="update"),u.addListener(e,t)}}),Object.defineProperty(e,"dispatch",{enumerable:!1,configurable:!1,writable:!1,value:()=>{g()}}),Object.defineProperty(e,"reload",{enumerable:!1,configurable:!1,writable:!1,value:()=>{b()}}),Object.defineProperty(e,"reset",{enumerable:!1,configurable:!1,writable:!1,value:()=>{y()}}),e};t.default=g},33180:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.cssLoader=void 0;var i=a(n(1039)),o=a(n(48553));window.parent.__jivoBundleInit&&window.parent.__jivoBundleInit(window);const r=(()=>{let e=window.parent.location.protocol;return-1===["http","https","http:","https:"].indexOf(e)&&(e="https:"),e})()+i.default.base_url+"/css/510a715/widget.css",s=new o.default(window.parent.document,r);t.cssLoader=s},83778:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.detectType=t.default=t.chatServerHost=void 0;var i=a(n(1039)),o=n(69882),r=n(67597),s=n(68403);a(n(4855)).default.name("utils","color: grey");const l=()=>"https://"+i.default.chat_host;t.chatServerHost=l;const u=e=>e.indexOf("image")>=0&&-1==e.indexOf("photoshop")&&-1==e.indexOf("svg")?"photo":e.indexOf("video")>=0?"video":e.indexOf("audio")>=0?"audio":"document";t.detectType=u;var c={detectType:u,isAppCobrowse:o.isAppCobrowse,isCustomLabel:o.isCustomLabel,getProtocol:o.getProtocol,chatServerHost:l,staticUrl:r.staticUrl,getUtmLink:r.getUtmLink,getUnicodeHref:o.getUnicodeHref,getCurrentPage:o.getCurrentPage,isWixEditor:o.isWixEditor,showAd:s.showAd,getPageWindow:o.getPageWindow,getHostURL:r.getHostURL,getChatPageToken:o.getChatPageToken};t.default=c},87869:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useClickListener=function(e,t){(0,a.useEffect)((()=>{if((0,i.isFunction)(t)&&e.current){const n=n=>{e.current&&(n.preventDefault(),t(n))},a=e.current;return a.addEventListener("mousedown",n),a.addEventListener("touchstart",n),()=>{a.removeEventListener("mousedown",n),a.removeEventListener("touchstart",n)}}}),[e,t])};var a=n(98661),i=n(55004)},57985:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useClickOutside=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.parent.document;(0,a.useEffect)((()=>{if((0,i.isFunction)(t)){const a=n=>{e.current&&!e.current.contains(n.target)&&t(n)};return n.addEventListener("mousedown",a),n.addEventListener("touchstart",a),()=>{n.removeEventListener("mousedown",a),n.removeEventListener("touchstart",a)}}}),[e,t,n])};var a=n(98661),i=n(55004)},49862:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useDidUpdate=function(e,t){const n=(0,a.useRef)(!1);(0,a.useEffect)((()=>{n.current?e():n.current=!0}),t)};var a=n(98661)},63664:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useErrorCatcher=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const[n,r]=(0,a.useErrorBoundary)((t=>{t.message+=` (in ${e} component)`,i.Monitoring.reportException(t)}));if(n)return(0,o.isFunction)(t)?t({error:n,resetError:r}):t};var a=n(30396),i=n(54415),o=n(55004)},2535:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useForm=function(e){let{initialValues:t,initialErrors:n,validate:c,schemas:d,focusOnFirstError:f}=e;const[p,h]=(0,a.useState)(s(n)),[g,m]=(0,a.useState)(t),[_,v]=(0,a.useState)({}),[b,y]=(0,a.useState)(0),E=!l(p),T=b>0,C=(0,a.useRef)(null);(0,r.useDidUpdate)((()=>{if(M(),C.current&&f&&!(0,o.isEmpty)(p)){const e=`[name="${Object.keys(p)[0]}"]`;C.current.querySelector(e).focus()}}),[b]);const S=()=>h({}),O=(e,t)=>h((n=>({...n,[e]:t}))),A=e=>h((t=>{const n={...t};return delete n[e],n})),w=(e,t)=>{const n=(0,i.isFunction)(null==d?void 0:d[e])?d[e](t):t;m((t=>({...t,[e]:n}))),A(e),I(e)},I=e=>v((t=>({...t,[e]:!0}))),M=()=>v({}),R=()=>{const e=u(c,g);return h(e.errors),e};return{errors:p,values:g,submitCount:b,isValid:E,isSubmitted:T,formRef:C,setErrors:h,setValues:m,clearErrors:S,setFieldError:O,clearFieldError:A,setFieldValue:w,validate:R,validateField:e=>{const t=function(e,t,n){const a=u(t,n),i=e in a.errors;return{hasError:i,error:i?a.errors[e]:null}}(e,c,g);return t.hasError?O(e,t.error):A(e),t},onSubmit:e=>t=>{t.preventDefault(),y((e=>e+1)),!R().hasErrors&&e(g,t)},reset:()=>{m(t),S(),M()},getInputProps:e=>{return{state:{isDirty:_[e],isValid:!p[e],isEmpty:g[e]&&g[e].length>0},attrs:{value:g[e],error:p[e],onChange:(t=t=>w(e,t),e=>{t("object"==typeof e&&"nativeEvent"in e?e.currentTarget.value:e)})}};var t}}};var a=n(98661),i=n(55004),o=n(92560),r=n(49862);function s(e){return e?Object.keys(e).reduce(((t,n)=>{const a=e[n];return a&&(t[n]=a),t}),{}):{}}function l(e){return Object.keys(e).length>0}function u(e,t){return e?function(e){const t=s(e);return{hasErrors:l(t),errors:t}}(e(t)):{hasErrors:!1,errors:{}}}},81366:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useIsOnline=function(){const[e,t]=(0,o.useToggle)(r.navigator.onLine);return(0,a.useEffect)((()=>(r.addEventListener("online",t),r.addEventListener("offline",t),()=>{r.removeEventListener("online",t),r.removeEventListener("offline",t)})),[t]),e};var a=n(98661),i=n(69882),o=n(9335);const r=(0,i.getPageWindow)()},77389:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.useListenedStyle=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=(0,i.useRef)(u(e,t));return(0,i.useEffect)((function(){o.default.listenChangeZoom((()=>{n.current=u(e,t)}))}),[t,e]),n.current};var i=n(98661),o=a(n(74379)),r=n(46322),s=n(90872);function l(e,t){return{textSize:o.default.getTextSize(),lineHeight:o.default.getLineHeight(t),zoom:o.default.getAppZoom()}[e]}function u(e,t){return t?(0,s.isArray)(e)?e.map((e=>(0,r.isObject)(e)?l(e.name,e.repass):l(e))):(0,r.isObject)(e)?l(e.name,e.repass):l(e):[]}},55330:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useMergeRefs=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.useMemo)((()=>t.every((e=>(0,o.isUndefined)(e)||(0,i.isNull)(e)))?null:e=>{t.forEach((t=>{t&&l(t,e)}))}),t)};var a=n(98661),i=n(98986),o=n(28008),r=n(55004),s=n(4623);function l(e,t){(0,o.isUndefined)(e)||(0,i.isNull)(e)||((0,r.isFunction)(e)?e(t):(0,s.tryCatch)((()=>e.current=t),(()=>{throw new Error(`Cannot assign value '${t}' to ref '${e}'`)})))}},9335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useToggle=void 0;var a=n(98661);const i=(e,t)=>"boolean"==typeof t?t:!e;t.useToggle=e=>(0,a.useReducer)(i,e)},84726:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1039));function o(e){return"custom_langpack"in i.default&&e in i.default.custom_langpack?i.default.custom_langpack[e].replace(/\n/g,"<br />").replace(/&quot;/g,'"').replace(/&#039;/g,"'"):function(e){return window.base_langpack&&window.base_langpack[e]?window.base_langpack[e].replace(/\n/g,"<br />").replace(/&nbsp;/g,"¬†"):e}(e)}function r(e){var t=window.parent.currentDownloadLocale,n=window.parent.customLocale,a=window.parent.domKeys;return a&&a[e]&&t&&t[e]?n[e]||t[e]:"{{_"+e+"_}}"}var s=window.parent&&window.parent.__jivoPhraseappEditor?r:o;t.default=s},88319:function(e,t){"use strict";t.Z=void 0,function(e){var t={CONNECTING:0,OPEN:1,CLOSING:2,CLOSED:3},n={1e3:"Normal Closure",1001:"Going away",1002:"Protocol error",1003:"Unsupported data",1004:"reserved",1005:null,1006:null,1007:"Invalid frame payload data",1008:"Policy violation",1009:"Message Too Big",1010:"Mandatory Ext.",1011:"Internal Error",1012:"Service Restart",1013:"Try Again Later",1014:"Unassigned",1015:"TLS handshake",3001:"Attempts have Ended",3333:"Spam detected",4e3:"Application Closure",4999:"Last Code"},a=function(){},i=function(){throw new Error("Not implemented")},o=Date,r=function(e,t){this.name="NetworkError",this.code=t<<0,this.message=String(e)};r.prototype.toString=function(){return this.name+":"+(this.code<<0||"")+" "+this.message};var s,l=function(e,t,n){if(e&&"function"==typeof e[t])try{e[t](n)}catch(n){if("onerror"===String(t))throw n;try{l(e,"onerror",n)}catch(e){}}},u={};if(window&&("function"==typeof window.WebSocket||"object"==typeof window.WebSocket)){var c=window.WebSocket;for(var d in s=function(e,a){var i,o,r,s,u=this;this.url=e,this.readyState=t.CONNECTING;var d=function(){if(i){i.onclose=null,i.onerror=null,i.onmessage=null,i.onopen=null;try{i.close()}catch(e){}}u.readyState=t.CLOSED,l(u,"onclose",{wasClean:!1,code:1006,reason:"Timeout"})},f=function(){try{this.send(".")}catch(e){}s=setTimeout(d,1e4)}.bind(this);this.close=function(e,n){if(clearTimeout(r),this.readyState===t.CONNECTING)this.readyState=t.CLOSING,clearTimeout(o),o=setTimeout((function(){u.readyState=t.CLOSED,l(u,"onclose",{wasClean:!1,code:1006,reason:""})}),20);else if(this.readyState===t.OPEN){this.readyState=t.CLOSING;try{n?i.close(e,n):e?i.close(e):i.close(1e3)}catch(e){l(u,"onerror",e),l(u,"onclose",{wasClean:!1,code:1006,reason:""})}}},this.send=function(e){if(!i||i.OPEN!==i.readyState)throw new Error("Socket is not open");clearTimeout(r),clearTimeout(s),i.send(e),r=setTimeout(f,2e4)},o=setTimeout((function(){try{(i=a?new c(e,a):new c(e)).onclose=function(e){if(clearTimeout(r),clearTimeout(o),u.readyState=t.CLOSED,/MSIE|Trident|Edge|Lumia/.test(window.navigator.userAgent)&&e.wasClean&&(1e3===e.code||1005===e.code)&&e.reason)for(var a in n)if(e.reason===n[a])return void l(u,"onclose",{wasClean:!0,code:a<<0,reason:e.reason});l(u,"onclose",e)},i.onerror=function(e){e.name||e.message||(e.name="WebSocketError",e.message="Unknown"),l(u,"onerror",e)},i.onmessage=function(e){clearTimeout(s),e&&e.data&&1<e.data.length&&l(u,"onmessage",e)},i.onopen=function(e){clearTimeout(r),r=setTimeout(f,2e4),u.readyState=t.OPEN,u.protocol=i.protocol,l(u,"onopen",e)}}catch(e){l(u,"onerror",e)}}),20)},t)s.prototype[d]=t[d]}if(window&&window.navigator){var f;if(/iP(hone|od|ad)/.test(window.navigator.platform))(f=/OS (\d+)_(\d+)_?(\d+)?/.exec(window.navigator.appVersion))&&6>f[1]&&(s=i);if(/apple/i.test(window.navigator.vendor))(f=/\bVersion\/(\d+)\./.exec(window.navigator.userAgent))&&6>f[1]&&(s=i)}u.ws=u.wss=s;var p=function(){var e,t,n,i,o=window.document.getElementsByTagName("head")[0],r=this;this.withCredentials=!1,this.readyState=0,this.responseText="",this.status=0,this.statusText="",this.timeout=void 0;var s=function(){if(e){clearTimeout(i),e.onreadystatechange=a,e.onload=a,e.onerror=a,e.parentNode.removeChild(e),e=null,t=null,n=null,r.responseText="",r.status=0,r.statusText="",r.timeout=void 0,r.withCredentials=!1;try{delete window[n]}catch(e){window[n]=void 0}l(r,"onloadend")}},u=function(){e&&(l(r,"onerror"),s())};this.open=function(e,a){!t&&a&&(r.readyState=1,t=String(a).replace(/#.*$/,""),n="_jivo"+p._count++,t+=(-1===t.indexOf("?")?"?":"&")+"cb="+n)},this.send=function(a){t&&(a=a?"&msg="+encodeURIComponent(a):"",window[n]=function(e){r.readyState=4,p._statusBody.test(e)?(r.status=p._statusBody.exec(e)[1]<<0,r.statusText="",r.responseText="",l(r,"onerror"),s()):(r.status=200,r.statusText="OK",r.responseText=e,l(r,"onload"),s())},(e=document.createElement("script")).charset="utf-8",e.type="text/javascript",e.onreadystatechange=function(){"complete"!==this.readyState&&"loaded"!==this.readyState||setTimeout(u,0)},e.readyState||(e.onload=e.onerror=u),e.src=t+a,o.appendChild(e),r.timeout<<=0,0<r.timeout&&(i=setTimeout((function(){l(r,"ontimeout"),s()}),r.timeout)))},this.abort=function(){l(r,"onabort"),s()},this.setRequestHeader=a};p._statusBody=/^(\d{3})\n$/m,p._count=0,p.prototype={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var h=function(){if(h._stack.length)return h._stack.pop();var e;try{"withCredentials"in(e=new XMLHttpRequest)||(e=null)}catch(e){}return(e=e||new p).release=function(){h._stack.push(e)},e};h._stack=[];var g=function(e){for(var t,n,i,o=3e3,s=a,l=1;l<arguments.length;l++)if(arguments[l])switch(typeof arguments[l]){case"object":n=arguments[l];break;case"string":i=arguments[l];break;case"number":o=arguments[l];break;case"function":s=arguments[l]}if("string"!=typeof e)return s(TypeError("Bad URL")),null;try{(t=h()).open(i?"POST":"GET",e,!0),i&&t.setRequestHeader("Content-Type","text/plain")}catch(e){return s(e),t.release(),null}if(0<(o<<=0))try{t.timeout=o}catch(e){}if(t.onloadend=function(){t.release()},t.onload=function(){200===t.status?s(null,t.responseText):s(new r(t.statusText,t.status))},t.onabort=function(){s(new r("Aborted"))},t.ontimeout=function(){s(new r("Timeout"))},t.onerror=function(){s(new r("Unknown"))},n)for(var l in n)t.setRequestHeader(l,n[l]);try{t.send(i||null)}catch(e){return s(e),t.release(),null}return function(){s=a}};e.request=g;var m=/([^\n]*)\n/gm,_=function(e,i){var r=/^([^\?]*)(?:\?+(.*))?$/.exec(e);e=r[1]||"/";var s=r[2]?"&"+r[2]:"";/[^\/]$/.test(e)&&(e+="/");var u,c,d,f,p=this,h=a,_="open",v=2e4,b=0;this.readyState=t.CONNECTING;var y=function(e,a,i){t.CLOSED!==p.readyState&&(clearTimeout(d),p.readyState=t.CLOSED,l(p,"onclose",{wasClean:!!i,code:a||1006,reason:n[a]||e||""}))},E=function(t,n){h(),h=g(e+_+(t?"/"+t:"")+"?"+(new o).getTime()+s,v,n,T)},T=function(e,n){var a=function(e){if("string"!=typeof e)return e;var t,n,a={};for(m.lastIndex=0;null!==(t=m.exec(e));){if(!t[1]){a.message=e.substring(t.index+1);break}(n=(t=t[1].split(/\t/))[0])&&(t.shift(),a[n]=t)}return a}(n);switch(p.readyState){case t.CONNECTING:if(e){l(p,"onerror",e),y("Open error");break}if(!(a&&a.open&&a.open[0])){y("No response in state open");break}_=a.open[0],p.protocol=a.open[1],p.readyState=t.OPEN,l(p,"onopen");case t.OPEN:var i="";if(a){if(a.timeout&&0<a.timeout[0]&&(v=Math.ceil(a.timeout[0])),a.etag&&a.etag[0]){var o=a.etag[0]<<0,r=o-b;b=o,0<r&&(1!==r&&l(p,"onerror",new Error("Missing "+r+" etags")),a.message&&setTimeout((function(){l(p,"onmessage",{data:a.message})}),20)),i="etag/"+o}a.close&&(p.readyState=t.CLOSING,i="close/"+(a.close[0]||"")+"/"+(a.close[1]||""))}else if(e&&204!==e.code&&(l(p,"onerror",e),!e.code||404===e.code))return void y();E(i);break;case t.CLOSING:if(a&&a.close){var s=a.close[0]<<0;y(a.close[1],s,!u||u===s)}else y(c,u,!1)}};this.close=function(e,n){t.CONNECTING===this.readyState?(clearTimeout(f),h(),d=setTimeout(y,20)):t.OPEN===this.readyState&&(u=e<<0||1e3,c=n||"",this.readyState=t.CLOSING,E("close/"+u+"/"+c))},this.send=function(e){if(t.OPEN!==this.readyState)throw new Error("Socket is not open");if(!e||"string"!=typeof e)throw new TypeError("Bad data type");E("send",e)};var C=[];if(i)if("string"==typeof i)C.push(i);else if(i instanceof Array)for(var S=0;S<i.length;S++)C.push(String(i[S]));f=setTimeout((function(){E(C.join("/"))}),20)};for(var d in t)_.prototype[d]=t[d];u.http=u.https=_;var v,b=/^\s*(?:([^\;\/\?\:\@\&\=\+\$\,\#\n\r\s]{1,8})\:\/\/)([^\s\n\r]+)\s*$/,y=function(e,t){if(t||((t=[]).index=0,t.add=function(e){t.unshift({value:String(e),health:0}),t.index=0}),e)if("string"==typeof e||e instanceof String)t.push({value:String(e),health:0});else if(0<e.length)for(var n=0;n<e.length;n++)y(e[n],t);return t},E=function(e,t,n){var a=e[t]=n;return function(n){return arguments.length&&(a=e[t]=n),a}},T=(v=0,setInterval((function(){0<v&&(0<=(v-=2)||(v=0))}),1e3),function(){return 60<++v}),C=function(e){var i=y(e),o=null,r=a,s={connecting:a,open:a,close:a,error:a,message:a},l=E(this,"state",t.CLOSED),c=E(this,"url",void 0),d=E(this,"health",void 0),f=function(e,t){clearTimeout(f.value),e&&(f.value=setTimeout(e,t))},p=function(e){if(o){o.onclose=null,o.onerror=null,o.onmessage=null,o.onopen=null;try{e?o.close(e):o.close()}catch(e){}}},h=function(e){p(),o=null,r(),r=a,f(),l(t.CLOSED);try{s.close(e)}catch(e){_(e)}c(void 0),d(void 0)},g=function(){if(T()){if(r(),r=a,o){p(3333);for(var e=0;e<i.length;e++)i[e].health=-1}return!0}return!1},m=function(e){if(r(),r=a,f(),e||(e={wasClean:!1,code:1005,reason:"No Status Rcvd"}),e.wasClean||d(--i[i.index].health),1012===e.code){l(t.CONNECTING);try{s.connecting(i[i.index].health)}finally{return f(O,1e4+(2e4*Math.random()<<0))}}else 1013===e.code||1005===e.code||1e3===e.code||4e3<=e.code&&5e3>e.code?h(e):O()},_=function(e){try{s.error(e)}catch(e){throw e}},v=function(e){if(t.OPEN===l())try{s.message(e.data)}catch(e){_(e)}},C=function(){var e,n,a,o,u;f(),l(t.OPEN),e=i[i.index],n=d,o=1e3,u=function(){e&&0<=e.health&&(n(++e.health),o<<=1,a=setTimeout(u,o))},a=setTimeout(u,o),r=function(){clearTimeout(a)};try{s.open()}catch(e){_(e)}},S=function(){var e=i[i.index];try{o=function(e){if("string"!=typeof e)throw new TypeError("Bad URL type");var t=b.exec(e);if(null===t)throw new Error("Bad URL");if(!u[t[1]])throw new Error("Not supported URL scheme: "+t[1]);return new u[t[1]](e)}(e.value)}catch(t){return e.health=-1,++i.index,_(t),O()}o.onclose=m,o.onerror=_,o.onmessage=v,o.onopen=C},O=function(e){if(f(),i.index>=i.length)c(void 0),d(void 0),h({wasClean:!1,code:3001,reason:n[3001]});else if(0>i[i.index].health)_(new Error("Sick URL")),++i.index,O();else{p(),l(t.CONNECTING);var a=i[i.index];c()!==a.value&&(c(a.value),d(a.health));try{s.connecting(a.health)}catch(e){}e||0===i[i.index].health?S():f(S,3e3)}};this.open=function(e){if(g())return h({wasClean:!1,code:3333,reason:n[3333]});if(t.CONNECTING!==l()&&t.OPEN!==l()){if(e){e=String(e);for(var a=0;a<i.length;a++)if(e===i[a].value)return i.index=a,O(!0);i.add(e)}O(!0)}},this.close=function(e,a){f(),t.CLOSING!==l()&&t.CLOSED!==l()&&(!o||o.CONNECTING!==o.readyState&&o.OPEN!==o.readyState?h({wasClean:!1,code:1011,reason:n[1011]}):(4e3>(e<<=0)||5e3<=e?o.close():a?o.close(e,String(a)):o.close(e),o.onclose=h,l(t.CLOSING)))},this.send=function(e){if(t.OPEN!==l())return new Error("Connection is not open");if(g())return h({wasClean:!1,code:3333,reason:n[3333]}),new Error("Spam detected");try{o.send(e)}catch(e){return e}return null};var A=function(e,t){return function(){t.apply(e,arguments)}};this.on=function(e,t){if(e&&"object"==typeof e)for(var n in e)this.on(n,A(e,e[n]));else s[e]&&"function"==typeof t&&(s[e]=t)},this.off=function(){for(var e in s)s[e]=a},this.getHealthyURLs=function(){for(var e=[],t=0;t<i.length;t++)0<=i[t].health&&e.push(i[t]);e.sort((function(e,t){return t.health-e.health}));for(t=0;t<e.length;t++)e[t]=e[t].value;return e}};for(var d in C.prototype={valueOf:function(){return this.toString()},toString:function(){return t.OPEN===this.state?this.url:""},toJSON:function(e){switch(e){case"url":return'"'+this.url+'"';case"state":return this.state;case"health":return this.health}return arguments.length?"":'{"state":'+this.state+', "health":'+this.health+', "url":"'+this.url+'"}'}},t)C.prototype[d]=t[d];e.Connection=C}(window);var n=Connection;t.Z=n},84633:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(17987)),o=n(32710);const r=a(n(4855)).default.name(!1);i.default.on("newfsm",(function(e){e.on("handling",(function(e){r.log(this.namespace+": handling "+e.inputType+" in state "+this.state)})),e.on("nohandler",(function(e){r.log(this.namespace+": unhandled "+e.inputType+" in state "+this.state)})),e.on("transition",(function(e){r.log([this.namespace+":","transition from:",e.fromState,"to:",e.toState,"action:",e.action].join(" "))}))}));var s=i.default.Fsm.extend({_fireEvent:function(e){delete this._scheduled_events[e],this.handle(e)},_scheduleEvent:function(e,t){e in this._scheduled_events?r.log(this.namespace+": attempt to re-schedule event"+e):(r.log(this.namespace+": scheduling "+e+" for "+t),this._scheduled_events[e]=setTimeout((0,o.bind)(this._fireEvent,this,e),t))},_cancelEvent:function(e){e in this._scheduled_events?(clearTimeout(this._scheduled_events[e]),delete this._scheduled_events[e]):r.log(this.namespace+": attempt to cancel not scheduled event",e)},constructor:function(){this._scheduled_events={},i.default.Fsm.apply(this,arguments)}});t.default=s},9836:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(21951),o=n(9393),r=n(11413),s=n(43025),l=a(n(19955));const u=a(n(4855)).default.name("autoResizer"),c=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","paddingLeft","paddingRight","width","boxSizing","whiteSpace","wordWrap","paddingTop"];let d;var f=class{constructor(e,t){if(d)return d.element=e,d.config=t,d.bindEvents(),d;if(!e)return void u.warn("no element provided to resize!");this.element=e;const n=e.offsetHeight;"original"===t.maxSize&&(t.maxSize=n),"original"===t.minSize&&(t.minSize=n),this.config=t,this.bindEvents(),this.container=this.initializeContainer(),this.clone=this.initializeClone(),d=this}bindEvents(){(0,i.addListener)(this.element,"keyup",this.check.bind(this)),(0,i.addListener)(this.element,"keypress",this.check.bind(this)),(0,i.addListener)(this.element,"change",this.check.bind(this)),(0,i.addListener)(this.element,"paste",this.check.bind(this))}initializeContainer(){if(u.log("initializeContainer"),this.container)return this.container;let e=null;return e=document.createElement("jdiv"),e.style.position="absolute",e.style.top="-9999px",e.style.width="0px",e.style.height="0px",e.style.padding="0px",e.style.overflow="hidden",document.body.appendChild(e),e}initializeClone(){if(this.clone)return this.clone;u.log("initializeClone");const e=document.createElement("jdiv");return e.setAttribute("id","jv-autoresize"),this.container.appendChild(e),e}updateClone(){(0,o.each)(c,(e=>{const t=(0,s.getComputedStyleAll)(this.element,e);t&&(this.clone.style[e]=t)})),this.clone.style.display="block"}afterResize(){(l.default.tablet()?this.element.scrollHeight:this.element.offsetHeight)>=this.config.maxSize&&this.element.style.setProperty("overflow-y","auto","important")}updateConfig(e){u.log("updateConfig",e),Object.assign(this.config,e)}check(){this.updateClone();let e=this.element.value||this.element.getAttribute("placeholder")||"";const t=this.element.offsetHeight;let n,a;e=e.length?e:" ",e===this.prevValue&&""==e||(this.clone.innerHTML=(0,r.escape)(e).replace(new RegExp("\\r?\\n","ig"),"<div>.</div>"),n=Math.min(Math.max(this.clone.offsetHeight,this.config.minSize>>0),this.config.maxSize),""==this.element.value&&(n=this.clone.offsetHeight),t!==n&&(a={height:n}),this.prevValue=e,a&&(l.default.mobile()&&(n+=parseInt((0,s.getComputedStyleAll)(this.element,"paddingTop"))+parseInt((0,s.getComputedStyleAll)(this.element,"paddingBottom"))),this.element.setAttribute("style",`height: ${n}px!important`),this.config.onResize&&this.config.onResize.call(this.element),this.config.initCheck=!1,this.afterResize()))}};t.default=f},27104:function(e,t){"use strict";function n(e){return parseInt(o(e).substring(0,2),16)}function a(e){return parseInt(o(e).substring(2,4),16)}function i(e){return parseInt(o(e).substring(4,6),16)}function o(e){return function(e){return 3==e.length&&(e=e.split("").map((function(e){return e.toString()+e.toString()})).join("")),e}(e="#"==e.charAt(0)?e.substring(1,7):e)}function r(e){return e=parseInt(e,10),isNaN(e)?"00":(e=Math.max(0,Math.min(e,255)),"0123456789ABCDEF".charAt((e-e%16)/16)+"0123456789ABCDEF".charAt(e%16))}function s(e,t,o){var s=n(e),l=a(e),u=i(e),d=f.toHSV(new c(s,l,u));d.v>0?d.v=d.v*t:d.v=100*(t-1),d.s=d.s*o;var p,h,g,m=f.toRGB(d);return"#"+(p=m.r,h=m.g,g=m.b,r(p)+r(h)+r(g))}function l(e){return(299*n(e)+587*a(e)+114*i(e))/1e3}function u(e,t,n){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),e>360&&(e=360),t>100&&(t=100),n>100&&(n=100),this.h=e,this.s=t,this.v=n}function c(e,t,n){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),e>255&&(e=255),t>255&&(t=255),n>255&&(n=255),this.r=e,this.g=t,this.b=n}function d(e,t,n,a){e<=0&&(e=0),t<=0&&(t=0),n<=0&&(n=0),a<=0&&(a=0),e>100&&(e=100),t>100&&(t=100),n>100&&(n=100),a>100&&(a=100),this.c=e,this.m=t,this.y=n,this.k=a}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var f={isLightColor:function(e){return function(e){var t=n(e),o=a(e),r=i(e),s=f.toHSV(new c(t,o,r));return s.v+-.5*s.s}(e)>58},getContrast:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:128;const n=l(e);return n>=t?"black":"white"},_RGBtoHSV:function(e){var t=new u(0,0,0),n=e.r/255,a=e.g/255,i=e.b/255,o=Math.min(n,a,i),r=Math.max(n,a,i),s=r-o;if(t.v=r,0==s)t.h=0,t.s=0;else{t.s=s/r;var l=((r-n)/6+s/2)/s,c=((r-a)/6+s/2)/s,d=((r-i)/6+s/2)/s;n==r?t.h=d-c:a==r?t.h=1/3+l-d:i==r&&(t.h=2/3+c-l),t.h<0&&(t.h+=1),t.h>1&&(t.h-=1)}return t.h=Math.round(360*t.h),t.s=Math.round(100*t.s),t.v=Math.round(100*t.v),t},_HSVtoRGB:function(e){var t=new c(0,0,0),n=e.h/360,a=e.s/100,i=e.v/100;if(0==a)t.r=255*i,t.g=255*i,t.b=255*i;else{var o,r,s,l=6*n,u=Math.floor(l),d=i*(1-a),f=i*(1-a*(l-u)),p=i*(1-a*(1-(l-u)));0==u?(o=i,r=p,s=d):1==u?(o=f,r=i,s=d):2==u?(o=d,r=i,s=p):3==u?(o=d,r=f,s=i):4==u?(o=p,r=d,s=i):(o=i,r=d,s=f),t.r=255*o,t.g=255*r,t.b=255*s,t.r=Math.round(t.r),t.g=Math.round(t.g),t.b=Math.round(t.b)}return t},_CMYKtoRGB:function(e){var t=new c(0,0,0),n=e.c/100,a=e.m/100,i=e.y/100,o=e.k/100;return t.r=1-Math.min(1,n*(1-o)+o),t.g=1-Math.min(1,a*(1-o)+o),t.b=1-Math.min(1,i*(1-o)+o),t.r=Math.round(255*t.r),t.g=Math.round(255*t.g),t.b=Math.round(255*t.b),t},_RGBtoCMYK:function(e){var t=new d(0,0,0,0),n=e.r/255,a=e.g/255,i=e.b/255;return t.k=Math.min(1-n,1-a,1-i),t.c=(1-n-t.k)/(1-t.k),t.m=(1-a-t.k)/(1-t.k),t.y=(1-i-t.k)/(1-t.k),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},toRGB:function(e){return e instanceof c?e:e instanceof u?this._HSVtoRGB(e):e instanceof d?this._CMYKtoRGB(e):void 0},toHSV:function(e){return e instanceof u?e:e instanceof c?this._RGBtoHSV(e):e instanceof d?this._RGBtoHSV(this._CMYKtoRGB(e)):void 0},toCMYK:function(e){return e instanceof d?e:e instanceof c?this._RGBtoCMYK(e):e instanceof u?this._RGBtoCMYK(this._HSVtoRGB(e)):void 0},genGradientBg:function(e){return"linear-gradient(95deg, "+e+" 20%, "+this.getRightColor(e)+" 80%)"},getRightColor:function(e){return s(e,.9,.9)},getGradientBg:function(e,t){return"linear-gradient(95deg, "+e+" 20%, "+(t||e)+" 80%)"}},p=f;t.default=p},30295:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,a,i,o,r=(n=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,a=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,o=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e},function(e,t,s){var l=r;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(e)||/\d/.test(e)||(t=e,e=void 0),"string"==typeof e&&isNaN(new Date(e))&&(e=e.replace(/-/g,"/").replace("T"," ").split(".").shift()+"Z"),e=e?new Date(e):new Date,isNaN(e))throw SyntaxError("invalid date");"UTC:"==(t=String(l.masks[t]||t||l.masks.default)).slice(0,4)&&(t=t.slice(4),s=!0);var u=s?"getUTC":"get",c=e[u+"Date"](),d=e[u+"Day"](),f=e[u+"Month"](),p=e[u+"FullYear"](),h=e[u+"Hours"](),g=e[u+"Minutes"](),m=e[u+"Seconds"](),_=e[u+"Milliseconds"](),v=s?0:e.getTimezoneOffset(),b={d:c,dd:o(c),ddd:l.i18n.dayNames[d],dddd:l.i18n.dayNames[d+7],m:f+1,mm:o(f+1),mmm:l.i18n.monthNames[f],mmmm:l.i18n.monthNames[f+12],yy:String(p).slice(2),yyyy:p,h:h%12||12,hh:o(h%12||12),H:h,HH:o(h),M:g,MM:o(g),s:m,ss:o(m),l:o(_,3),L:o(_>99?Math.round(_/10):_),t:h<12?"a":"p",tt:h<12?"am":"pm",T:h<12?"A":"P",TT:h<12?"AM":"PM",Z:s?"UTC":(String(e).match(a)||[""]).pop().replace(i,""),o:(v>0?"-":"+")+o(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return t.replace(n,(function(e){return e in b?b[e]:e.slice(1,e.length-1)}))});r.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},r.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]};var s=r;t.default=s},96879:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.filterMessage=void 0;var i=n(81152),o=a(n(14264));t.filterMessage=e=>{const t=/^\/service/.test(e.text),n="object"==typeof e.media,a=e.msg_id;let r=!t;if("number"==typeof a){const e=!!o.default.getMessageById(a);r=r&&!e}if(n){const t=e.from===i.MessageInitiator.CLIENT&&e.type!==i.MessageType.MEDIA&&n&&"error"===e.media.type;r=r&&!t}return e.deleted&&(r=!1),e.type==i.MessageType.INVOICE&&(r=!1),r}},17987:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(60277),i=n(9393),o=n(90872),r=n(64249),s=n(82138),l=n(55004),u=n(21733),c=n(34548),d=n(15201),f=n(31484),p=n(54415),h=n(97615),g=function(){var e,t=[].slice,n="transition",g="handler",m="handling",_="handled",v="nohandler",b="deferred",y="newfsm",E={makeFsmNamespace:(e=0,function(){return"fsm."+e++}),getDefaultOptions:function(){return{initialState:"uninitialized",eventListeners:{"*":[]},states:{},eventQueue:[],namespace:E.makeFsmNamespace(),targetReplayState:"",state:void 0,priorState:void 0,_priorAction:"",_currentAction:""}}},T={"*":function(e,t,n){e[t]=n},object:function(e,t,n){e[t]=S({},e[t]||{},n)},array:function(e,t,n){e[t]=[],(0,i.each)(n,(function(n,a){T[C(n)](e[t],a,n)}),this)}},C=function(e){var t=function(e){return(0,o.isArray)(e)?"array":(0,r.isDate)(e)?"date":(0,s.isRegExp)(e)?"regex":typeof e}(e);return T[t]?t:"*"},S=function(e){return(0,i.each)(t.call(arguments,1),(function(t){(0,i.each)(t,(function(t,n){T[C(t)](e,n,t)}))})),e},O=function(e){(0,a.extend)(this,e),(0,f.defaults)(this,E.getDefaultOptions()),this.initialize.apply(this,arguments),w.emit(y,this),this.initialState&&this.transition(this.initialState)};(0,a.extend)(O.prototype,{initialize:function(){},emit:function(e){var n=arguments;this.eventListeners["*"]&&(0,i.each)(this.eventListeners["*"],(function(a){if(h.EnvironmentManager.isProduction())try{a.apply(this,t.call(n,0))}catch(t){t.message+=` machina.js * [${this.namespace}] ${e}`,p.Monitoring.reportException(t)}else a.apply(this,t.call(n,0))}),this),this.eventListeners[e]&&(0,i.each)(this.eventListeners[e],(function(a){if(h.EnvironmentManager.isProduction())try{a.apply(this,t.call(n,1))}catch(t){t.message+=` machina.js ev [${this.namespace}] ${e}`,p.Monitoring.reportException(t)}else a.apply(this,t.call(n,1))}),this)},handle:function(e){if(!this.inExitHandler){var n,a,i,o,r=this.states,s=this.state,c=t.call(arguments,0);this.currentActionArgs=c,r[s][e]||r[s]["*"]||this["*"]?(i="*"===(n=r[s][e]?e:"*"),r[s][n]?(a=r[s][n],o=s+"."+n):(a=this["*"],o="*"),this._currentAction||(this._currentAction=o),this.emit.call(this,m,{inputType:e,args:c.slice(1)}),(0,l.isFunction)(a)&&(a=a.apply(this,i?c:c.slice(1))),(0,u.isString)(a)&&this.transition(a),this.emit.call(this,_,{inputType:e,args:c.slice(1)}),this._priorAction=this._currentAction,this._currentAction="",this.processQueue(g)):this.emit.call(this,v,{inputType:e,args:c.slice(1)}),this.currentActionArgs=void 0}},transition:function(e){if(!this.inExitHandler&&e!==this.state){var t;if(this.states[e]){if(this.targetReplayState=e,this.priorState=this.state,this.state=e,t=this.priorState,this.states[t]&&this.states[t]._onExit&&(this.inExitHandler=!0,this.states[t]._onExit.call(this),this.inExitHandler=!1),this.emit.call(this,"transition",{fromState:t,action:this._currentAction,toState:e}),this.states[e]._onEnter)if(h.EnvironmentManager.isProduction())try{this.states[e]._onEnter.call(this)}catch(t){t.message+=` machina.js [${this.namespace}] ${e}`,p.Monitoring.reportException(t)}else this.states[e]._onEnter.call(this);return void(this.targetReplayState===e&&this.processQueue(n))}this.emit.call(this,"invalidstate",{state:this.state,attemptedState:e})}},processQueue:function(e){var t=e===n?function(e){return e.type===n&&(!e.untilState||e.untilState===this.state)}:function(e){return e.type===g},a=this.eventQueue.filter(t);this.eventQueue=(0,c.difference)(this.eventQueue,a),(0,i.each)(a,(function(e){this.handle.apply(this,e.args)}),this)},clearQueue:function(e,t){var a;e?(e===n?a=function(e){return e.type===n&&(!t||e.untilState===t)}:e===g&&(a=function(e){return e.type===g}),this.eventQueue=this.eventQueue.filter(a)):this.eventQueue=[]},deferUntilTransition:function(e){if(this.currentActionArgs){var t={type:n,untilState:e,args:this.currentActionArgs};this.eventQueue.push(t),this.emit.call(this,b,{state:this.state,queuedArgs:t})}},deferUntilNextHandler:function(){if(this.currentActionArgs){var e={type:n,args:this.currentActionArgs};this.eventQueue.push(e),this.emit.call(this,b,{state:this.state,queuedArgs:e})}},on:function(e,t){var n=this;return n.eventListeners[e]||(n.eventListeners[e]=[]),n.eventListeners[e].push(t),{eventName:e,callback:t,off:function(){n.off(e,t)}}},off:function(e,t){e?this.eventListeners[e]&&(this.eventListeners[e]=t?(0,d.without)(this.eventListeners[e],t):[]):this.eventListeners={}}}),O.prototype.trigger=O.prototype.emit;var A=function(){};O.extend=function(e,t){var n=function(e,t,n){var a;return a=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},S(a,e),A.prototype=e.prototype,a.prototype=new A,t&&S(a.prototype,t),n&&S(a,n),a.prototype.constructor=a,a.__super__=e.prototype,a}(this,e,t);return n.extend=this.extend,n};var w={Fsm:O,utils:E,on:function(e,t){return this.eventListeners[e]||(this.eventListeners[e]=[]),this.eventListeners[e].push(t),t},off:function(e,t){this.eventListeners[e]&&(this.eventListeners[e]=(0,d.without)(this.eventListeners[e],t))},trigger:function(e){var n=arguments,a=this.eventListeners[e]||[];a&&a.length&&(0,i.each)(a,(function(e){e.apply(null,t.call(n,1))}))},eventListeners:{newFsm:[]}};return w.emit=w.trigger,w}(),m=g;t.default=m},66214:function(e){"use strict";const t=()=>!0,n=e=>{const t="\\".charCodeAt(0);let n=e.length,a=0;for(;n&&e.charCodeAt(--n)===t;)a++;return a%2==1},a=(e,t,a)=>{let i=a-1;for(;;){const a=i;if(i=e.indexOf(t,i+1),i<0)return-1;if(!n(e.slice(a,i)))return i}},i=function(e){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=[];let s;const l=e=>s&&"text"==s.type?(s.text+=e,s):u({type:"text",text:e}),u=e=>{const t=r.length;return(t?r[t-1].block:o).push(e),s=e},c=e=>("link"==e.type&&(e={type:"link",block:e.block,url:"",ref:""}),u(e)),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t;for(let t=r.length;--t>=0;){const n=r[t];if(!e(n))return n;c(r.pop())}},f=e=>p.lastIndex=h=e,p=/(^([*_-])\s*\2(?:\s*\2)+$)|(?:^(\s*)([>*+-]|\d+[.\)])\s+)|(?:^``` *(\w*)\n([\s\S]*?)```$)|(^(?:(?:\t|    )[^\n]*(?:\n|$))+)|(\!?\[)|(\](?:(\(|\[)|\:\s*(.+)$)?)|(?:^([^\s].*)\n(\-{3,}|={3,})$)|(?:^(#{1,6})(?:[ \t]+(.*))?$)|(?:`([^`].*?)`)|(  \n|\n\n)|(__|\*\*|[_*]|~~)/gm;let h=0;for(;;){const t=p.exec(e),o=t?t.index:e.length,g=e.slice(h,o);if(g&&(l(g),t&&n(g))){f(t.index+1),l(t[0][0]);continue}if(!t)break;let m=1;if(h=p.lastIndex,t[m])d(),u({type:"border",text:e.slice(o,o+t[0].length)});else if(t[m+=3]){d();const n=t[m],o=">"==n,r=u(o?{type:"quote",block:[]}:{type:"list",block:[],indent:t[m-1],bullet:n}),s=o?/^\s{0,3}([*+-]|\d+[.\)])[ \t]/:/^\s*([>*+-]|\d+[.\)])[ \t]/,l=h;h=a(e,"\n",l),h<0&&(h=e.length);let c=e.slice(l,h);for(;h<e.length;){const t=h+1;if("\n"==e.charAt(t))break;h=a(e,"\n",t),h<0&&(h=e.length);const n=e.slice(t,h);if(!n){h=t-1;break}if(n.match(s)){h=t;break}c+="\n"+n.match(o?/^\s*>?\s*(.*)$/:/^\s*(.*)$/)[1]}i(c,r.block),f(h)}else if(null!=t[m+=2]||t[m+1]){d();let e=t[m+1],n="",a="";e?(a=/^(\t|    )/.exec(e)[0],e=e.replace(/^(\t|    )/gm,""),"\n"==e.slice(-1)&&(e=e.slice(0,-1),f(h-1))):(e=t[m].slice(0,-1),n=t[m-1].toLowerCase()),u({type:"codeBlock",code:e,syntax:n,indent:a})}else if(t[m+=2])if("!"==t[m][0]){const n=a(e,"]",h);if(n<0){l(t[0]);continue}s=null,r.push({type:"image",alt:e.slice(t.index+2,n),url:"",ref:""}),f(n)}else s=null,r.push({type:"link",block:[],offset:h});else if(t[++m]){const n=/^(link|image)$/;let i=d((e=>!n.test(e.type)));if(i){if(r.pop(),t[m+2]){if("link"==i.type){u({type:"linkDef",key:e.slice(i.offset,o),url:t[m+2]});continue}f(t.index+1)}if(i=c(i),t[m+1]){const n=a(e,"("==t[m+1]?")":"]",h);if(n<0)l(t[m+1]);else{const a=t.index+2,o=e.slice(a,n);f(n+1),"("==t[m+1]?i.url=o:i.ref=o}}}else l(t[0])}else if(t[m+=3]||t[m+2])d(),u({type:"title",block:i(t[m]||t[m+3]||""),rank:t[m+2]?t[m+2].length:"="==t[m+1][0]?1:2});else if(t[m+=4]){const n=o+1;u({type:"codeSpan",code:e.slice(n,n+t[m].length)})}else if(t[++m])d(),u({type:"break",text:t[0]});else if(t[++m]){const e=t[m],n=e.length<2?"italic":"~~"==e?"strike":"bold",a=r[r.length-1];a&&a.type==n&&a.style==e?u(r.pop()):(s=null,r.push({type:n,block:[],style:e}))}}return d(),o};Object.defineProperty(i,"default",{value:i}),e.exports=i},5798:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let n=function(e,t,n){for(;t<e.length;t++)a(e[t])&&(e[t]=n);return e},a=function(e){return!e.match(/[\s()-]/)};var i={toPattern:function(e,t){let i,o="object"==typeof t?t.pattern:t,r=o.replace(/\W/g,""),s=o.split(""),l=e.toString().replace(/\W/g,""),u=l.replace(/\W/g,""),c=0,d=s.length,f="object"==typeof t?t.placeholder:void 0;for(i=0;i<d;i++){if(c>=l.length){if(r.length===u.length)return s.join("");if(void 0!==f&&r.length>u.length)return n(s,i,f).join("");break}if(s[i]&&a(s[i])&&l[c].match(/[0-9]/))s[i]=l[c++];else if(s[i]&&a(s[i]))return void 0!==f?n(s,i,f).join(""):s.slice(0,i).join("")}return s.join("").substr(0,i)}};t.default=i},50754:function(e){"use strict";const t=2147483647,n=36,a=/^xn--/,i=/[^\0-\x7E]/,o=/[\x2E\u3002\uFF0E\uFF61]/g,r={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},s=Math.floor,l=String.fromCharCode;function u(e){throw new RangeError(r[e])}function c(e,t){const n=e.split("@");let a="";n.length>1&&(a=n[0]+"@",e=n[1]);const i=function(e,t){const n=[];let a=e.length;for(;a--;)n[a]=t(e[a]);return n}((e=e.replace(o,".")).split("."),t).join(".");return a+i}function d(e){const t=[];let n=0;const a=e.length;for(;n<a;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<a){const a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}const f=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},p=function(e,t,a){let i=0;for(e=a?s(e/700):e>>1,e+=s(e/t);e>455;i+=n)e=s(e/35);return s(i+36*e/(e+38))},h=function(e){const a=[],i=e.length;let o=0,r=128,l=72,c=e.lastIndexOf("-");c<0&&(c=0);for(let t=0;t<c;++t)e.charCodeAt(t)>=128&&u("not-basic"),a.push(e.charCodeAt(t));for(let f=c>0?c+1:0;f<i;){let c=o;for(let a=1,r=n;;r+=n){f>=i&&u("invalid-input");const c=(d=e.charCodeAt(f++))-48<10?d-22:d-65<26?d-65:d-97<26?d-97:n;(c>=n||c>s((t-o)/a))&&u("overflow"),o+=c*a;const p=r<=l?1:r>=l+26?26:r-l;if(c<p)break;const h=n-p;a>s(t/h)&&u("overflow"),a*=h}const h=a.length+1;l=p(o-c,h,0==c),s(o/h)>t-r&&u("overflow"),r+=s(o/h),o%=h,a.splice(o++,0,r)}var d;return String.fromCodePoint(...a)},g=function(e){const a=[];let i=(e=d(e)).length,o=128,r=0,c=72;for(const t of e)t<128&&a.push(l(t));let h=a.length,g=h;for(h&&a.push("-");g<i;){let i=t;for(const t of e)t>=o&&t<i&&(i=t);const d=g+1;i-o>s((t-r)/d)&&u("overflow"),r+=(i-o)*d,o=i;for(const i of e)if(i<o&&++r>t&&u("overflow"),i==o){let e=r;for(let t=n;;t+=n){const i=t<=c?1:t>=c+26?26:t-c;if(e<i)break;const o=e-i,r=n-i;a.push(l(f(i+o%r,0))),e=s(o/r)}a.push(l(f(e,0))),c=p(r,d,g==h),r=0,++g}++r,++o}return a.join("")},m={version:"2.1.0",ucs2:{decode:d,encode:e=>String.fromCodePoint(...e)},decode:h,encode:g,toASCII:function(e){return c(e,(function(e){return i.test(e)?"xn--"+g(e):e}))},toUnicode:function(e){return c(e,(function(e){return a.test(e)?h(e.slice(4).toLowerCase()):e}))}};e.exports=m},69759:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(60277),o=n(80210),r=a(n(4855));const s=n(61691),l=(r.default.name("Referer"),function(e){const t=[];for(const a in e){const i=e[a];for(const e in i){const a=i[e];for(const i in a){var n=a[i];n[0].forEach((function(a){var o={domain:a,medium:e,name:i};n[1]&&(o.params=n[1]),t.push(o)}))}}}return t}(s)),u=function(e,t,n){this.known=!1,this.referer=null,this.medium="unknown",this.search_parameter=null,this.search_term=null,this.referers=n||l;const a=new URL(e),r=a.hostname;if(this.known=Boolean(~["http:","https:"].indexOf(a.protocol)),this.uri=a,!this.known)return;if(t){if(new URL(t).hostname===r)return void(this.medium="internal")}let s=this._lookup_referer(r,a.pathname,!0);if(s||(s=this._lookup_referer(r,a.pathname,!1),s)){if(this.referer=s.name,this.medium=s.medium,"search"===s.medium){if(!s.params)return;const e=(0,i.extend)(o.querystring.parse(a.hash),o.querystring.parse(a.search));for(const t in e){const n=e[t];-1!==s.params.indexOf(t.toLowerCase())&&(this.search_parameter=t,this.search_term=n)}}}else this.medium="unknown"};u.prototype.searchReferer=function(e){return this.referers.find((t=>t.domain instanceof RegExp&&e.search(t.domain)>-1||(t.domain===e||void 0)))},u.prototype._lookup_referer=function(e,t,n){let a=null;if(a=n?this.searchReferer(e+t):this.searchReferer(e),!a&&n){const n=t.split("/");if(n.length>1)try{a=this.searchReferer(e+"/"+n[1])}catch(e){}}if(a)return a;try{const a=e.indexOf(".");if(-1===a)return null;const i=e.slice(a+1);return this._lookup_referer(i,t,n)}catch(e){return null}};var c=u;t.default=c},61691:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default={unknown:{Google:[["support.google.com","developers.google.com","maps.google.com","accounts.google.com","drive.google.com","sites.google.com","groups.google.com","groups.google.co.uk","news.google.co.uk"]],"Yahoo!":[["finance.yahoo.com","news.yahoo.com","eurosport.yahoo.com","sports.yahoo.com","astrology.yahoo.com","travel.yahoo.com","answers.yahoo.com","screen.yahoo.com","weather.yahoo.com","messenger.yahoo.com","games.yahoo.com","shopping.yahoo.net","movies.yahoo.com","cars.yahoo.com","lifestyle.yahoo.com","omg.yahoo.com","match.yahoo.net"]]},search:{"360.cn":[[/so.(com|360.cn)$/gi],["q"]],AOL:[[/\.aol.\w{2,4}(\w{2,4})?/gi,"aolsearch.com"],["q","query"]],Yandex:[["yandex.ru","yandex.ua","yandex.com","www.yandex.ru","www.yandex.ua","www.yandex.com","yandex.by","yandex.kz","www.yandex.by","www.yandex.kz"],["text"]],DuckDuckGoL:[["duckduckgo.com"],["q"]],Picsearch:[["www.picsearch.com"],["q"]],"Mail.ru":[["go.mail.ru"],["q"]],Rambler:[["nova.rambler.ru"],["query","words"]],MySearch:[[/(.mysearch)|(.myway).com$/gi,"search.mywebsearch.com"],["searchfor","searchFor"]],Baidu:[[/.baidu.com$/gi,"web.gougou.com"],["wd","word","kw","k"]],Ecosia:[["ecosia.org"],["q"]],Bing:[["bing.com","www.bing.com","msnbc.msn.com","dizionario.it.msn.com","cc.bingj.com","m.bing.com"],["q"]],Seznam:[["search.seznam.cz"],["q"]],"Yahoo!":[[/.?yahoo./gi,"www.cercato.it","search.offerbox.com","ys.mirostart.com"],["q","p"]],Ask:[[/.ask.com$/gi,"ask.reference.com","www.askkids.com","www.ask.co.uk","search-results.com","uk.search-results.com","www.search-results.com","int.search-results.com"]],"uol.com.br":[["busca.uol.com.br"],["q"]],Google:[[/^(www.)?google.\w{2,4}(.\w{2,4})?$/gi,/^.incredimail.com$/gi,/.googleearth./gi,"isearch.avg.com","www.cnn.com","darkoogle.com","search.darkoogle.com","search.foxtab.com","www.gooofullsearch.com","search.hiyo.com","search.sweetim.com","www.fastweb.it","search.juno.com","find.tdc.dk","searchresults.verizon.com","search.walla.co.il","search.alot.com","webcache.googleusercontent.com","encrypted.google.com","googlesyndicatedsearch.com"],["q","query","keywords"]],"2GIS":[["link.2gis.ru"]]},email:{Gmail:[["mail.google.com"]],Rambler:[["mail.rambler.ru"]]},social:{Odnoklassniki:[["odnoklassniki.ru","ok.ru"]],GitHub:[["github.com"]],Instagram:[["instagram.com"]],Vkontakte:[["vk.com","vkontakte.ru"]],Twitter:[["twitter.com","t.co"]],"Mail.ru":[["my.mail.ru"]],Pinterest:[["pinterest.com"]],LinkedIn:[["linkedin.com"]],Facebook:[["facebook.com","fb.me"]],Youtube:[["youtube.com","youtu.be"]]}}},73055:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSwipeDetector=function(e){let{element:t,onLeftSwipe:n,onRightSwipe:i,onUpSwipe:o,onDownSwipe:r,onDownCount:s,onTouchEnd:l,verticalSwipeThreshold:u=70,horizontalSwipeThreshold:c=30}=e;const[d,f]=(0,a.useState)(null),p=(0,a.useRef)(null),h=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(!t)return;if(!t.current)return;if(f(t.current),!d)return;if(!d.addEventListener)return;const e=e=>{const[t]=e.touches;p.current=t.clientX,h.current=t.clientY},a=e=>{if(!p.current||!h.current)return;const[t]=e.touches;if(!t)return;const a=t.clientX,l=t.clientY,d=p.current-a,f=h.current-l;Math.abs(d)>Math.abs(f)?d>c?i&&i():d<-c&&n&&n():f>u?o&&o():f<-u?r&&r(f):s&&s(f)},g=()=>{p.current=null,h.current=null,l&&l()};return d.addEventListener("touchstart",e,!1),d.addEventListener("touchmove",a,!1),d.addEventListener("touchend",g,!1),()=>{d.removeEventListener("touchstart",e),d.removeEventListener("touchmove",a),d.removeEventListener("touchend",g)}}),[d,n,i,o,r,s,l,u,c]),e=>f(e)};var a=n(98661)},8117:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(69759)),o=a(n(4855)),r=a(n(50754)),s=n(92560),l=n(37578),u=n(80210);const c=o.default.name("utm"),d={utmccn:"campaign",utmcsr:"source",utmcmd:"medium",utmctr:"keyword",utmcct:"content"},f={parseUtmz:function(e){const t={};if(e){const n=decodeURI(e).replace(/^[0-9\.]*/g,"");let a;if(n){const e=n.split("|");for(let n=0;n<e.length;n++)a=e[n].substr(0,6),a in d&&(t[d[a]]=e[n].substr(7))}}return t},parseUTM:function(e,t,n){const a={};let o=!1,f=null;if(c.log("parseUTM",n),n){const e=n.split("|");let t;const i=Object.values(d);for(let n=0;n<e.length;n++)t=e[n].split("="),2===t.length&&(t[0]=t[0].toLowerCase(),i.indexOf(t[0])>=0?(a[t[0]]=t[1],o=!0):"term"===t[0]&&(a.keyword=t[1],a.term=t[1]))}if(f={...a},c.log("finish utmz, utmparams",a),!o)if("string"==typeof t&&""!==t){const n=new i.default(t,e);if(c.log("processing_refer",n,t,e),n.known)if("internal"===n.medium){const e=n.uri.search;if(e&&e.length){const t=this.decodeString(e);let n={};try{n=u.querystring.parse(t)}catch(e){const a=this.getUTMParamsFromUrl(t);for(const e in a)if(a[e]){const t=a[e].split("=");t.length&&(n[t[0]]=t[1])}}for(const e in d)n["utm_"+d[e]]&&(a[d[e]]=n["utm_"+d[e]]);n.utm_term&&(a.keyword=n.utm_term,a.term=n.utm_term),c.log("query params:",a)}(0,s.isEmpty)(a)&&Object.assign(a,{campaign:"(direct)",source:"(direct)"})}else"unknown"===n.medium?Object.assign(a,{campaign:"(referral)",medium:"referral",source:r.default.toUnicode(n.uri.hostname),content:`${n.uri.pathname}${n.uri.search}`}):Object.assign(a,{campaign:"(organic)",source:n.referer,medium:n.medium,keyword:n.search_term,content:""});else c.warn("unknown_refer")}else(0,s.isEmpty)(a)&&Object.assign(a,{campaign:"(direct)",source:"(direct)"});if(a.keyword&&(a.keyword=this.decodeString(a.keyword)),a.term&&(a.term=this.decodeString(a.term)),a.content&&(a.content=this.decodeString(a.content)),a.campaign&&(a.campaign=this.decodeString(a.campaign)),t&&this.isLid(e,t)&&(a.medium="cpc","(organic)"==a.campaign&&(a.campaign=null)),!a.source&&"string"==typeof t&&""!==t){const n=new i.default(t,e);n.referer&&(a.source=n.referer)}return f.medium&&(a.medium=this.decodeString(f.medium)),t&&f.source&&(a.source=this.decodeString(f.source)),c.log("FINISH UTM",n,a),(0,l.filterObj)(a,(e=>!(0,s.isEmpty)(e)))},isLid(e,t){return["yclid=","gclid=","fbclid="].some((t=>e.includes(t)))&&["yandex","google","facebook"].some((e=>t.includes(e)))},decodeString(e){try{e=decodeURIComponent(e)}catch(t){return c.log(t),this.decode(e)}return e},decode(e){return(e=(e=(e=e.replace(/%([EF][0-9A-F])%([89AB][0-9A-F])%([89AB][0-9A-F])/gi,(function(e,t,n,a){const i=parseInt(t,16)-224,o=parseInt(n,16)-128;if(0==i&&o<32)return e;const r=(i<<12)+(o<<6)+(parseInt(a,16)-128);return r>65535?e:String.fromCharCode(r)}))).replace(/%([CD][0-9A-F])%([89AB][0-9A-F])/gi,(function(e,t,n){const a=parseInt(t,16)-192;if(a<2)return e;const i=parseInt(n,16)-128;return String.fromCharCode((a<<6)+i)}))).replace(/%([0-7][0-9A-F])/gi,(function(e,t){return String.fromCharCode(parseInt(t,16))}))).replace(/%[A-Z0-9]{2}/gi,"")},getUTMParamsFromUrl:function(e){let t=e.indexOf("?"),n=null;for(;-1!=n;)n=e.indexOf("?",t+1),n>0&&(t=n);const a=e.substr(t+1).split("&");let i,o,r="";for(o=a.length;o--;)if(i=a[o].split("="),i[0].indexOf("utm_")>=0){i=a[o],i=i.replace(/\|/gi,"%7C");const e=i.split("=");e.length>1&&(i=e[0]+"="+e.slice(1).join("%3D")),r+=(r.length>0?"|":"")+i.substr(i.indexOf("utm_")+4)}return r},setUTM:function(e){let{href:t,refer:n,setterFn:a}=e;const i=f.getUTMParamsFromUrl(t),o=f.parseUTM(t,n,i);return a({campaign:o&&o.campaign||null,source:o&&o.source||null,medium:o&&o.medium||null,keyword:o&&o.keyword||null,term:o&&o.term||null,content:o&&o.content||null})}};var p=f;t.default=p},95020:function(e,t,n){"use strict";!function(){"undefined"==typeof window&&(window=n.g);var e,t=2e4,a=2e3,i=32e3,o=3e4,r=function(t,n){if("function"==typeof e[t])try{return e[t](n)}catch(n){if("onerror"!==t)try{e.onerror(n)}catch(e){}}},s=function(e){return void 0===e?"":("string"!=typeof e&&(e=String(e)),e.replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/[\x00-\x19]/g," "))},l=function(e){return Math.random()*e<<0},u=/^-?[a-zA-Z0-9]{1,16}$/,c=/^[_a-zA-Z][_a-zA-Z0-9]{0,7}$/,d=/^[a-zA-Z0-9]{10}$/;window.ClientSocket=function(){if(e)return e;e=this;var n,f,p,h,g=a,m=0,_=function(){try{f.send(".")}catch(e){}p=setTimeout(_,t)},v=function(){f.onclose=null,f.onerror=null,f.onmessage=null,f.onopen=null,f.CLOSING>f.readyState&&f.close()},b=function(){f&&(v(),i<(g<<=1)&&(g=i)),f=new WebSocket(n),e.readyState=f.readyState,f.onclose=function(t){if(e.readyState=f.readyState,r("onclose",t.reason),p){if(clearTimeout(p),clearTimeout(h),t.reason){var n=-1;switch(t.reason){case"Protocol Error":case"Unsupported Data":case"Invalid Data":case"Message Too Big":case"Mandatory Ext.":case"Invalid Response":case"Normal Closure":case"Void Time":n=0;break;case"Service Restart":n=6e4+l(6e5);break;case"Try Again Later":n=6e5+l(6e5);break;case"Internal Error":n=18e5+l(6e5);break;case"Going Away":n=36e5+l(6e5);break;case"Policy Violation":n=72e5;break;case"Blacklisted":n=864e5}if(-1!==n)return v(),p=null,void r("ondrop",n)}else r("onerror",new Error("close-is-not-clean"));if(3<=++m)return v(),p=null,r("ondrop",6e5+l(6e5)),void r("onfail","Network Unreachable");p=setTimeout(b,g+l(a)),i<(g<<=1)&&(g=i)}},f.onerror=function(e){},f.onmessage=function(e){if(m=0,clearTimeout(h),h=setTimeout(b,o),!(1>=e.data.length)){for(var t,n="",a={},i=e.data.split("\n"),l=0;l<i.length;l++)if(i[l]){var u=i[l].split("\t");if(4>u.length)i[l]&&r("onerror","uncomplete-message: "+JSON.stringify(i[l]));else switch(u[3]){case"+":u[0]&&(a.from=u[0]),u[1]&&(a.room=u[1]),u[4]&&(a.ip=u[4]),u[5]&&(a.port=u[5]),a.geoip={},u[6]&&(a.geoip.region=u[6]),u[7]&&(a.geoip.city_country_code=u[7]),u[8]&&(a.geoip.city_country_name=u[8]),u[9]&&(a.geoip.region_name=u[9]),u[10]&&(a.geoip.city=u[10]),u[11]&&(a.geoip.latitude=u[11]),u[12]&&(a.geoip.longitude=u[12]),u[13]&&(a.geoip.org=u[13]),r("onadd",a);break;case"-":u[0]&&(a.from=u[0]),u[1]&&(a.room=u[1]),u[4]&&(a.code=u[4]),r("ondel",a);break;default:if(4<u.length)a.key=u[3],u[0]&&(a.from=u[0]),u[1]&&(a.room=u[1]),a.value=5<u.length?u.slice(4):u[4],r("onset",a);else if(u[0]&&(a.from=u[0],a.room=u[1]),a.key=u[3]||"*",t=r("onget",a)){if(n+="\t"+u[1]+"\t"+u[0]+"\t"+u[3],t instanceof Array)for(var c=0;c<t.length;c++)n+="\t"+s(t);else n+="\t"+s(t);n+="\n"}}}n&&y(n)}},f.onopen=function(n){e.readyState=f.readyState,e.url=f.url,e.protocol=f.protocol,g=a,clearTimeout(h),h=setTimeout(b,o),clearTimeout(p),p=setTimeout(_,t),r("onopen")},clearTimeout(p),p=setTimeout(b,g)};this.open=function(e){if("string"!=typeof e)throw new TypeError("invalid-URL");n=e,b()},this.close=function(){f&&(clearTimeout(p),clearTimeout(h),m=0,p=null,f.close(1e3,"Normal Closure"),e.readyState=f.readyState)};var y=function(e){if(e){var n=(e=String(e)).length;if("function"==typeof Blob&&(n=new Blob([e]).size),!(8192>=n))throw new RangeError("message-too-big");clearTimeout(h),h=setTimeout(b,o),clearTimeout(p),p=setTimeout(_,t),f.send(e)}},E=function(e,t){var n="";if(e.to){if(!u.test(e.to))throw new Error("invalid-TO");if(!e.room||!d.test(e.room))throw new Error("invalid-ROOM");n+="\t"+e.room+"\t"+e.to}else{if("get"===t)throw new Error("get-require-TO-and-ROOM");n+="\t\t"}if("*"===e.key)e.key="";else if(!c.test(e.key))throw new Error("invalid-KEY");return n+="\t"+e.key};this.get=function(e){if(e)try{y(E(e,"get")+"\n")}catch(e){return e}},this.set=function(e){if(e)try{var t=E(e,"set");if(e.value instanceof Array){if(0===e.value.length)return;for(var n=0;n<e.value.length;n++)t+="\t"+s(e.value[n])}else t+="\t"+s(e.value);y(t+"\n")}catch(e){return e}}}}()},4855:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ConsoleManager=void 0;var a=n(97615);void 0===window.console&&(window.console={log:function(){},warn:function(){},error:function(){},info:function(){}});class i{constructor(e,t){this.componentName=e,this.style=t,this.counter=3}saveLog(e,t){"Monitoring"!=e&&(5==r.length&&r.shift(),r.push(`${t.toString().substr(0,60)}`))}fireConsole(e,t){let n=this.componentName;const i=this.style;this.saveLog(n,t),o&&(n&&(n+=":","count"===e&&(n=`${this.counter++} ${n}`,e="warn"),"error"==e&&(n+=" ERROR"),t.unshift(n),i&&!a.EnvironmentManager.isProduction()&&t.unshift("%c%s %s",i)),console[e].apply?console[e].apply(console,t):console[e](t.join()))}log(){this.fireConsole("log",Object.values(arguments))}info(){this.fireConsole("info",Object.values(arguments))}warn(){this.fireConsole("warn",Object.values(arguments))}error(){this.fireConsole("error",Object.values(arguments))}count(){this.fireConsole("count",Object.values(arguments))}warnParent(e){window.parent.console.warn(e)}}t.ConsoleManager=i;let o=!1;const r=[];var s={setLogsEnabled:e=>{o=!!e},lastLog:r,name:(e,t)=>new i(e,t)};t.default=s},53139:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.updateAgent=t.setAllAgentsLeft=t.initializeAgentStore=t.dispatchers=t.addAgent=void 0;var i=n(2036),o=n(62096),r=n(15857),s=a(n(14762));const l=a(n(4855)).default.name("AgentsActions"),u=e=>({type:i.ActionType.INIT_AGENTS_STORE,payload:e});t.initializeAgentStore=u;const c=e=>({type:i.ActionType.ADD_AGENT,payload:e});t.addAgent=c;const d=e=>{const t=s.default.getAgentById(e.id);return l.log("redux_try_to_update_agent",e,t),t&&(t.set("display_name",e.name),t.set("title",e.title),t.set("avatar_url",e.avatarUrl),l.log("redux_update_agent",s.default)),{type:i.ActionType.UPDATE_AGENT,payload:e}};t.updateAgent=d;const f=()=>({type:i.ActionType.SET_ALL_AGENTS_LEFT});t.setAllAgentsLeft=f;const p=(0,r.bindActionCreators)({initializeAgentStore:u,addAgent:c,updateAgent:d,setAllAgentsLeft:f},o.reduxStore.dispatch);t.dispatchers=p},42932:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setVIReconnectTime=t.setShowEula=t.setMaintenance=t.setLastMsgTime=t.setLastMsgId=t.setLastChatOpened=t.setIsInputDisabled=t.setIsInDrag=t.setIsContactFormFocused=t.setDidFreezeData=t.setChatStarted=t.setChatOpenByClient=t.setChatAccepted=t.setAppStarted=t.setAppRoute=t.setAppIsOnline=t.setAppIsFocused=t.initializeAppStore=t.dispatchers=void 0;var i=n(2036),o=n(62096),r=n(15857),s=a(n(95003)),l=a(n(1039));const u=e=>{let{isFocused:t,isOnline:n,route:a,tabRoute:o,lastChatOpened:r,isInputDisabled:s,maintenance:l,chatStarted:u,chatAccepted:c,lastMsgId:d,lastMsgTime:f,started:p,showEula:h,chatOpenByClient:g,viReconnectTime:m,didFreezeData:_}=e;return{type:i.ActionType.INIT_APP_STORE,payload:{isFocused:t,isOnline:n,route:a,tabRoute:o,lastChatOpened:r,isInputDisabled:s,maintenance:l,chatOpenByClient:g,chatStarted:u,chatAccepted:c,lastMsgId:d,lastMsgTime:f,started:p,showEula:h,viReconnectTime:m,didFreezeData:_}}};t.initializeAppStore=u;const c=e=>(s.default.is_online=e?1:0,{type:i.ActionType.SET_APP_IS_ONLINE,payload:{isOnline:e}});t.setAppIsOnline=c;const d=e=>(s.default.is_focused=e,{type:i.ActionType.SET_APP_IS_FOCUSED,payload:{isFocused:e}});t.setAppIsFocused=d;const f=e=>({type:i.ActionType.SET_CHAT_OPEN_BY_CLIENT,payload:{chatOpenByClient:e}});t.setChatOpenByClient=f;const p=e=>(s.default.route=e,{type:i.ActionType.SET_APP_ROUTE,payload:{route:e}});t.setAppRoute=p;const h=e=>(s.default.lastChatOpened=e,{type:i.ActionType.SET_LAST_CHAT_OPENED,payload:{lastChatOpened:e}});t.setLastChatOpened=h;const g=e=>({type:i.ActionType.SET_IS_IN_DRAG,payload:{isInDrag:e}});t.setIsInDrag=g;const m=e=>({type:i.ActionType.SET_IS_CONTACT_FORM_FOCUSED,payload:{isContactFormFocused:e}});t.setIsContactFormFocused=m;const _=e=>({type:i.ActionType.SET_IS_INPUT_DISABLED,payload:{isInputDisabled:e}});t.setIsInputDisabled=_;const v=e=>(l.default.maintenance=e,{type:i.ActionType.SET_MAINTENANCE,payload:{maintenance:e}});t.setMaintenance=v;const b=e=>(s.default.chat_started=e,{type:i.ActionType.UPDATE_APP_STORE,payload:{chatStarted:e}});t.setChatStarted=b;const y=e=>(s.default.chat_accepted=e,{type:i.ActionType.UPDATE_APP_STORE,payload:{chatAccepted:e}});t.setChatAccepted=y;const E=e=>(s.default.lastMsgTime=e,{type:i.ActionType.UPDATE_APP_STORE,payload:{lastMsgTime:e}});t.setLastMsgTime=E;const T=e=>(s.default.lastMsgId=e,{type:i.ActionType.UPDATE_APP_STORE,payload:{lastMsgId:e}});t.setLastMsgId=T;const C=e=>(s.default.started=e,{type:i.ActionType.UPDATE_APP_STORE,payload:{started:e}});t.setAppStarted=C;const S=e=>(s.default.show_eula=e,{type:i.ActionType.UPDATE_APP_STORE,payload:{showEula:e}});t.setShowEula=S;const O=e=>(s.default.viReconnectTime=e,{type:i.ActionType.UPDATE_APP_STORE,payload:{viReconnectTime:e}});t.setVIReconnectTime=O;const A=e=>(s.default.didFreezeData=e,{type:i.ActionType.UPDATE_APP_STORE,payload:{didFreezeData:e}});t.setDidFreezeData=A;const w=(0,r.bindActionCreators)({initializeAppStore:u,setAppIsOnline:c,setAppIsFocused:d,setAppRoute:p,setLastChatOpened:h,setIsInDrag:g,setIsContactFormFocused:m,setIsInputDisabled:_,setMaintenance:v,setChatOpenByClient:f,setChatAccepted:y,setChatStarted:b,setLastMsgTime:E,setAppStarted:C,setShowEula:S,setLastMsgId:T,setVIReconnectTime:O,setDidFreezeData:A},o.reduxStore.dispatch);t.dispatchers=w},13532:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeBotsStore=t.dispatchers=t.addBot=void 0;var a=n(2036),i=n(62096),o=n(15857);const r=e=>({type:a.ActionType.INIT_BOTS_STORE,payload:e});t.initializeBotsStore=r;const s=e=>({type:a.ActionType.ADD_BOT,payload:e});t.addBot=s;const l={initializeBotsStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch),addBot:(0,o.bindActionCreators)(s,i.reduxStore.dispatch)};t.dispatchers=l},45689:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setWebRTCCallStatus=t.setSeparateForm=t.setDelayedTimezone=t.setDelayedPeriods=t.setDelayedCallbackStatus=t.setCallbackStatus=t.setCallbackIsDelayed=t.setCallbackError=t.setCallbackAvailable=t.setActiveWebRTCCallMessageId=t.initializeCallbackStore=t.dispatchers=void 0;var a=n(2036),i=n(62096),o=n(15857);const r=e=>({type:a.ActionType.INIT_CALLBACK_STORE,payload:e});t.initializeCallbackStore=r;const s=e=>({type:a.ActionType.UPDATE_CALLBACK_STORE,payload:{available:e}});t.setCallbackAvailable=s;const l=e=>({type:a.ActionType.UPDATE_CALLBACK_STORE,payload:{delayedStatus:e}});t.setDelayedCallbackStatus=l;const u=e=>({type:a.ActionType.UPDATE_CALLBACK_STORE,payload:{isDelayed:e}});t.setCallbackIsDelayed=u;const c=e=>({type:a.ActionType.UPDATE_CALLBACK_STORE,payload:{status:e}});t.setCallbackStatus=c;const d=e=>({type:a.ActionType.UPDATE_CALLBACK_STORE,payload:{error:e}});t.setCallbackError=d;const f=e=>({type:a.ActionType.UPDATE_CALLBACK_STORE,payload:{delayedTimezone:e}});t.setDelayedTimezone=f;const p=e=>({type:a.ActionType.UPDATE_CALLBACK_STORE,payload:{delayedPeriods:e}});t.setDelayedPeriods=p;const h=e=>({type:a.ActionType.UPDATE_CALLBACK_STORE,payload:{activeWebRTCCallMessageId:e}});t.setActiveWebRTCCallMessageId=h;const g=e=>({type:a.ActionType.UPDATE_CALLBACK_STORE,payload:{webRTCCallStatus:e}});t.setWebRTCCallStatus=g;const m=e=>({type:a.ActionType.UPDATE_CALLBACK_STORE,payload:{separateForm:e}});t.setSeparateForm=m;const _={initializeCallbackStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch),setCallbackAvailable:(0,o.bindActionCreators)(s,i.reduxStore.dispatch),setDelayedCallbackStatus:(0,o.bindActionCreators)(l,i.reduxStore.dispatch),setCallbackIsDelayed:(0,o.bindActionCreators)(u,i.reduxStore.dispatch),setCallbackStatus:(0,o.bindActionCreators)(c,i.reduxStore.dispatch),setCallbackError:(0,o.bindActionCreators)(d,i.reduxStore.dispatch),setDelayedTimezone:(0,o.bindActionCreators)(f,i.reduxStore.dispatch),setDelayedPeriods:(0,o.bindActionCreators)(p,i.reduxStore.dispatch),setActiveWebRTCCallMessageId:(0,o.bindActionCreators)(h,i.reduxStore.dispatch),setWebRTCCallStatus:(0,o.bindActionCreators)(g,i.reduxStore.dispatch),setSeparateForm:(0,o.bindActionCreators)(m,i.reduxStore.dispatch)};t.dispatchers=_},93141:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setNoJoinedAgents=t.setJoinedBots=t.setJoinedAgents=t.setChatEvaluated=t.setAgentTyping=t.initializeChatsStore=t.dispatchers=t.createChats=t.addJoinedAgent=void 0;var i=n(15857),o=n(88928),r=n(2036),s=n(99131),l=n(62096),u=n(55623),c=n(45959),d=n(53139),f=a(n(26754)),p=a(n(14762)),h=n(92056);const g=e=>{const t=(0,u.selectChatsIds)(e),{agentIds:n,botIds:a}=(0,u.selectJoinedIdsByStatus)(e,"join"),i=(0,c.selectClientEvaluate)(e),o=(0,c.selectDepartmentId)(e);return t.length?t.reduce(((e,t,r,l)=>(e.push({...s.chatTemplate,...r===l.length-1&&{joinedAgents:n,joinedBots:a},departmentId:o,evaluated:i,id:t}),e)),[]):[{...s.chatTemplate,departmentId:o,evaluated:i,joinedAgents:n,joinedBots:a}]};t.createChats=g;const m=()=>(e,t)=>{const n=g(t());return e({type:r.ActionType.INIT_CHATS_STORE,payload:n})};t.initializeChatsStore=m;const _=e=>(f.default.typing=e,{type:r.ActionType.SET_AGENT_TYPING,payload:{agentTyping:!!e}});t.setAgentTyping=_;const v=e=>t=>(0,o.batch)((()=>{t({type:r.ActionType.SET_CURRENT_CHAT_EVALUATED,payload:{evaluated:e}}),t((0,h.setEvaluate)(e))}));t.setChatEvaluated=v;const b=e=>{p.default.updateAgentList(e);const t=p.default.getAgentIdsByStatus("join");return{type:r.ActionType.SET_JOINED_AGENTS_IN_CURRENT_CHAT,payload:{joinedAgents:t}}};t.setJoinedAgents=b;const y=()=>e=>{p.default.closeChat(),f.default.agent_id=0,(0,o.batch)((()=>{e({type:r.ActionType.CLOSE_CHAT,payload:{joinedAgents:[]}}),e((0,d.setAllAgentsLeft)())}))};t.setNoJoinedAgents=y;const E=e=>({type:r.ActionType.ADD_JOINED_AGENT_TO_CURRENT_CHAT,payload:{agentId:e}});t.addJoinedAgent=E;const T=e=>({type:r.ActionType.SET_JOINED_BOTS,payload:{joinedBots:e??[]}});t.setJoinedBots=T;const C=(0,i.bindActionCreators)({initializeChatsStore:m,setAgentTyping:_,setChatEvaluated:v,setJoinedAgents:b,setNoJoinedAgents:y,addJoinedAgent:E,setJoinedBots:T},l.reduxStore.dispatch);t.dispatchers=C},92056:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateClient=t.setUserToken=t.setUTM=t.setPaId=t.setLastMessage=t.setIsIntroduced=t.setInputText=t.setHasIntegration=t.setEvaluate=t.setEulaAccepted=t.setDepartmentId=t.setCustomData=t.setClientSessionId=t.setClientPhone=t.setClientName=t.setClientId=t.setClientEmail=t.setClientDescription=t.setClientContacts=t.setCaptchaToken=t.setAssignedAgentId=t.resetClient=t.dispatchers=void 0;var a=n(15857),i=n(2036),o=n(62096);const r=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{hasIntegration:e}});t.setHasIntegration=r;const s=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{lastMessage:e}});t.setLastMessage=s;const l=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{isIntroduced:e}});t.setIsIntroduced=l;const u=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{inputText:e}});t.setInputText=u;const c=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{userToken:e}});t.setUserToken=c;const d=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{customData:e}});t.setCustomData=d;const f=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{captchaToken:e}});t.setCaptchaToken=f;const p=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{priorityAgentId:e}});t.setPaId=p;const h=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{email:e}});t.setClientEmail=h;const g=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{eulaAccepted:e}});t.setEulaAccepted=g;const m=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{phone:e}});t.setClientPhone=m;const _=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{name:e}});t.setClientName=_;const v=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{description:e}});t.setClientDescription=v;const b=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{clientId:e}});t.setClientId=b;const y=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{sessionId:e}});t.setClientSessionId=y;const E=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{assignedAgentId:e}});t.setAssignedAgentId=E;const T=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{departmentId:e}});t.setDepartmentId=T;t.setEvaluate=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{evaluate:e}});const C=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:{utm:e}});t.setUTM=C;const S=e=>({type:i.ActionType.UPDATE_CLIENT_STORE,payload:e});t.setClientContacts=S;const O=e=>({type:i.ActionType.UPDATE_CLIENT_STORE_MANUALLY,payload:e});t.updateClient=O;const A=()=>({type:i.ActionType.RESET_CLIENT_STORE});t.resetClient=A;const w=(0,a.bindActionCreators)({setHasIntegration:r,setLastMessage:s,setIsIntroduced:l,setInputText:u,setUserToken:c,setCustomData:d,setCaptchaToken:f,setPaId:p,setEulaAccepted:g,setClientEmail:h,setClientPhone:m,setClientName:_,setClientDescription:v,setClientId:b,setClientSessionId:y,setClientContacts:S,setAssignedAgentId:E,setDepartmentId:T,setUTM:C,updateClient:O,resetClient:A},o.reduxStore.dispatch);t.dispatchers=w},66031:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.enablePrechat=t.dispatchers=t.disableFiletransfer=void 0;var i=n(2036),o=n(62096),r=n(15857),s=a(n(1039));const l=e=>(s.default.disable_filetranser=e,{type:i.ActionType.SET_DISABLE_FILETRANSFER,payload:{disableFiletransfer:e?1:0}});t.disableFiletransfer=l;const u=e=>(s.default.enable_prechat=e?1:0,{type:i.ActionType.SET_ENABLE_PRECHAT,payload:{prechat:e?1:0}});t.enablePrechat=u;const c=(0,r.bindActionCreators)({disableFiletransfer:l,enablePrechat:u},o.reduxStore.dispatch);t.dispatchers=c},26932:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zoomDispatchers=t.zoom=t.userDispatchers=t.user=t.transitionDispatchers=t.transition=t.socialDispatchers=t.social=t.proactiveDispatchers=t.proactive=t.positionDispatchers=t.position=t.permissionsDispatchers=t.permissions=t.messagesDispatchers=t.messages=t.featuresDispatchers=t.features=t.clientDispatchers=t.client=t.chatsDispatchers=t.chats=t.callbackDispatchers=t.callback=t.botsDispatchers=t.bots=t.appDispatchers=t.app=t.agentsDispatchers=t.agents=void 0;var a=b(n(42932));t.app=a;var i=b(n(77004));t.position=i;var o=b(n(45689));t.callback=o;var r=b(n(27591));t.social=r;var s=b(n(50307));t.user=s;var l=b(n(53139));t.agents=l;var u=b(n(93141));t.chats=u;var c=b(n(5452));t.transition=c;var d=b(n(40099));t.messages=d;var f=b(n(92056));t.client=f;var p=b(n(66031));t.features=p;var h=b(n(13532));t.bots=h;var g=b(n(80429));t.zoom=g;var m=b(n(25925));t.proactive=m;var _=b(n(94539));function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function b(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}return a.default=e,n&&n.set(e,a),a}t.permissions=_;const y=a.dispatchers;t.appDispatchers=y;const E=i.dispatchers;t.positionDispatchers=E;const T=o.dispatchers;t.callbackDispatchers=T;const C=r.dispatchers;t.socialDispatchers=C;const S=s.dispatchers;t.userDispatchers=S;const O=l.dispatchers;t.agentsDispatchers=O;const A=u.dispatchers;t.chatsDispatchers=A;const w=c.dispatchers;t.transitionDispatchers=w;const I=d.dispatchers;t.messagesDispatchers=I;const M=f.dispatchers;t.clientDispatchers=M;const R=p.dispatchers;t.featuresDispatchers=R;const N=h.dispatchers;t.botsDispatchers=N;const P=g.dispatchers;t.zoomDispatchers=P;const D=m.dispatchers;t.proactiveDispatchers=D;const L=_.dispatchers;t.permissionsDispatchers=L},40099:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.updateWebRTCCallStatus=t.updateMessages=t.updateMessageBody=t.updateMessage=t.initializeMessagesStore=t.editMessage=t.dispatchers=t.destroyByType=t.deleteMessageByPrivateId=t.addMessages=t.addMessage=void 0;var i=n(2036),o=n(62096),r=n(15857),s=a(n(14264));const l=()=>{const e=s.default.getAll().map((e=>e.store));return{type:i.ActionType.INIT_MESSAGES_STORE,payload:{messages:e}}};t.initializeMessagesStore=l;const u=(e,t)=>{let n=e;return t||(n=s.default.push(n).store),{type:i.ActionType.ADD_MESSAGE,payload:{message:n}}};t.addMessage=u;const c=e=>(s.default.pushAll(e),{type:i.ActionType.ADD_MESSAGES,payload:{messages:e}});t.addMessages=c;const d=e=>({type:i.ActionType.EDIT_MESSAGE,payload:e});t.editMessage=d;const f=(e,t)=>{const n=s.default.getMessageByPrivateId(e);return n&&n.set("body",t),{type:i.ActionType.UPDATE_MESSAGE_BODY,payload:{privateId:e,body:t}}};t.updateMessageBody=f;const p=(e,t)=>{let{privateId:n,messageId:a}=e;const o=n?s.default.getMessageByPrivateId(n):s.default.getMessageById(a);return o&&o.set(t),{type:i.ActionType.UPDATE_MESSAGE,payload:{privateId:n,messageId:a,newMessage:t}}};t.updateMessage=p;const h=(e,t)=>{let{privateIds:n,messageIds:a}=e;return s.default.getCurrentChatMessages().forEach((e=>{const{msg_id:i,private_id:o}=e.toJSON();n&&n.includes(o)&&e.set(t),a&&a.includes(i)&&e.set(t)})),{type:i.ActionType.UPDATE_MESSAGES,payload:{privateIds:n,messageIds:a,update:t}}};t.updateMessages=h;const g=e=>{const t=s.default.getMessageByPrivateId(e);return t&&t.destroy(),{type:i.ActionType.DELETE_MESSAGE,payload:{privateId:e}}};t.deleteMessageByPrivateId=g;const m=e=>{const t=s.default.getMessagesByType(e);return t.length&&t.forEach((e=>{e&&e.destroy()})),{type:i.ActionType.DELETE_MESSAGE,payload:{type:e}}};t.destroyByType=m;const _=(e,t)=>{const n=s.default.getMessageByPrivateId(e);return n&&n.set("body",{webRTCCallStatus:t}),{type:i.ActionType.UPDATE_WEBRTCCALL_STATUS,payload:{privateId:e||null,webRTCCallStatus:t}}};t.updateWebRTCCallStatus=_;const v={initializeMessagesStore:(0,r.bindActionCreators)(l,o.reduxStore.dispatch),addMessage:(0,r.bindActionCreators)(u,o.reduxStore.dispatch),addMessages:(0,r.bindActionCreators)(c,o.reduxStore.dispatch),editMessage:(0,r.bindActionCreators)(d,o.reduxStore.dispatch),updateMessageBody:(0,r.bindActionCreators)(f,o.reduxStore.dispatch),deleteMessageByPrivateId:(0,r.bindActionCreators)(g,o.reduxStore.dispatch),destroyByType:(0,r.bindActionCreators)(m,o.reduxStore.dispatch),updateWebRTCCallStatus:(0,r.bindActionCreators)(_,o.reduxStore.dispatch),updateMessage:(0,r.bindActionCreators)(p,o.reduxStore.dispatch),updateMessages:(0,r.bindActionCreators)(h,o.reduxStore.dispatch)};t.dispatchers=v},94539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updatePermission=t.dispatchers=void 0;var a=n(2036),i=n(62096),o=n(15857);const r=(e,t)=>({type:a.ActionType.UPDATE_PERMISSION,payload:{permission:e,value:t}});t.updatePermission=r;const s={updatePermission:(0,o.bindActionCreators)(r,i.reduxStore.dispatch)};t.dispatchers=s},77004:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setWidgetPositionRight=t.setWidgetPositionLeft=t.setWidgetPositionHeight=t.initializePositionStore=t.dispatchers=void 0;var a=n(2036),i=n(62096),o=n(15857);const r=e=>{let{height:t,left:n,right:i}=e;return{type:a.ActionType.INIT_POSITION_STORE,payload:{height:t,left:n,right:i}}};t.initializePositionStore=r;const s=e=>({type:a.ActionType.CHANGE_POSITION_HEIGHT,payload:{height:e}});t.setWidgetPositionHeight=s;const l=e=>({type:a.ActionType.CHANGE_POSITION_LEFT,payload:{left:e}});t.setWidgetPositionLeft=l;const u=e=>({type:a.ActionType.CHANGE_POSITION_RIGHT,payload:{right:e}});t.setWidgetPositionRight=u;const c={initializePositionStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch),setWidgetPositionHeight:(0,o.bindActionCreators)(s,i.reduxStore.dispatch),setWidgetPositionLeft:(0,o.bindActionCreators)(l,i.reduxStore.dispatch),setWidgetPositionRight:(0,o.bindActionCreators)(u,i.reduxStore.dispatch)};t.dispatchers=c},25925:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setStatus=t.setName=t.dispatchers=t.addProactive=void 0;var a=n(2036),i=n(62096),o=n(15857);const r=e=>{let{createdTs:t,name:n,privateId:i,status:o,text:r,agentId:s,botId:l,isMarkdown:u,prechats:c,campaignId:d}=e;return{type:a.ActionType.ADD_PROACTIVE,payload:{createdTs:t,name:n,privateId:i,status:o,text:r,agentId:s,botId:l,isMarkdown:u,prechats:c,campaignId:d}}};t.addProactive=r;const s=e=>({type:a.ActionType.SET_PROACTIVE_STATUS,payload:{status:e}});t.setStatus=s;const l=e=>({type:a.ActionType.SET_PROACTIVE_NAME,payload:{name:e}});t.setName=l;const u={addProactive:(0,o.bindActionCreators)(r,i.reduxStore.dispatch),setStatus:(0,o.bindActionCreators)(s,i.reduxStore.dispatch),setName:(0,o.bindActionCreators)(l,i.reduxStore.dispatch)};t.dispatchers=u},27591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeSocialStore=t.dispatchers=void 0;var a=n(2036),i=n(62096),o=n(15857);const r=e=>{let{vk:t,fb:n,mode:i}=e;return{type:a.ActionType.INIT_SOCIAL_STORE,payload:{vk:t,fb:n,mode:i}}};t.initializeSocialStore=r;const s={initializeSocialStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch)};t.dispatchers=s},5452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startTransition=t.initializeTransitionStore=t.dispatchers=void 0;var a=n(2036),i=n(62096),o=n(15857);const r=e=>({type:a.ActionType.INIT_TRANSITION_STORE,payload:e});t.initializeTransitionStore=r;const s=e=>({type:a.ActionType.START_TRANSITION_SCRIPT,payload:{script:e}});t.startTransition=s;const l={initializeTransitionStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch),startTransition:(0,o.bindActionCreators)(s,i.reduxStore.dispatch)};t.dispatchers=l},50307:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.setWidgetPadding=t.setWidgetOrientation=t.setWidgetLabelBubble=t.setWidgetFontType=t.setWidgetFontSize=t.setWidgetFontFamily=t.setWidgetFontColor=t.setWidgetColor2=t.setWidgetColor=t.setPrechat=t.setPattern=t.setOnlineLabel=t.setOfflineLabel=t.setOfflineFormTitle=t.setOfflineFormText=t.setCallbackButtonColor=t.setCallHeaderText=t.setBubbleColor=t.dispatchers=void 0;var i=n(2036),o=n(62096),r=n(15857),s=a(n(1039)),l=a(n(95003));const u=e=>(s.default.widget_color=e,l.default.widget_color=e,{type:i.ActionType.SET_WIDGET_COLOR,payload:{widgetColor:e}});t.setWidgetColor=u;const c=e=>(s.default.widget_color2=e,l.default.widget_color2=e,{type:i.ActionType.SET_WIDGET_COLOR2,payload:{widgetColor2:e}});t.setWidgetColor2=c;const d=e=>(s.default.widget_font_color=e,l.default.widget_font_color=e,{type:i.ActionType.SET_WIDGET_FONT_COLOR,payload:{widgetFontColor:e}});t.setWidgetFontColor=d;const f=e=>(s.default.widget_orientation=e,{type:i.ActionType.SET_WIDGET_ORIENTATION,payload:{widgetOrientation:e}});t.setWidgetOrientation=f;const p=e=>{const t=+e;return s.default.widget_padding=t,{type:i.ActionType.SET_WIDGET_PADDING,payload:{widgetPadding:t}}};t.setWidgetPadding=p;const h=e=>(s.default.online_widget_label=e,{type:i.ActionType.SET_ONLINE_WIDGET_LABEL,payload:{onlineWidgetLabel:e}});t.setOnlineLabel=h;const g=e=>(s.default.offline_widget_label=e,{type:i.ActionType.SET_OFFLINE_WIDGET_LABEL,payload:{offlineWidgetLabel:e}});t.setOfflineLabel=g;const m=e=>(s.default.font_size=e,{type:i.ActionType.SET_WIDGET_FONT_SIZE,payload:{fontSize:e}});t.setWidgetFontSize=m;const _=e=>(s.default.font_family=e,{type:i.ActionType.SET_WIDGET_FONT_FAMILY,payload:{fontFamily:e}});t.setWidgetFontFamily=_;const v=e=>(s.default.font_type=e,{type:i.ActionType.SET_WIDGET_FONT_TYPE,payload:{fontType:e}});t.setWidgetFontType=v;const b=e=>({type:i.ActionType.SET_WIDGET_LABEL_BUBBLE,payload:{labelBubble:e}});t.setWidgetLabelBubble=b;const y=e=>(l.default.callText=e,{type:i.ActionType.SET_CALL_HEADER_TEXT,payload:{callHeaderText:e}});t.setCallHeaderText=y;const E=e=>(s.default.pattern=e,{type:i.ActionType.SET_PATTERN,payload:{pattern:e}});t.setPattern=E;const T=e=>(s.default.callback_btn_color=e,{type:i.ActionType.SET_CALLBACK_BUTTON_COLOR,payload:{callbackButtonColor:e}});t.setCallbackButtonColor=T;const C=e=>(s.default.bubble_color=e,{type:i.ActionType.SET_BUBBLE_COLOR,payload:{bubbleColor:e}});t.setBubbleColor=C;const S=e=>(s.default.offline_form_title=e,{type:i.ActionType.SET_OFFLINE_FORM_TITLE,payload:{offlineFormTitle:e}});t.setOfflineFormTitle=S;const O=e=>(s.default.offline_form_text=e,{type:i.ActionType.SET_OFFLINE_FORM_TEXT,payload:{offlineFormText:e}});t.setOfflineFormText=O;const A=e=>(s.default.prechat=e,{type:i.ActionType.SET_PRECHAT,payload:{prechat:e}});t.setPrechat=A;const w={setWidgetColor:(0,r.bindActionCreators)(u,o.reduxStore.dispatch),setWidgetColor2:(0,r.bindActionCreators)(c,o.reduxStore.dispatch),setWidgetFontColor:(0,r.bindActionCreators)(d,o.reduxStore.dispatch),setWidgetOrientation:(0,r.bindActionCreators)(f,o.reduxStore.dispatch),setWidgetPadding:(0,r.bindActionCreators)(p,o.reduxStore.dispatch),setOnlineLabel:(0,r.bindActionCreators)(h,o.reduxStore.dispatch),setOfflineLabel:(0,r.bindActionCreators)(g,o.reduxStore.dispatch),setWidgetFontSize:(0,r.bindActionCreators)(m,o.reduxStore.dispatch),setWidgetFontFamily:(0,r.bindActionCreators)(_,o.reduxStore.dispatch),setWidgetFontType:(0,r.bindActionCreators)(v,o.reduxStore.dispatch),setWidgetLabelBubble:(0,r.bindActionCreators)(b,o.reduxStore.dispatch),setCallHeaderText:(0,r.bindActionCreators)(y,o.reduxStore.dispatch),setPattern:(0,r.bindActionCreators)(E,o.reduxStore.dispatch),setCallbackButtonColor:(0,r.bindActionCreators)(T,o.reduxStore.dispatch),setBubbleColor:(0,r.bindActionCreators)(C,o.reduxStore.dispatch),setOfflineFormTitle:(0,r.bindActionCreators)(S,o.reduxStore.dispatch),setOfflineFormText:(0,r.bindActionCreators)(O,o.reduxStore.dispatch),setPrechat:(0,r.bindActionCreators)(A,o.reduxStore.dispatch)};t.dispatchers=w},80429:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initializeZoomStore=t.dispatchers=void 0;var a=n(2036),i=n(62096),o=n(15857);const r=e=>{let{user:t,page:n,app:i}=e;return{type:a.ActionType.INIT_ZOOM_STORE,payload:{user:t,page:n,app:i}}};t.initializeZoomStore=r;const s={initializeZoomStore:(0,o.bindActionCreators)(r,i.reduxStore.dispatch)};t.dispatchers=s},2036:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionType=void 0;t.ActionType={DO_NOTHING:"DO_NOTHING",INIT_POSITION_STORE:"INIT_POSITION_STORE",CHANGE_POSITION_HEIGHT:"CHANGE_POSITION_HEIGHT",CHANGE_POSITION_LEFT:"CHANGE_POSITION_LEFT",CHANGE_POSITION_RIGHT:"CHANGE_POSITION_RIGHT",INIT_CALLBACK_STORE:"INIT_CALLBACK_STORE",SET_CALL_AVAILABLE:"SET_CALL_AVAILABLE",SET_DELAYED_CALL_STATUS:"SET_DELAYED_CALL_STATUS",SET_CALL_IS_DELAYED:"SET_CALL_IS_DELAYED",SET_CALL_STATUS:"SET_CALL_STATUS",SET_CALL_ERROR:"SET_CALL_ERROR",SET_DELAYED_TIMEZONE:"SET_DELAYED_TIMEZONE",SET_DELAYED_PERIODS:"SET_DELAYED_PERIODS",SET_ACTIVE_WEBRTC_MESSAGE_ID:"SET_ACTIVE_WEBRTC_MESSAGE_ID",SET_WEBRTC_CALL_STATUS:"SET_WEBRTC_CALL_STATUS",UPDATE_CALLBACK_STORE:"UPDATE_CALLBACK_STORE",INIT_SOCIAL_STORE:"INIT_SOCIAL_STORE",INIT_APP_STORE:"INIT_APP_STORE",SET_APP_IS_ONLINE:"SET_APP_IS_ONLINE",SET_APP_IS_FOCUSED:"SET_APP_IS_FOCUSED",SET_APP_ROUTE:"SET_APP_ROUTE",SET_LAST_CHAT_OPENED:"SET_LAST_CHAT_OPENED",SET_IS_IN_DRAG:"SET_IS_IN_DRAG",SET_IS_CONTACT_FORM_FOCUSED:"SET_IS_CONTACT_FORM_FOCUSED",SET_IS_INPUT_DISABLED:"SET_IS_INPUT_DISABLED",SET_MAINTENANCE:"SET_MAINTENANCE",SET_CHAT_OPEN_BY_CLIENT:"SET_CHAT_OPEN_BY_CLIENT",UPDATE_APP_STORE:"UPDATE_APP_STORE",SET_WIDGET_COLOR:"SET_WIDGET_COLOR",SET_WIDGET_COLOR2:"SET_WIDGET_COLOR2",SET_WIDGET_FONT_COLOR:"SET_WIDGET_FONT_COLOR",SET_WIDGET_ORIENTATION:"SET_WIDGET_ORIENTATION",SET_WIDGET_PADDING:"SET_WIDGET_PADDING",SET_ONLINE_WIDGET_LABEL:"SET_ONLINE_WIDGET_LABEL",SET_OFFLINE_WIDGET_LABEL:"SET_OFFLINE_WIDGET_LABEL",SET_WIDGET_FONT_SIZE:"SET_WIDGET_FONT_SIZE",SET_WIDGET_FONT_FAMILY:"SET_WIDGET_FONT_FAMILY",SET_WIDGET_FONT_TYPE:"SET_WIDGET_FONT_TYPE",SET_CALL_HEADER_TEXT:"SET_CALL_HEADER_TEXT",SET_PATTERN:"SET_PATTERN",SET_CALLBACK_BUTTON_COLOR:"SET_CALLBACK_BUTTON_COLOR",SET_BUBBLE_COLOR:"SET_BUBBLE_COLOR",SET_WIDGET_LABEL_BUBBLE:"SET_WIDGET_LABEL_BUBBLE",SET_PRECHAT:"SET_PRECHAT",INIT_AGENTS_STORE:"INIT_AGENTS_STORE",ADD_AGENT:"ADD_AGENT",UPDATE_AGENT:"UPDATE_AGENT",SET_ALL_AGENTS_LEFT:"SET_ALL_AGENTS_LEFT",INIT_BOTS_STORE:"INIT_BOTS_STORE",ADD_BOT:"ADD_BOT",INIT_CHATS_STORE:"INIT_CHATS_STORE",START_CHAT:"START_CHAT",CLOSE_CHAT:"CLOSE_CHAT",SET_JOINED_AGENTS_IN_CURRENT_CHAT:"SET_JOINED_AGENTS_IN_CURRENT_CHAT",ADD_JOINED_AGENT_TO_CURRENT_CHAT:"ADD_JOINED_AGENT_TO_CURRENT_CHAT",REMOVE_AGENT_FROM_CURRENT_CHAT:"REMOVE_AGENT_FROM_CHAT",SET_CURRENT_CHAT_EVALUATED:"SET_CHAT_EVALUATED",SET_AGENT_TYPING:"SET_AGENT_TYPING",SET_CURRENT_CHAT_DEPARTMENT_ID:"SET_CHAT_DEPARTMENT_ID",SET_JOINED_BOTS:"SET_JOINED_BOTS",UPDATE_CHATS_STORE:"UPDATE_CHATS_STORE",INIT_TRANSITION_STORE:"INIT_TRANSITION_STORE",START_TRANSITION_SCRIPT:"START_TRANSITION_SCRIPT",CONTINUE_TRANSITION_SCRIPT:"CONTINUE_TRANSITION_SCRIPT",STOP_TRANSITION_SCRIPT:"STOP_TRANSITION_SCRIPT",RESET_TRANSITON_SCRIPT:"RESET_TRANSITON_SCRIPT",INIT_MESSAGES_STORE:"INIT_MESSAGES_STORE",ADD_MESSAGE:"ADD_MESSAGE",ADD_MESSAGES:"ADD_MESSAGES",EDIT_MESSAGE:"EDIT_MESSAGE",DELETE_MESSAGE:"DELETE_MESSAGE",UPDATE_MESSAGE_BODY:"UPDATE_MESSAGE_BODY",UPDATE_MESSAGE_STATUS:"UPDATE_MESSAGE_STATUS",UPDATE_MESSAGE:"UPDATE_MESSAGE",UPDATE_MESSAGES:"UPDATE_MESSAGES",SET_OFFLINE_FORM_TITLE:"SET_OFFLINE_FORM_TITLE",SET_OFFLINE_FORM_TEXT:"SET_OFFLINE_FORM_TEXT",UPDATE_CLIENT_STORE:"UPDATE_CLIENT_STORE",UPDATE_CLIENT_STORE_MANUALLY:"UPDATE_CLIENT_STORE_MANUALLY",RESET_CLIENT_STORE:"RESET_CLIENT_STORE",SET_DISABLE_FILETRANSFER:"SET_DISABLE_FILETRANSFER",SET_ENABLE_PRECHAT:"SET_ENABLE_PRECHAT",INIT_ZOOM_STORE:"INIT_ZOOM_STORE",ADD_PROACTIVE:"ADD_PROACTIVE",SET_PROACTIVE_STATUS:"SET_PROACTIVE_STATUS",SET_PROACTIVE_NAME:"SET_PROACTIVE_NAME",UPDATE_WEBRTCCALL_STATUS:"UPDATE_WEBRTCCALL_STATUS",UPDATE_PERMISSION:"UPDATE_PERMISSION"}},79156:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.storesMap=t.readoptReduxToClientStorage=t.adoptClientStorageToRedux=void 0;var i=n(28650),o=n(46322),r=n(71047),s=n(42344),l=n(34014);const u=a(n(4855)).default.name("REDUX: ClientAdapter"),c={callback:{cw_call:{error:"error",status:"status"},cw_call_enabled:"available",cw_call_delayed_periods:"delayedPeriods",cw_call_delayed_status:"delayedStatus",cw_call_delayed_tz:"delayedTimezone",cw_call_delayed:"isDelayed",activeWebRTCCallMessageId:"activeWebRTCCallMessageId",webRTCCallStatus:"webRTCCallStatus",separateForm:"separateForm"},client:{assigned_agent_id:"assignedAgentId",avatar_url:"avatarUrl",captchaToken:"captchaToken",client_id:"clientId",client_info:{client_name:"name",description:"description",email:"email",phone:"phone"},customData:"customData",department_id:"departmentId",display_name:"displayName",eula_accepted:"eulaAccepted",evaluate:"evaluate",has_integration:"hasIntegration",inputText:"inputText",is_introduced:"isIntroduced",isBlacklisted:"isBlacklisted",jv_sess_id:"sessionId",last_message:"lastMessage",pa_id:"priorityAgentId",user_token:"userToken",utm:"utm",visitorId:"visitorId"}},d={callback:{name:r.STORAGED_ID.CALLBACK,keys:c.callback,initialState:s.initialState},client:{name:r.STORAGED_ID.CLIENT,keys:c.client,initialState:l.initialState}};t.storesMap=d;t.adoptClientStorageToRedux=(e,t)=>{u.warn("ADOPT_CLIENT_STORAGE_TO_REDUX",{data:e,keysSet:t});const{keys:n,initialState:a}=d[t];if(!e)return a;const r={};for(const t in n){const s=n[t];if((0,o.isObject)(s))for(const n in s)e[t]&&(0,i.hasOwn)(e[t],n)?r[s[n]]=e[t][n]:r[s[n]]=null;else r[s]=e[t]??a[s]}return r};t.readoptReduxToClientStorage=(e,t)=>{u.warn("READOPT_CLIENT_STORAGE_TO_REDUX",{data:e,keysSet:t});const n={...e},{keys:a}=d[t];for(const t in a){const i=a[t];if((0,o.isObject)(i))for(const a in i)n[t]={...n[t],[a]:e[i[a]]},delete n[i[a]];else n[t]=e[i],t!==i&&delete n[i]}return n}},91133:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mergeSafety=void 0;var a=n(98986);t.mergeSafety=(e,t)=>Object.keys(t).reduce(((e,n)=>{const i=t[n];return(0,a.isNull)(i)||(e[n]=i),e}),{...e})},28240:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.loggerMiddleware=void 0;var i=a(n(4855)),o=a(n(22866));const r=i.default.name("Redux");t.loggerMiddleware=e=>t=>n=>{r.warn("DISPATCHING",n);const a=t(n);return o.default.getInstance()&&o.default.getInstance().saveReduxAction({...n,ts:(new Date).getTime()}),r.warn("NEXT_STATE",e.getState()),a}},68031:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.subscribeOnStorage=t.statesToPersist=t.persistMiddleware=void 0;var i=n(16016),o=n(2036),r=n(79156),s=n(39715),l=n(71047),u=n(44733),c=a(n(1039)),d=n(55004);const f=u.StorageProvider.createKeyForStore(l.STORAGED_ID.POSITION),p=u.StorageProvider.createKeyForStore(l.STORAGED_ID.CLIENT),h={[l.STORAGED_ID.POSITION]:{storageKey:f,path:"position",onAdapter:null,onReadapter:null,onUpdate:null},[l.STORAGED_ID.CLIENT]:{storageKey:p,path:"client",onAdapter:e=>(0,r.adoptClientStorageToRedux)(e,l.STORAGED_ID.CLIENT),onReadapter:e=>(0,r.readoptReduxToClientStorage)(e,l.STORAGED_ID.CLIENT),onUpdate:e=>{c.default.cookie_domain&&u.StorageProvider.duplicateClientStateInCookie(e)}},[l.STORAGED_ID.CALLBACK]:{storageKey:p,path:"callback",onAdapter:e=>(0,r.adoptClientStorageToRedux)(e,l.STORAGED_ID.CALLBACK),onReadapter:e=>(0,r.readoptReduxToClientStorage)(e,l.STORAGED_ID.CALLBACK),onUpdate:null}};t.statesToPersist=h;const g={[o.ActionType.INIT_POSITION_STORE]:h[l.STORAGED_ID.POSITION],[o.ActionType.UPDATE_CLIENT_STORE]:h[l.STORAGED_ID.CLIENT],[o.ActionType.RESET_CLIENT_STORE]:h[l.STORAGED_ID.CLIENT],[o.ActionType.UPDATE_CALLBACK_STORE]:h[l.STORAGED_ID.CALLBACK]};t.persistMiddleware=e=>t=>n=>{if(t(n),n.type===o.ActionType.SET_DID_FREEZE_DATA&&!0===n.payload.didFreezeData)return Object.values(h).forEach((e=>{let{storageKey:t}=e;return u.StorageProvider.remove(t)}));n.type===o.ActionType.RESET_CLIENT_STORE&&u.StorageProvider.remove(h[l.STORAGED_ID.CLIENT].storageKey);const a=e.getState();if(n.type in g&&!a.app.didFreezeData){const{storageKey:e,path:t,onReadapter:i,onUpdate:o}=g[n.type],r=(0,s.get)(a,t),l=u.StorageProvider.get(e),c=Object.assign({},l,i?i(r):r);u.StorageProvider.set(e,c),null==o||o(c);const d=v(n.type);u.StorageProvider.set(m,d)}};const m="sync",_=(0,i.generateGUID)(),v=e=>({actionType:e,sourceId:_,time:Date.now()});t.subscribeOnStorage=e=>{window.addEventListener("storage",(e=>t=>{let{key:n}=t;if((0,u.isJvKeyForStoreToGet)(n)){const t=u.StorageProvider.get(m);if(t&&t.sourceId!==_){const{storageKey:n,onAdapter:a}=g[t.actionType],i=u.StorageProvider.get(n);e.dispatch({type:t.actionType,payload:(0,d.isFunction)(a)?a(i):i})}}})(e))}},57157:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:o}=t;switch(n){case a.ActionType.INIT_AGENTS_STORE:if(o&&o.length){return[...o.filter((e=>!e.isBot))]}return[...e];case a.ActionType.ADD_AGENT:if(o){return e.find((e=>e.id===o.id))?e.map((e=>e.id===o.id?{...e,...o}:e)):[...e,{...o}]}return[...e];case a.ActionType.UPDATE_AGENT:return o?e.map((e=>e.id===o.id?{...e,...o}:e)):[...e];case a.ActionType.SET_ALL_AGENTS_LEFT:return e.map((e=>({...e,state:"left"})));default:return e}};var a=n(2036);const i=[]},46144:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:o}=t;switch(n){case a.ActionType.INIT_APP_STORE:return{isFocused:o.isFocused,isOnline:!!o.isOnline,route:o.route,tabRoute:o.tabRoute,lastChatOpened:o.lastChatOpened,isInDrag:o.isInDrag,isContactFormFocused:o.isContactFormFocused,isInputDisabled:o.isInputDisabled,maintenance:o.maintenance,chatOpenByClient:o.chatOpenByClient,chatStarted:o.chatStarted,chatAccepted:o.chatAccepted,lastMsgId:o.lastMsgId,lastMsgTime:o.lastMsgTime,started:o.started,showEula:o.showEula,viReconnectTime:o.viReconnectTime,didFreezeData:o.didFreezeData};case a.ActionType.SET_APP_IS_ONLINE:return{...e,isOnline:o.isOnline};case a.ActionType.SET_APP_IS_FOCUSED:return{...e,isFocused:o.isFocused};case a.ActionType.SET_CHAT_OPEN_BY_CLIENT:return{...e,chatOpenByClient:o.chatOpenByClient};case a.ActionType.SET_APP_ROUTE:return{...e,route:o.route};case a.ActionType.SET_LAST_CHAT_OPENED:return{...e,lastChatOpened:o.lastChatOpened};case a.ActionType.SET_IS_IN_DRAG:return{...e,isInDrag:o.isInDrag};case a.ActionType.SET_IS_CONTACT_FORM_FOCUSED:return{...e,isContactFormFocused:o.isContactFormFocused};case a.ActionType.SET_IS_INPUT_DISABLED:return{...e,isInputDisabled:o.isInputDisabled};case a.ActionType.SET_MAINTENANCE:return{...e,maintenance:o.maintenance};case a.ActionType.UPDATE_APP_STORE:return{...e,...o};default:return e}};var a=n(2036);const i={isFocused:null,isOnline:null,route:null,tabRoute:null,lastChatOpened:null,isInDrag:null,isContactFormFocused:null,isInputDisabled:null,maintenance:null,chatOpenByClient:null,chatStarted:null,chatAccepted:null,lastMsgId:null,lastMsgTime:null,started:null,showEula:null,viReconnectTime:null,didFreezeData:!1}},56786:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:o}=t;switch(n){case a.ActionType.INIT_BOTS_STORE:if(o&&o.length){return[...o.filter((e=>e.isBot))]}return[...e];case a.ActionType.ADD_BOT:if(o){return e.find((e=>e.id===o.id))?e.map((e=>e.id===o.id?{...e,...o}:e)):[...e,{...o}]}return[...e];default:return e}};var a=n(2036);const i=[]},42344:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:o}=t;if(n===a.ActionType.UPDATE_CALLBACK_STORE)return{...e,...o};return e},t.initialState=void 0;var a=n(2036);const i={available:null,delayedPeriods:[],delayedStatus:null,delayedTimezone:null,isDelayed:null,status:null,error:null,activeWebRTCCallMessageId:null,webRTCCallStatus:null,separateForm:null};t.initialState=i},99131:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chatTemplate=void 0,t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:r}=t;switch(n){case a.ActionType.INIT_CHATS_STORE:return r;case a.ActionType.SET_JOINED_AGENTS_IN_CURRENT_CHAT:return e.map(i((e=>({...e,joinedAgents:r.joinedAgents??[]}))));case a.ActionType.SET_JOINED_BOTS:return e.map(i((e=>({...e,joinedBots:r.joinedBots??[]}))));case a.ActionType.ADD_JOINED_AGENT_TO_CURRENT_CHAT:return r.agentId<0?e:e.map(i((e=>e.joinedAgents.includes(r.agentId)?e:{...e,joinedAgents:[...e.joinedAgents,r.agentId]})));case a.ActionType.SET_AGENT_TYPING:return e.map(i((e=>({...e,agentTyping:r.agentTyping}))));case a.ActionType.SET_CURRENT_CHAT_EVALUATED:return e.map(i((e=>({...e,evaluated:r.evaluated}))));case a.ActionType.CLOSE_CHAT:return e.map(i((e=>({...e,joinedAgents:[]}))));default:return e}};var a=n(2036);t.chatTemplate={agentTyping:null,departmentId:null,evaluated:null,id:null,joinedAgents:[],joinedBots:[]};const i=e=>(t,n,a)=>n!==a.length-1?t:e(t),o=[]},34014:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:r}=t;switch(n){case a.ActionType.UPDATE_CLIENT_STORE:return(0,i.mergeSafety)(e,r);case a.ActionType.UPDATE_CLIENT_STORE_MANUALLY:return{...e,...r};case a.ActionType.RESET_CLIENT_STORE:return o;default:return e}},t.initialState=void 0;var a=n(2036),i=n(91133);const o={assignedAgentId:null,avatarUrl:null,captchaToken:null,clientId:null,customData:null,departmentId:null,description:null,displayName:null,email:null,evaluate:null,eulaAccepted:null,hasIntegration:null,inputText:null,isBlacklisted:null,isIntroduced:null,lastMessage:null,name:null,phone:null,priorityAgentId:null,sessionId:null,userToken:null,utm:{campaign:null,content:null,keyword:null,term:null,medium:null,source:null},visitorId:null};t.initialState=o},94514:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(15857),o=a(n(57157)),r=a(n(46144)),s=a(n(56786)),l=a(n(42344)),u=a(n(99131)),c=a(n(34014)),d=a(n(20209)),f=a(n(34808)),p=a(n(51458)),h=a(n(77620)),g=a(n(78135)),m=a(n(31147)),_=a(n(40289)),v=(0,i.combineReducers)({agents:o.default,app:r.default,bots:s.default,callback:l.default,chats:u.default,client:c.default,messages:d.default,position:f.default,proactive:p.default,settings:h.default,social:g.default,transition:m.default,zoom:_.default});t.default=v},20209:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:o}=t;switch(n){case a.ActionType.INIT_MESSAGES_STORE:return o.messages?[...o.messages]:[...e];case a.ActionType.ADD_MESSAGE:return o.message?[...e,o.message]:[...e];case a.ActionType.ADD_MESSAGES:return o.messages&&o.messages.length?[...e,...o.messages]:[...e];case a.ActionType.UPDATE_MESSAGE_BODY:return o.privateId&&o.body?[...e.map((e=>e.private_id===o.privateId?{...e,body:o.body}:e))]:[...e];case a.ActionType.UPDATE_MESSAGE:return e.map((e=>o.messageId&&e.msg_id===o.messageId||o.privateId&&e.private_id===o.privateId?{...e,...o.newMessage}:e));case a.ActionType.UPDATE_MESSAGES:return e.map((e=>o.messageIds&&o.messageIds.includes(e.msg_id)||o.privateIds&&o.privateIds.includes(e.private_id)?{...e,...o.update}:e));case a.ActionType.EDIT_MESSAGE:case a.ActionType.DELETE_MESSAGE:return[...e];case a.ActionType.UPDATE_WEBRTCCALL_STATUS:return o.privateId&&o.webRTCCallStatus?[...e.map((e=>e.private_id===o.privateId?{...e,body:{...e.body,webRTCCallStatus:o.webRTCCallStatus}}:e))]:[...e];default:return e}};var a=n(2036);const i=[]},34808:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:o}=t;switch(n){case a.ActionType.INIT_POSITION_STORE:return{height:o?o.height:e.height,left:o?o.left:e.left,right:o?o.right:e.right};case a.ActionType.CHANGE_POSITION_HEIGHT:return{...e,height:o?o.height:e.height};case a.ActionType.CHANGE_POSITION_LEFT:return{...e,left:o?o.left:e.left};case a.ActionType.CHANGE_POSITION_RIGHT:return{...e,right:o?o.right:e.right};default:return e}};var a=n(2036);const i={height:null,left:null,right:null}},51458:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:o}=t;switch(n){case a.ActionType.ADD_PROACTIVE:return o?{text:o.text||null,name:o.name||null,createdTs:o.createdTs||null,privateId:o.privateId||null,status:o.status||null,agentId:o.agentId||null,botId:o.botId||null,isMarkdown:o.isMarkdown||null,prechats:o.prechats||null,campaignId:o.campaignId||null}:e;case a.ActionType.SET_PROACTIVE_STATUS:return{...e,status:o.status};case a.ActionType.SET_PROACTIVE_NAME:return{...e,name:o.name};default:return e}},t.initialState=void 0;var a=n(2036);const i={text:null,name:null,createdTs:null,privateId:null,status:null,agentId:null,botId:null,isMarkdown:null,prechats:null,campaignId:null};t.initialState=i},37480:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.features=void 0;var i=n(2036),o=a(n(1039));const{eula:r,modules:s}=o.default,l={apiInvitation:!!o.default.enable_api_invitation||null,disableEmoji:!!o.default.disable_emoji||null,disableErrorReporting:!!o.default.disable_error_reporting||null,disableFiletransfer:!!o.default.disable_filetransfer||null,disableMobile:!!o.default.disable_mobile||null,disableTelemetry:!!o.default.disable_telemetry||null,eula:r&&{customAgreement:r.custom_agreement||null,customTitle:r.custom_title||null,externalLink:r.external_link||null,titleExternalLink:r.title_external_link||null,useGdpr:r.use_gdpr||null}||null,joint:o.default.joint||null,logs:!!o.default.logs||null,mobileProactive:!!o.default.mobile_proactive||null,newVisitorsInsight:!!o.default.new_visitors_insight||null,prechat:!!o.default.enable_prechat||null,regions:o.default.regions||null,typingInsight:!!o.default.typing_insight||null,modules:s?{videoCall:s.video_calls||null,telephony:s.telephony||null,bots:s.bots||null}:null,webRTCSeparateWindow:!!o.default.enable_webrtc_separate_window||null,enableTop100:!!o.default.enable_top100||null,enableRequestVideocall:!!o.default.enable_request_videocall||null,disableBotLabel:!!o.default.disable_bot_label||null,campaigns:o.default.enable_campaigns&&o.default.campaigns?o.default.campaigns:null};t.features=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:a}=t;switch(n){case i.ActionType.SET_DISABLE_FILETRANSFER:return{...e,disableFiletransfer:a.disableFiletransfer};case i.ActionType.SET_ENABLE_PRECHAT:return{...e,prechat:a.prechat};default:return e}}},77620:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=n(15857),i=n(37480),o=n(91444),r=n(78634),s=n(6511),l=(0,a.combineReducers)({features:i.features,system:o.system,user:r.user,permissions:s.permissions});t.default=l},6511:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.permissions=void 0;var a=n(2036),i=n(62168);const o={[i.Permission.AUDIO]:i.PermissionStatus.UNKNOWN,[i.Permission.VIDEO]:i.PermissionStatus.UNKNOWN};t.permissions=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:i}=t;return n===a.ActionType.UPDATE_PERMISSION?{...e,[i.permission]:i.value}:{...e}}},91444:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.system=void 0;var i=a(n(1039));const o={abSegment:i.default.ab_segment||null,apiDomain:i.default.api_domain||null,apiHost:i.default.api_host||null,avatarUrl:i.default.avatar_url||null,baseUrl:i.default.base_url||null,botmode:!!i.default.botmode||null,buildNumber:i.default.build_number||null,chatHost:i.default.chat_host,configUpdatedTs:i.default.config_updated_ts||null,cookieDomain:i.default.cookie_domain||null,geoIp:i.default.geoip||null,hostBlacklist:i.default.host_blacklist||null,premium:i.default.options||null,siteId:i.default.site_id||null,telHost:i.default.telHost||null,unverified:i.default.unverified||null,viHost:i.default.vi_host||null,widgetId:i.default.widget_id||null,billRu:!!i.default.bill_ru,eula:i.default.eula||null};t.system=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:a}=t;return e}},78634:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.user=void 0;var i=n(2036),o=a(n(1039)),r=a(n(84726));const s={bubbleColor:o.default.bubble_color||null,callback:o.default.callback_settings&&{time:o.default.callback_settings.time||null,button:!!o.default.callback_settings.button||null,countries:o.default.callback_settings.countries||null}||null,callbackButtonColor:o.default.callback_btn_color||null,chatMode:o.default.chat_mode||null,contactsAsk:o.default.contacts_ask,contactsSettings:o.default.contacts_settings||null,custom_langpack:o.default.custom_langpack||null,departments:o.default.departments||null,fontFamily:o.default.font_family||"Arial",fontSize:o.default.font_size||"15",fontType:o.default.font_type||"normal",hideAd:o.default.hide_ad||null,hideOffline:o.default.hide_offline||null,labelBubble:o.default.label_bubble||0,locale:o.default.locale||null,offlineFormText:o.default.offline_form_text||null,offlineFormTitle:o.default.offline_form_title||null,offlineWidgetLabel:o.default.offline_widget_label||(0,r.default)("defOfflineWidgetLabelMobile"),onlineWidgetLabel:o.default.online_widget_label||(0,r.default)("defOnlineWidgetLabel"),pattern:o.default.pattern||null,powerButtonColor:o.default.power_button_color||"#44BB6E",powerButtonPhone:o.default.power_button_phone||null,powerGradient:!!o.default.power_gradient||null,prechat:o.default.prechat||null,rules:o.default.rules||null,showRateForm:o.default.show_rate_form||null,rateSettings:o.default.rate_settings?{type:o.default.rate_settings.type,icon:o.default.rate_settings.icon,conditionName:o.default.rate_settings.condition_name,conditionValue:o.default.rate_settings.condition_value,customTitle:o.default.rate_settings.custom_title,goodRateTitle:o.default.rate_settings.good_rate_title,badRateTitle:o.default.rate_settings.bad_rate_title}:null,socialResponse:o.default.social_response||null,widgetColor:o.default.widget_color||null,widgetColor2:o.default.widget_color2||null,widgetFontColor:o.default.widget_font_color||null,widgetMobileOrientation:o.default.widget_mobile_orientation||"right",widgetOrientation:o.default.widget_orientation||"bottom",widgetPadding:+o.default.widget_padding??100,wixAgentDisplayName:o.default.wix_agent_display_name||null,wixAgentTitle:o.default.wix_agent_title||null,callHeaderText:null};t.user=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:a}=t;switch(n){case i.ActionType.SET_WIDGET_COLOR:return{...e,widgetColor:a.widgetColor};case i.ActionType.SET_WIDGET_COLOR2:return{...e,widgetColor2:a.widgetColor2};case i.ActionType.SET_WIDGET_FONT_COLOR:return{...e,widgetFontColor:a.widgetFontColor};case i.ActionType.SET_WIDGET_ORIENTATION:return{...e,widgetOrientation:a.widgetOrientation};case i.ActionType.SET_WIDGET_PADDING:return{...e,widgetPadding:a.widgetPadding};case i.ActionType.SET_ONLINE_WIDGET_LABEL:return{...e,onlineWidgetLabel:a.onlineWidgetLabel};case i.ActionType.SET_OFFLINE_WIDGET_LABEL:return{...e,offlineWidgetLabel:a.offlineWidgetLabel};case i.ActionType.SET_WIDGET_FONT_FAMILY:return{...e,fontFamily:a.fontFamily};case i.ActionType.SET_WIDGET_FONT_SIZE:return{...e,fontSize:a.fontSize};case i.ActionType.SET_WIDGET_FONT_TYPE:return{...e,fontType:a.fontType};case i.ActionType.SET_CALL_HEADER_TEXT:return{...e,callHeaderText:a.callHeaderText};case i.ActionType.SET_PATTERN:return{...e,pattern:a.pattern};case i.ActionType.SET_CALLBACK_BUTTON_COLOR:return{...e,callbackButtonColor:a.callbackButtonColor};case i.ActionType.SET_BUBBLE_COLOR:return{...e,bubbleColor:a.bubbleColor};case i.ActionType.SET_WIDGET_LABEL_BUBBLE:return{...e,labelBubble:a.labelBubble};case i.ActionType.SET_OFFLINE_FORM_TITLE:return{...e,offlineFormTitle:a.offlineFormTitle};case i.ActionType.SET_OFFLINE_FORM_TEXT:return{...e,offlineFormText:a.offlineFormText};case i.ActionType.SET_PRECHAT:return{...e,prechat:a.prechat};default:return e}}},78135:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:o}=t;if(n===a.ActionType.INIT_SOCIAL_STORE)return o?{vk:o.vk||null,fb:o.fb||null,mode:o.mode||null}:e;return e};var a=n(2036);const i={vk:null,fb:null,mode:null}},31147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:o}=t;switch(n){case a.ActionType.INIT_TRANSITION_STORE:return{currentScript:o&&o.currentScript||null};case a.ActionType.START_TRANSITION_SCRIPT:return{currentScript:o&&o.script||e.currentScript};default:return e}},t.initialState=void 0;var a=n(2036);const i={currentScript:null};t.initialState=i},40289:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:o}=t;if(n===a.ActionType.INIT_ZOOM_STORE)return o?{user:o.user||null,page:o.page||null,app:o.app||null}:e;return e};var a=n(2036);const i={user:null,page:null,app:null}},99258:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAgents=t.selectAgentById=void 0;const n=e=>e.agents;t.selectAgents=n;t.selectAgentById=(e,t)=>n(e).find((e=>e.id===t))},35233:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectShowEula=t.selectRoute=t.selectLastChatOpened=t.selectIsOnline=t.selectIsInDrag=t.selectIsFocused=t.selectChatStarted=t.selectApp=void 0;const n=e=>e.app;t.selectApp=n;t.selectIsOnline=e=>n(e).isOnline;t.selectIsFocused=e=>n(e).isFocused;t.selectRoute=e=>n(e).route;t.selectShowEula=e=>n(e).showEula;t.selectChatStarted=e=>n(e).chatStarted;t.selectLastChatOpened=e=>n(e).lastChatOpened;t.selectIsInDrag=e=>n(e).isInDrag},14376:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectBots=t.selectBotById=void 0;const n=e=>e.bots;t.selectBots=n;t.selectBotById=(e,t)=>n(e).find((e=>e.id===t))},65210:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectIsCallbackDelayed=t.selectIsCallbackAvailable=t.selectCallback=void 0;const n=e=>e.callback;t.selectCallback=n;t.selectIsCallbackAvailable=e=>n(e).available;t.selectIsCallbackDelayed=e=>n(e).isDelayed},55623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectJoinedIdsByStatus=t.selectIsChatNotStarted=t.selectIsChatEvaluated=t.selectCurrentChat=t.selectChatsIds=t.selectChats=void 0;var a=n(79257),i=n(99258),o=n(14376),r=n(66311);const s=e=>e.chats;t.selectChats=s;const l=e=>{const t=s(e);return(0,a.last)(t)};t.selectCurrentChat=l;t.selectIsChatEvaluated=e=>{const t=l(e);return(null==t?void 0:t.evaluated)??!1};t.selectIsChatNotStarted=e=>{const t=l(e);return!(null!=t&&t.joinedAgents.length||null!=t&&t.joinedBots.length)};t.selectChatsIds=e=>[...(0,r.selectMessages)(e).reduce(((e,t)=>(null!=t&&t.chat_id&&(e.has(t.chat_id)||e.add(t.chat_id)),e)),new Set)];t.selectJoinedIdsByStatus=(e,t)=>[...(0,i.selectAgents)(e),...(0,o.selectBots)(e)].reduce(((e,n)=>(n.state===t&&(n.isBot?e.botIds.push(n.id):e.agentIds.push(n.id)),e)),{agentIds:[],botIds:[]})},45959:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectLastMessage=t.selectIsIntroduced=t.selectInputText=t.selectEulaAccepted=t.selectDescription=t.selectDepartmentId=t.selectClientPhone=t.selectClientName=t.selectClientId=t.selectClientEvaluate=t.selectClientEmail=t.selectClient=void 0;const n=e=>e.client;t.selectClient=n;t.selectClientId=e=>n(e).clientId;t.selectEulaAccepted=e=>n(e).eulaAccepted;t.selectClientEvaluate=e=>n(e).evaluate;t.selectDepartmentId=e=>n(e).departmentId;t.selectClientName=e=>n(e).name||"";t.selectClientPhone=e=>n(e).phone||"";t.selectClientEmail=e=>n(e).email||"";t.selectInputText=e=>n(e).inputText||"";t.selectDescription=e=>n(e).description;t.selectLastMessage=e=>n(e).lastMessage||"";t.selectIsIntroduced=e=>n(e).isIntroduced},95448:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectFeatures=t.selectCampaigns=void 0;const n=e=>e.settings.features;t.selectFeatures=n;t.selectCampaigns=e=>n(e).campaigns},66311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectSendedMessages=t.selectMessages=t.selectMessageByPrivateId=t.selectLastMessage=t.selectLastClientMessage=t.selectClientMessages=t.selectBotBlockedMessages=void 0;var a=n(81152);const i=e=>e.messages;t.selectMessages=i;t.selectSendedMessages=e=>i(e).filter((e=>{let{status:t}=e;return t===a.MessageStatus.SENT}));const o=e=>i(e).filter((e=>{let{from:t}=e;return t===a.MessageInitiator.CLIENT}));t.selectClientMessages=o;t.selectLastClientMessage=e=>{const t=o(e);if(t.length>0)return t[t.length-1]};t.selectLastMessage=e=>{const t=i(e);if(t.length>0)return t[t.length-1]};t.selectMessageByPrivateId=(e,t)=>i(e).find((e=>e.private_id===t));t.selectBotBlockedMessages=e=>!!(i(e)||[]).find((e=>{var t,n;return e.type==a.MessageType.LISTPICKER&&e.body&&(null===(t=e.body)||void 0===t?void 0:t.force_reply)&&!(null!==(n=e.body)&&void 0!==n&&n.answer_id)}))},7193:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectProactive=void 0;t.selectProactive=e=>e.proactive},87692:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectWixAgentTitle=t.selectWixAgentDisplayName=t.selectWidgetPadding=t.selectWidgetOrientation=t.selectWidgetMobileOrientation=t.selectWidgetId=t.selectWidgetFontColor=t.selectWidgetColor2=t.selectWidgetColor=t.selectUserCallbackTime=t.selectSettings=t.selectRateSettings=t.selectPrechat=t.selectPowerGradient=t.selectPowerButtonPhone=t.selectPowerButtonColor=t.selectPattern=t.selectOfflineWidgetLabel=t.selectOfflineFormTitle=t.selectMobileProactive=t.selectLocale=t.selectLabelBubble=t.selectJoint=t.selectIsPremium=t.selectGeoIp=t.selectEulaEnabled=t.selectEula=t.selectEnablePrechat=t.selectDisableEmoji=t.selectDisableBotLabel=t.selectDepartments=t.selectContactsSettingsToShow=t.selectContactsSettings=t.selectContactsAsk=t.selectCallHeaderText=t.selectBubbleColor=t.selectBillRu=t.selectBaseUrl=t.selectAvatarUrl=t.selectApiDomain=void 0;var a=n(98986),i=n(28008);const o=e=>e.settings;t.selectSettings=o;const r=e=>o(e).features,s=e=>o(e).system,l=e=>o(e).user;t.selectEnablePrechat=e=>r(e).prechat;t.selectDisableEmoji=e=>r(e).disableEmoji;t.selectDisableBotLabel=e=>r(e).disableBotLabel;t.selectEula=e=>r(e).eula;t.selectJoint=e=>r(e).joint;t.selectMobileProactive=e=>r(e).mobileProactive;t.selectApiDomain=e=>s(e).apiDomain;t.selectAvatarUrl=e=>s(e).avatarUrl;t.selectIsPremium=e=>s(e).premium;t.selectBillRu=e=>s(e).billRu;t.selectBaseUrl=e=>s(e).baseUrl;t.selectWidgetId=e=>s(e).widgetId;t.selectGeoIp=e=>s(e).geoIp;t.selectEulaEnabled=e=>s(e).eula;t.selectBubbleColor=e=>l(e).bubbleColor||"green";t.selectPrechat=e=>l(e).prechat;t.selectLocale=e=>l(e).locale;t.selectDepartments=e=>l(e).departments||[];const u=e=>l(e).contactsSettings;t.selectContactsSettings=u;t.selectWidgetOrientation=e=>l(e).widgetOrientation;t.selectWidgetMobileOrientation=e=>l(e).widgetMobileOrientation;t.selectCallHeaderText=e=>l(e).callHeaderText;t.selectWidgetPadding=e=>l(e).widgetPadding;t.selectRateSettings=e=>l(e).rateSettings||null;t.selectWidgetFontColor=e=>l(e).widgetFontColor||null;t.selectWidgetColor=e=>l(e).widgetColor||null;t.selectWidgetColor2=e=>l(e).widgetColor2||null;t.selectUserCallbackTime=e=>l(e).callback.time;t.selectPowerButtonPhone=e=>l(e).powerButtonPhone;t.selectPattern=e=>l(e).pattern;t.selectPowerButtonColor=e=>l(e).powerButtonColor;t.selectPowerGradient=e=>l(e).powerGradient;t.selectWixAgentDisplayName=e=>l(e).wixAgentDisplayName;t.selectWixAgentTitle=e=>l(e).wixAgentTitle;t.selectOfflineWidgetLabel=e=>l(e).offlineWidgetLabel;t.selectOfflineFormTitle=e=>l(e).offlineFormTitle;t.selectContactsAsk=e=>l(e).contactsAsk;t.selectLabelBubble=e=>l(e).labelBubble;t.selectContactsSettingsToShow=e=>{const t=u(e);return(0,a.isNull)(t)||(0,i.isUndefined)(t)?{}:Object.entries(t).reduce(((e,t)=>{let[n,a]=t;return a.show&&(e[n]=a),e}),{})}},92400:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectTransitionCurrentScript=void 0;t.selectTransitionCurrentScript=e=>e.transition.currentScript},28549:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectZoom=t.selectUserZoom=t.selectAppZoom=void 0;const n=e=>e.zoom;t.selectZoom=n;t.selectAppZoom=e=>n(e).app;t.selectUserZoom=e=>n(e).user},62096:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.reduxStore=void 0;var i=n(15857),o=a(n(53894)),r=n(9393),s=n(28240),l=n(75291),u=n(68031),c=n(44733),d=a(n(94514));const f=(0,i.createStore)(d.default,function(){const e={};return(0,r.each)(u.statesToPersist,(function(t){let{storageKey:n,path:a,onAdapter:i}=t;const o=c.StorageProvider.get(n);o&&(0,l.set)(e,a,i?i(o):o)})),e}(),(0,i.applyMiddleware)(o.default,s.loggerMiddleware,u.persistMiddleware));t.reduxStore=f,(0,u.subscribeOnStorage)(f)},5735:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(68403),o=n(21951),r=n(9393),s=n(43374),l=n(31484),u=a(n(1039)),c=a(n(26754)),d=a(n(138)),f=a(n(92443)),p=a(n(14264)),h=a(n(71277)),g=a(n(2833)),m=n(81152),_=n(21476),v=n(47060),b=n(65465),y=n(4425),E=n(13077),T=a(n(66547)),C=a(n(73687)),S=a(n(4855)),O=n(26932),A=n(44145),w=n(69882),I=n(83907),M=n(94537),R=n(48999);const N=S.default.name("ruleManager"),{EventEmitter:P}=n(89766),D=new P,L=Object.assign(D,{rules:[],canInvite:!0,init:function(){var e;if((0,A.getApp)().route===v.Route.HIDDEN)return;(0,l.defaults)(this.rules,u.default.rules);const t=(new Date).getTime();this.campaigns=null===(e=(0,A.getFeatures)().campaigns)||void 0===e?void 0:e.filter((e=>!e.end_ts||t<1e3*e.end_ts)),this.isCampaignsEnable=this.campaigns&&this.campaigns.length>0,(0,E.setRuleLocal)("pageEnterTime",t),(0,E.addPageView)(),c.default.agent_id&&(0,A.getApp)().chatStarted&&(0,A.getApp)().isOnline||this.ready()},ready:function(){const e=this.rules;N.log("RULE MANAGER READY",e),this.rules=[];for(let t=0;t<e.length;t++)e[t].conditions?this.isCampaignsEnable&&e[t].commands[0].command===I.RuleTypes.PROACTIVE||this.rules.push(new j(e[t],t)):N.warn("Remove rule without condition.");const t=e.length;this.isCampaignsEnable&&(this.campaigns.forEach(((e,n)=>{const a=e.rules,i=!e.end_ts||(new Date).getTime()<=1e3*e.end_ts;var o,r;a.conditions&&i&&(a.campaign_id=e.campaign_id,a.prechats=null!==(o=e.content)&&void 0!==o&&o.prechat_buttons?null===(r=e.content)||void 0===r?void 0:r.prechat_buttons:null,a.name=e.title?e.title:`Campaign ${a.campaign_id}`,this.rules.push(new j(a,n+t)))})),N.warn("final rules",this.rules))},moveCloseButton:function(){(0,r.each)(this.rules,(function(e){(0,E.setRuleLocal)("movedToCloseButton",!0),e.tick()}),this)},mouseScroll:function(e){(0,r.each)(this.rules,(function(t){(0,E.setRuleLocal)("scrollPosition",e),t.tick()}),this)},cancelRule:function(e){N.log("canceling rule",e);for(var t=0;t<this.rules.length;t+=1)!this.rules[t].isTriggered&&this.rules[t].cancel&&this.rules[t].commands[0].command===e&&this.rules[t].cancel();e===I.RuleTypes.PROACTIVE&&(this.canInvite=!1)},allRulesCancel:function(){N.log("allRulesCancel");for(var e=0;e<this.rules.length;e++)!this.rules[e].isTriggered&&this.rules[e].cancel&&this.rules[e].cancel()},handleOnceADay:function(e,t){if(N.log("handleOnceADay",e),e&&e.name){const n=t.id?"id"+t.id:"i"+t.index;C.default.set(`${e.name}_${n}`,e.value||null,86400)}},showProactive:function(e,t,n,a,i,o){(n&&"string"==typeof n&&n.includes("markdown")||a)&&(a=!0);const r=p.default.getCurrentChatMessages(),s="Cant show proactive:";if(!this.canInvite||(0,A.getProactive)().text||p.default.getCurrentProactive()||_.Router.getCurrentRoute()==v.Route.CHAT&&(0,A.getApp)().chatOpenByClient||(0,A.getApp)().chatStarted&&r&&r.length)return void N.info(`${s} by logic`);const l=(0,A.getUserSettings)().departments;if(t&&(null==l||!l.find((e=>+e.id==t))))return void N.info(`${s} department id ${t} is not found.`);g.default.getActiveAgent((r=>{N.log("widget status",r);const s=(0,A.getClient)();r&&(_.Router.getCurrentRoute()===v.Route.LABEL||(0,w.isChatPage)())?(r.bot_id||s.priorityAgentId&&s.priorityAgentId===r.agent_id||O.clientDispatchers.setPaId(r.agent_id),t&&O.clientDispatchers.setDepartmentId(t),f.default.proactive({message:e,agentInfo:r,name:n,isMarkdown:a,prechats:i,campaignId:o}),(0,E.setInvitationTime)(),L.emit("show_proactive"),h.default.play("notification"),b.messageActions.destroyByType(m.MessageType.LISTPICKER),b.messageActions.addPrechatMessage(),d.default.trackProactiveInvitationShown(n)):N.log('invitation failed, no agent OR route != "label"')}),t)},showCallForm:function(e,t){const n=(0,A.getProactive)();(0,A.getApp)().route!=v.Route.LABEL||n.text&&n.status!=m.MessageStatus.READ?N.warn("ignore showCallForm due to proactive"):f.default.showCallForm(e,(()=>{L.emit("show_proactive"),h.default.play("notification"),(0,E.setInvitationTime)(),d.default.trackCallWidgetInvitationShown(t)}))}});let k,x;const B=Object.assign(D,{inited:!1,initialize:function(){this.inited||(this.initScroll(),this.initClose(),this.inited=!0)},initScroll:function(){k=(0,s.throttle)(this._scroll.bind(this),150),(0,o.addListener)(window.parent,"scroll",k)},initClose:function(){this.last_position={},x=(0,s.throttle)(this._mouse.bind(this),100),(0,o.addListener)(window.parent,"mousemove",x)},_mouse:function(e){if(this.timerId&&clearTimeout(this.timerId),void 0!==this.last_position.x){var t=this.last_position.x-e.clientX,n=this.last_position.y-e.clientY,a=Math.abs(n)>Math.abs(t)&&n>0,i=e.clientY>>0==0,o=e.clientY<=30,r=e.clientY<=this.last_position.dY+30&&n>e.clientY&&n>25;a&&(i||o&&r)&&(this.timerId=setTimeout((()=>{L.moveCloseButton()}),200))}this.last_position={x:e.clientX,y:e.clientY,dY:this.last_position.y-e.clientY}},_scroll:function(){const e=window.parent.document;let t=e.documentElement.clientHeight;t===e.documentElement.scrollHeight&&(t=e.body.clientHeight),L.mouseScroll(Math.round((e.documentElement.scrollTop+e.body.scrollTop)/(e.documentElement.scrollHeight-t)*100))},removeEvents:function(){k&&(0,o.removeEvent)(window.parent,"scroll",k),x&&(0,o.removeEvent)(window.parent,"scroll",x)}}),j=function(e,t){const n={initialize:function(){(0,l.defaults)(this,e),this.index=t,(0,r.each)(this.conditions,(function(e){"week_day"===e.condition&&"0"===e.value&&(e.value="7")})),this.timeConditions=[];const n=this.commands[0];let a=!1;const i=this.id?"id"+this.id:"i"+this.index,o=n.command+"_onceADay_"+i,s=C.default.get(o),u=(0,E.hasOnceCondition)(this.conditions);if(u&&s){if(!1!==u.value)return N.log(`Ignore "${this.name}" rule, already triggered today.`),void this.cancel();C.default.set(o,null,1)}if(!u&&n.params&&(n.params.once_aday||n.params.onceADay)&&s)N.log("is once a day rule",this.name);else{if(this.conditions)for(let e=0;e<this.conditions.length;e++){const t=this.conditions[e];if((0,E.isGoalCondition)(t.condition)&&B.initialize(),"once_a_day"===t.condition&&(a=!0),(0,E.isTimeCondition)(t.condition)||(0,E.isGoalCondition)(t.condition)){const e=(0,E.getValue)(t.condition,n.command);N.info(`${this.name}; init condition ${t.condition}; expected=${t.value}; actual=${e}`),this.timeConditions.push(t)}else{if("page_url"===t.condition)t.value=t.value.replace(/http(|s):\/\//,"");else if("ab_test_group"===t.condition&&!T.default.get("ab_test_group")){const e=Math.round(Math.random()),n=t.group_name?t.group_name:"JivoSite A/B Group";T.default.set("ab_test_group",e?"group_a":"group_b"),d.default.setABTestGroupContacts(n,e?"Group A":"Group B")}if((0,E.checkCondition)(t,this.name))a=!0;else if("all"===this.type)return}}this.timeConditions.length>0?(0,E.checkTimeConditions)(this.timeConditions,this.type,this.name)?this.triggered():this.timeWait():a&&this.triggered()}},timeWait:function(){var e=this;clearTimeout(this.timeWaitTimeout),this.timeWaitTimeout=setTimeout((function(){e.tick()}),1e3)},tick:function(){!this.isTriggered&&(0,E.checkTimeConditions)(this.conditions,this.type,this.name)?this.triggered():this.timeWait()},cancel:function(){clearTimeout(this.timeWaitTimeout),this.isTriggered=!0},triggered:function(){var e;N.log("triggered",this.name);const t=this.commands[0];clearTimeout(this.timeWaitTimeout),this.isTriggered=!0;let n={};t.params&&"object"==typeof t.params&&(n={name:t.command+"_onceADay",value:t.params.once_aday||t.params.onceADay?1:null});const a=(0,E.hasOnceCondition)(this.conditions);N.log("onceCondition",a,this.conditions),a&&(n={name:t.command+"_onceADay",value:a.value});const o=(0,E.isPopupCommand)(t.command),r=(0,A.getApp)().route,s=(0,A.getApp)().isOnline;if(r!==v.Route.LABEL&&o&&(0,A.getApp)().chatOpenByClient)return void N.log("cant show proactive",r);const l=(0,A.getClient)();if(o&&(0,E.isYandexMarketClient)(l.utm))return void N.log("ignore proactive for YMarket");const c=this.campaign_id?(0,R.formatProactiveContent)(t.params):null===(e=t.params)||void 0===e?void 0:e.message;switch(t.command){case I.RuleTypes.PROACTIVE:L.showProactive(c,+t.params.department,this.name,!!this.campaign_id||this.isMarkdown,this.prechats,this.campaign_id);break;case I.RuleTypes.OPEN_OFFLINE:if(u.default.chat_mode===y.ChatMode.ONLINE||r!==v.Route.LABEL)return;(0,E.setInvitationTime)(),t.params&&(t.params.title&&O.userDispatchers.setOfflineFormTitle(t.params.title),t.params.message&&(b.messageActions.deleteOfflineSystemInvites(),O.userDispatchers.setOfflineFormText(t.params.message))),f.default.openOffline(),L.emit("show_proactive"),h.default.play("notification"),d.default.trackProactiveInvitationShown(this.name),L.cancelRule(I.RuleTypes.OPEN_OFFLINE);break;case I.RuleTypes.HIDE:O.appDispatchers.setAppRoute(v.Route.HIDDEN),h.default.disableSoundPlayer();break;case I.RuleTypes.SYSTEM_MESSAGE:if(s){const e=p.default.getLastMessage();e&&e.get("type")===m.MessageType.SYSTEM&&e.get("text")===t.params.message&&e.destroy(),(0,E.setInvitationTime)(),f.default.systemMessage(t.params.message),b.messageActions.addPrechatMessage()}break;case I.RuleTypes.SYSTEM_EMAIL:if(!s)return;if(s&&u.default.contacts_ask===M.ContactsType.SOCIAL)return void N.log("systemMessageEmail failed, contact settings is social");if(l.email)return void N.log("Client already has email. Rule ignored.");if((0,i.hasIntegration)(l.hasIntegration))return void N.log("systemMessageEmail failed, client has integration");(0,E.setInvitationTime)(),f.default.systemMessageEmail(t.params.message),b.messageActions.addPrechatMessage();break;case I.RuleTypes.SHOW_CALLFORM:L.showCallForm(t.params.title.replace("<br>","").replace("<span>","").replace("<span style='color: #40cd72'>","").replace("</span>",""),this.name)}L.handleOnceADay(n,this)}};return n.initialize(),n};c.default.addListener((function(){c.default.agent_id&&(0,A.getApp)().chatStarted&&(0,A.getApp)().isOnline&&L.allRulesCancel()})),p.default.on("create",(()=>{p.default.getCurrentClientMessages().length&&!(0,E.getRuleLocal)("firstMessageTime")&&(N.log("cancelRules, we have client messsages."),L.cancelRule(I.RuleTypes.PROACTIVE),L.cancelRule(I.RuleTypes.SHOW_CALLFORM));const e=p.default.getLastMessage();e&&e.get("type")===I.RuleTypes.PROACTIVE&&L.cancelRule(I.RuleTypes.PROACTIVE),p.default.getAgentTextMessages().length&&e.get("from")!==m.MessageInitiator.CLIENT&&(N.log("cancel system_message, we have agentMessage"),L.cancelRule(I.RuleTypes.SYSTEM_MESSAGE))})),(0,o.addListener)(window.parent,"jBeforeunload",B.removeEvents);var F=L;t.default=F},26754:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.agentToReduxFormat=void 0;var i=a(n(85948));const o=e=>({avatarUrl:e.avatar_url||null,id:e.agent_id||e.bot_id,name:e.display_name||null,title:e.title||null,isBot:!!e.bot_id,state:e.state||null,type:e.type||null});t.agentToReduxFormat=o;const r=(0,i.default)({agent_id:0,bot_id:0,display_name:null,title:null,avatar_url:null,typing:0,state:null});r.toReduxFormat=()=>o(r);var s=r;t.default=s},95003:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n(1039)),o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=y(t);if(n&&n.has(e))return n.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var r=i?Object.getOwnPropertyDescriptor(e,o):null;r&&(r.get||r.set)?Object.defineProperty(a,o,r):a[o]=e[o]}a.default=e,n&&n.set(e,a);return a}(n(85948)),r=a(n(19955)),s=n(69882),l=n(9393),u=n(31484),c=n(13077),d=n(47060),f=n(4425),p=a(n(73687)),h=n(44733),g=n(71047),m=n(44145),_=n(97615),v=n(94537),b=n(83907);function y(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(y=function(e){return e?n:t})(e)}const E={route:d.Route.LABEL,is_online:0,is_focused:!1,chat_started:!1,chat_accepted:!1,widget_color:i.default.widget_color,widget_color2:i.default.widget_color2,widget_font_color:i.default.widget_font_color,cap_id:null,forcedOffline:!1,callText:null,eula_accepted:!1,show_eula:!1,width:!1,height:!1,viReconnectTime:null,lastMsgId:null,lastChatOpened:null,started:!1,lastMsgTime:null,didFreezeData:!1},T=_.EnvironmentManager.isDesignerEditor()?null:h.StorageProvider.createKeyForStore(g.STORAGED_ID.APP),C=(0,o.default)(E,T),S=(0,m.getClient)(),O=(0,m.getUserSettings)();C.widget_color=i.default.widget_color,C.widget_color2=i.default.widget_color2,C.widget_font_color=i.default.widget_font_color,C.is_online=i.default.chat_mode===f.ChatMode.ONLINE?1:0;i.default.chat_mode===f.ChatMode.OFFLINE||null!==S.sessionId||(C.chat_started=!1),(0,s.isWixEditor)()&&(C.chat_started=!1),r.default.mobileOrTablet()&&(C.route=d.Route.LABEL),(0,u.defaults)(i.default,{contacts_settings:{name:{show:!1,required:!1},phone:{show:!1,required:!1},email:{show:!1,required:!1}}});let A=!0;(0,l.each)(["name","phone","email"],(function(e){i.default.contacts_settings[e].show&&(A=!1)}),void 0),A&&(i.default.contacts_ask=2),1!=i.default.hide_offline||512&i.default.options||(i.default.hide_offline=0),1!=i.default.show_rate_form||64&i.default.options||(i.default.show_rate_form=0);let w=!1;(0,l.each)(i.default.rules,(e=>{e.commands[0].command===b.RuleTypes.HIDE&&(0,c.checkTimeConditions)(e.conditions,e.type,e.name)&&(w=!0)})),w&&(0,o.addSyncExclude)("route"),C.route==d.Route.HIDDEN&&(C.route=d.Route.LABEL);let I=!1;C.chat_started&&C.chat_accepted&&!r.default.mobileOrTablet()?(O.labelBubble?C.route=C.route===d.Route.LABEL?d.Route.LABEL:d.Route.CHAT:C.route=C.route===d.Route.CHAT_MIN?d.Route.CHAT_MIN:d.Route.CHAT,I=!0):C.route=d.Route.LABEL,C.route==d.Route.INTRODUCE&&i.default.contacts_ask!==v.ContactsType.BEFORE_CHAT&&(C.route=d.Route.CHAT),C.route==d.Route.INTRODUCE&&S.isIntroduced&&(C.route=d.Route.CHAT),C.route!=d.Route.INTRODUCE||C.is_online||(C.route=d.Route.CHAT),C.route==d.Route.CHAT_SOCIAL&&(C.route=d.Route.CHAT),C.route==d.Route.CHAT_EULA&&(C.route=d.Route.CHAT),C.route==d.Route.CALL_EULA&&(C.route=d.Route.CALL),C.route!=d.Route.CHAT_EVAL&&C.route!=d.Route.CHAT_INTRODUCE||(C.route=d.Route.CHAT),!r.default.mobile()&&C.zoom&&(C.zoom=null),C.show_eula=!1,_.EnvironmentManager.isRegPage()&&(C.route=d.Route.CHAT);const M=i.default.contacts_ask===v.ContactsType.BEFORE_CHAT&&!S.isIntroduced&&C.is_online;(0,s.isChatPage)()?M?C.route=d.Route.INTRODUCE:i.default.departments&&!C.chat_started&&C.is_online?C.route=d.Route.DEPARTMENTS:C.route=d.Route.CHAT:M&&C.route==d.Route.CHAT&&(C.route=d.Route.INTRODUCE),(!C.is_online&&i.default.hide_offline&&!I||p.default.get("is_blacklisted")||w||r.default.mobileOrTablet()&&i.default.disable_mobile||(0,s.isAppCobrowse)())&&(C.route=d.Route.HIDDEN),i.default.cookie_domain&&h.StorageProvider.migrate();var R=C;t.default=R},32710:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bind=function(e,t,n){if(!(0,a.isFunction)(e))throw new TypeError("Bind must be called on a function.");return e.bind(t,n)};var a=n(55004)},10895:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compose=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){const n=[...t];for(;n.length>0;)e=n.pop()(e);return e}}},53401:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitCookieOnEntries=t.setCookie=t.parseCookies=t.getCookie=t.deleteCookie=void 0;var a=n(80210),i=n(64249),o=n(79641),r=n(21733),s=n(82138),l=n(10895);const u=e=>e.toUTCString(),c=e=>e.map((e=>e.trim())),d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:432e5;const t=(new Date).getTime()+e;return u(new Date(t))},f=e=>{const t=new Date;return t.setDate(t.getDate()+e),u(t)};t.getCookie=e=>{const t=(0,s.isRegExp)(e)?e:new RegExp(e+"=([^;]*)"),n=document.cookie.match(t),a=(0,l.compose)(JSON.parse,decodeURIComponent);return n?a(n[1]):null};const p=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=Object.assign({path:"/",expires:d()},n);(0,i.isDate)(s.expires)&&(s.expires=u(s.expires)),(0,o.isNumber)(s.expires)&&(s.expires=f(s.expires));const l=Object.entries(s),c=(0,r.isString)(t)?t:JSON.stringify(t),p=(0,a.encodeAndJoinPair)([e,c]),h=l.reduceRight(((e,t)=>{let[n,a]=t;return e+`; ${n}=${a}`}),p);return document.cookie=h};t.setCookie=p;t.deleteCookie=e=>p(e,"",{"max-age":-1});t.parseCookies=()=>document.cookie.split(";").reduce(((e,t)=>{const n=(0,a.splitAndDecodePair)(t),i=n[0].trim(),o=n[1]??"";return e[i]=o.trim(),e}),{});t.splitCookieOnEntries=()=>{const e=document.cookie.split(";"),t=(0,l.compose)(c,a.splitAndDecodePair);return e.map(t)}},90991:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,n){let a,i,o,r,s;const l=function(){const u=Date.now()-i;t>u?a=setTimeout(l,t-u):(a=null,n||(r=e.apply(s,o)),a||(o=s=null))},u=function(){return s=this,o=arguments,i=Date.now(),a||(a=setTimeout(l,t),n&&(r=e.apply(s,o))),r};return u.cancel=function(){clearTimeout(a),a=o=s=null},u}},31484:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaults=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[a,...i]=t,o=Object.assign({},a);return Object.assign(a,...i,o)}},34548:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.difference=void 0;var a=n(28008);t.difference=(e,t)=>{if((0,a.isUndefined)(t))return e;const n=new Set(t);return e.filter((e=>!n.has(e)))}},47713:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.onClickHandler=void 0;var i=a(n(19955));const o=i.default.mobileOrTablet()&&i.default.isTouchEnabled()?"onTouchStart":"onClick";t.onClickHandler=function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{[o]:a=>{n&&a.preventDefault(),t&&(a.stopPropagation(),a.nativeEvent.stopImmediatePropagation()),e(a)}}}},9393:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.each=function(e,t,n){const s=n?function(e,a,i){return t.call(n,e,a,i)}:t;(0,a.isArray)(e)&&e.forEach(s);(0,i.isObject)(e)&&Object.entries(e).forEach(((e,t,n)=>{let[a,i]=e;return s(i,a,n)}));((0,o.isNodeList)(e)||(0,r.isHTMLCollection)(e))&&Array.from(e).forEach(s);return e};var a=n(90872),i=n(46322),o=n(82384),r=n(2423)},11413:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.escape=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/[&<>"']/g,(e=>n[e]))};const n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}},60277:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extend=void 0;t.extend=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e?Object.assign(e,...n):{}}},21434:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileName=void 0;var a=n(39731);t.fileName=e=>{const[t,n]=(0,a.splitString)(e,".");return{name:t,ext:n}}},58271:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fileSize=t.bytesToMB=void 0;const n=["B","KB","MB","gB","tB"];t.fileSize=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(0===e)return"0";const a=Math.floor(Math.log(e)/Math.log(1024)),i=e/1024**a,o=t?Math.round(i):i.toFixed(2),r=n[a];return o+r};t.bytesToMB=e=>e/1048576},37578:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.filterObj=void 0;var a=n(28650);t.filterObj=(e,t)=>Object.keys(e).reduce(((n,i)=>((0,a.hasOwn)(e,i)&&t(e[i],i)&&(n[i]=e[i]),n)),{})},39715:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.get=function(e,t,n){return(0,i.isString)(t)?o(t.match(/([^[.\]])+/g)):(0,a.isArray)(t)?o(t):void 0;function o(t){return t.reduce(((e,t)=>{try{e=e[t]}catch(e){return n}return e}),e)}};var a=n(90872),i=n(21733)},28650:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasOwn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},35967:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.intersection=void 0;t.intersection=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!n.length)return[];const i=new Set(...n);return e.filter((e=>i.has(e)))}},90872:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArray=function(e){return Array.isArray(e)}},64249:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDate=function(e){return e instanceof Date&&!isNaN(e)}},92560:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=void 0;var a=n(98986),i=n(28008),o=n(46322),r=n(90872);t.isEmpty=e=>""===e||(0,a.isNull)(e)||(0,i.isUndefined)(e)||((0,o.isObject)(e)||(0,r.isArray)(e))&&0===Object.keys(e).length},55004:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=function(e){return"function"==typeof e}},2423:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isHTMLCollection=void 0;t.isHTMLCollection=e=>!!e&&"HTMLCollection"===e.constructor.name},82384:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNodeList=void 0;t.isNodeList=e=>!!e&&"NodeList"===e.constructor.name},98986:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNull=void 0;t.isNull=e=>null===e},79641:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNumber=function(e){return"number"==typeof e}},46322:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=void 0;t.isObject=e=>!!e&&"Object"===e.constructor.name},82138:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRegExp=function(e){return e instanceof RegExp}},21733:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isString=function(e){return"string"==typeof e}},28008:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUndefined=function(e){return void 0===e}},79257:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.last=void 0;t.last=e=>e.length?e[e.length-1]:void 0},82956:function(e,t,n){"use strict";var a=n(17907);Object.defineProperty(t,"__esModule",{value:!0}),t.xhrPromised=t.xhr=t.createCancelablePromise=t.CancelError=void 0;var i=a(n(61125));const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.trim().split(/[\r\n]+/).reduce(((e,t)=>{const[n,a]=t.split(": ");return e[n]=a,e}),{})},r=(e,t,n,a)=>{const i=new XMLHttpRequest;return i.open(t,e,!0),n.headers&&Object.keys(n.headers).forEach((e=>{i.setRequestHeader(e,n.headers[e])})),i.timeout=n.timeout,i.responseType=n.responseType,i.withCredentials=n.withCredentials,i.onload=()=>n.validateStatus(i.status)?a(null,{data:i.response,status:i.status,statusText:i.statusText,headers:o(i.getAllResponseHeaders())}):a({status:i.status,statusText:i.statusText}),i.onerror=()=>a({status:i.status,statusText:i.statusText}),i.upload.onprogress=n.onUpload,i.onprogress=n.onDownload,i.ontimeout=n.onTimeout||a,i.send(n.body),i};t.xhr=r;t.xhrPromised=(e,t,n)=>new Promise(((a,i)=>r(e,t,n,((e,t)=>e?i(e):a(t)))));class s extends Error{constructor(){super(...arguments),(0,i.default)(this,"name","CancelError"),(0,i.default)(this,"message","Canceled")}}t.CancelError=s;t.createCancelablePromise=e=>{let t=!1;const n=new s;return{promise:new Promise(((a,i)=>{e.then((e=>t?i(n):a(e))).catch((e=>i(t?n:e)))})),cancel:()=>t=!0,isCanceled:t}}},42687:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.omit=void 0;t.omit=function(e){e={...e};for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return null!=n&&n.length?(n.forEach((t=>delete e[t])),e):e}},38392:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pick=void 0;var a=n(28008);t.pick=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return(0,a.isUndefined)(n)?{}:n.reduce(((t,n)=>(n in e&&(t[n]=e[n]),t)),{})}},80210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodeAndJoinPair=i,t.querystring=void 0,t.splitAndDecodePair=o;var a=n(39731);function i(e){return e.map(encodeURIComponent).join("=")}function o(e){return e.split("=").map(decodeURIComponent)}const r={create:e=>e?function(e){return Object.entries(e).map(i).join("&")}(e):"",parse:e=>{if(e){const[,t]=(0,a.splitString)(e,"?");return function(e){const t=e.split("&");return Object.fromEntries(t.map(o))}(t)}}};t.querystring=r},34425:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.redefineProps=void 0;t.redefineProps=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const a={...e};for(const e in t)Object.hasOwnProperty.call(a,e)&&(n?(a[t[e]]=a[e],delete a[e]):a[e]=t[e]);return a}},53489:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=function(e){if(!1===(0,a.isString)(e))throw new TypeError("Filename must be string.");const{name:t,ext:n}=(0,i.fileName)(e),s=t.replace(o,"").replace(r,"_");return(s.length?s:"Untitled")+"."+n};var a=n(21733),i=n(21434);const o=/[/?<>\\:*|"%#]/g,r=/\s+/g},75291:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.set=function(e,t,n){if((0,i.isString)(t))return r(t.match(/([^[.\]])+/g));if((0,a.isArray)(t))return r(t);function r(t){t.reduce(((e,t,a,i)=>((0,o.isUndefined)(e[t])&&(e[t]={}),a===i.length-1&&(e[t]=n),e[t])),e)}};var a=n(90872),i=n(21733),o=n(28008)},45950:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortBy=void 0;var a=n(55004);t.sortBy=(e,t)=>{if(null==e||!e.length||!t)return[];const n=e=>(0,a.isFunction)(t)?t(e):e[t];return e.slice().sort(((e,t)=>n(e)>n(t)?1:n(t)>n(e)?-1:0))}},39731:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.splitString=void 0;t.splitString=(e,t,n)=>{const a=e[n?"indexOf":"lastIndexOf"](t),i=e.substring(0,a);return[i,e.substring(a+(i?t.length:1))]}},38632:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parentSS=t.parentLS=void 0;var a=n(21733),i=n(4623),o=n(69882),r=n(71047);const s=u(r.STORAGE_TYPE.LOCAL);t.parentLS=s;const l=u(r.STORAGE_TYPE.SESSION);function u(e,t){(0,i.tryCatch)((()=>e=(0,o.getPageWindow)()[e]));const n=e=>(0,i.tryCatch)(e,t);return{get(t){return n((()=>{const n=e.getItem(t);return JSON.parse(n)}))},set(t,i){return n((()=>{const n=(0,a.isString)(i)?i:JSON.stringify(i);return e.setItem(t,n),i}))},remove(t){return n((()=>e.removeItem(t)))},keys(){return n((()=>Object.keys(e)))},values(){return n((()=>Object.values(e).map(JSON.parse)))},all(){return n((()=>Object.assign({},e)))},clear(){return n((()=>e.clear()))},status(){return function(e){return(0,i.tryCatch)((()=>{const t="__storage_test__";return e.setItem(t,t),e.removeItem(t),r.STORAGE_STATUS.AVAILABLE}),(t=>{return t instanceof DOMException&&function(e){return e&&0!==e.length}(e)&&(22===(n=t).code||1014===n.code||"QuotaExceededError"===n.name||"NS_ERROR_DOM_QUATA_REACHED"===n.name)?r.STORAGE_STATUS.EXCEED:r.STORAGE_STATUS.UNAVAILABLE;var n}))}(e)}}}t.parentSS=l},43374:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=function(e,t,n){let a,i,o,r,s=0;n||(n={});const l=function(){s=!1===n.leading?0:Date.now(),a=null,r=e.apply(i,o),a||(i=o=null)},u=function(){const u=Date.now();s||!1!==n.leading||(s=u);const c=t-(u-s);return i=this,o=arguments,c<=0||c>t?(a&&(clearTimeout(a),a=null),s=u,r=e.apply(i,o),a||(i=o=null)):a||!1===n.trailing||(a=setTimeout(l,c)),r};return u.cancel=function(){clearTimeout(a),s=0,a=i=o=null},u}},4623:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tryCatch=function(e,t){try{return e()}catch(e){return(0,a.isFunction)(t)?t(e):t}};var a=n(55004)},76784:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.union=void 0;var a=n(99830);t.union=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return(0,a.unique)(e.concat(...n))}},99830:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unique=void 0;t.unique=e=>Array.from(new Set(e))},15201:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.without=void 0;t.without=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(0===n.length)return e;const i=new Set(n);return e.filter((e=>!i.has(e)))}},94184:function(e,t){var n;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var a={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var r=i.apply(null,n);r&&e.push(r)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)a.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},90093:function(e,t,n){var a=n(28196);e.exports=a},65362:function(e,t,n){var a=n(63383);e.exports=a},43536:function(e,t,n){var a=n(41910);e.exports=a},27700:function(e,t,n){n(73381);var a=n(35703);e.exports=a("Function").bind},16246:function(e,t,n){var a=n(7046),i=n(27700),o=Function.prototype;e.exports=function(e){var t=e.bind;return e===o||a(o,e)&&t===o.bind?i:t}},45999:function(e,t,n){n(49221);var a=n(54058);e.exports=a.Object.assign},48171:function(e,t,n){n(86450);var a=n(54058).Object,i=e.exports=function(e,t,n){return a.defineProperty(e,t,n)};a.defineProperty.sham&&(i.sham=!0)},14122:function(e,t,n){e.exports=n(89097)},60269:function(e,t,n){e.exports=n(76936)},73685:function(e,t,n){e.exports=n(80621)},89097:function(e,t,n){var a=n(90093);e.exports=a},76936:function(e,t,n){var a=n(65362);e.exports=a},80621:function(e,t,n){var a=n(43536);e.exports=a},24883:function(e,t,n){var a=n(57475),i=n(69826),o=TypeError;e.exports=function(e){if(a(e))return e;throw o(i(e)+" is not a function")}},96059:function(e,t,n){var a=n(10941),i=String,o=TypeError;e.exports=function(e){if(a(e))return e;throw o(i(e)+" is not an object")}},31692:function(e,t,n){var a=n(74529),i=n(59413),o=n(10623),r=function(e){return function(t,n,r){var s,l=a(t),u=o(l),c=i(r,u);if(e&&n!=n){for(;u>c;)if((s=l[c++])!=s)return!0}else for(;u>c;c++)if((e||c in l)&&l[c]===n)return e||c||0;return!e&&-1}};e.exports={includes:r(!0),indexOf:r(!1)}},93765:function(e,t,n){var a=n(95329);e.exports=a([].slice)},82532:function(e,t,n){var a=n(95329),i=a({}.toString),o=a("".slice);e.exports=function(e){return o(i(e),8,-1)}},32029:function(e,t,n){var a=n(55746),i=n(65988),o=n(31887);e.exports=a?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},31887:function(e){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},75609:function(e,t,n){var a=n(21899),i=Object.defineProperty;e.exports=function(e,t){try{i(a,e,{value:t,configurable:!0,writable:!0})}catch(n){a[e]=t}return t}},55746:function(e,t,n){var a=n(95981);e.exports=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},76616:function(e){var t="object"==typeof document&&document.all,n=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},61333:function(e,t,n){var a=n(21899),i=n(10941),o=a.document,r=i(o)&&i(o.createElement);e.exports=function(e){return r?o.createElement(e):{}}},2861:function(e,t,n){var a=n(626);e.exports=a("navigator","userAgent")||""},53385:function(e,t,n){var a,i,o=n(21899),r=n(2861),s=o.process,l=o.Deno,u=s&&s.versions||l&&l.version,c=u&&u.v8;c&&(i=(a=c.split("."))[0]>0&&a[0]<4?1:+(a[0]+a[1])),!i&&r&&(!(a=r.match(/Edge\/(\d+)/))||a[1]>=74)&&(a=r.match(/Chrome\/(\d+)/))&&(i=+a[1]),e.exports=i},35703:function(e,t,n){var a=n(54058);e.exports=function(e){return a[e+"Prototype"]}},56759:function(e){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},76887:function(e,t,n){"use strict";var a=n(21899),i=n(79730),o=n(97484),r=n(57475),s=n(49677).f,l=n(37252),u=n(54058),c=n(86843),d=n(32029),f=n(90953),p=function(e){var t=function(n,a,o){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(n);case 2:return new e(n,a)}return new e(n,a,o)}return i(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var n,i,h,g,m,_,v,b,y=e.target,E=e.global,T=e.stat,C=e.proto,S=E?a:T?a[y]:(a[y]||{}).prototype,O=E?u:u[y]||d(u,y,{})[y],A=O.prototype;for(h in t)n=!l(E?h:y+(T?".":"#")+h,e.forced)&&S&&f(S,h),m=O[h],n&&(_=e.dontCallGetSet?(b=s(S,h))&&b.value:S[h]),g=n&&_?_:t[h],n&&typeof m==typeof g||(v=e.bind&&n?c(g,a):e.wrap&&n?p(g):C&&r(g)?o(g):g,(e.sham||g&&g.sham||m&&m.sham)&&d(v,"sham",!0),d(O,h,v),C&&(f(u,i=y+"Prototype")||d(u,i,{}),d(u[i],h,g),e.real&&A&&!A[h]&&d(A,h,g)))}},95981:function(e){e.exports=function(e){try{return!!e()}catch(e){return!0}}},79730:function(e,t,n){var a=n(18285),i=Function.prototype,o=i.apply,r=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(a?r.bind(o):function(){return r.apply(o,arguments)})},86843:function(e,t,n){var a=n(97484),i=n(24883),o=n(18285),r=a(a.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?r(e,t):function(){return e.apply(t,arguments)}}},18285:function(e,t,n){var a=n(95981);e.exports=!a((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},98308:function(e,t,n){"use strict";var a=n(95329),i=n(24883),o=n(10941),r=n(90953),s=n(93765),l=n(18285),u=Function,c=a([].concat),d=a([].join),f={},p=function(e,t,n){if(!r(f,t)){for(var a=[],i=0;i<t;i++)a[i]="a["+i+"]";f[t]=u("C,a","return new C("+d(a,",")+")")}return f[t](e,n)};e.exports=l?u.bind:function(e){var t=i(this),n=t.prototype,a=s(arguments,1),r=function(){var n=c(a,s(arguments));return this instanceof r?p(t,n.length,n):t.apply(e,n)};return o(n)&&(r.prototype=n),r}},78834:function(e,t,n){var a=n(18285),i=Function.prototype.call;e.exports=a?i.bind(i):function(){return i.apply(i,arguments)}},97484:function(e,t,n){var a=n(82532),i=n(95329);e.exports=function(e){if("Function"===a(e))return i(e)}},95329:function(e,t,n){var a=n(18285),i=Function.prototype,o=i.call,r=a&&i.bind.bind(o,o);e.exports=a?r:function(e){return function(){return o.apply(e,arguments)}}},626:function(e,t,n){var a=n(54058),i=n(21899),o=n(57475),r=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?r(a[e])||r(i[e]):a[e]&&a[e][t]||i[e]&&i[e][t]}},14229:function(e,t,n){var a=n(24883),i=n(82119);e.exports=function(e,t){var n=e[t];return i(n)?void 0:a(n)}},21899:function(e,t,n){var a=function(e){return e&&e.Math==Math&&e};e.exports=a("object"==typeof globalThis&&globalThis)||a("object"==typeof window&&window)||a("object"==typeof self&&self)||a("object"==typeof n.g&&n.g)||function(){return this}()||Function("return this")()},90953:function(e,t,n){var a=n(95329),i=n(89678),o=a({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},27748:function(e){e.exports={}},2840:function(e,t,n){var a=n(55746),i=n(95981),o=n(61333);e.exports=!a&&!i((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},37026:function(e,t,n){var a=n(95329),i=n(95981),o=n(82532),r=Object,s=a("".split);e.exports=i((function(){return!r("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?s(e,""):r(e)}:r},57475:function(e,t,n){var a=n(76616),i=a.all;e.exports=a.IS_HTMLDDA?function(e){return"function"==typeof e||e===i}:function(e){return"function"==typeof e}},37252:function(e,t,n){var a=n(95981),i=n(57475),o=/#|\.prototype\./,r=function(e,t){var n=l[s(e)];return n==c||n!=u&&(i(t)?a(t):!!t)},s=r.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=r.data={},u=r.NATIVE="N",c=r.POLYFILL="P";e.exports=r},82119:function(e){e.exports=function(e){return null==e}},10941:function(e,t,n){var a=n(57475),i=n(76616),o=i.all;e.exports=i.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:a(e)||e===o}:function(e){return"object"==typeof e?null!==e:a(e)}},82529:function(e){e.exports=!0},56664:function(e,t,n){var a=n(626),i=n(57475),o=n(7046),r=n(32302),s=Object;e.exports=r?function(e){return"symbol"==typeof e}:function(e){var t=a("Symbol");return i(t)&&o(t.prototype,s(e))}},10623:function(e,t,n){var a=n(43057);e.exports=function(e){return a(e.length)}},35331:function(e){var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var a=+e;return(a>0?n:t)(a)}},24420:function(e,t,n){"use strict";var a=n(55746),i=n(95329),o=n(78834),r=n(95981),s=n(14771),l=n(87857),u=n(36760),c=n(89678),d=n(37026),f=Object.assign,p=Object.defineProperty,h=i([].concat);e.exports=!f||r((function(){if(a&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||s(f({},t)).join("")!=i}))?function(e,t){for(var n=c(e),i=arguments.length,r=1,f=l.f,p=u.f;i>r;)for(var g,m=d(arguments[r++]),_=f?h(s(m),f(m)):s(m),v=_.length,b=0;v>b;)g=_[b++],a&&!o(p,m,g)||(n[g]=m[g]);return n}:f},65988:function(e,t,n){var a=n(55746),i=n(2840),o=n(83937),r=n(96059),s=n(83894),l=TypeError,u=Object.defineProperty,c=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=a?o?function(e,t,n){if(r(e),t=s(t),r(n),"function"==typeof e&&"prototype"===t&&"value"in n&&p in n&&!n.writable){var a=c(e,t);a&&a.writable&&(e[t]=n.value,n={configurable:f in n?n.configurable:a.configurable,enumerable:d in n?n.enumerable:a.enumerable,writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(r(e),t=s(t),r(n),i)try{return u(e,t,n)}catch(e){}if("get"in n||"set"in n)throw l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},49677:function(e,t,n){var a=n(55746),i=n(78834),o=n(36760),r=n(31887),s=n(74529),l=n(83894),u=n(90953),c=n(2840),d=Object.getOwnPropertyDescriptor;t.f=a?d:function(e,t){if(e=s(e),t=l(t),c)try{return d(e,t)}catch(e){}if(u(e,t))return r(!i(o.f,e,t),e[t])}},87857:function(e,t){t.f=Object.getOwnPropertySymbols},7046:function(e,t,n){var a=n(95329);e.exports=a({}.isPrototypeOf)},55629:function(e,t,n){var a=n(95329),i=n(90953),o=n(74529),r=n(31692).indexOf,s=n(27748),l=a([].push);e.exports=function(e,t){var n,a=o(e),u=0,c=[];for(n in a)!i(s,n)&&i(a,n)&&l(c,n);for(;t.length>u;)i(a,n=t[u++])&&(~r(c,n)||l(c,n));return c}},14771:function(e,t,n){var a=n(55629),i=n(56759);e.exports=Object.keys||function(e){return a(e,i)}},36760:function(e,t){"use strict";var n={}.propertyIsEnumerable,a=Object.getOwnPropertyDescriptor,i=a&&!n.call({1:2},1);t.f=i?function(e){var t=a(this,e);return!!t&&t.enumerable}:n},39811:function(e,t,n){var a=n(78834),i=n(57475),o=n(10941),r=TypeError;e.exports=function(e,t){var n,s;if("string"===t&&i(n=e.toString)&&!o(s=a(n,e)))return s;if(i(n=e.valueOf)&&!o(s=a(n,e)))return s;if("string"!==t&&i(n=e.toString)&&!o(s=a(n,e)))return s;throw r("Can't convert object to primitive value")}},54058:function(e){e.exports={}},48219:function(e,t,n){var a=n(82119),i=TypeError;e.exports=function(e){if(a(e))throw i("Can't call method on "+e);return e}},63030:function(e,t,n){var a=n(21899),i=n(75609),o="__core-js_shared__",r=a[o]||i(o,{});e.exports=r},68726:function(e,t,n){var a=n(82529),i=n(63030);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:a?"pure":"global",copyright:"¬© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},63405:function(e,t,n){var a=n(53385),i=n(95981);e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&a&&a<41}))},59413:function(e,t,n){var a=n(62435),i=Math.max,o=Math.min;e.exports=function(e,t){var n=a(e);return n<0?i(n+t,0):o(n,t)}},74529:function(e,t,n){var a=n(37026),i=n(48219);e.exports=function(e){return a(i(e))}},62435:function(e,t,n){var a=n(35331);e.exports=function(e){var t=+e;return t!=t||0===t?0:a(t)}},43057:function(e,t,n){var a=n(62435),i=Math.min;e.exports=function(e){return e>0?i(a(e),9007199254740991):0}},89678:function(e,t,n){var a=n(48219),i=Object;e.exports=function(e){return i(a(e))}},46935:function(e,t,n){var a=n(78834),i=n(10941),o=n(56664),r=n(14229),s=n(39811),l=n(99813),u=TypeError,c=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,l=r(e,c);if(l){if(void 0===t&&(t="default"),n=a(l,e,t),!i(n)||o(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},83894:function(e,t,n){var a=n(46935),i=n(56664);e.exports=function(e){var t=a(e,"string");return i(t)?t:t+""}},69826:function(e){var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},99418:function(e,t,n){var a=n(95329),i=0,o=Math.random(),r=a(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+r(++i+o,36)}},32302:function(e,t,n){var a=n(63405);e.exports=a&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},83937:function(e,t,n){var a=n(55746),i=n(95981);e.exports=a&&i((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},99813:function(e,t,n){var a=n(21899),i=n(68726),o=n(90953),r=n(99418),s=n(63405),l=n(32302),u=i("wks"),c=a.Symbol,d=c&&c.for,f=l?c:c&&c.withoutSetter||r;e.exports=function(e){if(!o(u,e)||!s&&"string"!=typeof u[e]){var t="Symbol."+e;s&&o(c,e)?u[e]=c[e]:u[e]=l&&d?d(t):f(t)}return u[e]}},73381:function(e,t,n){var a=n(76887),i=n(98308);a({target:"Function",proto:!0,forced:Function.bind!==i},{bind:i})},49221:function(e,t,n){var a=n(76887),i=n(24420);a({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},86450:function(e,t,n){var a=n(76887),i=n(55746),o=n(65988).f;a({target:"Object",stat:!0,forced:Object.defineProperty!==o,sham:!i},{defineProperty:o})},28196:function(e,t,n){var a=n(16246);e.exports=a},63383:function(e,t,n){var a=n(45999);e.exports=a},41910:function(e,t,n){var a=n(48171);e.exports=a},53879:function(e,t,n){var a=n(87236),i=n(6189),o={float:"cssFloat"},r=n(93379);function s(e,t,n){var s=o[t];if(void 0===s&&(s=function(e){var t=i(e),n=a(t);return o[t]=o[e]=o[n]=n,n}(t)),s){if(void 0===n)return e.style[s];e.style[s]=r(s,n)}}function l(e,t){for(var n in t)t.hasOwnProperty(n)&&s(e,n,t[n])}function u(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:l(arguments[0],arguments[1]):s(arguments[0],arguments[1],arguments[2])}e.exports=u,e.exports.set=u,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=s(e,n||""),t}),{}):s(e,t||"")}},89766:function(e,t,n){var a={EventEmitter:n(47333),EmitterSubscription:n(86584)};e.exports=a},47333:function(e,t,n){"use strict";var a=n(86584),i=n(68231),o=n(73759),r=n(60139),s=function(){function e(){this._subscriber=new i,this._currentSubscription=null}var t=e.prototype;return t.addListener=function(e,t,n){return this._subscriber.addSubscription(e,new a(this._subscriber,t,n))},t.once=function(e,t,n){var a=this;return this.addListener(e,(function(){a.removeCurrentListener(),t.apply(n,arguments)}))},t.removeAllListeners=function(e){this._subscriber.removeAllSubscriptions(e)},t.removeCurrentListener=function(){this._currentSubscription||o(!1),this._subscriber.removeSubscription(this._currentSubscription)},t.listeners=function(e){var t=this._subscriber.getSubscriptionsForType(e);return t?t.filter(r.thatReturnsTrue).map((function(e){return e.listener})):[]},t.emit=function(e){var t=this._subscriber.getSubscriptionsForType(e);if(t){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a],o=t[i];o&&(this._currentSubscription=o,this.__emitToSubscription.apply(this,[o].concat(Array.prototype.slice.call(arguments))))}this._currentSubscription=null}},t.__emitToSubscription=function(e,t){var n=Array.prototype.slice.call(arguments,2);e.listener.apply(e.context,n)},e}();e.exports=s},86584:function(e,t,n){"use strict";var a=function(e){var t,n;function a(t,n,a){var i;return(i=e.call(this,t)||this).listener=n,i.context=a,i}return n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,a}(n(27024));e.exports=a},27024:function(e){"use strict";var t=function(){function e(e){this.subscriber=e}return e.prototype.remove=function(){this.subscriber&&(this.subscriber.removeSubscription(this),this.subscriber=null)},e}();e.exports=t},68231:function(e,t,n){"use strict";var a=n(73759),i=function(){function e(){this._subscriptionsForType={},this._currentSubscription=null}var t=e.prototype;return t.addSubscription=function(e,t){t.subscriber!==this&&a(!1),this._subscriptionsForType[e]||(this._subscriptionsForType[e]=[]);var n=this._subscriptionsForType[e].length;return this._subscriptionsForType[e].push(t),t.eventType=e,t.key=n,t},t.removeAllSubscriptions=function(e){void 0===e?this._subscriptionsForType={}:delete this._subscriptionsForType[e]},t.removeSubscription=function(e){var t=e.eventType,n=e.key,a=this._subscriptionsForType[t];a&&delete a[n]},t.getSubscriptionsForType=function(e){return this._subscriptionsForType[e]},e}();e.exports=i},60139:function(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},73759:function(e){"use strict";var t=function(e){};e.exports=function(e,n){for(var a=arguments.length,i=new Array(a>2?a-2:0),o=2;o<a;o++)i[o-2]=arguments[o];if(t(n),!e){var r;if(void 0===n)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(r=new Error(n.replace(/%s/g,(function(){return String(i[s++])})))).name="Invariant Violation"}throw r.framesToPop=1,r}}},8679:function(e,t,n){"use strict";var a=n(21296),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return a.isMemo(e)?r:s[e.$$typeof]||i}s[a.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[a.Memo]=r;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,a){if("string"!=typeof n){if(h){var i=p(n);i&&i!==h&&e(t,i,a)}var r=c(n);d&&(r=r.concat(d(n)));for(var s=l(t),g=l(n),m=0;m<r.length;++m){var _=r[m];if(!(o[_]||a&&a[_]||g&&g[_]||s&&s[_])){var v=f(n,_);try{u(t,_,v)}catch(e){}}}}return t}},96103:function(e,t){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n="function"==typeof Symbol&&Symbol.for,a=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,r=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,d=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,y=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case c:case d:case o:case s:case r:case p:return e;default:switch(e=e&&e.$$typeof){case u:case f:case m:case g:case l:return e;default:return t}}case i:return t}}}function T(e){return E(e)===d}t.AsyncMode=c,t.ConcurrentMode=d,t.ContextConsumer=u,t.ContextProvider=l,t.Element=a,t.ForwardRef=f,t.Fragment=o,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=s,t.StrictMode=r,t.Suspense=p,t.isAsyncMode=function(e){return T(e)||E(e)===c},t.isConcurrentMode=T,t.isContextConsumer=function(e){return E(e)===u},t.isContextProvider=function(e){return E(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return E(e)===f},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===m},t.isMemo=function(e){return E(e)===g},t.isPortal=function(e){return E(e)===i},t.isProfiler=function(e){return E(e)===s},t.isStrictMode=function(e){return E(e)===r},t.isSuspense=function(e){return E(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===s||e===r||e===p||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f||e.$$typeof===v||e.$$typeof===b||e.$$typeof===y||e.$$typeof===_)},t.typeOf=E},21296:function(e,t,n){"use strict";e.exports=n(96103)},87538:function(e,t,n){"use strict";n.r(t),t.default={main:"main_cda6",text:"text_f572",callBox:"callBox_d300",waitBox:"waitBox_ee36",waitText:"waitText_ff8e",timerBox:"timerBox_e58d",count:"count_d2d7",connectBox:"connectBox_c27c",connectIcon:"connectIcon_cf21",pin:"pin_f786"}},43893:function(e,t,n){"use strict";n.r(t),t.default={pinBox:"pinBox_a837",pinBoxBig:"pinBoxBig_b444",pin2:"pin2_dbfb",pin3:"pin3_c8e5",pin1:"pin1_e6af",ochange:"ochange_ea80"}},99645:function(e,t,n){"use strict";n.r(t),t.default={header:"header_e9cd",body:"body_c0e8",bodyInfo:"bodyInfo_cd9f",bodyInfoChat:"bodyInfoChat_d808",bodyInfoChatText:"bodyInfoChatText_e217",bodyInfoText:"bodyInfoText_e572",periodSelectWrap:"periodSelectWrap_b676",inputPhone:"inputPhone_aab9",successHeaderIcon:"successHeaderIcon_b0dc",tryAgainText:"tryAgainText_cbc8",tryAgainLink:"tryAgainLink_ae28"}},50732:function(e,t,n){"use strict";n.r(t),t.default={body:"body_db11",message:"message_bb40",classNameInputPhone:"classNameInputPhone_aada"}},72953:function(e,t,n){"use strict";n.r(t),t.default={container:"container_a003",inputWrap:"inputWrap_fedd",countryMobileWrap:"countryMobileWrap_b26a",iconSelect:"iconSelect_ea83",__alone:"__alone_b9cb",flagIcon:"flagIcon_dae3",flagWrap:"flagWrap_a73c",list:"list_cb16",flagArrow:"flagArrow_caff",phoneCodeWrap:"phoneCodeWrap_ec18",phoneInput:"phoneInput_ec0a",countryWrap:"countryWrap_c589",countrySelect:"countrySelect_bda5",countryTabletSelect:"countryTabletSelect_ebd4",rail:"rail_b8ee",_isScroll:"_isScroll_a94c",listItem:"listItem_ffd3",countryName:"countryName_e0f8",countryCode:"countryCode_fbcb",__singleMod:"__singleMod_fdf3",__error:"__error_b1d1",__focused:"__focused_e4e4",_grey:"_grey_d060",_blue:"_blue_e070",__mobile:"__mobile_ca7c",__inFormMod:"__inFormMod_e746",__smallTextSize:"__smallTextSize_e427"}},90146:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_a3fb",popup:"popup_e89b",_show:"_show_b774",_powerBtn:"_powerBtn_a908",_powerBtnPositionLeft:"_powerBtnPositionLeft_b06e",button:"button_aa17",iconWrap:"iconWrap_b7fe",animationBtn:"animationBtn_a64a",logoCallback:"logoCallback_a552"}},13279:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_b54f",popup:"popup_b7fd",hand:"hand_fd0b",closeIcon:"closeIcon_d14f",contentWrap:"contentWrap_f6a0",title:"title_d60c",subtitle:"subtitle_c402",delayedWrap:"delayedWrap_ffb6",periodsWrap:"periodsWrap_feab",periodSelectWrap:"periodSelectWrap_cf13",input:"input_ed78",time:"time_edb0",eula:"eula_c4dc",eulaText:"eulaText_fcce"}},57597:function(e,t,n){"use strict";n.r(t),t.default={main:"main_de53",__static:"__static_cdb1",header:"header_c2c6",body:"body_a15e",noShadow:"noShadow_fe76",mobile:"mobile_c483",input:"input_d156",popup:"popup_d34a",show:"show_c8c2",popupFull:"popupFull_e610",hide:"hide_b2ec",headerBox:"headerBox_f61a",fadeIn:"fadeIn_cf41",fadeOut:"fadeOut_dffa",loading:"loading_f67b"}},35595:function(e,t,n){"use strict";n.r(t),t.default={checkbox:"checkbox_cc43",_checked:"_checked_a9e4",_error:"_error_d4bc"}},5243:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_d67e",__call:"__call_bc84",__show:"__show_ab92",closeButton:"closeButton_e8d0",closeIcon:"closeIcon_e866"}},47084:function(e,t,n){"use strict";n.r(t),t.default={main:"main_a768",__mobile:"__mobile_d4ef",text:"text_da9f"}},30123:function(e,t,n){"use strict";n.r(t),t.default={avatar:"avatar_a7bc",_chatStyle:"_chatStyle_f34f",avatarItem:"avatarItem_d3b3",avatarListImg:"avatarListImg_a6ef",avatarImg:"avatarImg_cfb7",lightAvatar:"lightAvatar_a809",darkAvatar:"darkAvatar_dfab",_width1:"_width1_c18b",_width2:"_width2_c187",_width3:"_width3_eaf9",_connected:"_connected_d473",_expanded:"_expanded_fbea",_mobile:"_mobile_ad02",_tablet:"_tablet_f571",__isBot:"__isBot_c4a5",onlineBadge:"onlineBadge_cff9",avatarList:"avatarList_c2be",dotsItem:"dotsItem_c46d",_light:"_light_efe8",_dark:"_dark_e72c",botIcon:"botIcon_c60f",__header:"__header_fdac",img:"img_c223"}},71528:function(e,t,n){"use strict";n.r(t),t.default={button:"button_f0cd",_disabled:"_disabled_a1be",_medium:"_medium_c239",text:"text_d354",_blue:"_blue_b449",_grey:"_grey_d81c",__ios:"__ios_b2f8",inputButton:"inputButton_e412",__mobileChat:"__mobileChat_c6c4",buttonIcon:"buttonIcon_d8cb",_green:"_green_d2b5",_error:"_error_df5e"}},2903:function(e,t,n){"use strict";n.r(t),t.default={filled:"filled_fd99",__green:"__green_bef3",__blue:"__blue_c9bd",__grey:"__grey_b450",light:"light_a75b",outline:"outline_f3f5",subtle:"subtle_f9be",white:"white_f15b",__xsSize:"__xsSize_ebb9",__compact:"__compact_f13c",__smSize:"__smSize_f00a",__mdSize:"__mdSize_bbc0",__lgSize:"__lgSize_b9d5",__xlSize:"__xlSize_d424",__xsRadius:"__xsRadius_eb46",__smRadius:"__smRadius_ed73",__mdRadius:"__mdRadius_bd10",__lgRadius:"__lgRadius_b46c",__xlRadius:"__xlRadius_f4f3",__uppercase:"__uppercase_db95",__fullWidth:"__fullWidth_e7ab",root:"root_e4f6",__disabled:"__disabled_c08f",__ios:"__ios_a1e4",content:"content_c26b",icon:"icon_e5e1",__left:"__left_a3bb",__right:"__right_f699",default:"default_ce2b"}},71207:function(e,t,n){"use strict";n.r(t),t.default={scrollForm:"scrollForm_e823",__ad:"__ad_b4fb",__hide:"__hide_b065",__mobile:"__mobile_cdad",textToForm:"textToForm_a27a"}},42805:function(e,t,n){"use strict";n.r(t),t.default={closeButton:"closeButton_b286",closeIcon:"closeIcon_f464",action:"action_f37f",drag:"drag_de9a",__call:"__call_dcc1",popupClose:"popupClose_be17"}},40375:function(e,t,n){"use strict";n.r(t),t.default={container:"container_e4d9",wrapper:"wrapper_b2ad",__show:"__show_ac05",main:"main_eb7c",offline:"offline_c617",reconnect:"reconnect_d4cb",icon:"icon_f0a9"}},22760:function(e,t,n){"use strict";n.r(t),t.default={fieldWrap:"fieldWrap_bff7",hint:"hint_da7f",inputField:"inputField_cf25",__bluredEmpty:"__bluredEmpty_b85d",_grey:"_grey_e2d4",_blue:"_blue_ef46",_error:"_error_fd57",__textarea:"__textarea_b849",_disabled:"_disabled_e9e4",__inputChat:"__inputChat_da1c",__ios:"__ios_b5c8",__emailChat:"__emailChat_e367",__mobile:"__mobile_fe10",__valid:"__valid_b8ef",currentItem:"currentItem_e845",_green:"_green_bb6c",_open:"_open_f054",selectPopup:"selectPopup_ce5a",itemSelected:"itemSelected_fb40",item:"item_f12f",__scroll:"__scroll_ae0a",iconSelect:"iconSelect_c55e",rail:"rail_ab8f",iconValid:"iconValid_d6c2"}},86762:function(e,t,n){"use strict";n.r(t),t.default={root:"root_b4b0",__green:"__green_c8a5",__grey:"__grey_bbdc",__blue:"__blue_c221",__withLabel:"__withLabel_d828",__smSize:"__smSize_ff77",__mdSize:"__mdSize_c125",__lgSize:"__lgSize_faf7",__xlSize:"__xlSize_e0e2",__xsSize:"__xsSize_c511",__xsRadius:"__xsRadius_b5b0",__smRadius:"__smRadius_babb",__mdRadius:"__mdRadius_b7fe",__lgRadius:"__lgRadius_ea84",__xlRadius:"__xlRadius_a109",default:"default_f35a",filled:"filled_b190",unstyled:"unstyled_a9b7",inset:"inset_c753",__active:"__active_d79e",label:"label_b801",__invalid:"__invalid_c68f",rightSection:"rightSection_ab9c",error:"error_aa44"}},44064:function(e,t,n){"use strict";n.r(t),t.default={wrapper:"wrapper_a1b4"}},20404:function(e,t,n){"use strict";n.r(t),t.default={select:"select_d4b4",dropIcon:"dropIcon_f33d"}},80810:function(e,t,n){"use strict";n.r(t),t.default={root:"root_a7d1",__withBorder:"__withBorder_fa0e",__xsShadow:"__xsShadow_bd6d",__smShadow:"__smShadow_f303",__mdShadow:"__mdShadow_fc5e",__lgShadow:"__lgShadow_cbc9",__xlShadow:"__xlShadow_d2de",__xsRadius:"__xsRadius_e067",__smRadius:"__smRadius_dbc3",__mdRadius:"__mdRadius_a28e",__lgRadius:"__lgRadius_e292",__xlRadius:"__xlRadius_af1a",__xsPadding:"__xsPadding_da2f",__smPadding:"__smPadding_ca7c",__mdPadding:"__mdPadding_ca22",__lgPadding:"__lgPadding_c11e",__xlPadding:"__xlPadding_e3b7"}},35247:function(e,t,n){"use strict";n.r(t),t.default={arrow:"arrow_fee8",__top:"__top_c37e",__left:"__left_c743",__bottom:"__bottom_d4d1",__right:"__right_d415"}},42960:function(e,t,n){"use strict";n.r(t),t.default={input:"input_aad7",dropIcon:"dropIcon_f6ab",dropDown:"dropDown_e8b7"}},97629:function(e,t,n){"use strict";n.r(t),t.default={root:"root_e89a",__hovered:"__hovered_cdaa",__blue:"__blue_be87",__withinSelected:"__withinSelected_f9a3",__selected:"__selected_d18f",__green:"__green_acac",__grey:"__grey_be52",__disabled:"__disabled_aaf5",__xsSize:"__xsSize_d3a2",__smSize:"__smSize_c652",__mdSize:"__mdSize_ff5e",__lgSize:"__lgSize_d96f",__xlSize:"__xlSize_c3a9",__xsRadius:"__xsRadius_c11e",__smRadius:"__smRadius_a1da",__mdRadius:"__mdRadius_ac90",__lgRadius:"__lgRadius_dfbc",__xlRadius:"__xlRadius_dc68"}},42217:function(e,t,n){"use strict";n.r(t),t.default={spacer:"spacer_f6e6",__xsH:"__xsH_c75b",__smH:"__smH_aec9",__mdH:"__mdH_b720",__lgH:"__lgH_bb6a",__xlH:"__xlH_c302",__xsW:"__xsW_b89b",__smW:"__smW_ebbf",__mdW:"__mdW_f374",__lgW:"__lgW_a94b",__xlW:"__xlW_f32f"}},28402:function(e,t,n){"use strict";n.r(t),t.default={root:"root_abd8",__isIos:"__isIos_ef6c",__green:"__green_e20d",__grey:"__grey_dbd6",__blue:"__blue_ff3f",__xsRadius:"__xsRadius_fdfd",__smRadius:"__smRadius_dba0",__mdRadius:"__mdRadius_f91a",__lgRadius:"__lgRadius_bf62",__xlRadius:"__xlRadius_d8c1",__xsSize:"__xsSize_afa9",__smSize:"__smSize_a5db",__mdSize:"__mdSize_e514",__lgSize:"__lgSize_a9cc",__xlSize:"__xlSize_a736",default:"default_eeb3",filled:"filled_c222",unstyled:"unstyled_a1ce",label:"label_c008",inset:"inset_a84c",__active:"__active_d3a1",__invalid:"__invalid_c46c",rightSection:"rightSection_f96a",error:"error_e8b7"}},43973:function(e,t,n){"use strict";n.r(t),t.default={copyright:"copyright_f1ed",_bottom:"_bottom_afc4",__ru:"__ru_a691",_right:"_right_a765",_left:"_left_d372",hide:"hide_b312",logoIcon:"logoIcon_cfec",link:"link_d170",__mobile:"__mobile_c993",text:"text_e087",corner:"corner_e4f8",chatCopyright:"chatCopyright_f6f9",__tablet:"__tablet_cfca",__call:"__call_bb65",__chat:"__chat_deca",__offline:"__offline_f439",__top:"__top_dd1a",__hidden:"__hidden_dd7a",customWrap:"customWrap_d5f0"}},14072:function(e,t,n){"use strict";n.r(t),t.default={main:"main_c575",__logo:"__logo_cd5c",__mobile:"__mobile_e0e1",department:"department_f11c",circle:"circle_a380",__green:"__green_e457",__grey:"__grey_c9e0",__blue:"__blue_b83a",text:"text_cf67"}},10611:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_e2ef",__short:"__short_ac68",__abTop:"__abTop_d52c",__active:"__active_ae41"}},69427:function(e,t,n){"use strict";n.r(t),t.default={emojiIcon:"emojiIcon_f551",emojiMessages:"emojiMessages_a396",__alone:"__alone_c2c8",iconSuccess:"iconSuccess_b244",icon:"icon_bb7f"}},25778:function(e,t,n){"use strict";n.r(t),t.default={eulaPopup:"eulaPopup_f47d",_mobile:"_mobile_a263",__static:"__static_f314",__call:"__call_ad7f",_tablet:"_tablet_f5e9",text:"text_e2fe",title:"title_e360",formText:"formText_ec6b",popupContent:"popupContent_ad25",popupCheckbox:"popupCheckbox_cb3b","show-popup":"show-popup_e44a",__offlineForm:"__offlineForm_b5bd",checkbox:"checkbox_cb47",_checked:"_checked_befc",_grey:"_grey_a85d",_blue:"_blue_ea5c",cancel:"cancel_c23b",scrollText:"scrollText_ec13",__hidden:"__hidden_b5ff",textBlock:"textBlock_b664",rail:"rail_c1d4"}},39771:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_edc2",__disabled:"__disabled_c30e",iconFile:"iconFile_ec6a",iconAttach2:"iconAttach2_f7f8",uploadFwrap:"uploadFwrap_f07c",uploadButton:"uploadButton_f536"}},11531:function(e,t,n){"use strict";n.r(t),t.default={main:"main_a6df"}},9218:function(e,t,n){"use strict";n.r(t),t.default={headerBox:"headerBox_c046",__mobile:"__mobile_ec19",hideCorners:"hideCorners_cab9",header:"header_b366",_fadeOut:"_fadeOut_cc83",info:"info_cddd",_expanded:"_expanded_a8d2",_light:"_light_eaa8",title:"title_cd46",agentName:"agentName_df21",_dark:"_dark_e8e0",_offline:"_offline_fa32",callMe:"callMe_c616",_mobile:"_mobile_f587",__ios:"__ios_f798",headerContainer:"headerContainer_b0ef",__chatpage:"__chatpage_d433",_tablet:"_tablet_eb62",closeBox:"closeBox_d086",__call:"__call_c748",__top100:"__top100_d161",callIcon:"callIcon_e8da",showContent:"showContent_d5e8","_fade-in":"_fade-in_b257","_fade-out":"_fade-out_bb24",__agents:"__agents_f6fd",mobileBack:"mobileBack_d752",pattern:"pattern_cc14",visibilityHack:"visibilityHack_c6df",menuWrap:"menuWrap_a009",menuButtonWrap:"menuButtonWrap_e336",menuIcon:"menuIcon_b9ba",corner:"corner_e7f6",topIcon:"topIcon_be60",toDebugPanel:"toDebugPanel_d9c7",_leftButton:"_leftButton_ea03",_rightButton:"_rightButton_c048",_topButton:"_topButton_e121"}},54162:function(e,t,n){"use strict";n.r(t),t.default={input:"input_f645",__mobile:"__mobile_f3a6",tdTextarea:"tdTextarea_c112",inputField:"inputField_e771",sendButton:"sendButton_b00b",__filedisabled:"__filedisabled_cd6b",windowsPhone:"windowsPhone_ed82","input-field":"input-field_d233",__disabled:"__disabled_e79c",socialPanel:"socialPanel_d9eb",iconEmoji:"iconEmoji_a74e",wrapMargin:"wrapMargin_f47f"}},91059:function(e,t,n){"use strict";n.r(t),t.default={iconEmoji:"iconEmoji_db46",__disabled:"__disabled_a2e3",emojiWrap:"emojiWrap_c449"}},31308:function(e,t,n){"use strict";n.r(t),t.default={iconPanel:"iconPanel_ff7e",__mobile:"__mobile_d46b"}},30240:function(e,t,n){"use strict";n.r(t),t.default={popup:"popup_d46d",hidePopup:"hidePopup_a1f5",show:"show_a5c8",showPopup:"showPopup_b167",childrenWrap:"childrenWrap_bb28",pip:"pip_bc97"}},2037:function(e,t,n){"use strict";n.r(t),t.default={iconMenu:"iconMenu_d0fe",__disabled:"__disabled_a3d6",menuWrap:"menuWrap_ddbd",menu:"menu_bce4",hidePopup:"hidePopup_a9e8",menuItem:"menuItem_d0f7",pip:"pip_cd14",show:"show_f973",showPopup:"showPopup_c02f"}},39604:function(e,t,n){"use strict";n.r(t),t.default={main:"main_b3ad",avatarBox:"avatarBox_f820",iconAnonymous:"iconAnonymous_f440",caption:"caption_fa08",introducePopup:"introducePopup_c0c9",introduceText:"introduceText_aedb",popupContent:"popupContent_f0ff",__mobile:"__mobile_f2b4"}},18292:function(e,t,n){"use strict";n.r(t),t.default={wrapper:"wrapper_b27e",__mobile:"__mobile_e34d",container:"container_eab9",helloBox:"helloBox_e599",form:"form_ac30",selectItem:"selectItem_b5bb",__selected:"__selected_be29",__hovered:"__hovered_a05b",icon:"icon_e340",overriddenTextareaRightSection:"overriddenTextareaRightSection_d734"}},80867:function(e,t,n){"use strict";n.r(t),t.default={label:"label_da16",__show:"__show_c5d8",leafCont:"leafCont_ae86",_bottom:"_bottom_eba0",_designer:"_designer_acfb",_right:"_right_a23d",_left:"_left_bb3f",copyContainer:"copyContainer_d401",text:"text_e252",_noAd:"_noAd_c86b",_offline:"_offline_fa65",hoverl:"hoverl_fddb",_custom:"_custom_bf50",copy:"copy_b2eb",leafBottom:"leafBottom_b70c",labelStatus:"labelStatus_ddfb",omnichannel:"omnichannel_c77c",left:"left_b118",right:"right_b5ea",bottom:"bottom_ea4c",pattern:"pattern_c8b2",contentTransitionWrap:"contentTransitionWrap_ff27",fadeIn:"fadeIn_d8da"}},29433:function(e,t,n){"use strict";n.r(t),t.default={popupWrap:"popupWrap_dcf2",__show:"__show_bf88",popupBlock:"popupBlock_e33c",__short:"__short_abe2",__longText:"__longText_adb6",moreIcon:"moreIcon_a0be",text:"text_ceff",textBox:"textBox_b213",avatar:"avatar_cee9",avatarImg:"avatarImg_f2ca",agentName:"agentName_b782",closeBlock:"closeBlock_f3fb",closePopupIcon:"closePopupIcon_c3e8"}},48646:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_acdf",_extraPadding:"_extraPadding_bcfb",_aboveAll:"_aboveAll_c845",image:"image_eee7"}},19383:function(e,t,n){"use strict";n.r(t),t.default={leaf:"leaf_de53",_bottom:"_bottom_bd15",_right:"_right_c896",_left:"_left_bcfa",cssLeaf:"cssLeaf_f351",_offline:"_offline_e701"}},80047:function(e,t,n){"use strict";n.r(t),t.default={logo:"logo_e0e5",fallback:"fallback_e1d0","_no-copyright":"_no-copyright_c2d5",_bottom:"_bottom_a9d6",hoverBox:"hoverBox_d368",_right:"_right_c503",_left:"_left_bc71",logoIcon:"logoIcon_e995",__ru:"__ru_ac50"}},39281:function(e,t,n){"use strict";n.r(t),t.default={imageLink:"imageLink_e466",image:"image_cd97",mediaType:"mediaType_bf05",list:"list_cfe0",bullet:"bullet_b3b6",listText:"listText_f1d1",title:"title_fbdb",block:"block_f7f7",strong:"strong_b717",em:"em_b394"}},99493:function(e,t,n){"use strict";n.r(t),t.default={main:"main_e993",_mobile:"_mobile_efb1",_transparent:"_transparent_b62f",content:"content_d409",_noagent:"_noagent_cb37",__fullWidth:"__fullWidth_d150",avatarBox:"avatarBox_bd74",__isAnimated:"__isAnimated_f955",time:"time_aa20",_agentName:"_agentName_a0eb",agentName:"agentName_eb7d",botBadge:"botBadge_e5f5"}},8292:function(e,t,n){"use strict";n.r(t),t.default={main:"main_a0dd",_mobile:"_mobile_edfe",__fullWidth:"__fullWidth_d4c1",content:"content_cc51",__green:"__green_f11c",message:"message_ee50",__grey:"__grey_da19",__blue:"__blue_d7d3",time:"time_ee49"}},56460:function(e,t,n){"use strict";n.r(t),t.default={baseBox:"baseBox_bdc7",icon:"icon_d74b"}},67239:function(e,t,n){"use strict";n.r(t),t.default={main:"main_e383",container:"container_d080",__ad:"__ad_cadb",__mobile:"__mobile_c37f",wrap:"wrap_ba65",__tablet:"__tablet_aecd",scroll:"scroll_d54e",rail:"rail_f7a6",scrollWrap:"scrollWrap_b25f",avatarShadow:"avatarShadow_f87e",__show:"__show_e325"}},91651:function(e,t,n){"use strict";n.r(t),t.default={main:"main_fb5a",__mobile:"__mobile_b4fc",text:"text_ef94",error:"error_a84c",showBtn:"showBtn_d1f9",__disabled:"__disabled_b369",__green:"__green_df88",__blue:"__blue_d18d",__grey:"__grey_ef0f",time:"time_bb08"}},46809:function(e,t,n){"use strict";n.r(t),t.default={wrapper:"wrapper_decd",__green:"__green_f155",__blue:"__blue_d859",__grey:"__grey_e78b",validateIcon:"validateIcon_a169",text:"text_e0f3"}},4800:function(e,t,n){"use strict";n.r(t),t.default={box:"box_a1a8",__tablet:"__tablet_f147",__noanim:"__noanim_f2f6",successMessage:"successMessage_b7ef",introduceText:"introduceText_b58f",socialText:"socialText_a728",content:"content_ef56",mainWrap:"mainWrap_d654",main:"main_c0df",overlay:"overlay_c551",__show:"__show_b875",__focus:"__focus_dbd8",__submited:"__submited_d239",__green:"__green_eea0",__blue:"__blue_c5fb",__grey:"__grey_d93d",link:"link_fabc",boxFb:"boxFb_e474",step:"step_d4d3",inputWrap:"inputWrap_b442",iconFb:"iconFb_a19e",iconVk:"iconVk_d667",animateBlock:"animateBlock_c1ae",buttonWrapper:"buttonWrapper_b38c",__fadeOut:"__fadeOut_f06d",submitSuccess:"submitSuccess_d45d",fadeOut:"fadeOut_d354"}},64545:function(e,t,n){"use strict";n.r(t),t.default={main:"main_aefb",message:"message_c658",successIcon:"successIcon_a871",rubleIcon:"rubleIcon_f5af",text:"text_ddf3",info:"info_c1c5",productName:"productName_d6e1",amountWrap:"amountWrap_edef",amount:"amount_f78c",actionBtn:"actionBtn_cc48",__error:"__error_ad42",_tinkoff:"_tinkoff_aced",actionText:"actionText_c3aa",successText:"successText_a47a",__success:"__success_fad5"}},66265:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_b94a",text:"text_ace9",buttonsWrap:"buttonsWrap_b195",button:"button_c524",_disabled:"_disabled_e6d2",linkIcon:"linkIcon_d256",icon:"icon_bcd5"}},63960:function(e,t,n){"use strict";n.r(t),t.default={main:"main_b6af",time:"time_e2db",_preview:"_preview_fd12",_client:"_client_a03d",_green:"_green_c422",_grey:"_grey_cab1",_blue:"_blue_be49",previewLink:"previewLink_d0ac",mediaIcon:"mediaIcon_a212",_uploading:"_uploading_b313",iconMedia:"iconMedia_ee86",mediaComplete:"mediaComplete_e4cd",_agent:"_agent_e6c8",_mobile:"_mobile_b389",mediaText:"mediaText_a99c",mediaFname:"mediaFname_b3df",locationLink:"locationLink_ae54",mediaPerc:"mediaPerc_e7d6",iconError:"iconError_a39f",iconUpload:"iconUpload_d088",_hidden:"_hidden_e2f2",iconLoading:"iconLoading_b73f",loaderCont:"loaderCont_fbcd",loaderBar:"loaderBar_d03c",previewMediaPhoto:"previewMediaPhoto_e2cf",mediaWrapper:"mediaWrapper_a597",clientMediaWrapper:"clientMediaWrapper_ee28",overlayText:"overlayText_fd01",playIcon:"playIcon_a4f7"}},23360:function(e,t,n){"use strict";n.r(t),t.default={linkWrap:"linkWrap_efac",link:"link_ae5e",title:"title_a27a",text:"text_d646",contentWrap:"contentWrap_f0c3",content:"content_e14e",imgWrap:"imgWrap_f07e",time:"time_a808"}},33683:function(e,t,n){"use strict";n.r(t),t.default={sendErrorMessage:"sendErrorMessage_c52e",resend:"resend_d90b"}},32138:function(e,t,n){"use strict";n.r(t),t.default={main:"main_add2",message:"message_cb15",showmessage:"showmessage_eb7b",__mobile:"__mobile_d626",text:"text_c1e9",__alone:"__alone_f8cf",textWrap:"textWrap_d6ed",__client:"__client_ef79",_green:"_green_db49",_grey:"_grey_b8da",_blue:"_blue_fcbf",__agent:"__agent_d282",time:"time_bf6a",__deleted:"__deleted_bded",__edited:"__edited_ca8e",editedText:"editedText_e12c"}},77335:function(e,t,n){"use strict";n.r(t),t.default={main:"main_b173",__hide:"__hide_dbf4",button:"button_ebdc",__ios:"__ios_c645",__green:"__green_ffaf",__blue:"__blue_be96",__grey:"__grey_e6fb",__mobile:"__mobile_c17f",__bot:"__bot_de40"}},9097:function(e,t,n){"use strict";n.r(t),t.default={main:"main_c34f"}},89315:function(e,t,n){"use strict";n.r(t),t.default={wrapper:"wrapper_d34c"}},25648:function(e,t,n){"use strict";n.r(t),t.default={main:"main_fc68",avatar:"avatar_a669",img:"img_a39b",text:"text_c292",_mobile:"_mobile_dd6e"}},48524:function(e,t,n){"use strict";n.r(t),t.default={main:"main_a224",text:"text_b58d",__mobile:"__mobile_c7c2",__callMessageStart:"__callMessageStart_e3d2",__callEnd:"__callEnd_feb8",__delayedCallSuccess:"__delayedCallSuccess_ac81",callIcon:"callIcon_d32a"}},81084:function(e,t,n){"use strict";n.r(t),t.default={main:"main_f1cf",__mobile:"__mobile_aa58",text:"text_fc03",__bot:"__bot_a04f",__social:"__social_e045"}},47860:function(e,t,n){"use strict";n.r(t),t.default={mobileContainer:"mobileContainer_b3e0",__tablet:"__tablet_cc39",__cpFull:"__cpFull_c345"}},29384:function(e,t,n){"use strict";n.r(t),t.default={popup:"popup_e6dd",__show:"__show_d942",__left:"__left_e94f",imOverlay:"imOverlay_d251",popupAnim:"popupAnim_b28d",__isCampaign:"__isCampaign_c153",__noImage:"__noImage_afcf",__longText:"__longText_d8d0",popupBlock:"popupBlock_fc7c",moreIcon:"moreIcon_a457",__short:"__short_b862",text:"text_e510",__isMarkdown:"__isMarkdown_bbce",textBox:"textBox_f4d4",avatar:"avatar_a4f4",avatarImg:"avatarImg_da01",badgeImage:"badgeImage_e8c4",whiteMore:"whiteMore_e2ef",agentName:"agentName_b742",closeBlock:"closeBlock_d22b",closePopupIcon:"closePopupIcon_f591"}},20117:function(e,t,n){"use strict";n.r(t),t.default={moreBox:"moreBox_bbc2",__show:"__show_a0bf",__mobile:"__mobile_bdbd",moreBtn:"moreBtn_db5b",moreBadge:"moreBadge_b5fe"}},40977:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_d4a8",_hidden:"_hidden_d264",overlay:"overlay_f97b",button:"button_e5e4",__hide:"__hide_f46c",__inzoom:"__inzoom_da93",closeIconWrap:"closeIconWrap_f2f5",messagesLabel:"messagesLabel_e008",badge:"badge_bf24",closeIcon:"closeIcon_aff9",_show:"_show_d795",_hoverMenu:"_hoverMenu_af7f",menuWrap:"menuWrap_de8d",__hover:"__hover_d5d1",_orientationRight:"_orientationRight_aecb",_orientationLeft:"_orientationLeft_ecda"}},64734:function(e,t,n){"use strict";n.r(t),t.default={icons:"icons_f8c4",iconWrap:"iconWrap_a9e1",_showLogo:"_showLogo_b4fe",wrapAnimation:"wrapAnimation_c31a",_isCallEnabled:"_isCallEnabled_d712",firstWrapCallAnimation:"firstWrapCallAnimation_cdbf",iconWrapClose:"iconWrapClose_e1d9",iconWrap2:"iconWrap2_b4c5",wrapCallNoLogoAnimation:"wrapCallNoLogoAnimation_bc34",secondWrapCallAnimation:"secondWrapCallAnimation_ff69",iconWrap3:"iconWrap3_eadc",thirdWrapCallAnimation:"thirdWrapCallAnimation_bd6c",jivoIcon:"jivoIcon_f248",closeIcon:"closeIcon_eb5f",logoIconCloud:"logoIconCloud_cf83",envelopeIcon:"envelopeIcon_f450",callbackIcon:"callbackIcon_c9c6",iconCallAnimation:"iconCallAnimation_de4a",topIcon:"topIcon_c30e"}},12947:function(e,t,n){"use strict";n.r(t),t.default={main:"main_a5da",__green:"__green_f2e7",__blue:"__blue_c134",__grey:"__grey_d67c",__ios:"__ios_e62b",title:"title_a8c9",text:"text_c0f1",label:"label_d709",__tablet:"__tablet_ab50",__hide:"__hide_ad14",formBlock:"formBlock_a50a",__show:"__show_d833",button:"button_f409",rateBlock:"rateBlock_a075",close:"close_fe31",closeIcon:"closeIcon_e255",iconBox:"iconBox_b2e4",icon:"icon_b656",__star:"__star_e510",__selected:"__selected_e01d",iconSmile:"iconSmile_f99d",iconUp:"iconUp_d954",iconDown:"iconDown_ddc5",__mobile:"__mobile_f775",inputField:"inputField_ae2b"}},7468:function(e,t,n){"use strict";n.r(t),t.default={socialPanel:"socialPanel_c1ba",wrap:"wrap_e9b8",socialLink:"socialLink_b6a7",infoText:"infoText_fbc3",iconVk:"iconVk_a7f4",iconFb:"iconFb_b5ab",iconSb:"iconSb_faf8",box:"box_bb5b",iframe:"iframe_ce44",__vk:"__vk_b923"}},49563:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_eb16",textBox:"textBox_a658",text:"text_c35c",iconHeader:"iconHeader_f6f5",__vk:"__vk_aa38",__fb:"__fb_e4b4",linkBox:"linkBox_abd0",link:"link_d966",qrWrap:"qrWrap_f466",__zoomed:"__zoomed_d91a"}},68988:function(e,t,n){"use strict";n.r(t),t.default={player:"player_cafa"}},60783:function(e,t,n){"use strict";n.r(t),t.default={vkIcon:"vkIcon_a5a1",fbIcon:"fbIcon_b74a",telegramIcon:"telegramIcon_fb54",viberIcon:"viberIcon_d7ab","message-textIcon":"message-textIcon_ca0e","phone-outgoingIcon":"phone-outgoingIcon_c721",phoneIcon:"phoneIcon_df54",stand:"stand_a83f",standBig:"standBig_ee18"}},43437:function(e,t,n){"use strict";n.r(t),t.default={button:"button_e9aa",disabled:"disabled_ed11",widthFixed:"widthFixed_f3d4",widthFluid:"widthFluid_cd92",heightSmall:"heightSmall_e7b3",heightMiddle:"heightMiddle_d25a",__green:"__green_ed2a",__blue:"__blue_e298",__grey:"__grey_cce4",nativeButton:"nativeButton_d86c"}},56534:function(e,t,n){"use strict";n.r(t),t.default={selectWrap:"selectWrap_aa63",disabled:"disabled_b529",styledSelectWrap:"styledSelectWrap_e5eb",nativeSelectWrap:"nativeSelectWrap_aea3",invalid:"invalid_ed47",__green:"__green_d5f4",label:"label_c7d4",__blue:"__blue_e1d2",__grey:"__grey_c2b2",__dark:"__dark_ccdd",item:"item_c232",items:"items_e0e7",heightSmall:"heightSmall_b5dd",heightMiddle:"heightMiddle_c73b",themeFlat:"themeFlat_a8b0",themeInset:"themeInset_a4ad",labelArrow:"labelArrow_d460",iconSelect:"iconSelect_b39e",selectIsOpen:"selectIsOpen_d62e",nativeSelect:"nativeSelect_dfc5",scroll:"scroll_e733",isCallbackPopup:"isCallbackPopup_d67a",rail:"rail_b727"}},23811:function(e,t,n){"use strict";n.r(t),t.default={topBox:"topBox_e552",__chat:"__chat_bb29",topPopup:"topPopup_e1cd",topIcon:"topIcon_c182",__call:"__call_fa3e"}},7949:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_f87a",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_a72a",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_b490",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_c635",Label_OPEN_WIDGET:"Label_OPEN_WIDGET_ad97",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_c6c7",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_e192",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_fa64",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET_a45b"}},37871:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_bb73",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_efbe",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_e75d",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_e415",Label_OPEN_WIDGET:"Label_OPEN_WIDGET_f217",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_d98b",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_d584",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_f7d7",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET_cbe0"}},10193:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_ed7b",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_d1c3",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_af2f",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_c90f",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET_e066"}},5446:function(e,t,n){"use strict";n.r(t),t.default={WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_d9d3",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_f04d",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_f3c1",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_dd48",Label_OPEN_WIDGET:"Label_OPEN_WIDGET_a964",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_f7ed"}},86052:function(e,t,n){"use strict";n.r(t),t.default={Label_OPEN_WIDGET:"Label_OPEN_WIDGET_e8ee",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_cfb3",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_aa44",Label_MIN_WIDGET:"Label_MIN_WIDGET_e425",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_a48d",WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_abab",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_f020",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_fc36",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_eadc",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET_bcd9"}},8741:function(e,t,n){"use strict";n.r(t),t.default={Label_OPEN_WIDGET:"Label_OPEN_WIDGET_d52a",Label_CLOSE_WIDGET:"Label_CLOSE_WIDGET_c0d4",Label_MINIMIZE_WIDGET:"Label_MINIMIZE_WIDGET_cc13",Label_MIN_WIDGET:"Label_MIN_WIDGET_c0b5",Label_MAXIMIZE_WIDGET:"Label_MAXIMIZE_WIDGET_c029",WidgetContainer_OPEN_WIDGET:"WidgetContainer_OPEN_WIDGET_ca56",WidgetContainer_CLOSE_WIDGET:"WidgetContainer_CLOSE_WIDGET_e93d",WidgetContainer_MAXIMIZE_WIDGET:"WidgetContainer_MAXIMIZE_WIDGET_b7e4",WidgetContainer_MINIMIZE_WIDGET:"WidgetContainer_MINIMIZE_WIDGET_e63e",WidgetContainer_MIN_WIDGET:"WidgetContainer_MIN_WIDGET_e8c9"}},72066:function(e,t,n){"use strict";n.r(t),t.default={contentWrapper:"contentWrapper_e885",loadingWrap:"loadingWrap_c861",__mobile:"__mobile_aa2a"}},54978:function(e,t,n){"use strict";n.r(t),t.default={wrap:"wrap_e2d4",substrate:"substrate_bf32",iconContainer:"iconContainer_f011",iconWrap:"iconWrap_a72a",iconWrapContainer:"iconWrapContainer_e22c",handIcon:"handIcon_c73f",arrow1:"arrow1_c41a",arrow2:"arrow2_eb57",_tablet:"_tablet_e771",viewWrap:"viewWrap_cdb1",zoom:"zoom_b6e0",box:"box_f3cb"}},99881:function(e,t,n){"use strict";n.r(t),t.default={globalClass:"globalClass_b660",pseudoHeight:"pseudoHeight_d840",jivoMouseTrack:"jivoMouseTrack_d6d6"}},75:function(e){(function(){var t,n,a,i,o,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:"undefined"!=typeof process&&null!==process&&process.hrtime?(e.exports=function(){return(t()-o)/1e6},n=process.hrtime,i=(t=function(){var e;return 1e9*(e=n())[0]+e[1]})(),r=1e9*process.uptime(),o=i-r):Date.now?(e.exports=function(){return Date.now()-a},a=Date.now()):(e.exports=function(){return(new Date).getTime()-a},a=(new Date).getTime())}).call(this)},98661:function(e,t,n){"use strict";n.r(t),n.d(t,{Children:function(){return h},Component:function(){return a.Component},Fragment:function(){return a.Fragment},PureComponent:function(){return l},StrictMode:function(){return X},Suspense:function(){return b},SuspenseList:function(){return T},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:function(){return U},cloneElement:function(){return V},createContext:function(){return a.createContext},createElement:function(){return a.createElement},createFactory:function(){return G},createPortal:function(){return A},createRef:function(){return a.createRef},default:function(){return ne},findDOMNode:function(){return $},flushSync:function(){return Y},forwardRef:function(){return f},hydrate:function(){return P},isValidElement:function(){return z},lazy:function(){return E},memo:function(){return u},render:function(){return N},startTransition:function(){return Z},unmountComponentAtNode:function(){return q},unstable_batchedUpdates:function(){return K},useCallback:function(){return i.useCallback},useContext:function(){return i.useContext},useDebugValue:function(){return i.useDebugValue},useDeferredValue:function(){return J},useEffect:function(){return i.useEffect},useErrorBoundary:function(){return i.useErrorBoundary},useId:function(){return i.useId},useImperativeHandle:function(){return i.useImperativeHandle},useInsertionEffect:function(){return ee},useLayoutEffect:function(){return i.useLayoutEffect},useMemo:function(){return i.useMemo},useReducer:function(){return i.useReducer},useRef:function(){return i.useRef},useState:function(){return i.useState},useSyncExternalStore:function(){return te},useTransition:function(){return Q},version:function(){return W}});var a=n(6400),i=n(30396);function o(e,t){for(var n in t)e[n]=t[n];return e}function r(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var a in t)if("__source"!==a&&e[a]!==t[a])return!0;return!1}function s(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}function l(e){this.props=e}function u(e,t){function n(e){var n=this.props.ref,a=n==e.ref;return!a&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!a:r(this.props,e)}function i(t){return this.shouldComponentUpdate=n,(0,a.createElement)(e,t)}return i.displayName="Memo("+(e.displayName||e.name)+")",i.prototype.isReactComponent=!0,i.__f=!0,i}(l.prototype=new a.Component).isPureReactComponent=!0,l.prototype.shouldComponentUpdate=function(e,t){return r(this.props,e)||r(this.state,t)};var c=a.options.__b;a.options.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),c&&c(e)};var d="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function f(e){function t(t){var n=o({},t);return delete n.ref,e(n,t.ref||null)}return t.$$typeof=d,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var p=function(e,t){return null==e?null:(0,a.toChildArray)((0,a.toChildArray)(e).map(t))},h={map:p,forEach:p,count:function(e){return e?(0,a.toChildArray)(e).length:0},only:function(e){var t=(0,a.toChildArray)(e);if(1!==t.length)throw"Children.only";return t[0]},toArray:a.toChildArray},g=a.options.__e;a.options.__e=function(e,t,n,a){if(e.then)for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return null==t.__e&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t);g(e,t,n,a)};var m=a.options.unmount;function _(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(e){"function"==typeof e.__c&&e.__c()})),e.__c.__H=null),null!=(e=o({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=t),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return _(e,t,n)}))),e}function v(e,t,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return v(e,t,n)})),e.__c&&e.__c.__P===t&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}function b(){this.__u=0,this.t=null,this.__b=null}function y(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function E(e){var t,n,i;function o(o){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){i=e})),i)throw i;if(!n)throw t;return(0,a.createElement)(n,o)}return o.displayName="Lazy",o.__f=!0,o}function T(){this.u=null,this.o=null}a.options.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&!0===e.__h&&(e.type=null),m&&m(e)},(b.prototype=new a.Component).__c=function(e,t){var n=t.__c,a=this;null==a.t&&(a.t=[]),a.t.push(n);var i=y(a.__v),o=!1,r=function(){o||(o=!0,n.__R=null,i?i(s):s())};n.__R=r;var s=function(){if(!--a.__u){if(a.state.__a){var e=a.state.__a;a.__v.__k[0]=v(e,e.__c.__P,e.__c.__O)}var t;for(a.setState({__a:a.__b=null});t=a.t.pop();)t.forceUpdate()}},l=!0===t.__h;a.__u++||l||a.setState({__a:a.__b=a.__v.__k[0]}),e.then(r,r)},b.prototype.componentWillUnmount=function(){this.t=[]},b.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),i=this.__v.__k[0].__c;this.__v.__k[0]=_(this.__b,n,i.__O=i.__P)}this.__b=null}var o=t.__a&&(0,a.createElement)(a.Fragment,null,e.fallback);return o&&(o.__h=null),[(0,a.createElement)(a.Fragment,null,t.__a?null:e.children),o]};var C=function(e,t,n){if(++n[1]===n[0]&&e.o.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.o.size))for(n=e.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.u=n=n[2]}};function S(e){return this.getChildContext=function(){return e.context},e.children}function O(e){var t=this,n=e.i;t.componentWillUnmount=function(){(0,a.render)(null,t.l),t.l=null,t.i=null},t.i&&t.i!==n&&t.componentWillUnmount(),e.__v?(t.l||(t.i=n,t.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(e){this.childNodes.push(e),t.i.appendChild(e)},insertBefore:function(e,n){this.childNodes.push(e),t.i.appendChild(e)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),t.i.removeChild(e)}}),(0,a.render)((0,a.createElement)(S,{context:t.context},e.__v),t.l)):t.l&&t.componentWillUnmount()}function A(e,t){var n=(0,a.createElement)(O,{__v:e,i:t});return n.containerInfo=t,n}(T.prototype=new a.Component).__a=function(e){var t=this,n=y(t.__v),a=t.o.get(e);return a[0]++,function(i){var o=function(){t.props.revealOrder?(a.push(i),C(t,e,a)):i()};n?n(o):o()}},T.prototype.render=function(e){this.u=null,this.o=new Map;var t=(0,a.toChildArray)(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.o.set(t[n],this.u=[1,0,this.u]);return e.children},T.prototype.componentDidUpdate=T.prototype.componentDidMount=function(){var e=this;this.o.forEach((function(t,n){C(e,n,t)}))};var w="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,I=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,M="undefined"!=typeof document,R=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e)};function N(e,t,n){return null==t.__k&&(t.textContent=""),(0,a.render)(e,t),"function"==typeof n&&n(),e?e.__c:null}function P(e,t,n){return(0,a.hydrate)(e,t),"function"==typeof n&&n(),e?e.__c:null}a.Component.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(e){Object.defineProperty(a.Component.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})}));var D=a.options.event;function L(){}function k(){return this.cancelBubble}function x(){return this.defaultPrevented}a.options.event=function(e){return D&&(e=D(e)),e.persist=L,e.isPropagationStopped=k,e.isDefaultPrevented=x,e.nativeEvent=e};var B,j={configurable:!0,get:function(){return this.class}},F=a.options.vnode;a.options.vnode=function(e){var t=e.type,n=e.props,i=n;if("string"==typeof t){var o=-1===t.indexOf("-");for(var r in i={},n){var s=n[r];M&&"children"===r&&"noscript"===t||"value"===r&&"defaultValue"in n&&null==s||("defaultValue"===r&&"value"in n&&null==n.value?r="value":"download"===r&&!0===s?s="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+t)&&!R(n.type)?r="oninput":/^onfocus$/i.test(r)?r="onfocusin":/^onblur$/i.test(r)?r="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(r)?r=r.toLowerCase():o&&I.test(r)?r=r.replace(/[A-Z0-9]/g,"-$&").toLowerCase():null===s&&(s=void 0),/^oninput$/i.test(r)&&(r=r.toLowerCase(),i[r]&&(r="oninputCapture")),i[r]=s)}"select"==t&&i.multiple&&Array.isArray(i.value)&&(i.value=(0,a.toChildArray)(n.children).forEach((function(e){e.props.selected=-1!=i.value.indexOf(e.props.value)}))),"select"==t&&null!=i.defaultValue&&(i.value=(0,a.toChildArray)(n.children).forEach((function(e){e.props.selected=i.multiple?-1!=i.defaultValue.indexOf(e.props.value):i.defaultValue==e.props.value}))),e.props=i,n.class!=n.className&&(j.enumerable="className"in n,null!=n.className&&(i.class=n.className),Object.defineProperty(i,"className",j))}e.$$typeof=w,F&&F(e)};var H=a.options.__r;a.options.__r=function(e){H&&H(e),B=e.__c};var U={ReactCurrentDispatcher:{current:{readContext:function(e){return B.__n[e.__c].props.value}}}},W="17.0.2";function G(e){return a.createElement.bind(null,e)}function z(e){return!!e&&e.$$typeof===w}function V(e){return z(e)?a.cloneElement.apply(null,arguments):e}function q(e){return!!e.__k&&((0,a.render)(null,e),!0)}function $(e){return e&&(e.base||1===e.nodeType&&e)||null}var K=function(e,t){return e(t)},Y=function(e,t){return e(t)},X=a.Fragment;function Z(e){e()}function J(e){return e}function Q(){return[!1,Z]}var ee=i.useLayoutEffect;function te(e,t){var n=t(),a=(0,i.useState)({h:{__:n,v:t}}),o=a[0].h,r=a[1];return(0,i.useLayoutEffect)((function(){o.__=n,o.v=t,s(o.__,t())||r({h:o})}),[e,n,t]),(0,i.useEffect)((function(){return s(o.__,o.v())||r({h:o}),e((function(){s(o.__,o.v())||r({h:o})}))}),[e]),n}var ne={useState:i.useState,useId:i.useId,useReducer:i.useReducer,useEffect:i.useEffect,useLayoutEffect:i.useLayoutEffect,useInsertionEffect:ee,useTransition:Q,useDeferredValue:J,useSyncExternalStore:te,startTransition:Z,useRef:i.useRef,useImperativeHandle:i.useImperativeHandle,useMemo:i.useMemo,useCallback:i.useCallback,useContext:i.useContext,useDebugValue:i.useDebugValue,version:"17.0.2",Children:h,render:N,hydrate:P,unmountComponentAtNode:q,createPortal:A,createElement:a.createElement,createContext:a.createContext,createFactory:G,cloneElement:V,createRef:a.createRef,Fragment:a.Fragment,isValidElement:z,findDOMNode:$,Component:a.Component,PureComponent:l,memo:u,forwardRef:f,flushSync:Y,unstable_batchedUpdates:K,StrictMode:X,Suspense:b,SuspenseList:T,lazy:E,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:U}},67665:function(e,t,n){"use strict";n.r(t),n.d(t,{resetPropWarnings:function(){return o}});var a=n(6400),i=(n(14369),{});function o(){i={}}function r(e){return e.type===a.Fragment?"Fragment":"function"==typeof e.type?e.type.displayName||e.type.name:"string"==typeof e.type?e.type:"#text"}var s=[],l=[];function u(){return s.length>0?s[s.length-1]:null}var c=!1;function d(e){return"function"==typeof e.type&&e.type!=a.Fragment}function f(e){for(var t=[e],n=e;null!=n.__o;)t.push(n.__o),n=n.__o;return t.reduce((function(e,t){e+="  in "+r(t);var n=t.__source;return n?e+=" (at "+n.fileName+":"+n.lineNumber+")":c||(c=!0,console.warn("Add @babel/plugin-transform-react-jsx-source to get a more detailed component stack. Note that you should not add it to production builds of your App for bundle size reasons.")),e+"\n"}),"")}var p="function"==typeof WeakMap;function h(e){return e?"function"==typeof e.type?h(e.__):e:{}}var g=a.Component.prototype.setState;a.Component.prototype.setState=function(e,t){return null==this.__v&&null==this.state&&console.warn('Calling "this.setState" inside the constructor of a component is a no-op and might be a bug in your application. Instead, set "this.state = {}" directly.\n\n'+f(u())),g.call(this,e,t)};var m=a.Component.prototype.forceUpdate;function _(e){var t=e.props,n=r(e),a="";for(var i in t)if(t.hasOwnProperty(i)&&"children"!==i){var o=t[i];"function"==typeof o&&(o="function "+(o.displayName||o.name)+"() {}"),o=Object(o)!==o||o.toString?o+"":Object.prototype.toString.call(o),a+=" "+i+"="+JSON.stringify(o)}var s=t.children;return"<"+n+a+(s&&s.length?">..</"+n+">":" />")}a.Component.prototype.forceUpdate=function(e){return null==this.__v?console.warn('Calling "this.forceUpdate" inside the constructor of a component is a no-op and might be a bug in your application.\n\n'+f(u())):null==this.__P&&console.warn('Can\'t call "this.forceUpdate" on an unmounted component. This is a no-op, but it indicates a memory leak in your application. To fix, cancel all subscriptions and asynchronous tasks in the componentWillUnmount method.\n\n'+f(this.__v)),m.call(this,e)},function(){!function(){var e=a.options.__b,t=a.options.diffed,n=a.options.__,i=a.options.vnode,o=a.options.__r;a.options.diffed=function(e){d(e)&&l.pop(),s.pop(),t&&t(e)},a.options.__b=function(t){d(t)&&s.push(t),e&&e(t)},a.options.__=function(e,t){l=[],n&&n(e,t)},a.options.vnode=function(e){e.__o=l.length>0?l[l.length-1]:null,i&&i(e)},a.options.__r=function(e){d(e)&&l.push(e),o&&o(e)}}();var e=!1,t=a.options.__b,n=a.options.diffed,o=a.options.vnode,u=a.options.__e,c=a.options.__,g=a.options.__h,m=p?{useEffect:new WeakMap,useLayoutEffect:new WeakMap,lazyPropTypes:new WeakMap}:null,v=[];a.options.__e=function(e,t,n,a){if(t&&t.__c&&"function"==typeof e.then){var i=e;e=new Error("Missing Suspense. The throwing component was: "+r(t));for(var o=t;o;o=o.__)if(o.__c&&o.__c.__c){e=i;break}if(e instanceof Error)throw e}try{(a=a||{}).componentStack=f(t),u(e,t,n,a),"function"!=typeof e.then&&setTimeout((function(){throw e}))}catch(e){throw e}},a.options.__=function(e,t){if(!t)throw new Error("Undefined parent passed to render(), this is the second argument.\nCheck if the element is available in the DOM/has the correct id.");var n;switch(t.nodeType){case 1:case 11:case 9:n=!0;break;default:n=!1}if(!n){var a=r(e);throw new Error("Expected a valid HTML node as a second argument to render.\tReceived "+t+" instead: render(<"+a+" />, "+t+");")}c&&c(e,t)},a.options.__b=function(n){var a=n.type,o=h(n.__);if(e=!0,void 0===a)throw new Error("Undefined component passed to createElement()\n\nYou likely forgot to export your component or might have mixed up default and named imports"+_(n)+"\n\n"+f(n));if(null!=a&&"object"==typeof a){if(void 0!==a.__k&&void 0!==a.__e)throw new Error("Invalid type passed to createElement(): "+a+"\n\nDid you accidentally pass a JSX literal as JSX twice?\n\n  let My"+r(n)+" = "+_(a)+";\n  let vnode = <My"+r(n)+" />;\n\nThis usually happens when you export a JSX literal and not the component.\n\n"+f(n));throw new Error("Invalid type passed to createElement(): "+(Array.isArray(a)?"array":a))}if("thead"!==a&&"tfoot"!==a&&"tbody"!==a||"table"===o.type?"tr"===a&&"thead"!==o.type&&"tfoot"!==o.type&&"tbody"!==o.type&&"table"!==o.type?console.error("Improper nesting of table. Your <tr> should have a <thead/tbody/tfoot/table> parent."+_(n)+"\n\n"+f(n)):"td"===a&&"tr"!==o.type?console.error("Improper nesting of table. Your <td> should have a <tr> parent."+_(n)+"\n\n"+f(n)):"th"===a&&"tr"!==o.type&&console.error("Improper nesting of table. Your <th> should have a <tr>."+_(n)+"\n\n"+f(n)):console.error("Improper nesting of table. Your <thead/tbody/tfoot> should have a <table> parent."+_(n)+"\n\n"+f(n)),void 0!==n.ref&&"function"!=typeof n.ref&&"object"!=typeof n.ref&&!("$$typeof"in n))throw new Error('Component\'s "ref" property should be a function, or an object created by createRef(), but got ['+typeof n.ref+"] instead\n"+_(n)+"\n\n"+f(n));if("string"==typeof n.type)for(var s in n.props)if("o"===s[0]&&"n"===s[1]&&"function"!=typeof n.props[s]&&null!=n.props[s])throw new Error("Component's \""+s+'" property should be a function, but got ['+typeof n.props[s]+"] instead\n"+_(n)+"\n\n"+f(n));if("function"==typeof n.type&&n.type.propTypes){if("Lazy"===n.type.displayName&&m&&!m.lazyPropTypes.has(n.type)){var l="PropTypes are not supported on lazy(). Use propTypes on the wrapped component itself. ";try{var u=n.type();m.lazyPropTypes.set(n.type,!0),console.warn(l+"Component wrapped in lazy() is "+r(u))}catch(e){console.warn(l+"We will log the wrapped component's name once it is loaded.")}}var c=n.props;n.type.__f&&delete(c=function(e,t){for(var n in t)e[n]=t[n];return e}({},c)).ref,function(e,t,n,a,o){Object.keys(e).forEach((function(n){var r;try{r=e[n](t,n,a,"prop",null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(e){r=e}r&&!(r.message in i)&&(i[r.message]=!0,console.error("Failed prop type: "+r.message+(o&&"\n"+o()||"")))}))}(n.type.propTypes,c,0,r(n),(function(){return f(n)}))}t&&t(n)},a.options.__h=function(t,n,a){if(!t||!e)throw new Error("Hook can only be invoked from render methods.");g&&g(t,n,a)};var b=function(e,t){return{get:function(){var n="get"+e+t;v&&v.indexOf(n)<0&&(v.push(n),console.warn("getting vnode."+e+" is deprecated, "+t))},set:function(){var n="set"+e+t;v&&v.indexOf(n)<0&&(v.push(n),console.warn("setting vnode."+e+" is not allowed, "+t))}}},y={nodeName:b("nodeName","use vnode.type"),attributes:b("attributes","use vnode.props"),children:b("children","use vnode.props.children")},E=Object.create({},y);a.options.vnode=function(e){var t=e.props;if(null!==e.type&&null!=t&&("__source"in t||"__self"in t)){var n=e.props={};for(var a in t){var i=t[a];"__source"===a?e.__source=i:"__self"===a?e.__self=i:n[a]=i}}e.__proto__=E,o&&o(e)},a.options.diffed=function(t){if(t.__k&&t.__k.forEach((function(e){if(e&&void 0===e.type){delete e.__,delete e.__b;var n=Object.keys(e).join(",");throw new Error("Objects are not valid as a child. Encountered an object with the keys {"+n+"}.\n\n"+f(t))}})),e=!1,n&&n(t),null!=t.__k)for(var a=[],i=0;i<t.__k.length;i++){var o=t.__k[i];if(o&&null!=o.key){var r=o.key;if(-1!==a.indexOf(r)){console.error('Following component has two or more children with the same key attribute: "'+r+'". This may cause glitches and misbehavior in rendering process. Component: \n\n'+_(t)+"\n\n"+f(t));break}a.push(r)}}}}()},14369:function(e,t,n){"use strict";n.r(t),n.d(t,{addHookName:function(){return i}});var a=n(6400);function i(e,t){return a.options.__a&&a.options.__a(t),e}"undefined"!=typeof window&&window.__PREACT_DEVTOOLS__&&window.__PREACT_DEVTOOLS__.attachPreact("10.11.3",a.options,{Fragment:a.Fragment,Component:a.Component})},6400:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return b},Fragment:function(){return v},cloneElement:function(){return H},createContext:function(){return U},createElement:function(){return g},createRef:function(){return _},h:function(){return g},hydrate:function(){return F},isValidElement:function(){return r},options:function(){return i},render:function(){return j},toChildArray:function(){return A}});var a,i,o,r,s,l,u,c={},d=[],f=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function p(e,t){for(var n in t)e[n]=t[n];return e}function h(e){var t=e.parentNode;t&&t.removeChild(e)}function g(e,t,n){var i,o,r,s={};for(r in t)"key"==r?i=t[r]:"ref"==r?o=t[r]:s[r]=t[r];if(arguments.length>2&&(s.children=arguments.length>3?a.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===s[r]&&(s[r]=e.defaultProps[r]);return m(e,s,i,o,null)}function m(e,t,n,a,r){var s={type:e,props:t,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==r?++o:r};return null==r&&null!=i.vnode&&i.vnode(s),s}function _(){return{current:null}}function v(e){return e.children}function b(e,t){this.props=e,this.context=t}function y(e,t){if(null==t)return e.__?y(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?y(e):null}function E(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return E(e)}}function T(e){(!e.__d&&(e.__d=!0)&&s.push(e)&&!C.__r++||l!==i.debounceRendering)&&((l=i.debounceRendering)||setTimeout)(C)}function C(){for(var e;C.__r=s.length;)e=s.sort((function(e,t){return e.__v.__b-t.__v.__b})),s=[],e.some((function(e){var t,n,a,i,o,r;e.__d&&(o=(i=(t=e).__v).__e,(r=t.__P)&&(n=[],(a=p({},i)).__v=i.__v+1,P(r,i,a,t.__n,void 0!==r.ownerSVGElement,null!=i.__h?[o]:null,n,null==o?y(i):o,i.__h),D(n,i),i.__e!=o&&E(i)))}))}function S(e,t,n,a,i,o,r,s,l,u){var f,p,h,g,_,b,E,T=a&&a.__k||d,C=T.length;for(n.__k=[],f=0;f<t.length;f++)if(null!=(g=n.__k[f]=null==(g=t[f])||"boolean"==typeof g?null:"string"==typeof g||"number"==typeof g||"bigint"==typeof g?m(null,g,null,null,g):Array.isArray(g)?m(v,{children:g},null,null,null):g.__b>0?m(g.type,g.props,g.key,g.ref?g.ref:null,g.__v):g)){if(g.__=n,g.__b=n.__b+1,null===(h=T[f])||h&&g.key==h.key&&g.type===h.type)T[f]=void 0;else for(p=0;p<C;p++){if((h=T[p])&&g.key==h.key&&g.type===h.type){T[p]=void 0;break}h=null}P(e,g,h=h||c,i,o,r,s,l,u),_=g.__e,(p=g.ref)&&h.ref!=p&&(E||(E=[]),h.ref&&E.push(h.ref,null,g),E.push(p,g.__c||_,g)),null!=_?(null==b&&(b=_),"function"==typeof g.type&&g.__k===h.__k?g.__d=l=O(g,l,e):l=w(e,g,h,T,_,l),"function"==typeof n.type&&(n.__d=l)):l&&h.__e==l&&l.parentNode!=e&&(l=y(h))}for(n.__e=b,f=C;f--;)null!=T[f]&&x(T[f],T[f]);if(E)for(f=0;f<E.length;f++)k(E[f],E[++f],E[++f])}function O(e,t,n){for(var a,i=e.__k,o=0;i&&o<i.length;o++)(a=i[o])&&(a.__=e,t="function"==typeof a.type?O(a,t,n):w(n,a,a,i,a.__e,t));return t}function A(e,t){return t=t||[],null==e||"boolean"==typeof e||(Array.isArray(e)?e.some((function(e){A(e,t)})):t.push(e)),t}function w(e,t,n,a,i,o){var r,s,l;if(void 0!==t.__d)r=t.__d,t.__d=void 0;else if(null==n||i!=o||null==i.parentNode)e:if(null==o||o.parentNode!==e)e.appendChild(i),r=null;else{for(s=o,l=0;(s=s.nextSibling)&&l<a.length;l+=1)if(s==i)break e;e.insertBefore(i,o),r=o}return void 0!==r?r:i.nextSibling}function I(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]=null==n?"":"number"!=typeof n||f.test(t)?n:n+"px"}function M(e,t,n,a,i){var o;e:if("style"===t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof a&&(e.style.cssText=a=""),a)for(t in a)n&&t in n||I(e.style,t,"");if(n)for(t in n)a&&n[t]===a[t]||I(e.style,t,n[t])}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?a||e.addEventListener(t,o?N:R,o):e.removeEventListener(t,o?N:R,o);else if("dangerouslySetInnerHTML"!==t){if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&-1==t.indexOf("-")?e.removeAttribute(t):e.setAttribute(t,n))}}function R(e){this.l[e.type+!1](i.event?i.event(e):e)}function N(e){this.l[e.type+!0](i.event?i.event(e):e)}function P(e,t,n,a,o,r,s,l,u){var c,d,f,h,g,m,_,y,E,T,C,O,A,w,I,M=t.type;if(void 0!==t.constructor)return null;null!=n.__h&&(u=n.__h,l=t.__e=n.__e,t.__h=null,r=[l]),(c=i.__b)&&c(t);try{e:if("function"==typeof M){if(y=t.props,E=(c=M.contextType)&&a[c.__c],T=c?E?E.props.value:c.__:a,n.__c?_=(d=t.__c=n.__c).__=d.__E:("prototype"in M&&M.prototype.render?t.__c=d=new M(y,T):(t.__c=d=new b(y,T),d.constructor=M,d.render=B),E&&E.sub(d),d.props=y,d.state||(d.state={}),d.context=T,d.__n=a,f=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=M.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=p({},d.__s)),p(d.__s,M.getDerivedStateFromProps(y,d.__s))),h=d.props,g=d.state,f)null==M.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==M.getDerivedStateFromProps&&y!==h&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(y,T),!d.__e&&null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(y,d.__s,T)||t.__v===n.__v){for(d.props=y,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach((function(e){e&&(e.__=t)})),C=0;C<d._sb.length;C++)d.__h.push(d._sb[C]);d._sb=[],d.__h.length&&s.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(y,d.__s,T),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(h,g,m)}))}if(d.context=T,d.props=y,d.__v=t,d.__P=e,O=i.__r,A=0,"prototype"in M&&M.prototype.render){for(d.state=d.__s,d.__d=!1,O&&O(t),c=d.render(d.props,d.state,d.context),w=0;w<d._sb.length;w++)d.__h.push(d._sb[w]);d._sb=[]}else do{d.__d=!1,O&&O(t),c=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++A<25);d.state=d.__s,null!=d.getChildContext&&(a=p(p({},a),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(h,g)),I=null!=c&&c.type===v&&null==c.key?c.props.children:c,S(e,Array.isArray(I)?I:[I],t,n,a,o,r,s,l,u),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),_&&(d.__E=d.__=null),d.__e=!1}else null==r&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=L(n.__e,t,n,a,o,r,s,u);(c=i.diffed)&&c(t)}catch(e){t.__v=null,(u||null!=r)&&(t.__e=l,t.__h=!!u,r[r.indexOf(l)]=null),i.__e(e,t,n)}}function D(e,t){i.__c&&i.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){i.__e(e,t.__v)}}))}function L(e,t,n,i,o,r,s,l){var u,d,f,p=n.props,g=t.props,m=t.type,_=0;if("svg"===m&&(o=!0),null!=r)for(;_<r.length;_++)if((u=r[_])&&"setAttribute"in u==!!m&&(m?u.localName===m:3===u.nodeType)){e=u,r[_]=null;break}if(null==e){if(null===m)return document.createTextNode(g);e=o?document.createElementNS("http://www.w3.org/2000/svg",m):document.createElement(m,g.is&&g),r=null,l=!1}if(null===m)p===g||l&&e.data===g||(e.data=g);else{if(r=r&&a.call(e.childNodes),d=(p=n.props||c).dangerouslySetInnerHTML,f=g.dangerouslySetInnerHTML,!l){if(null!=r)for(p={},_=0;_<e.attributes.length;_++)p[e.attributes[_].name]=e.attributes[_].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===e.innerHTML)||(e.innerHTML=f&&f.__html||""))}if(function(e,t,n,a,i){var o;for(o in n)"children"===o||"key"===o||o in t||M(e,o,null,n[o],a);for(o in t)i&&"function"!=typeof t[o]||"children"===o||"key"===o||"value"===o||"checked"===o||n[o]===t[o]||M(e,o,t[o],n[o],a)}(e,g,p,o,l),f)t.__k=[];else if(_=t.props.children,S(e,Array.isArray(_)?_:[_],t,n,i,o&&"foreignObject"!==m,r,s,r?r[0]:n.__k&&y(n,0),l),null!=r)for(_=r.length;_--;)null!=r[_]&&h(r[_]);l||("value"in g&&void 0!==(_=g.value)&&(_!==e.value||"progress"===m&&!_||"option"===m&&_!==p.value)&&M(e,"value",_,p.value,!1),"checked"in g&&void 0!==(_=g.checked)&&_!==e.checked&&M(e,"checked",_,p.checked,!1))}return e}function k(e,t,n){try{"function"==typeof e?e(t):e.current=t}catch(e){i.__e(e,n)}}function x(e,t,n){var a,o;if(i.unmount&&i.unmount(e),(a=e.ref)&&(a.current&&a.current!==e.__e||k(a,null,t)),null!=(a=e.__c)){if(a.componentWillUnmount)try{a.componentWillUnmount()}catch(e){i.__e(e,t)}a.base=a.__P=null,e.__c=void 0}if(a=e.__k)for(o=0;o<a.length;o++)a[o]&&x(a[o],t,n||"function"!=typeof e.type);n||null==e.__e||h(e.__e),e.__=e.__e=e.__d=void 0}function B(e,t,n){return this.constructor(e,n)}function j(e,t,n){var o,r,s;i.__&&i.__(e,t),r=(o="function"==typeof n)?null:n&&n.__k||t.__k,s=[],P(t,e=(!o&&n||t).__k=g(v,null,[e]),r||c,c,void 0!==t.ownerSVGElement,!o&&n?[n]:r?null:t.firstChild?a.call(t.childNodes):null,s,!o&&n?n:r?r.__e:t.firstChild,o),D(s,e)}function F(e,t){j(e,t,F)}function H(e,t,n){var i,o,r,s=p({},e.props);for(r in t)"key"==r?i=t[r]:"ref"==r?o=t[r]:s[r]=t[r];return arguments.length>2&&(s.children=arguments.length>3?a.call(arguments,2):n),m(e.type,s,i||e.key,o||e.ref,null)}function U(e,t){var n={__c:t="__cC"+u++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var n,a;return this.getChildContext||(n=[],(a={})[t]=this,this.getChildContext=function(){return a},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&n.some(T)},this.sub=function(e){n.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){n.splice(n.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Provider.__=n.Consumer.contextType=n}a=d.slice,i={__e:function(e,t,n,a){for(var i,o,r;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),r=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,a||{}),r=i.__d),r)return i.__E=i}catch(t){e=t}throw e}},o=0,r=function(e){return null!=e&&void 0===e.constructor},b.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=p({},this.state),"function"==typeof e&&(e=e(p({},n),this.props)),e&&p(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),T(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),T(this))},b.prototype.render=v,s=[],C.__r=0,u=0},30396:function(e,t,n){"use strict";n.r(t),n.d(t,{useCallback:function(){return S},useContext:function(){return O},useDebugValue:function(){return A},useEffect:function(){return b},useErrorBoundary:function(){return w},useId:function(){return I},useImperativeHandle:function(){return T},useLayoutEffect:function(){return y},useMemo:function(){return C},useReducer:function(){return v},useRef:function(){return E},useState:function(){return _}});var a,i,o,r,s=n(6400),l=0,u=[],c=[],d=s.options.__b,f=s.options.__r,p=s.options.diffed,h=s.options.__c,g=s.options.unmount;function m(e,t){s.options.__h&&s.options.__h(i,e,l||t),l=0;var n=i.__H||(i.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:c}),n.__[e]}function _(e){return l=1,v(k,e)}function v(e,t,n){var o=m(a++,2);if(o.t=e,!o.__c&&(o.__=[n?n(t):k(void 0,t),function(e){var t=o.__N?o.__N[0]:o.__[0],n=o.t(t,e);t!==n&&(o.__N=[n,o.__[1]],o.__c.setState({}))}],o.__c=i,!i.u)){i.u=!0;var r=i.shouldComponentUpdate;i.shouldComponentUpdate=function(e,t,n){if(!o.__c.__H)return!0;var a=o.__c.__H.__.filter((function(e){return e.__c}));if(a.every((function(e){return!e.__N})))return!r||r.call(this,e,t,n);var i=!1;return a.forEach((function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(i=!0)}})),!(!i&&o.__c.props===e)&&(!r||r.call(this,e,t,n))}}return o.__N||o.__}function b(e,t){var n=m(a++,3);!s.options.__s&&L(n.__H,t)&&(n.__=e,n.i=t,i.__H.__h.push(n))}function y(e,t){var n=m(a++,4);!s.options.__s&&L(n.__H,t)&&(n.__=e,n.i=t,i.__h.push(n))}function E(e){return l=5,C((function(){return{current:e}}),[])}function T(e,t,n){l=6,y((function(){return"function"==typeof e?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0}),null==n?n:n.concat(e))}function C(e,t){var n=m(a++,7);return L(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function S(e,t){return l=8,C((function(){return e}),t)}function O(e){var t=i.context[e.__c],n=m(a++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(i)),t.props.value):e.__}function A(e,t){s.options.useDebugValue&&s.options.useDebugValue(t?t(e):e)}function w(e){var t=m(a++,10),n=_();return t.__=e,i.componentDidCatch||(i.componentDidCatch=function(e,a){t.__&&t.__(e,a),n[1](e)}),[n[0],function(){n[1](void 0)}]}function I(){var e=m(a++,11);if(!e.__){for(var t=i.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function M(){for(var e;e=u.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(P),e.__H.__h.forEach(D),e.__H.__h=[]}catch(t){e.__H.__h=[],s.options.__e(t,e.__v)}}s.options.__b=function(e){i=null,d&&d(e)},s.options.__r=function(e){f&&f(e),a=0;var t=(i=e.__c).__H;t&&(o===i?(t.__h=[],i.__h=[],t.__.forEach((function(e){e.__N&&(e.__=e.__N),e.__V=c,e.__N=e.i=void 0}))):(t.__h.forEach(P),t.__h.forEach(D),t.__h=[])),o=i},s.options.diffed=function(e){p&&p(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==u.push(t)&&r===s.options.requestAnimationFrame||((r=s.options.requestAnimationFrame)||N)(M)),t.__H.__.forEach((function(e){e.i&&(e.__H=e.i),e.__V!==c&&(e.__=e.__V),e.i=void 0,e.__V=c}))),o=i=null},s.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(P),e.__h=e.__h.filter((function(e){return!e.__||D(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],s.options.__e(n,e.__v)}})),h&&h(e,t)},s.options.unmount=function(e){g&&g(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach((function(e){try{P(e)}catch(e){t=e}})),n.__H=void 0,t&&s.options.__e(t,n.__v))};var R="function"==typeof requestAnimationFrame;function N(e){var t,n=function(){clearTimeout(a),R&&cancelAnimationFrame(t),setTimeout(e)},a=setTimeout(n,100);R&&(t=requestAnimationFrame(n))}function P(e){var t=i,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),i=t}function D(e){var t=i;e.__c=e.__(),i=t}function L(e,t){return!e||e.length!==t.length||t.some((function(t,n){return t!==e[n]}))}function k(e,t){return"function"==typeof t?t(e):t}},87236:function(e){var t=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var a=t.style;if(e in a)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),o=n.length;o>=0;o--){var r=n[o]+i;if(r in a)return r}return!1}},92703:function(e,t,n){"use strict";var a=n(50414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,r){if(r!==a){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(92703)()},50414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},54087:function(e,t,n){for(var a=n(75),i="undefined"==typeof window?n.g:window,o=["moz","webkit"],r="AnimationFrame",s=i["request"+r],l=i["cancel"+r]||i["cancelRequest"+r],u=0;!s&&u<o.length;u++)s=i[o[u]+"Request"+r],l=i[o[u]+"Cancel"+r]||i[o[u]+"CancelRequest"+r];if(!s||!l){var c=0,d=0,f=[];s=function(e){if(0===f.length){var t=a(),n=Math.max(0,16.666666666666668-(t-c));c=n+t,setTimeout((function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}},36599:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12l4.58-4.59Z" fill-opacity=".87" fill="black"/></svg>'},28843:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M18.9044 15.2138C18.5013 14.8056 17.9637 14.5896 17.3773 14.5896C16.7787 14.5896 16.1923 14.8176 15.7526 15.2498C15.3372 15.646 15.0196 16.1381 14.8363 16.6784C14.1155 16.6063 11.7567 15.1092 10.3029 13.6446C8.89803 12.2161 7.40653 9.84261 7.32102 9.11033C7.88298 8.95427 8.39607 8.65415 8.81143 8.258C9.25122 7.83784 9.50777 7.29764 9.5322 6.70941C9.55663 6.12119 9.34895 5.56898 8.94581 5.16082L7.3821 3.57622C7.01561 3.20408 6.52695 3 5.98942 3C5.43968 3 4.91437 3.21608 4.51123 3.60023L4.2669 3.84032C3.93705 4.14043 3.68051 4.50057 3.50948 4.89672C3.48504 4.95675 2.80092 6.45732 3.05747 7.58575C3.10633 7.75381 4.47667 12.0854 8.23834 15.6494C12 19.2133 16.0824 20.8679 16.2656 20.928C16.4611 20.976 16.681 21 16.9131 21C17.9027 21 18.9533 20.5798 18.9899 20.5678C19.4053 20.3998 19.7718 20.1597 20.1016 19.8596L20.346 19.6195C21.1645 18.8392 21.2255 17.5667 20.4681 16.7984L18.9044 15.2138Z" fill="_COLOR1_"/>\n</svg>\n'},97126:function(e,t,n){"use strict";n.r(t),t.default='<svg width="59" height="71" viewBox="0 0 59 71" xmlns="http://www.w3.org/2000/svg"><title>Arrow1</title><g transform="rotate(163 27.277 33.133)" fill="#00A355" fill-rule="evenodd"><rect y="12" width="8" height="48" rx="4"/><rect y="52" width="48" height="8" rx="4"/><rect transform="rotate(-45 30.523 29.475)" x="-6.477" y="25.475" width="74" height="8" rx="4"/></g></svg>'},27684:function(e,t,n){"use strict";n.r(t),t.default='<svg width="59" height="71" viewBox="0 0 59 71" xmlns="http://www.w3.org/2000/svg"><title>Arrow2</title><g transform="rotate(-17 45.338 20.625)" fill="#00A355" fill-rule="evenodd"><rect y="12" width="8" height="48" rx="4"/><rect y="52" width="48" height="8" rx="4"/><rect transform="rotate(-45 30.523 29.475)" x="-6.477" y="25.475" width="74" height="8" rx="4"/></g></svg>'},58621:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 8 16"><g clip-path="url(#a)"><path fill="_COLOR1_" d="M1.14295 0C.722161 0 .381045.341116.381045.761905c0 .420785.341116.761905.761905.761905h4.25899L.53714 6.38858c-.296654.29665-.296657.77762-.000005 1.07428.296653.29665.777625.29665 1.074285 0L6.47621 2.5981v4.25905c0 .42079.34111.7619.7619.7619.42078 0 .76189-.34111.76189-.7619V0H1.14295Z"/></g><defs><clipPath id="a"><path fill="#fff" d="M0 0h8v16H0z"/></clipPath></defs></svg>'},2482:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M16.5 8v9.5c0 2.21-1.79 4-4 4s-4-1.79-4-4V7a2.5 2.5 0 0 1 5 0v8.5c0 .55-.45 1-1 1s-1-.45-1-1V8H10v7.5a2.5 2.5 0 0 0 5 0V7c0-2.21-1.79-4-4-4S7 4.79 7 7v10.5c0 3.04 2.46 5.5 5.5 5.5s5.5-2.46 5.5-5.5V8h-1.5z"/>\n</svg>\n'},92809:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M.941 0h15v15h-15z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M3.497 9.624c.36.002.694-.14.954-.401.266-.266.425-.627.428-1.014.009-.36-.069-.72-.227-1.04.352-.288 2.063-.67 3.357-.665 1.258.01 2.972.401 3.335.688-.18.319-.274.68-.283 1.04-.009.381.117.735.367 1.007.25.271.588.424.948.426l1.396.01c.328.002.635-.124.874-.363.244-.243.381-.572.39-.922l.001-.215a1.932 1.932 0 0 0-.132-.804c-.016-.038-.378-1.007-.993-1.394-.096-.053-2.626-1.367-5.876-1.279-3.25.088-5.796 1.165-5.904 1.22a1.718 1.718 0 0 0-.319.255c-.439.439-.719 1.091-.73 1.113-.11.259-.165.528-.178.808l-.002.214c-.017.71.52 1.301 1.197 1.306l1.397.01z"/></g></svg>'},87409:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z"/><path fill="#18C139" fill-rule="nonzero" d="M12.603 10.143a1.408 1.408 0 0 0-1.018-.417c-.4 0-.79.152-1.083.44a2.377 2.377 0 0 0-.611.953c-.48-.048-2.053-1.046-3.022-2.023-.937-.952-1.931-2.534-1.988-3.022.374-.104.716-.305.993-.569.293-.28.465-.64.48-1.032a1.372 1.372 0 0 0-.39-1.032L4.92 2.384A1.285 1.285 0 0 0 3.993 2c-.367 0-.717.144-.986.4l-.162.16c-.22.2-.391.44-.505.704-.017.04-.473 1.04-.302 1.793.033.112.946 3 3.454 5.376 2.508 2.376 5.23 3.479 5.352 3.519.13.032.277.048.431.048.66 0 1.36-.28 1.385-.288.277-.112.521-.272.741-.472l.163-.16c.546-.52.586-1.369.081-1.881l-1.042-1.056z"/></g></svg>'},93867:function(e,t,n){"use strict";n.r(t),t.default='<svg id="jivo-icon-closewidget" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><style>.jivo-st0{opacity:.8;fill:#FFF;stroke:#000;enable-background:new}.jivo-st0,.jivo-st1{stroke-width:1.5;stroke-linecap:round}.jivo-st1{fill:none;stroke:#383d45}</style><circle class="jivo-st0" cx="12" cy="12" r="11"/><path class="jivo-st1" d="M7.5 16.5l9-9M16.5 16.5l-9-9"/></svg>'},85972:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd" transform="translate(3 4)">\n    <circle cx="8.5" cy="8.5" r="9.3" stroke="_COLOR1_" stroke-width="1.6"/>\n    <circle cx="5.375" cy="6.375" r="1.375" fill="_COLOR1_"/>\n    <circle cx="11.875" cy="6.375" r="1.375" fill="_COLOR1_" transform="matrix(-1 0 0 1 23.75 0)"/>\n    <path stroke="_COLOR1_" stroke-linecap="round" stroke-width="1.6" d="M4.25 10.5S4.5 13 8.5 13s4.25-2.5 4.25-2.5"/>\n  </g>\n</svg>'},28336:function(e,t,n){"use strict";n.r(t),t.default='<svg width="25" height="20" viewBox="0 0 25 20" xmlns="http://www.w3.org/2000/svg"><path fill=\'_COLOR1_\' d="M22.5 5l-10 6.25L2.5 5V2.5l10 6.25 10-6.25V5zm0-5h-20A2.49 2.49 0 0 0 0 2.5v15A2.5 2.5 0 0 0 2.5 20h20a2.5 2.5 0 0 0 2.5-2.5v-15A2.5 2.5 0 0 0 22.5 0z"/></svg>\n'},69527:function(e,t,n){"use strict";n.r(t),t.default='<svg width="160" height="173" viewBox="0 0 160 173" xmlns="http://www.w3.org/2000/svg"><title>hand</title><path d="M56.31 169.5S8.685 109 5.968 106.25c-2.717-2.75-5.84-12.663 0-20.05C11.807 78.816 21.295 82.95 24 85c2.705 2.05 13.06 10.5 13.06 10.5s7.646 6.35 14.5 2.093c6.857-4.256 6.42-11.392 6.42-11.392s1.93-16.115-1.67-35.2C52.714 31.915 49 25.25 46.75 20c-2.25-5.25-1.124-11.59 5.938-16.045C59.75-.5 67 6.5 68.5 9.25s6.396 9.49 12.12 27.253c5.722 17.763 7.69 41.372 7.69 41.372l-2-23.25c5.576 0 13.464-2.994 24.017 9.168 4.736 5.457 6.86 24.332 6.86 24.332s-1.874-15.188-5.25-21.75c4.5-1.25 12.583-4.006 21.376 4.875 6.31 6.375 5.375 23.25 5.375 23.25s1.25-13.063-4.25-21.938c13.68-1.527 19.937 11.313 21.937 19.563 2 8.25-.875 26.75-.875 26.75l-14.19 51.875" stroke="#A3AFB8" fill-rule="nonzero" stroke-width="4" fill="#FFF" stroke-linecap="round" stroke-linejoin="round"/></svg>'},70099:function(e,t,n){"use strict";n.r(t),t.default='<svg width="76.5" height="76.5" viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg">\n  <path fill="#0076ff" d="M22.5 45C10.0736 45 0 34.9264 0 22.5S10.0736 0 22.5 0 45 10.0736 45 22.5 34.9264 45 22.5 45zm-.038-14.2213c6.3812 0 11.5542-4.177 11.5542-9.3295 0-5.1526-5.173-9.3295-11.5543-9.3295-6.3812 0-11.5542 4.177-11.5542 9.3295 0 3.1476 1.9304 5.931 4.8874 7.6207l.0752.0424a.1523.1523 0 0 1 .0745.1016c.2544 1.2152-1.4097 2.3051-2.5218 3.0324 3.6862.232 5.546-1.2438 6.0782-1.7276.9024.1827 1.9882.26 2.9607.26z"/>\n  <path fill="#ffffff" stroke="#ffffff" stroke-width="2" d="M22.462 30.7787c6.3812 0 11.5542-4.177 11.5542-9.3295 0-5.1526-5.173-9.3295-11.5543-9.3295-6.3812 0-11.5542 4.177-11.5542 9.3295 0 3.1476 1.9304 5.931 4.8874 7.6207l.0752.0424a.1524.1524 0 0 1 .0745.1016c.2544 1.2152-1.4097 2.3051-2.5218 3.0324 3.6862.232 5.546-1.2438 6.0782-1.7276.9024.1827 1.9882.26 2.9607.26z"/>\n</svg>'},86227:function(e,t,n){"use strict";n.r(t),t.default='<svg width="26px" height="26px" viewBox="0 0 26 26" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Popup" transform="translate(-257.000000, -293.000000)" fill="#0084FF">\n            <g id="popup-big" transform="translate(231.000000, 195.000000)">\n                <path d="M39,98 C31.8202857,98 26,103.389142 26,110.037037 C26,113.825093 27.8904099,117.203969 30.8447205,119.410438 L30.8447205,124 L35.2710994,121.570685 C36.4524037,121.897611 37.7038758,122.074074 39,122.074074 C46.1797143,122.074074 52,116.684932 52,110.037037 C52,103.389142 46.1797143,98 39,98 Z M40.2919255,114.209877 L36.9813665,110.679012 L30.5217391,114.209877 L37.6273292,106.666667 L41.0186335,110.197531 L47.3975155,106.666667 L40.2919255,114.209877 Z" id="iconMessenger"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},34886:function(e,t,n){"use strict";n.r(t),t.default='<svg width="19" height="19" viewBox="0 0 19 19" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M17.1 0H1.9C.85 0 0 .85 0 1.9V19l3.8-3.8h13.3c1.05 0 1.9-.85 1.9-1.9V1.9C19 .85 18.15 0 17.1 0M3.8 6.65h11.4v1.9H3.8m7.6 2.85H3.8V9.5h7.6m3.8-3.8H3.8V3.8h11.4" fill="#05B24B"/></g></svg>\n'},38353:function(e,t,n){"use strict";n.r(t),t.default='<svg width="30" height="31" viewBox="0 0 30 31" xmlns="http://www.w3.org/2000/svg"><path fill="_COLOR1_" d="M2.967 22.226l-.025.008s7.698 13.9 26.975 5.546c0 0-1.495-1.752-4.384-3.52a14.067 14.067 0 0 0 2.588-14.047c-2.655-7.297-10.7-11.07-17.964-8.425C2.89 4.433-.847 12.492 1.81 19.79c.313.863.703 1.677 1.157 2.436z" fill-rule="evenodd"/></svg>\n'},81483:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h20v20H0z"/>\n        <path stroke="_COLOR1_" stroke-width="1.5" d="M3 3h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"/>\n        <path stroke="_COLOR1_" stroke-width="1.5" d="M16.074 7.064l-6.01 4.01-6.01-4.01"/>\n    </g>\n</svg>\n'},29428:function(e,t,n){"use strict";n.r(t),t.default='<svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 16"><style>.st0{fill:none;stroke:#49bb6f;stroke-width:2}</style><path id="icon_thanks" class="st0" d="M2.5 6.5l6 6 11-11"/></svg>'},50109:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 15"><path fill="none" stroke="#fff" stroke-linecap="round" stroke-width="2" d="M1 6.3l7 7 12-12"/></svg>'},22764:function(e,t,n){"use strict";n.r(t),t.default='<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    \x3c!-- Generator: sketchtool 41 (35326) - http://www.bohemiancoding.com/sketch --\x3e\n    <title>ABB53DC4-C95A-47C0-BDA2-177372AC59FA</title>\n    <desc>Created with sketchtool.</desc>\n    <defs></defs>\n    <g id="3" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="ios-Full" transform="translate(-64.000000, -499.000000)" fill="#0076FF">\n            <g id="popup" transform="translate(0.000000, 190.000000)">\n                <path d="M65.0702042,309.547272 C63.6395848,310.838212 63.3600869,312.442576 66.0124393,316.105342 C68.6644642,319.767967 72.3286805,322.837952 74.9458442,324.128565 C77.5634291,325.418898 78.6800637,324.72144 79.4127573,323.709857 C80.1457784,322.697899 80.1457784,321.895624 79.0291437,321.058674 C77.9121815,320.22121 76.3420236,318.616705 74.9110766,319.802641 C73.4804572,320.988905 72.5381753,319.73334 72.1194665,319.279396 C71.8161507,318.951279 69.6064185,316.733031 69.1531761,316.279648 C68.6992786,315.825984 68.3153375,314.710145 69.1180342,313.837773 C69.9210116,312.965822 68.8470059,311.39805 68.5596934,311.04752 C68.2457086,310.663579 66.9719412,307.831492 65.0702042,309.547272" id="Page-1"></path>\n            </g>\n        </g>\n    </g>\n</svg>'},18317:function(e,t,n){"use strict";n.r(t),t.default='<svg width="17" height="17" viewBox="0 0 17 17" xmlns="http://www.w3.org/2000/svg"><path d="M.937 0C.42 0 0 .42 0 .937 0 9.73 7.13 16.86 15.922 16.86c.25 0 .487-.1.663-.275.175-.176.274-.414.274-.663v-3.278c0-.517-.42-.936-.938-.936-1.17 0-2.294-.188-3.343-.534-.33-.103-.694-.028-.957.225l-2.06 2.06C6.913 12.11 4.74 9.946 3.39 7.286l2.06-2.07c.263-.244.338-.61.235-.937C5.34 3.23 5.15 2.107 5.15.937 5.15.42 4.733 0 4.216 0H.937zM11.24 0v1.405h3.278l-5.152 5.15.937.938 5.15-5.15V5.62h1.406V0h-5.62z" fill="#4185F2"/></svg>\n'},18079:function(e,t,n){"use strict";n.r(t),t.default='<svg width="34" height="34" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><circle fill="_COLOR1_" cx="17" cy="17" r="17"/><g transform="translate(10 9)" fill="#FFF"><rect x="6" y="2" width="2" height="14" rx="1"/><rect transform="rotate(-45 9.879 4.879)" x="8.879" y="-.121" width="2" height="10" rx="1"/><rect transform="scale(-1 1) rotate(-45 0 15.243)" x="3.293" y="-.121" width="2" height="10" rx="1"/></g></g></svg>\n'},63899:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="#02A95F" fill-rule="nonzero" d="M18.904 15.214a2.113 2.113 0 0 0-1.527-.624c-.598 0-1.185.228-1.624.66a3.566 3.566 0 0 0-.917 1.428c-.72-.072-3.08-1.569-4.533-3.033C8.898 12.216 7.407 9.843 7.32 9.11a3.547 3.547 0 0 0 1.49-.852c.44-.42.697-.96.721-1.549a2.058 2.058 0 0 0-.586-1.548L7.382 3.576A1.927 1.927 0 0 0 5.99 3a2.14 2.14 0 0 0-1.478.6l-.244.24c-.33.3-.586.66-.758 1.057-.024.06-.708 1.56-.452 2.689.05.168 1.42 4.5 5.181 8.063 3.762 3.564 7.844 5.219 8.028 5.279.195.048.415.072.647.072.99 0 2.04-.42 2.077-.432a3.711 3.711 0 0 0 1.112-.708l.244-.24c.818-.78.88-2.053.122-2.822l-1.564-1.584z"/>\n  </g>\n</svg>'},99652:function(e,t,n){"use strict";n.r(t),t.default='<svg width="23" height="23" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M1 14.7V21l4.176-3H21c.56 0 .999-.448.999-1V2c0-.545-.447-1-.999-1H2A.994.994 0 0 0 1 2v12.7z" stroke="#00BE64" stroke-width="2"/><path fill="#00BE64" d="M5 6h14v2H5zM5 11h11v2H5z"/></g></svg>\n'},18690:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 56 37">\n  <defs/>\n  <g filter="url(#filter0_d)">\n    <path fill="#fff" d="M1 0h54v26.5L28.5 35 1 26.5V0z"/>\n  </g>\n  <path fill="#2A2E49" d="M6 5.002V13h1.2012v-2.9121H9c1.5879 0 2.6016-1.0313 2.6016-2.5371 0-1.4942-1.0078-2.5488-2.5957-2.5488H6zm1.2012 1.0253h1.6523c.955 0 1.5117.5508 1.5117 1.5235 0 1.2363-.7558 1.5234-2.039 1.5234h-1.125V6.0273zM15.334 13.1055c1.4648 0 2.2734-.8379 2.4785-1.8457h-1.1426c-.1758.5507-.6328.8906-1.3125.8906-.9316 0-1.5058-.7383-1.5058-1.834v-.1289h4.0371v-.586c0-1.7226-.9668-2.8827-2.6016-2.8827-1.6289 0-2.6133 1.1308-2.6133 2.8242v.6504c0 1.7988 1.0254 2.9121 2.6602 2.9121zm-1.4824-3.7852v-.0176c0-.914.5625-1.6406 1.4414-1.6406.8613 0 1.4297.7207 1.4297 1.6406v.0176h-2.8711zM20.3555 4.3457c-.0059.7969.5332 1.664 1.7402 1.664 1.207 0 1.7344-.8671 1.7402-1.664h-.7851c0 .5274-.2871.9785-.9551.9785-.668 0-.9551-.4512-.9551-.9785h-.7851zM23.5137 13h1.1425V6.8242h-1.0898l-2.9121 4.3946h-.0352V6.8242h-1.1425V13h1.0839l2.9122-4.3945h.041V13zM30.9668 7.7559v-.9317h-5.1152v.9317h1.9687V13h1.1836V7.7559h1.9629zM36.2051 13h1.1426V6.8242h-1.0899l-2.9121 4.3946h-.0352V6.8242H32.168V13h1.084l2.9121-4.3945h.041V13zM43.0781 13h1.1778V6.8242h-1.1778v2.5195h-2.7246V6.8243h-1.1777V13h1.1777v-2.7246h2.7246V13zM50.0273 7.7559v-.9317h-3.9375V13h1.1778V7.7559h2.7597z"/>\n  <path fill="#18C139" d="M10.5801 24.1621v-6.9492h2.3847v-1.0488H7v1.0488h2.3848v6.9492H10.58zM16.4512 17.8809c-1.7637 0-2.7188 1.2539-2.7188 2.9238v.5156c0 1.7168.9551 2.9473 2.7188 2.9473 1.7578 0 2.7011-1.2305 2.7011-2.9473v-.5215c0-1.6699-.9492-2.9179-2.7011-2.9179zm-.0059.9726c1.002 0 1.5176.791 1.5176 1.9746v.4746c0 1.1719-.5098 1.9805-1.5176 1.9805-1.0019 0-1.5234-.8144-1.5234-1.9805v-.4746c0-1.1777.5215-1.9746 1.5234-1.9746zM24.5781 24.1621h1.1778v-6.1758h-5.0215v6.1758h1.1777V18.918h2.666v5.2441zM30.8242 21.4082v-1.0547h-3.6914v1.0547h3.6914zM34.5273 24.1621v-7.998h-1.1367c-.5097.2695-1.4648.8613-1.957 1.2129v1.1777c.457-.3164 1.5234-.9844 1.8691-1.1719h.0293v6.7793h1.1953zM37.3516 19.873c0-1.8281.6445-2.8476 1.6875-2.8476 1.0371 0 1.6816 1.0195 1.6816 2.8476v.586c0 1.8281-.6445 2.8418-1.6816 2.8418-1.043 0-1.6875-1.0137-1.6875-2.8418v-.586zm-1.2012.5977c0 2.3379 1.0195 3.8555 2.8828 3.8555 1.8926 0 2.8887-1.5586 2.8887-3.8555v-.6035c0-2.3496-1.0078-3.8672-2.877-3.8672-1.8633 0-2.8945 1.5234-2.8945 3.8672v.6035zM44.1953 19.873c0-1.8281.6445-2.8476 1.6875-2.8476 1.0371 0 1.6817 1.0195 1.6817 2.8476v.586c0 1.8281-.6446 2.8418-1.6817 2.8418-1.043 0-1.6875-1.0137-1.6875-2.8418v-.586zm-1.2012.5977c0 2.3379 1.0196 3.8555 2.8829 3.8555 1.8925 0 2.8886-1.5586 2.8886-3.8555v-.6035c0-2.3496-1.0078-3.8672-2.8769-3.8672-1.8633 0-2.8946 1.5234-2.8946 3.8672v.6035z"/>\n  <defs>\n    <filter id="filter0_d" width="56" height="37" x="0" y="0" color-interpolation-filters="sRGB" filterUnits="userSpaceOnUse">\n      <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n      <feColorMatrix in="SourceAlpha" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n      <feOffset dy="1"/>\n      <feGaussianBlur stdDeviation=".5"/>\n      <feColorMatrix values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.1 0"/>\n      <feBlend in2="BackgroundImageFix" result="effect1_dropShadow"/>\n      <feBlend in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n    </filter>\n  </defs>\n</svg>\n'},34460:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 65 65">\n  <defs/>\n  <circle cx="32.5" cy="32.5" r="32.5" fill="linear-gradient(95deg, #5e5f61 20%, #5e5f61 80%)"/>\n  <circle cx="32.5" cy="32.5" r="26.5" fill="#fff"/>\n  <path fill="#2A2E49" d="M11 22.6562v7.9981h1.2012v-2.9121H14c1.5879 0 2.6016-1.0313 2.6016-2.5371 0-1.4942-1.0078-2.5489-2.5957-2.5489H11zm1.2012 1.0254h1.6523c.9551 0 1.5117.5508 1.5117 1.5235 0 1.2363-.7558 1.5234-2.039 1.5234h-1.125v-3.0469zM20.334 30.7598c1.4648 0 2.2734-.8379 2.4785-1.8457h-1.1426c-.1758.5507-.6328.8906-1.3125.8906-.9316 0-1.5058-.7383-1.5058-1.834v-.1289h4.0371v-.5859c0-1.7227-.9668-2.8829-2.6016-2.8829-1.6289 0-2.6133 1.1309-2.6133 2.8243v.6504c0 1.7988 1.0254 2.9121 2.6602 2.9121zm-1.4824-3.7852v-.0176c0-.914.5625-1.6406 1.4414-1.6406.8613 0 1.4297.7207 1.4297 1.6406v.0176h-2.8711zM25.3555 22c-.0059.7969.5332 1.6641 1.7402 1.6641 1.207 0 1.7344-.8672 1.7402-1.6641h-.7851c0 .5273-.2871.9785-.9551.9785-.668 0-.9551-.4512-.9551-.9785h-.7851zm3.1582 8.6543h1.1425v-6.1758h-1.0898l-2.9121 4.3945h-.0352v-4.3945h-1.1425v6.1758h1.0839l2.9122-4.3945h.041v4.3945zM35.9668 25.4102v-.9317h-5.1152v.9317h1.9687v5.2441h1.1836v-5.2441h1.9629zM41.2051 30.6543h1.1426v-6.1758h-1.0899l-2.9121 4.3945h-.0352v-4.3945H37.168v6.1758h1.084l2.9121-4.3945h.041v4.3945zM48.0781 30.6543h1.1778v-6.1758h-1.1778v2.5195h-2.7246v-2.5195h-1.1777v6.1758h1.1777v-2.7246h2.7246v2.7246zM55.0273 25.4102v-.9317h-3.9375v6.1758h1.1778v-5.2441h2.7597z"/>\n  <path fill="#18C139" d="M15.5801 41.8164v-6.9492h2.3847v-1.0488H12v1.0488h2.3848v6.9492h1.1953zM21.4512 35.5352c-1.7637 0-2.7188 1.2539-2.7188 2.9238v.5156c0 1.7168.9551 2.9473 2.7188 2.9473 1.7578 0 2.7011-1.2305 2.7011-2.9473v-.5215c0-1.6699-.9492-2.9179-2.7011-2.9179zm-.0059.9726c1.002 0 1.5176.791 1.5176 1.9746v.4746c0 1.1719-.5098 1.9805-1.5176 1.9805-1.0019 0-1.5234-.8145-1.5234-1.9805v-.4746c0-1.1777.5215-1.9746 1.5234-1.9746zM29.5781 41.8164h1.1778v-6.1758h-5.0215v6.1758h1.1777v-5.2441h2.666v5.2441zM35.8242 39.0625v-1.0547h-3.6914v1.0547h3.6914zM39.5273 41.8164v-7.998h-1.1367c-.5097.2695-1.4648.8613-1.957 1.2128v1.1778c.457-.3164 1.5234-.9844 1.8691-1.1719h.0293v6.7793h1.1953zM42.3516 37.5273c0-1.8281.6445-2.8476 1.6875-2.8476 1.0371 0 1.6816 1.0195 1.6816 2.8476v.586c0 1.8281-.6445 2.8418-1.6816 2.8418-1.043 0-1.6875-1.0137-1.6875-2.8418v-.586zm-1.2012.5977c0 2.3379 1.0195 3.8555 2.8828 3.8555 1.8926 0 2.8887-1.5586 2.8887-3.8555v-.6035c0-2.3496-1.0078-3.8672-2.877-3.8672-1.8633 0-2.8945 1.5234-2.8945 3.8672v.6035zM49.1953 37.5273c0-1.8281.6445-2.8476 1.6875-2.8476 1.0371 0 1.6817 1.0195 1.6817 2.8476v.586c0 1.8281-.6446 2.8418-1.6817 2.8418-1.043 0-1.6875-1.0137-1.6875-2.8418v-.586zm-1.2012.5977c0 2.3379 1.0196 3.8555 2.8829 3.8555 1.8925 0 2.8886-1.5586 2.8886-3.8555v-.6035c0-2.3496-1.0078-3.8672-2.8769-3.8672-1.8633 0-2.8946 1.5234-2.8946 3.8672v.6035z"/>\n</svg>'},2427:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs><path id="a" d="M0 0h24v24H0z"/></defs><g transform="rotate(-180 12 12)" fill="none" fill-rule="evenodd"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g mask="url(#b)" stroke="#FFF" stroke-linecap="round" stroke-width="2"><path d="M14.458 17.911l-6.364-6.364 6.364-6.364"/></g></g></svg>'},38867:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="m9.818 15.227-2.863-2.863-.955.954 3.818 3.818L18 8.955 17.046 8l-7.228 7.227Z" fill="#18C139"/></svg>'},86693:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 6c-3.312 0-6 2.688-6 6s2.688 6 6 6 6-2.688 6-6-2.688-6-6-6Zm.6 9h-1.2v-1.2h1.2V15Zm0-2.4h-1.2V9h1.2v3.6Z" fill="#e54c44"/></svg>'},34948:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="10" height="10" viewBox="0 0 10 10"><path fill="_COLOR1_" d="M.813.006l9.18 9.18-.806.807L.007.813z"/><path fill="_COLOR1_" d="M9.994.813l-9.18 9.18-.808-.806 9.18-9.18z"/></svg>\n'},12298:function(e,t,n){"use strict";n.r(t),t.default='<svg width="10" height="35" viewBox="0 0 9 35" xmlns="http://www.w3.org/2000/svg"><path fill="_COLOR1_" d="M1.31 34.966H.975c-.295 0-.53-.09-.71-.27C.09 34.516 0 34.3 0 34.05v-2.33c0-.25.097-.465.288-.645.193-.18.42-.27.687-.27H1.3c1.776 0 3.223-1.37 3.238-3.06v-8.94H.975c-.236 0-.458-.09-.665-.27-.206-.18-.31-.395-.31-.645v-2.33c0-.223.104-.43.31-.625.207-.194.43-.292.665-.292h7.019c.266 0 .494.09.687.27.192.182.29.396.29.646V27.77c0 .032-.008.058-.01.09-.08 3.937-3.477 7.098-7.65 7.104zM.318 0C-.25 11.117 8.62 12.702 8.62 12.702 8.17.522.318 0 .318 0z"/></svg>\n'},82632:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n    <g>\n        <path id="text" d="M6.342 11.967H.957c-.2 0-.4 0-.6.2 0 .2-.198.2-.198.4v1.993c0 .2 0 .4.198.6.2.198.4.198.6.198h2.79v14.36c0 1.397-1.196 2.594-2.392 2.594h-.4c-.2 0-.398 0-.598.2-.2.2-.2.398-.2.598v1.994c0 .2 0 .4.2.6.2.198.4.198.6.198h.198c3.192 0 5.785-2.792 5.785-5.984V12.566c0-.2 0-.4-.2-.6h-.398m6.98 0H11.33c-.2 0-.2 0-.4.2s-.2.2-.2.4v14.76c0 .2 0 .398.2.598.2.2.4.2.598.2h1.795c.2 0 .4 0 .598-.2.2-.2.2-.4.2-.598v-14.76c0-.2 0-.4-.198-.6h-.6m17.154 0H28.88c-.598 0-.997.2-.997.4l-4.388 9.973-4.188-9.974c0-.4-.4-.4-.6-.4h-1.993c-.4 0-.598 0-.598.2-.2.2-.2.4 0 .6l6.78 15.357c.2.2.4.4.6.4h.2c.198 0 .597-.2.597-.4l6.782-15.358c.2-.2.2-.4 0-.598-.2-.2-.4-.2-.6-.2m9.176-.4c-2.193.002-3.988.8-5.584 2.594-1.595 1.597-2.393 3.592-2.393 5.985 0 2.393.798 4.388 2.393 5.984 1.596 1.794 3.39 2.592 5.585 2.592s3.99-.798 5.586-2.593c1.596-1.796 2.394-3.79 2.394-5.985 0-2.393-.798-4.388-2.394-5.984-1.596-1.794-3.59-2.591-5.585-2.591m3.193 12.165c-.798.998-1.995 1.596-3.192 1.596-1.395 0-2.392-.398-3.39-1.395-.797-.998-1.396-2.194-1.396-3.79 0-1.396.4-2.792 1.397-3.59.798-.997 1.995-1.396 3.39-1.396 1.398 0 2.395.398 3.193 1.395.797.997 1.396 2.194 1.396 3.59s-.6 2.593-1.397 3.59m19.147-.598c-.398-.4-.797-.2-.997 0l-.4.4-.597.597c-.2.2-.4.2-.6.4-.198.2-.597.398-.796.398-.4 0-.6.2-.998.2-1.396 0-2.393-.6-3.19-1.596-.8-.998-1.397-2.194-1.397-3.79 0-1.396.4-2.792 1.396-3.79.998-.997 1.996-1.396 3.392-1.396 1.197 0 2.194.6 3.19 1.596.4.4.8.4.998.2l1.197-1.197s0-.4-.4-.8c-1.395-1.794-3.39-2.79-5.584-2.79-2.194-.002-3.99.796-5.584 2.59-1.597 1.597-2.395 3.592-2.395 5.985 0 2.393.798 4.388 2.394 6.183 1.594 1.596 3.39 2.394 5.583 2.394 2.593 0 4.588-1.197 5.984-3.39.2-.4.2-.8-.2-1.198l-.997-.997m11.57-11.569c-1.597 0-2.993.6-4.59 1.796V4.986c0-.2 0-.4-.198-.598-.2-.2-.4-.2-.6-.2H66.38c-.2 0-.398 0-.598.2-.2.2-.2.4-.2.598v22.54c0 .198 0 .398.2.597.2.2.4.2.598.2h1.796c.598 0 .797-.2.797-.798V17.353c.2-.6.8-.998 1.398-1.596.797-.598 1.795-.798 2.792-.798.997 0 1.795.398 2.393 1.196.6.798.798 1.795.798 3.19v8.378c0 .2 0 .4.2.6.2.198.4.198.6.198h1.794c.2 0 .4 0 .6-.2.198-.2.198-.398.198-.598v-8.177c-.2-5.386-2.194-7.979-6.183-7.979m20.144 1.995c-.4-.798-.997-1.197-1.596-1.596-.798-.4-1.795-.598-2.992-.598-1.994 0-3.79.398-5.385.996-.398.2-.597.4-.597.998l.4 1.396c.198.598.398.798.796.598a12.823 12.823 0 0 1 4.388-.798c.997 0 1.595.2 1.994.798.4.598.598 1.596.4 2.793l-.4-.2c-.2 0-.598-.198-1.197-.198-.4.2-.797.2-1.396.2-1.995 0-3.392.398-4.588 1.395-1.197.997-1.596 2.194-1.596 3.79s.4 2.992 1.396 3.99c.998.996 2.194 1.395 3.59 1.395 1.796 0 3.39-.598 4.787-1.994l.398 1.196c.2.4.4.6.6.6h1.195c.2 0 .4 0 .6-.2.198-.2.198-.4.198-.6V18.75c0-1.198 0-2.195-.198-2.993-.2-.598-.4-1.396-.798-2.194M91.31 23.735c-.2.4-.797.998-1.396 1.396-.798.4-1.396.6-2.194.6s-1.396-.2-1.795-.798c-.4-.4-.598-1.197-.598-1.795 0-.798.2-1.396.798-1.995.598-.4 1.396-.797 2.393-.797.598 0 1.197 0 1.795.2.6.198.997.198.997.398v2.792m16.555 2.793l-.598-1.596c-.2-.4-.4-.598-.997-.4a3.834 3.834 0 0 1-2.394.8c-.4 0-.798-.2-.997-.4-.2-.2-.4-.598-.4-1.396V14.96h4.19c.198 0 .397 0 .597-.2.2-.2.2-.4.2-.6v-1.594c0-.2 0-.4-.2-.6h-4.788V7.38c0-.2 0-.4-.2-.598-.2-.2-.398-.2-.598-.2h-1.994c-.2 0-.4 0-.6.2-.198.2-.198.398-.198.598v4.587h-1.795c-.4 0-.798.2-.798.798v1.396c0 .2 0 .4.2.6.2.2.398.2.598.2h1.795v8.975c0 1.595.2 2.792.798 3.59.598.798 1.595 1.197 2.99 1.197.8 0 1.597-.2 2.395-.4s1.396-.598 1.795-.797c.997-.2 1.197-.598.997-.997z" fill-rule="evenodd" fill="#3e414f"/>\n        <path id="leaf" d="M6.94 10.77C6.543.4.16 0 .16 0c-.4 9.374 6.78 10.77 6.78 10.77z" fill-rule="evenodd" fill="#44bb6e"/>\n    </g>\n</svg>'},93091:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n    <g>\n        <path fill="_COLOR1_" fill-rule="evenodd" d="M6.342 11.967H.957c-.2 0-.4 0-.6.2 0 .2-.198.2-.198.4v1.993c0 .2 0 .4.198.6.2.198.4.198.6.198h2.79v14.36c0 1.397-1.196 2.594-2.392 2.594h-.4c-.2 0-.398 0-.598.2-.2.2-.2.398-.2.598v1.994c0 .2 0 .4.2.6.2.198.4.198.6.198h.198c3.192 0 5.785-2.792 5.785-5.984V12.566c0-.2 0-.4-.2-.6h-.398m6.98 0H11.33c-.2 0-.2 0-.4.2s-.2.2-.2.4v14.76c0 .2 0 .398.2.598.2.2.4.2.598.2h1.795c.2 0 .4 0 .598-.2.2-.2.2-.4.2-.598v-14.76c0-.2 0-.4-.198-.6h-.6m17.154 0H28.88c-.598 0-.997.2-.997.4l-4.388 9.973-4.188-9.974c0-.4-.4-.4-.6-.4h-1.993c-.4 0-.598 0-.598.2-.2.2-.2.4 0 .6l6.78 15.357c.2.2.4.4.6.4h.2c.198 0 .597-.2.597-.4l6.782-15.358c.2-.2.2-.4 0-.598-.2-.2-.4-.2-.6-.2m9.176-.4c-2.193.002-3.988.8-5.584 2.594-1.595 1.597-2.393 3.592-2.393 5.985 0 2.393.798 4.388 2.393 5.984 1.596 1.794 3.39 2.592 5.585 2.592s3.99-.798 5.586-2.593c1.596-1.796 2.394-3.79 2.394-5.985 0-2.393-.798-4.388-2.394-5.984-1.596-1.794-3.59-2.591-5.585-2.591m3.193 12.165c-.798.998-1.995 1.596-3.192 1.596-1.395 0-2.392-.398-3.39-1.395-.797-.998-1.396-2.194-1.396-3.79 0-1.396.4-2.792 1.397-3.59.798-.997 1.995-1.396 3.39-1.396 1.398 0 2.395.398 3.193 1.395.797.997 1.396 2.194 1.396 3.59s-.6 2.593-1.397 3.59m19.147-.598c-.398-.4-.797-.2-.997 0l-.4.4-.597.597c-.2.2-.4.2-.6.4-.198.2-.597.398-.796.398-.4 0-.6.2-.998.2-1.396 0-2.393-.6-3.19-1.596-.8-.998-1.397-2.194-1.397-3.79 0-1.396.4-2.792 1.396-3.79.998-.997 1.996-1.396 3.392-1.396 1.197 0 2.194.6 3.19 1.596.4.4.8.4.998.2l1.197-1.197s0-.4-.4-.8c-1.395-1.794-3.39-2.79-5.584-2.79-2.194-.002-3.99.796-5.584 2.59-1.597 1.597-2.395 3.592-2.395 5.985 0 2.393.798 4.388 2.394 6.183 1.594 1.596 3.39 2.394 5.583 2.394 2.593 0 4.588-1.197 5.984-3.39.2-.4.2-.8-.2-1.198l-.997-.997m11.57-11.569c-1.597 0-2.993.6-4.59 1.796V4.986c0-.2 0-.4-.198-.598-.2-.2-.4-.2-.6-.2H66.38c-.2 0-.398 0-.598.2-.2.2-.2.4-.2.598v22.54c0 .198 0 .398.2.597.2.2.4.2.598.2h1.796c.598 0 .797-.2.797-.798V17.353c.2-.6.8-.998 1.398-1.596.797-.598 1.795-.798 2.792-.798.997 0 1.795.398 2.393 1.196.6.798.798 1.795.798 3.19v8.378c0 .2 0 .4.2.6.2.198.4.198.6.198h1.794c.2 0 .4 0 .6-.2.198-.2.198-.398.198-.598v-8.177c-.2-5.386-2.194-7.979-6.183-7.979m20.144 1.995c-.4-.798-.997-1.197-1.596-1.596-.798-.4-1.795-.598-2.992-.598-1.994 0-3.79.398-5.385.996-.398.2-.597.4-.597.998l.4 1.396c.198.598.398.798.796.598a12.823 12.823 0 0 1 4.388-.798c.997 0 1.595.2 1.994.798.4.598.598 1.596.4 2.793l-.4-.2c-.2 0-.598-.198-1.197-.198-.4.2-.797.2-1.396.2-1.995 0-3.392.398-4.588 1.395-1.197.997-1.596 2.194-1.596 3.79s.4 2.992 1.396 3.99c.998.996 2.194 1.395 3.59 1.395 1.796 0 3.39-.598 4.787-1.994l.398 1.196c.2.4.4.6.6.6h1.195c.2 0 .4 0 .6-.2.198-.2.198-.4.198-.6V18.75c0-1.198 0-2.195-.198-2.993-.2-.598-.4-1.396-.798-2.194M91.31 23.735c-.2.4-.797.998-1.396 1.396-.798.4-1.396.6-2.194.6s-1.396-.2-1.795-.798c-.4-.4-.598-1.197-.598-1.795 0-.798.2-1.396.798-1.995.598-.4 1.396-.797 2.393-.797.598 0 1.197 0 1.795.2.6.198.997.198.997.398v2.792m16.555 2.793l-.598-1.596c-.2-.4-.4-.598-.997-.4a3.834 3.834 0 0 1-2.394.8c-.4 0-.798-.2-.997-.4-.2-.2-.4-.598-.4-1.396V14.96h4.19c.198 0 .397 0 .597-.2.2-.2.2-.4.2-.6v-1.594c0-.2 0-.4-.2-.6h-4.788V7.38c0-.2 0-.4-.2-.598-.2-.2-.398-.2-.598-.2h-1.994c-.2 0-.4 0-.6.2-.198.2-.198.398-.198.598v4.587h-1.795c-.4 0-.798.2-.798.798v1.396c0 .2 0 .4.2.6.2.2.398.2.598.2h1.795v8.975c0 1.595.2 2.792.798 3.59.598.798 1.595 1.197 2.99 1.197.8 0 1.597-.2 2.395-.4s1.396-.598 1.795-.797c.997-.2 1.197-.598.997-.997z"/>\n        <path fill="_COLOR2_" fill-rule="evenodd" d="M6.94 10.77C6.543.4.16 0 .16 0c-.4 9.374 6.78 10.77 6.78 10.77z"/>\n    </g>\n</svg>\n'},22722:function(e,t,n){"use strict";n.r(t),t.default='<svg width="46" height="15" preserveAspectRatio="xMinYMin meet" xmlns="http://www.w3.org/2000/svg"><path d="M.048 0c-.2 3.774 2.893 4.31 2.893 4.31C2.78.178.05 0 .05 0zm2.587 4.784H.35c-.08 0-.15.04-.215.103-.07.07-.103.136-.103.217v.803c0 .088.04.162.103.226.07.065.136.097.216.097h1.16v5.795c0 .542-.405.994-.924 1.06H.35c-.086 0-.16.03-.224.095a.303.303 0 0 0-.097.226v.804c0 .087.03.162.086.226a.303.303 0 0 0 .232.097H.46c1.318 0 2.397-1.04 2.478-2.35a.675.675 0 0 0 .013-.145V5.104a.307.307 0 0 0-.096-.226.29.29 0 0 0-.22-.094zm3.012 0h-.802c-.087 0-.16.04-.226.103-.065.07-.097.136-.097.217v6.01c0 .088.022.162.096.226a.3.3 0 0 0 .225.097h.802a.3.3 0 0 0 .216-.097.289.289 0 0 0 .103-.226v-6.01c0-.08-.04-.152-.103-.217-.07-.07-.136-.103-.216-.103zm7.313.016h-.648c-.242 0-.393.055-.448.184l-1.85 4.068h-.03L8.22 4.984a.294.294 0 0 0-.29-.184h-.875c-.12 0-.21.032-.258.113-.048.07-.04.162.016.258l2.867 6.254c.055.113.15.168.29.168h.087c.12 0 .216-.055.274-.168L13.2 5.17c.054-.095.064-.176.016-.257-.05-.074-.13-.113-.255-.113zm3.874-.152c-.927 0-1.723.336-2.387 1.02-.663.682-.992 1.492-.992 2.43 0 .947.335 1.774.986 2.458.665.69 1.457 1.036 2.388 1.036.93 0 1.723-.345 2.377-1.036.664-.69.992-1.508.992-2.457 0-.94-.328-1.75-.992-2.43-.663-.686-1.45-1.022-2.37-1.022zm1.41 4.965c-.382.41-.85.61-1.4.61-.56 0-1.034-.2-1.41-.6-.378-.4-.57-.914-.57-1.524 0-.595.183-1.092.57-1.486a1.88 1.88 0 0 1 1.41-.594c.56 0 1.024.194 1.4.594.378.394.572.89.572 1.485-.004.6-.197 1.107-.57 1.513zm8.576.123l-.447-.362c-.16-.12-.303-.113-.448.033-.016.016-.087.087-.21.2-.12.12-.21.2-.264.242-.053.038-.144.096-.263.177-.112.08-.24.13-.377.16-.135.024-.29.04-.447.04-.56 0-1.025-.2-1.402-.61a2.141 2.141 0 0 1-.57-1.502c0-.593.2-1.09.584-1.49.384-.4.867-.6 1.427-.6.507 0 .96.215 1.364.657.167.162.303.184.432.07l.512-.473c.167-.153.193-.314.054-.476-.624-.762-1.427-1.15-2.41-1.15-.927 0-1.722.337-2.392 1.01-.664.676-1.002 1.493-1.002 2.464 0 .988.328 1.815 1.002 2.463.657.666 1.456.996 2.393.996 1.105 0 1.97-.46 2.58-1.382.103-.148.07-.31-.113-.468zm4.542-5.088c-.647 0-1.288.233-1.923.69V2c0-.08-.04-.152-.104-.216-.07-.07-.135-.103-.216-.103h-.802a.31.31 0 0 0-.225.102c-.065.07-.097.136-.097.216v9.116c0 .088.032.162.097.217a.3.3 0 0 0 .225.098h.786c.216 0 .33-.104.33-.314v-4.14c.102-.218.302-.427.608-.644.303-.216.68-.32 1.13-.32.432 0 .76.146.986.45.226.296.335.73.335 1.284v3.364c0 .087.032.16.097.226a.303.303 0 0 0 .225.097h.802c.08 0 .152-.032.216-.096a.291.291 0 0 0 .103-.226v-3.33c-.003-2.087-.86-3.13-2.574-3.13zm8.601.859a1.341 1.341 0 0 0-.712-.65c-.327-.134-.743-.21-1.248-.21-.867 0-1.627.13-2.284.38-.184.064-.258.193-.216.383l.13.546c.047.216.176.313.376.274.72-.21 1.336-.313 1.85-.313.414 0 .694.12.855.362.162.24.226.625.21 1.16l-.184-.054a4.651 4.651 0 0 0-.513-.097 4.44 4.44 0 0 0-.64-.05c-.835 0-1.49.194-1.956.595-.473.4-.705.913-.705 1.55 0 .674.2 1.22.593 1.613.4.394.912.594 1.546.594.786 0 1.456-.28 2.033-.836l.16.45c.065.15.162.23.275.23h.48c.08 0 .15-.03.215-.096a.29.29 0 0 0 .104-.226V7.576c0-.48-.022-.868-.07-1.17a3.256 3.256 0 0 0-.297-.9zm-1.056 4.106c-.113.194-.32.378-.625.546-.303.167-.61.257-.912.257-.335 0-.593-.103-.77-.297-.177-.194-.264-.45-.264-.755 0-.336.12-.6.383-.804.257-.2.583-.296.985-.296.264 0 .522.032.754.087.23.056.382.104.447.146v1.117zm7.048 1.127l-.258-.675c-.07-.2-.2-.248-.383-.145-.36.21-.712.313-1.066.313-.168 0-.303-.048-.393-.145-.087-.097-.136-.275-.136-.53V6.02h1.745c.087 0 .16-.038.226-.103a.294.294 0 0 0 .097-.216v-.583a.295.295 0 0 0-.096-.233.331.331 0 0 0-.225-.087H43.72v-1.86a.34.34 0 0 0-.088-.225.268.268 0 0 0-.215-.097h-.82a.303.303 0 0 0-.224.097.3.3 0 0 0-.097.226V4.79h-.76c-.21 0-.312.104-.312.314v.584c0 .087.032.16.096.226a.305.305 0 0 0 .226.097h.76v3.597c0 .642.12 1.14.36 1.475.25.346.68.513 1.305.513.362 0 .707-.054 1.058-.16.35-.104.615-.21.786-.314.177-.1.225-.228.16-.38z" fill="#FFF" fill-rule="evenodd"/></svg>'},88603:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="108" height="36" viewBox="0 0 108 36">\n  <g>\n    <path id="text" d="M14.118 11.775h-1.985c-.198 0-.397 0-.595.2-.2.2-.2.398-.2.598V27.34c0 .2 0 .4.2.6.198.2.397.2.595.2h1.985c.2 0 .397 0 .596-.2.198-.2.198-.4.198-.6V12.574c0-.2 0-.4-.198-.6-.2 0-.397-.198-.596-.198m18.262 0h-1.587c-.596 0-.993.2-1.19.4l-4.567 9.977-4.367-9.978c-.2-.4-.398-.4-.795-.4H17.69c-.396 0-.594 0-.594.2-.2.2-.2.4 0 .6l7.146 15.366c.198.2.397.4.794.4h.198c.397 0 .596-.2.596-.4l7.146-15.367c.2-.2.2-.4 0-.6 0 0-.198-.198-.596-.198m9.727-.4c-2.382 0-4.367.8-5.955 2.595-1.588 1.596-2.58 3.592-2.58 5.987s.793 4.39 2.58 5.987c1.588 1.796 3.573 2.594 5.955 2.594s4.367-.798 5.955-2.594c1.588-1.796 2.382-3.792 2.382-5.987 0-2.395-.794-4.39-2.58-5.987-1.588-1.597-3.573-2.595-5.757-2.595m3.375 12.374c-.993.997-2.184 1.595-3.573 1.595-1.39 0-2.582-.4-3.574-1.397-.993-.998-1.39-2.195-1.39-3.792 0-1.396.397-2.793 1.39-3.592.992-.998 2.183-1.397 3.573-1.397 1.388 0 2.58.4 3.572 1.397.992.998 1.39 2.195 1.39 3.592 0 1.398-.398 2.595-1.39 3.593m16.873-3.394c-.596-.4-1.19-.798-1.59-.998-.594-.2-1.19-.6-2.182-.998-.993-.4-1.588-.798-2.183-1.197-.398-.4-.795-.798-.795-1.197 0-.4.2-.8.596-.998.398-.2.795-.4 1.59-.4 1.19 0 2.182.2 3.572.8.595.198.794.198.992-.4l.596-1.198c.198-.4.198-.798-.397-1.197-1.19-.798-2.78-1.198-4.764-1.198-1.788 0-3.177.4-4.17 1.397-.992.998-1.39 1.996-1.39 3.194 0 1.197.398 2.195 1.192 2.993.794.797 1.787 1.396 3.374 2.194 1.19.6 2.184.998 2.78 1.397.595.4.794.8.794 1.398 0 .4-.2.8-.596 1.198-.397.2-.993.4-1.588.4-1.19 0-2.58-.4-4.17-1.2-.594-.198-.793-.198-.99.2l-.795 1.597c-.198.4 0 .6.2.8 1.587 1.196 3.374 1.595 5.36 1.595 1.785 0 3.175-.4 4.366-1.397.992-.997 1.588-1.994 1.588-3.39 0-.8-.198-1.398-.397-1.997 0-.4-.397-.998-.992-1.397m7.146-8.58h-1.984c-.2 0-.398 0-.596.198-.198.2-.198.4-.198.6V27.34c0 .2 0 .4.198.6.198.2.397.2.596.2H69.5c.2 0 .397 0 .596-.2.2-.2.2-.4.2-.6V12.574c0-.2 0-.4-.2-.6-.2 0-.397-.198-.595-.198m14.293 12.972c-.2-.4-.596-.6-.993-.4-.794.6-1.786.8-2.58.8-.397 0-.794-.2-.993-.4-.198-.2-.397-.6-.397-1.398v-8.782h4.367c.2 0 .397 0 .596-.2.198 0 .198-.2.198-.398v-1.397c0-.2 0-.4-.197-.6-.2-.198-.397-.198-.596-.198H78.83v-4.59c0-.2 0-.4-.198-.6-.2 0-.2-.2-.596-.2H76.05c-.197 0-.396 0-.594.2-.2.2-.2.4-.2.6v4.59h-1.984c-.595 0-.794.2-.794.798v1.397c0 .2 0 .4.2.598.197.2.395.2.594.2h1.985v8.98c0 1.597.397 2.795.993 3.593.595.8 1.786 1.198 3.176 1.198.794 0 1.786-.2 2.58-.4.794-.198 1.588-.598 1.985-.797.398-.2.597-.598.398-.997l-.595-1.596M99.276 13.57c-1.39-1.396-3.176-2.195-5.36-2.195-2.382 0-4.367.8-5.955 2.595-1.587 1.596-2.38 3.592-2.38 5.987s.793 4.39 2.38 6.186c1.59 1.597 3.574 2.395 5.957 2.395 2.58 0 4.565-.598 6.153-1.995.397-.4.397-.8 0-1.198l-.992-1.397c-.2-.4-.596-.4-.993 0-1.39.998-2.58 1.397-3.97 1.397-1.39 0-2.58-.4-3.573-1.397-.993-.998-1.39-1.996-1.39-3.193h11.315c.397 0 .794-.2.794-.798V18.76c.2-1.996-.595-3.792-1.984-5.19m-9.925 4.59c.2-.997.596-1.995 1.39-2.594.794-.798 1.787-.998 2.978-.998 1.19 0 2.183.4 2.78.998.793.8 1.19 1.597 1.19 2.595H89.35M6.576 11.776H1.017c-.198 0-.397 0-.595.2-.2.2-.2.398-.2.598v1.995c0 .2 0 .4.2.6.198.2.397.2.595.2h2.78v14.368c0 1.397-1.192 2.594-2.58 2.594h-.2c-.198 0-.397 0-.595.2-.2.2-.2.4-.2.598v1.996c0 .2 0 .4.2.6.198.198.397.198.595.198h.2c3.373 0 6.152-2.794 6.152-5.987V12.772c0-.2 0-.4-.2-.598-.198-.2-.198-.4-.595-.4z" fill-rule="evenodd" fill="#3e414f"/>\n    <path id="leaf" d="M7.37 10.577C6.97.4.222 0 .222 0-.174 9.18 7.37 10.577 7.37 10.577z" fill-rule="evenodd" fill="#44bb6e"/>\n  </g>\n</svg>'},30349:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="25.688" height="18">\n    <path fill="_COLOR1_" d="M7.155 5.93H6.134a.4.4 0 00-.287.128.378.378 0 00-.123.268v7.448a.377.377 0 00.123.28.389.389 0 00.287.12h1.021a.382.382 0 00.274-.12.353.353 0 00.131-.28V6.33a.375.375 0 00-.131-.268.353.353 0 00-.274-.132zm9.313.02h-.824a.557.557 0 00-.57.228l-2.353 5.04h-.041l-2.242-5.04a.379.379 0 00-.369-.228H8.958a.356.356 0 00-.328.14.289.289 0 00.021.32l3.648 7.748a.376.376 0 00.369.208h.111a.373.373 0 00.348-.208l3.648-7.748a.288.288 0 00.021-.32.368.368 0 00-.328-.14zm4.935-.188a4.312 4.312 0 00-4.3 4.276 4.212 4.212 0 001.254 3.044 4.11 4.11 0 003.038 1.284 4.069 4.069 0 003.025-1.284 4.181 4.181 0 001.262-3.044 4.313 4.313 0 00-4.279-4.276zm1.783 6.156a2.379 2.379 0 01-1.783.756 2.4 2.4 0 01-1.8-.744 2.623 2.623 0 01-.725-1.888 2.529 2.529 0 01.725-1.84 2.427 2.427 0 011.8-.736 2.368 2.368 0 011.783.736 2.525 2.525 0 01.725 1.84 2.669 2.669 0 01-.725 1.876zM3.322 5.93H.416a.392.392 0 00-.275.128.373.373 0 00-.131.272v1a.386.386 0 00.131.28.4.4 0 00.275.12h1.475v7.17a1.331 1.331 0 01-1.18 1.312H.416a.4.4 0 00-.287.12.371.371 0 00-.123.28v1a.415.415 0 00.111.28.394.394 0 00.295.12h.143a3.13 3.13 0 003.152-2.9.848.848 0 00.017-.188V6.33a.377.377 0 00-.123-.28.365.365 0 00-.279-.12z" fill-rule="evenodd"/>\n    <path fill="_COLOR2_" d="M.03-.006c-.254 4.676 3.681 5.34 3.681 5.34C3.515.214.03-.006.03-.006z" fill-rule="evenodd"/>\n</svg>'},15504:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="25.688" height="18"><path d="M7.155 5.93H6.134a.4.4 0 00-.287.128.378.378 0 00-.123.268v7.448a.377.377 0 00.123.28.389.389 0 00.287.12h1.021a.382.382 0 00.274-.12.353.353 0 00.131-.28V6.33a.375.375 0 00-.131-.268.353.353 0 00-.274-.132zm9.313.02h-.824a.557.557 0 00-.57.228l-2.353 5.04h-.041l-2.242-5.04a.379.379 0 00-.369-.228H8.958a.356.356 0 00-.328.14.289.289 0 00.021.32l3.648 7.748a.376.376 0 00.369.208h.111a.373.373 0 00.348-.208l3.648-7.748a.288.288 0 00.021-.32.368.368 0 00-.328-.14zm4.935-.188a4.312 4.312 0 00-4.3 4.276 4.212 4.212 0 001.254 3.044 4.11 4.11 0 003.038 1.284 4.069 4.069 0 003.025-1.284 4.181 4.181 0 001.262-3.044 4.313 4.313 0 00-4.279-4.276zm1.783 6.156a2.379 2.379 0 01-1.783.756 2.4 2.4 0 01-1.8-.744 2.623 2.623 0 01-.725-1.888 2.529 2.529 0 01.725-1.84 2.427 2.427 0 011.8-.736 2.368 2.368 0 011.783.736 2.525 2.525 0 01.725 1.84 2.669 2.669 0 01-.725 1.876zM3.322 5.93H.416a.392.392 0 00-.275.128.373.373 0 00-.131.272v1a.386.386 0 00.131.28.4.4 0 00.275.12h1.475v7.17a1.331 1.331 0 01-1.18 1.312H.416a.4.4 0 00-.287.12.371.371 0 00-.123.28v1a.415.415 0 00.111.28.394.394 0 00.295.12h.143a3.13 3.13 0 003.152-2.9.848.848 0 00.017-.188V6.33a.377.377 0 00-.123-.28.365.365 0 00-.279-.12z" fill-rule="evenodd" fill="#fff"/><path data-name="–§–∏–≥—É—Ä–∞ 13 –∫–æ–ø–∏—è 3" d="M.03-.006c-.254 4.676 3.681 5.34 3.681 5.34C3.515.214.03-.006.03-.006z" fill="#00c151" fill-rule="evenodd"/></svg>'},43832:function(e,t,n){"use strict";n.r(t),t.default='<svg width="12" height="9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.25 6.433 1.818 4.001l-.829.822L4.25 8.084l7-7-.822-.822L4.25 6.433Z" fill="_COLOR1_"/></svg>'},26552:function(e,t,n){"use strict";n.r(t),t.default='<svg width="14" height="9" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 1.084 9.678.262 5.979 3.96l.823.823L10.5 1.084Zm2.473-.822L6.802 6.433 4.363 4.001l-.822.822L6.8 8.084l7-7-.828-.822ZM.24 4.823 3.5 8.084l.823-.822L1.068 4l-.829.822Z" fill="_COLOR1_"/></svg>'},71481:function(e,t,n){"use strict";n.r(t),t.default='<svg width="12" height="12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M5.994.166A5.83 5.83 0 0 0 .167 5.999a5.83 5.83 0 0 0 5.827 5.834 5.837 5.837 0 0 0 5.84-5.834A5.837 5.837 0 0 0 5.993.166ZM6 10.666a4.665 4.665 0 0 1-4.667-4.667A4.665 4.665 0 0 1 6 1.333a4.665 4.665 0 0 1 4.667 4.666A4.665 4.665 0 0 1 6 10.666Zm.292-7.583h-.875v3.5L8.479 8.42l.438-.717-2.625-1.558V3.083Z" fill="_COLOR1_"/></svg>'},82671:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M12 17.86c4.97 0 9-3.297 9-7.364s-4.03-7.364-9-7.364-9 3.297-9 7.364c0 2.452 1.465 4.624 3.717 5.962-.677 2.418-1.837 4.41-1.837 4.41s3.568-.864 6.327-3.037c.26.019.526.029.793.029Z" fill="_COLOR1_"/></svg>'},36683:function(e,t,n){"use strict";n.r(t),t.default='<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><defs><linearGradient x1="50%" y1="3.556%" x2="50%" y2="97.988%" id="a"><stop stop-color="#00C6FF" offset="0%"/><stop stop-color="#0371FF" offset="100%"/></linearGradient></defs><path d="M7.5 0C3.375 0 0 3.105 0 6.938c0 2.16 1.065 4.087 2.737 5.362l.046 2.7 2.587-1.41-.022-.008a8.106 8.106 0 0 0 2.152.293c4.125 0 7.5-3.105 7.5-6.938C15 3.106 11.625 0 7.5 0zm.773 9.307L6.405 7.335l-3.78 1.972L6.66 5.085l1.935 1.853 3.637-1.853-3.96 4.222z" transform="translate(1)" fill="url(#a)"/></svg>'},15455:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.004.75c-4.698 0-6.072.005-6.34.027-.964.08-1.564.232-2.217.557-.504.25-.901.54-1.293.947C1.44 3.022 1.007 3.934.85 5.018c-.076.526-.098.633-.102 3.321-.002.896 0 2.075 0 3.657 0 4.694.005 6.066.027 6.333.078.938.225 1.528.537 2.174a4.74 4.74 0 0 0 3.072 2.51c.464.12.976.185 1.634.216.279.012 3.12.021 5.962.021 2.842 0 5.684-.003 5.956-.017.761-.036 1.203-.096 1.692-.222a4.711 4.711 0 0 0 3.073-2.515c.305-.63.46-1.243.53-2.132.016-.194.022-3.285.022-6.371 0-3.088-.007-6.173-.022-6.367-.071-.903-.226-1.51-.542-2.153a4.46 4.46 0 0 0-.963-1.32c-.744-.71-1.654-1.143-2.74-1.3-.525-.076-.63-.098-3.32-.103h-3.662Z" fill="url(#a)"/><path d="M12.004.75c-4.698 0-6.072.005-6.34.027-.964.08-1.564.232-2.217.557-.504.25-.901.54-1.293.947C1.44 3.022 1.007 3.934.85 5.018c-.076.526-.098.633-.102 3.321-.002.896 0 2.075 0 3.657 0 4.694.005 6.066.027 6.333.078.938.225 1.528.537 2.174a4.74 4.74 0 0 0 3.072 2.51c.464.12.976.185 1.634.216.279.012 3.12.021 5.962.021 2.842 0 5.684-.003 5.956-.017.761-.036 1.203-.096 1.692-.222a4.711 4.711 0 0 0 3.073-2.515c.305-.63.46-1.243.53-2.132.016-.194.022-3.285.022-6.371 0-3.088-.007-6.173-.022-6.367-.071-.903-.226-1.51-.542-2.153a4.46 4.46 0 0 0-.963-1.32c-.744-.71-1.654-1.143-2.74-1.3-.525-.076-.63-.098-3.32-.103h-3.662Z" fill="url(#b)"/><path d="M11.998 3.693c-2.256 0-2.54.01-3.425.05-.885.04-1.489.18-2.017.386a4.068 4.068 0 0 0-1.472.958 4.078 4.078 0 0 0-.959 1.471c-.206.529-.346 1.133-.386 2.017-.04.886-.05 1.17-.05 3.426 0 2.256.01 2.539.05 3.425.041.884.181 1.488.387 2.016a4.07 4.07 0 0 0 .958 1.472c.462.462.925.747 1.471.96.529.205 1.133.345 2.017.385.886.04 1.17.05 3.426.05 2.256 0 2.538-.01 3.425-.05.884-.04 1.489-.18 2.017-.386a4.066 4.066 0 0 0 1.471-.959c.462-.462.746-.925.959-1.471.204-.529.344-1.133.386-2.017.04-.886.05-1.169.05-3.425s-.01-2.54-.05-3.426c-.042-.884-.182-1.488-.386-2.016a4.078 4.078 0 0 0-.959-1.472 4.062 4.062 0 0 0-1.471-.958c-.53-.206-1.134-.346-2.019-.386-.886-.04-1.168-.05-3.425-.05h.002Zm-.745 1.497h.745c2.219 0 2.482.008 3.358.048.81.037 1.25.172 1.542.286.388.15.664.33.955.621.29.29.47.568.622.956.113.292.249.732.286 1.542.04.876.048 1.139.048 3.356 0 2.217-.008 2.48-.048 3.356-.037.81-.172 1.25-.286 1.543a2.57 2.57 0 0 1-.622.954c-.29.29-.567.47-.955.621-.292.115-.732.25-1.542.287-.876.04-1.14.048-3.358.048s-2.481-.009-3.357-.048c-.81-.038-1.25-.173-1.543-.287a2.573 2.573 0 0 1-.955-.621c-.29-.291-.471-.567-.622-.955-.114-.293-.25-.732-.286-1.542-.04-.876-.048-1.14-.048-3.358 0-2.219.008-2.48.048-3.356.037-.81.172-1.25.286-1.543.15-.388.331-.665.622-.955.29-.291.568-.471.955-.622.293-.114.733-.25 1.543-.287.767-.034 1.064-.045 2.612-.046v.002Zm5.18 1.38a.997.997 0 1 0 0 1.993.997.997 0 0 0 0-1.994Zm-4.435 1.164A4.267 4.267 0 1 0 12 16.268a4.267 4.267 0 0 0 0-8.534Zm0 1.497a2.77 2.77 0 1 1 0 5.54 2.77 2.77 0 0 1 0-5.54Z" fill="#fff"/><defs><radialGradient id="a" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="matrix(0 -22.2992 20.7456 0 6.725 24.983)"><stop stop-color="#FD5"/><stop offset=".1" stop-color="#FD5"/><stop offset=".5" stop-color="#FF543E"/><stop offset="1" stop-color="#C837AB"/></radialGradient><radialGradient id="b" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="rotate(78.678 -2.958 -.659) scale(9.96792 41.0985)"><stop stop-color="#3771C8"/><stop offset=".128" stop-color="#3771C8"/><stop offset="1" stop-color="#60F" stop-opacity="0"/></radialGradient></defs></svg>'},33825:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 12C0 5.373 5.373 0 12 0s12 5.373 12 12-5.373 12-12 12S0 18.627 0 12Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M24 12c0 6.627-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0s12 5.373 12 12ZM12.43 8.859c-1.167.485-3.5 1.49-6.998 3.014-.568.226-.866.447-.893.663-.046.366.412.51 1.034.705.085.027.173.054.263.084.613.199 1.437.432 1.865.441.389.008.823-.152 1.302-.48 3.268-2.207 4.955-3.322 5.061-3.346.075-.017.179-.039.249.024.07.062.063.18.056.212-.046.193-1.84 1.862-2.77 2.726-.29.269-.495.46-.537.504-.094.097-.19.19-.282.279-.57.548-.996.96.024 1.632.49.323.882.59 1.273.856.427.291.853.581 1.405.943.14.092.274.187.405.28.497.355.944.673 1.496.623.32-.03.652-.331.82-1.23.397-2.126 1.179-6.73 1.36-8.628a2.112 2.112 0 0 0-.02-.472.506.506 0 0 0-.172-.325c-.143-.117-.365-.142-.465-.14-.451.008-1.143.249-4.476 1.635Z" fill="#54A6E4"/></svg>'},75001:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20.811 2.34c-.596-.55-3.006-2.299-8.375-2.323 0 0-6.33-.382-9.417 2.45C1.302 4.184.697 6.698.633 9.815.57 12.933.487 18.775 6.118 20.358h.006l-.004 2.418s-.036.978.608 1.178c.78.242 1.237-.502 1.981-1.304.409-.44.973-1.086 1.398-1.58 3.85.324 6.813-.417 7.149-.527.777-.252 5.177-.816 5.893-6.657.739-6.02-.357-9.829-2.338-11.545Z" fill="#fff"/><path d="M19.559 3.557c-.504-.458-2.68-1.825-7.222-1.845 0 0-5.377-.354-7.987 2.01C2.897 5.158 2.407 7.29 2.354 9.895c-.054 2.603-.332 7.576 4.43 8.899l-.021 4.016c0 .227.036.382.165.414.093.023.233-.025.352-.144.761-.765 3.199-3.705 3.199-3.705 3.27.213 5.873-.432 6.152-.524.66-.212 4.229-.518 4.833-5.397.624-5.029-.23-8.461-1.905-9.896Z" fill="#7360F2"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.529 7.788a.304.304 0 0 1 .319-.288c.626.033 1.147.223 1.519.607.37.382.55.916.582 1.558a.304.304 0 1 1-.606.03c-.027-.55-.178-.923-.413-1.166-.233-.242-.59-.395-1.114-.422a.304.304 0 0 1-.287-.32Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M12.068 6.152a.304.304 0 0 1 .325-.28c1.275.093 2.301.529 3.049 1.344.74.809 1.09 1.814 1.065 2.993a.304.304 0 0 1-.607-.014c.023-1.04-.283-1.888-.906-2.568-.62-.678-1.49-1.065-2.645-1.15a.304.304 0 0 1-.28-.325Z" fill="#fff"/><path fill-rule="evenodd" clip-rule="evenodd" d="M11.532 4.597a.304.304 0 0 1 .306-.301c1.762.012 3.251.599 4.447 1.764 1.206 1.176 1.802 2.776 1.817 4.763a.304.304 0 1 1-.607.005c-.014-1.862-.568-3.294-1.634-4.333-1.075-1.048-2.41-1.58-4.027-1.592a.304.304 0 0 1-.302-.306Z" fill="#fff"/><path d="M12.892 13.746s.427.036.657-.247l.447-.564c.217-.279.738-.457 1.249-.173.383.218.754.456 1.113.711.339.25 1.033.829 1.035.829.33.279.407.689.182 1.12l-.002.01c-.248.43-.563.817-.932 1.148-.005.002-.005.004-.009.006-.32.269-.636.421-.946.458a1.263 1.263 0 0 1-.541-.053l-.01-.015c-.478-.135-1.275-.472-2.603-1.204-.769-.42-1.5-.902-2.187-1.445a11.464 11.464 0 0 1-.984-.872l-.033-.033-.033-.034-.033-.033-.033-.033c-.31-.31-.6-.639-.872-.983a15.514 15.514 0 0 1-1.445-2.187c-.733-1.328-1.07-2.125-1.204-2.603l-.015-.01a1.26 1.26 0 0 1-.053-.541c.038-.31.191-.625.458-.948.002-.003.004-.003.007-.008.33-.37.718-.684 1.148-.932l.009-.002c.432-.225.842-.149 1.12.18.003.002.58.696.829 1.035.255.36.493.731.71 1.114.285.51.107 1.033-.172 1.249l-.564.448c-.285.23-.247.656-.247.656s.835 3.16 3.954 3.956Z" fill="#fff"/></svg>'},74783:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.243 1.5H8.257C2.797 1.5 1.5 2.797 1.5 8.257v5.986C1.5 19.703 2.797 21 8.257 21h5.986C19.703 21 21 19.703 21 14.243V8.257c0-5.46-1.297-6.757-6.757-6.757Zm3.003 13.913h-1.423c-.537 0-.702-.438-1.648-1.404-.858-.809-1.229-.926-1.433-.926-.283 0-.37.078-.37.487v1.278c0 .341-.108.555-1.015.555-1.501 0-3.168-.916-4.338-2.603-1.765-2.476-2.243-4.348-2.243-4.719 0-.204.068-.4.478-.4h1.433c.36 0 .497.157.634.546.702 2.048 1.872 3.803 2.35 3.803.185 0 .263-.088.263-.536V9.398c-.049-.956-.566-1.044-.566-1.385 0-.175.137-.332.361-.332h2.233c.302 0 .41.157.41.527v2.818c0 .302.126.41.223.41.176 0 .332-.108.654-.44 1.024-1.14 1.755-2.905 1.755-2.905.097-.205.253-.4.633-.4h1.395c.429 0 .526.224.429.527-.176.829-1.911 3.276-1.892 3.276-.156.244-.214.35 0 .633.146.205.644.634.975 1.014.605.693 1.073 1.268 1.2 1.668.107.4-.088.604-.498.604Z" fill="#2787F5"/></svg>'},64924:function(e,t,n){"use strict";n.r(t),t.default='<svg width="24" height="24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M.564 11.896c-.001 2.023.528 3.998 1.533 5.74l-1.63 5.949 6.089-1.597a11.482 11.482 0 0 0 5.487 1.398h.006c6.329 0 11.481-5.15 11.484-11.481a11.408 11.408 0 0 0-3.361-8.122A11.412 11.412 0 0 0 12.048.416C5.718.416.566 5.566.564 11.896" fill="url(#a)"/><path d="M.153 11.892c0 2.096.547 4.142 1.588 5.946L.054 24l6.306-1.654a11.887 11.887 0 0 0 5.685 1.448h.005c6.556 0 11.894-5.336 11.896-11.892a11.82 11.82 0 0 0-3.48-8.414A11.823 11.823 0 0 0 12.05 0C5.493 0 .156 5.335.153 11.892Zm3.756 5.635-.235-.374a9.857 9.857 0 0 1-1.512-5.26c.002-5.45 4.438-9.884 9.892-9.884a9.824 9.824 0 0 1 6.99 2.899 9.824 9.824 0 0 1 2.894 6.993c-.002 5.45-4.438 9.885-9.888 9.885h-.004a9.875 9.875 0 0 1-5.032-1.379l-.362-.214-3.742.982 1-3.648Z" fill="url(#b)"/><path fill-rule="evenodd" clip-rule="evenodd" d="M9.077 6.92c-.223-.494-.457-.504-.67-.513-.173-.008-.37-.007-.569-.007-.198 0-.52.074-.793.372-.272.297-1.04 1.016-1.04 2.479s1.065 2.876 1.214 3.074c.148.198 2.056 3.295 5.077 4.487 2.511.99 3.022.793 3.567.743.545-.05 1.76-.718 2.007-1.413.247-.694.247-1.288.173-1.413-.074-.124-.272-.198-.57-.347-.297-.148-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.198.297-.767.966-.94 1.164-.174.199-.347.224-.645.075-.297-.15-1.254-.463-2.39-1.475-.884-.788-1.48-1.761-1.654-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.447-.52.148-.174.198-.298.297-.496.099-.199.05-.372-.025-.521-.074-.149-.652-1.619-.916-2.206Z" fill="#fff"/><defs><linearGradient id="a" x1="12" y1="23.585" x2="12" y2=".416" gradientUnits="userSpaceOnUse"><stop stop-color="#20B038"/><stop offset="1" stop-color="#60D66A"/></linearGradient><linearGradient id="b" x1="12" y1="24" x2="12" y2="0" gradientUnits="userSpaceOnUse"><stop stop-color="#F9F9F9"/><stop offset="1" stop-color="#fff"/></linearGradient></defs></svg>'},39186:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="89" height="72">\n    <style>\n        @-webkit-keyframes ochange {\n        0%   {opacity: 0}\n        50%  {opacity: 1}\n        100% {opacity: 0}\n        }\n        @keyframes ochange {\n        0%   {opacity: 0}\n        50%  {opacity: 1}\n        100% {opacity: 0}\n        }\n        #dot-1 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: 0s;\n        }\n        #dot-2 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: .3s;\n        }\n        #dot-3 {\n        opacity: 0;\n        animation-duration: 1.5s;\n        animation-name: ochange;\n        animation-iteration-count: infinite;\n        animation-delay: 0.6s;\n        }\n    </style>\n  <g fill="#18c139" fill-rule="evenodd">\n    <path fill-rule="nonzero" d="M73.237 53.784L60.17 46.72c-4.356-2.38-4.504-.818-9.081 4.09-1.108 1.19-3.175 4.313-5.611 3.718-5.095-1.264-14.618-8.774-17.72-12.195-1.476-1.636-7.825-9.443-7.899-11.972-.148-3.866 8.269-5.8 5.537-13.161L19.564 4.038C14.1-8.602-1.182 11.623.073 21.066c3.248 23.275 43.78 60.9 66.372 48.482 5.02-2.825 11.813-12.715 6.792-15.764z"/>\n    <g transform="translate(43 14)">\n      <circle id=\'dot-1\' cx="5" cy="5" r="5"/>\n      <circle id=\'dot-2\' cx="23" cy="5" r="5"/>\n      <circle id=\'dot-3\' cx="41" cy="5" r="5"/>\n    </g>\n  </g>\n</svg>'},1900:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="89" height="72">\n  <g fill="#18C139" fill-rule="evenodd">\n    <path fill-rule="nonzero" d="M73.237 53.784L60.17 46.72c-4.356-2.38-4.504-.818-9.081 4.09-1.108 1.19-3.175 4.313-5.611 3.718-5.095-1.264-14.618-8.774-17.72-12.195-1.476-1.636-7.825-9.443-7.899-11.972-.148-3.866 8.269-5.8 5.537-13.161L19.564 4.038C14.1-8.602-1.182 11.623.073 21.066c3.248 23.275 43.78 60.9 66.372 48.482 5.02-2.825 11.813-12.715 6.792-15.764z"/>\n  </g>\n</svg>'},75630:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 119 119"><path fill="#e8ecf1" d="M60.4 117.6c-13.7.3-27.3-5.2-37.8-14 7.8-7 17.1-11.9 27-14.5 2-.3 2.3-6.4 2.3-6.4-3.8-4.1-6.7-9.3-7.8-14.8-3.8 0-6.1-9-2.3-12.2-.3-3.5-4.7-26.2 18.6-26.2S79 52.5 79 55.6c3.8 3.2 1.5 12.2-2.3 12.2-1.2 5.5-3.8 10.8-7.8 14.8 0 0 0 6.1 2.3 6.4 9.9 2.6 19.2 7.6 27 14.5-7.9 6.8-20.6 14.1-37.8 14.1z"/><circle cx="59.5" cy="59.5" r="58" fill="none" stroke="#e8ecf1" stroke-miterlimit="10" stroke-width="3.5"/></svg>'},96955:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n    <g fill="none" fill-rule="evenodd">\n        <path d="M0 0h24v24H0z"/>\n        <path fill="_COLOR1_" d="M15.4 7.4L14 6l-6 6 6 6 1.4-1.4-4.6-4.6z"/>\n    </g>\n</svg>\n'},13339:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="97" height="79">\n  <g fill-rule="evenodd" fill="_COLOR1_">\n    <circle cx="3.282" cy="2.5" r="2.5"/>\n    <circle cx="93.782" cy="45" r="3"/>\n    <path d="M3.2 72.411l-.526-.512.526-.511a15 15 0 0 0 3.806-6.11l.09-.278.09.278a15 15 0 0 0 3.807 6.11l.526.511-.526.512a15 15 0 0 0-3.806 6.11l-.09.278-.091-.278A15 15 0 0 0 3.2 72.41zM78.946 9.46l-1.179-1.146 1.179-1.146a15 15 0 0 0 3.806-6.11L83.096 0l.345 1.058a15 15 0 0 0 3.806 6.11l1.178 1.146-1.178 1.146a15 15 0 0 0-3.806 6.11l-.345 1.057-.344-1.057a15 15 0 0 0-3.806-6.11z"/>\n    <g fill-rule="nonzero">\n      <path d="M47 69.25c14.497 0 26.25-11.753 26.25-26.25S61.497 16.75 47 16.75 20.75 28.503 20.75 43 32.503 69.25 47 69.25zM47 73c-16.569 0-30-13.431-30-30 0-16.569 13.431-30 30-30 16.569 0 30 13.431 30 30 0 16.569-13.431 30-30 30z"/>\n      <path d="M56.63 30.805a1.875 1.875 0 0 1 3.24 1.89l-13.125 22.5a1.875 1.875 0 0 1-2.946.38l-9.375-9.374a1.875 1.875 0 1 1 2.652-2.652l7.655 7.655 11.9-20.399z"/>\n    </g>\n  </g>\n</svg>'},54389:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 21 15"><path fill="none" stroke="_COLOR1_" stroke-linecap="round" stroke-width="2" d="M1 6.3l7 7 12-12"/></svg>'},80441:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 28 28">\n    <g fill="none" fill-rule="evenodd" transform="translate(2 2)">\n        <circle cx="12" cy="12" r="12" fill="#FFF" opacity="1"/>\n        <circle cx="12" cy="12" r="12.75" stroke="#222D38" stroke-width="1.5" opacity="1"/>\n        <g fill="#222D38" opacity="1" transform="translate(6 6)">\n            <rect width="1.611" height="13.9" x="5.435" y="-.941" rx=".806" transform="rotate(45 6.24 6.01)"/>\n            <rect width="1.611" height="13.9" x="5.435" y="-.941" rx=".806" transform="scale(-1 1) rotate(45 0 -9.058)"/>\n        </g>\n    </g>\n</svg>\n'},799:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16"><path fill="_COLOR1_" d="M14 12v1.5H3V12h11zm0-5v1.5H3V7h11zm0-5v1.5H3V2h11z" fill-rule="evenodd"/></svg>'},66574:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="12" height="24"><defs/><g fill="none" fill-rule="evenodd"><path d="M0 0h12v24H0z"/><circle cx="6" cy="5" r="2" fill="_COLOR1_"/><circle cx="6" cy="12" r="2" fill="_COLOR1_"/><circle cx="6" cy="19" r="2" fill="_COLOR1_"/></g></svg>'},88921:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="_COLOR1_" fill-rule="evenodd" transform="translate(7 7)">\n    <rect width="1.5" height="12.941" x="5.06" y="-.876" rx=".75" transform="rotate(45 5.81 5.595)"/>\n    <rect width="1.5" height="12.941" x="5.06" y="-.876" rx=".75" transform="scale(-1 1) rotate(45 0 -8.433)"/>\n  </g>\n</svg>'},31617:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="34"><path fill="_COLOR1_" d="M81.9 6.6h3.2v.8h-3.2zM9.2 20.2c.6.1 1.3.1 2 .1 3.9 0 7.3-1.2 9.4-3.6 1.6-1.7 2.4-4.1 2.4-7 0-2.9-1-5.3-2.7-6.9C18.4 1 15.5 0 11.6 0 8.4 0 5.9.3 4 .6v16.2H0v3.3h4V25H.1v3.3H4v5.4h4v-5.4h6.6V25H8v-4.8h1.2zM8 16.5V3.7c.7-.2 2-.3 3.7-.3 4.4 0 7.3 2.1 7.3 6.5 0 4.5-2.9 7-7.7 7-1.4 0-2.5-.1-3.3-.4z"/></svg>'},12103:function(e,t,n){"use strict";n.r(t),t.default='\n<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/>\n  </g>\n</svg>'},28122:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n  <g fill="none" fill-rule="evenodd">\n    <path d="M0 0h24v24H0z"/>\n    <path d="M0 0h24v24H0z"/>\n    <path fill="_COLOR1_" fill-rule="nonzero" d="M18.904 15.214a2.113 2.113 0 0 0-1.527-.624c-.598 0-1.185.228-1.624.66a3.566 3.566 0 0 0-.917 1.428c-.72-.072-3.08-1.569-4.533-3.033C8.898 12.216 7.407 9.843 7.32 9.11a3.547 3.547 0 0 0 1.49-.852c.44-.42.697-.96.721-1.549a2.058 2.058 0 0 0-.586-1.548L7.382 3.576A1.927 1.927 0 0 0 5.99 3a2.14 2.14 0 0 0-1.478.6l-.244.24c-.33.3-.586.66-.758 1.057-.024.06-.708 1.56-.452 2.689.05.168 1.42 4.5 5.181 8.063 3.762 3.564 7.844 5.219 8.028 5.279.195.048.415.072.647.072.99 0 2.04-.42 2.077-.432a3.711 3.711 0 0 0 1.112-.708l.244-.24c.818-.78.88-2.053.122-2.822l-1.564-1.584z"/>\n  </g>\n</svg>'},36972:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24"><defs><path id="a" d="M0 0h24v24H0z"/></defs><g fill="none" fill-rule="evenodd" transform="rotate(-90 12 12)"><mask id="b" fill="#fff"><use xlink:href="#a"/></mask><g stroke="_COLOR1_" stroke-linecap="round" stroke-width="1.5" mask="url(#b)"><path d="M13.343 16.814l-4.657-4.657L13.343 7.5"/></g></g></svg>'},62842:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="_COLOR1_" d="M0 0h9.02L32 33.196V40H0z"/>\n        <path fill="_COLOR2_" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z"/>\n    </g>\n</svg>\n'},93759:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="40" viewBox="0 0 32 40">\n    <g fill="none" fill-rule="evenodd">\n        <path fill="_COLOR1_" d="M0 0h9.02L32 33.196V40H0z"/>\n        <path fill="_COLOR1_" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z" fill-opacity="1"/>\n        <path fill="#5e5f61" d="M9 0c3.581.05 23 5.426 23 33.08v.03C18.922 30.751 9 19.311 9 5.554V0z" fill-opacity="0.7"/>\n    </g>\n</svg>\n'},39581:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M21 3v12.5a3.5 3.5 0 1 1-2-3.16V6.47L9 8.6v8.9a3.5 3.5 0 1 1-2-3.16V6l14-3z"/></g></svg>'},54304:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></g></svg>\n'},28149:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M13 9V3.5L18.5 9H13zM6 2c-1.11 0-2 .89-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6H6z"/></g></svg>'},28372:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm1-5C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10c5.523 0 10-4.477 10-10A10 10 0 0 0 12 2zm0 18a8 8 0 1 1 0-16 8 8 0 0 1 0 16z"/></g></svg>'},69357:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M21 18V4c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"/></g></svg>'},43055:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z"/><path fill="_COLOR1_" fill-rule="nonzero" d="M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"/></g></svg>'},54983:function(e,t,n){"use strict";n.r(t),t.default='<svg width="33" height="42" viewBox="0 0 33 42" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M8.14273 26.7757C8.82522 26.7757 9.37848 27.3289 9.37848 28.0114C9.37848 31.8539 12.5045 34.98 16.347 34.98C20.1896 34.98 23.3156 31.8539 23.3156 28.0114C23.3156 27.3289 23.8689 26.7757 24.5514 26.7757C25.2338 26.7757 25.7871 27.3289 25.7871 28.0114C25.7871 33.2167 21.5524 37.4515 16.347 37.4515C11.1419 37.4515 6.90697 33.2167 6.90697 28.0114C6.90697 27.3289 7.46032 26.7757 8.14273 26.7757Z" fill="#445669"/>\n<path d="M16.3472 16.5601C18.8966 16.5601 20.9707 18.6342 20.9707 21.1836V28.3054C20.9707 30.8549 18.8966 32.929 16.3472 32.929C13.7978 32.929 11.7237 30.8549 11.7237 28.3054V21.1836C11.7237 18.6342 13.7978 16.5601 16.3472 16.5601ZM14.1952 28.3054C14.1952 29.4921 15.1606 30.4575 16.3472 30.4575C17.5337 30.4575 18.4992 29.492 18.4992 28.3054V21.1836C18.4992 19.997 17.5337 19.0316 16.3472 19.0316C15.1606 19.0316 14.1952 19.997 14.1952 21.1836V28.3054Z" fill="#445669"/>\n<path d="M16.3468 34.9799C17.0293 34.9799 17.5825 35.5332 17.5825 36.2157V40.0394C17.5825 40.7218 17.0293 41.2751 16.3468 41.2751C15.6643 41.2751 15.111 40.7218 15.111 40.0394V36.2157C15.111 35.5333 15.6643 34.9799 16.3468 34.9799Z" fill="#445669"/>\n<path d="M8.44618 14.7048C10.5565 12.5943 13.3624 11.4321 16.3471 11.4321C19.3317 11.4321 22.1376 12.5943 24.2479 14.7048C24.7305 15.1873 24.7305 15.9699 24.2479 16.4524C23.7654 16.9349 22.9828 16.9349 22.5004 16.4524C20.8568 14.8088 18.6714 13.9036 16.3471 13.9036C14.0227 13.9036 11.8374 14.8088 10.1938 16.4524C9.95256 16.6937 9.63631 16.8143 9.31997 16.8143C9.00372 16.8143 8.68754 16.6936 8.4461 16.4524C7.96362 15.9698 7.96362 15.1873 8.44618 14.7048Z" fill="#445669"/>\n<path d="M4.28306 10.5426C10.9346 3.89089 21.7579 3.89089 28.4096 10.5426C28.8921 11.0251 28.8921 11.8076 28.4096 12.2901C27.927 12.7727 27.1445 12.7726 26.662 12.2901C20.9738 6.60215 11.7188 6.60215 6.03064 12.2901C5.78944 12.5315 5.47319 12.6521 5.15685 12.6521C4.84052 12.6521 4.52434 12.5314 4.28306 12.2901C3.8005 11.8076 3.8005 11.0252 4.28306 10.5426Z" fill="#445669"/>\n<path d="M0.361938 6.62111C4.63165 2.35139 10.3084 0 16.3467 0C22.3849 0 28.0617 2.35139 32.3314 6.62103C32.814 7.10359 32.814 7.88604 32.3314 8.36861C31.8489 8.85117 31.0663 8.85117 30.5839 8.36861C22.7335 0.518277 9.95993 0.518277 2.10952 8.36861C1.86832 8.60997 1.55206 8.73057 1.23573 8.73057C0.919476 8.73057 0.603302 8.60997 0.361938 8.36869C-0.120625 7.88612 -0.120625 7.10375 0.361938 6.62111Z" fill="#445669"/>\n</svg>\n'},42899:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32">\n  <g fill="none" fill-rule="evenodd">    \n    <path d="M0 0h32v32H0z"/>\n    <circle cx="16" cy="16" r="16" fill="_COLOR1_"/>\n    <path fill="_COLOR2_" fill-rule="nonzero" d="M11.35 22.482l.697-4.32 8.84-2.16-8.84-2.16-.697-4.32 13.355 6.48-13.355 6.48zm.301.65c-.513.25-1.087-.194-.995-.768l.697-4.32a.713.713 0 0 1 .53-.583l8.841-2.16v1.4l-8.84-2.16a.713.713 0 0 1-.531-.582l-.697-4.32c-.092-.574.482-1.017.995-.768l13.355 6.48c.537.26.537 1.041 0 1.301l-13.355 6.48z"/>\n  </g>\n</svg>'},18954:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 37 37">\n  <g clip-path="url(#a)">\n    <path fill="_COLOR1_" d="M35.1385 18.5001a16.65 16.65 0 0 1-32.9801 3.2483A16.6502 16.6502 0 0 1 18.4885 1.8501a16.65 16.65 0 0 1 16.65 16.65Z"/>\n    <path fill="#586069" d="M13.8143 19.4272c0 1.3388-.7694 2.4275-1.7081 2.4275s-1.7081-1.0887-1.7081-2.4275c0-1.3387.7694-2.4274 1.7081-2.4274s1.7081 1.0848 1.7081 2.4274ZM26.598 19.4272c0 1.3388-.7694 2.4275-1.7119 2.4275-.9426 0-1.7081-1.0887-1.7081-2.4275 0-1.3387.7694-2.4274 1.7081-2.4274.9386 0 1.7119 1.0848 1.7119 2.4274ZM14.8261 17.8306a.4655.4655 0 0 1-.4501-.3347c-.504-1.7081-2.2121-3.0122-4.2318-3.243a.4714.4714 0 0 1-.1845-.0474.4706.4706 0 0 1-.242-.2839.4689.4689 0 0 1 .1675-.5134.4687.4687 0 0 1 .3629-.0863c2.4082.2731 4.4395 1.8427 5.0473 3.9086a.4691.4691 0 0 1-.3193.5809.3855.3855 0 0 1-.15.0192ZM22.17 17.8306a.3824.3824 0 0 1-.1307 0 .4693.4693 0 0 1-.3193-.5809c.6078-2.0658 2.6352-3.6354 5.0434-3.9086a.4696.4696 0 0 1 .4036.7496.4691.4691 0 0 1-.2959.1814c-2.0389.2309-3.747 1.5389-4.2317 3.2431a.4692.4692 0 0 1-.4694.3154ZM21.847 27.2828a.7697.7697 0 0 1-.5156-.2038 4.1314 4.1314 0 0 0-2.6929-1.0695 4.0662 4.0662 0 0 0-2.9853 1.0618.7704.7704 0 0 1-.5707.3186.77.77 0 0 1-.6098-.2353.769.769 0 0 1-.0994-.9359.7697.7697 0 0 1 .2335-.24 5.7974 5.7974 0 0 1 7.7403 0 .7692.7692 0 0 1-.5155 1.3118l.0154-.0077Z"/>\n  </g>\n  <defs>\n    <clipPath id="a">\n      <path fill="#fff" d="M0 0h33.3v33.3H0z" transform="translate(1.85 1.8501)"/>\n    </clipPath>\n  </defs>\n</svg>'},23808:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">\n  <g clip-path="url(#a)">\n    <path fill="_COLOR1_" d="M19 10A9.0001 9.0001 0 1 1 1.6843 6.566 9 9 0 0 1 19 10Z"/>\n    <path fill="#586069" d="M15.8059 9.3617a1.1647 1.1647 0 0 1-1.393 1.1398 1.1655 1.1655 0 0 1-.5957-.3192 1.1642 1.1642 0 0 1 .8242-1.9872 1.1644 1.1644 0 0 1 1.1645 1.1666ZM13.1192 8.2055a.2934.2934 0 0 1-.2703-.4034c.0229-.0541.5573-1.2914 2.4309-.9379a.2932.2932 0 0 1-.1081.576c-1.3891-.262-1.7655.5532-1.7821.5885a.2953.2953 0 0 1-.2704.1768ZM6.7186 9.3617a1.1648 1.1648 0 0 1-.7203 1.0743 1.1644 1.1644 0 1 1-.4442-2.241 1.1646 1.1646 0 0 1 1.1645 1.1667ZM4.0152 8.5445a.2848.2848 0 0 1-.1143-.025.289.289 0 0 1-.156-.3785c.0208-.054.5573-1.2892 2.431-.9378a.2933.2933 0 0 1-.1103.576c-1.387-.262-1.7634.5532-1.78.5885a.2973.2973 0 0 1-.2704.1768ZM8.531 13.5239a.441.441 0 0 0 .5455.6907 4.6315 4.6315 0 0 1 3.637-.7895.4397.4397 0 0 0 .3474-.0478.4409.4409 0 0 0-.1667-.8132 5.5099 5.5099 0 0 0-4.3449.9363l-.0182.0235Z"/>\n  </g>\n  <defs>\n    <clipPath id="a">\n      <path fill="#fff" d="M0 0h18v18H0z" transform="translate(1 1)"/>\n    </clipPath>\n  </defs>\n</svg>'},83088:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 30 32">\n  <path fill="_COLOR1_" d="M29.072 16.0747c0 .4471-.1067.8666-.2853 1.248-1.192 3.8453-6.7725 3.5644-14.7103 3.752-1.3271.0311-.568 1.5982-.1022 5.0382.3031 2.2373-1.1395 5.6729-3.5644 5.6729-3.9982 0-.152-3.1538-3.6871-10.9529C4.8337 16.6658.6116 19 .6116 14.8142v-9.527c0-1.6294.16-3.1956 2.4515-3.4534C5.2844 1.583 4.785 0 7.9893 0h16.0391a2.966 2.966 0 0 1 2.9627 2.9636c0 .6773-.2373 1.2942-.6204 1.7937.9066.5076 1.5289 1.4658 1.5289 2.577 0 .6755-.2365 1.2924-.6187 1.791.9093.5067 1.5333 1.4658 1.5333 2.5787 0 .808-.3271 1.5404-.8542 2.0764a2.944 2.944 0 0 1 1.112 2.2943Z"/>\n  <path fill="_COLOR2_" d="M18.4622 13.1121h7.648c1.04 0 2.016.5564 2.5476 1.4515a.779.779 0 0 1-.2898 1.0373.7786.7786 0 0 1-1.0489-.2444 1.411 1.411 0 0 0-1.2098-.6889h-7.8311c-.776 0-1.4071.6312-1.4071 1.4072s.6311 1.4071 1.4071 1.4071h5.2329a.7777.7777 0 1 1 0 1.5555h-5.2338a2.966 2.966 0 0 1-2.9626-2.9626c0-.9112.4222-1.7174 1.0711-2.2614a2.95 2.95 0 0 1-.8871-2.1093c0-.9138.4249-1.7227 1.0773-2.2658a2.9486 2.9486 0 0 1-.4908-3.5686 2.9502 2.9502 0 0 1 .8632-.947 2.938 2.938 0 0 1-.7573-1.959A2.9665 2.9665 0 0 1 19.1538.001h4.8746a2.9778 2.9778 0 0 1 2.5485 1.4506.778.778 0 0 1-.8606 1.1395.7776.7776 0 0 1-.4763-.3448 1.4172 1.4172 0 0 0-1.2116-.6898h-4.8746c-.776 0-1.4071.6311-1.4071 1.4071s.6311 1.4072 1.4071 1.4072h5.7831c1.04 0 2.0178.5564 2.5484 1.4515a.7768.7768 0 0 1-.035.8733.7769.7769 0 0 1-.518.3079.7776.7776 0 0 1-.7839-.3865 1.3968 1.3968 0 0 0-1.2115-.6907h-6.2782a1.4088 1.4088 0 0 0 0 2.8151h7.192a2.9775 2.9775 0 0 1 2.5484 1.4507.7774.7774 0 0 1-.279 1.0524.778.778 0 0 1-1.0579-.2577 1.398 1.398 0 0 0-1.2115-.6898h-7.3885a1.4092 1.4092 0 0 0-1.3476 1.4075 1.4092 1.4092 0 0 0 1.3476 1.4076Z"/>\n</svg>'},50996:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">\n  <path fill="_COLOR1_" d="M10 19c4.9706 0 9-4.0294 9-9s-4.0294-9-9-9-9 4.0294-9 9 4.0294 9 9 9Z"/>\n  <path fill="#586069" d="M14.7787 6.8871a1.8045 1.8045 0 0 1-.1581.7528.2474.2474 0 0 1-.3639.106.7215.7215 0 0 0-.8859 0 .2451.2451 0 0 1-.3701-.1102 1.771 1.771 0 0 1-.158-.7527c0-.7549.4304-1.3684.9628-1.3684.5323 0 .9732.6177.9732 1.3725ZM7.149 6.8871a1.8027 1.8027 0 0 1-.158.7528.2454.2454 0 0 1-.3618.106.7466.7466 0 0 0-.445-.1518.7341.7341 0 0 0-.4409.1518.2473.2473 0 0 1-.3639-.106 1.803 1.803 0 0 1-.158-.7528c0-.7549.4304-1.3683.9628-1.3683.5323 0 .9649.6134.9649 1.3683ZM5.4251 10.4034a.3984.3984 0 0 0-.3188.1615.3997.3997 0 0 0-.0617.3521c.47 1.7156 2.4953 3.009 4.9533 3.009 2.4579 0 4.5062-1.3101 4.9596-3.0423a.3907.3907 0 0 0-.2146-.4434.3912.3912 0 0 0-.1722-.0369H5.4251Z"/>\n  <path fill="#fff" d="M9.9958 11.0771a9.0292 9.0292 0 0 0 3.5351-.6738H6.4607a9.0185 9.0185 0 0 0 3.5351.6738Z"/>\n</svg>'},90270:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">\n  <g clip-path="url(#a)">\n    <path fill="_COLOR1_" d="M11.4205 18.8924c4.9082-.7853 8.2504-5.4007 7.4651-10.3089-.7852-4.9081-5.4007-8.2504-10.3088-7.465C3.6686 1.9036.3264 6.519 1.1117 11.4272c.7853 4.9081 5.4007 8.2503 10.3088 7.4651Z"/>\n    <path fill="#586069" d="M15.2153 8.8397a.1415.1415 0 0 0 .208-.1186 1.1896 1.1896 0 1 0-2.3769 0 .1416.1416 0 0 0 .208.1185 1.8466 1.8466 0 0 1 1.9443 0h.0166ZM6.7373 8.8397a.1414.1414 0 0 0 .208-.1186 1.1894 1.1894 0 1 0-2.3769 0 .1415.1415 0 0 0 .208.1186 1.8465 1.8465 0 0 1 1.9443 0h.0166ZM10.0478 14.1091a6.0655 6.0655 0 0 1-4.0883-1.597.441.441 0 0 1 .599-.6446 5.1512 5.1512 0 0 0 6.8893.0811.4404.4404 0 0 1 .608.0496.4407.4407 0 0 1-.0237.6095 6.0028 6.0028 0 0 1-3.9843 1.5014Z"/>\n  </g>\n  <defs>\n    <clipPath id="a">\n      <path fill="#fff" d="M0 0h18v18H0z" transform="translate(1 1)"/>\n    </clipPath>\n  </defs>\n</svg>'},94939:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 30 32">\n  <path fill="_COLOR1_" d="M29.072 15.9252c0-.4471-.1067-.8666-.2853-1.248-1.192-3.8453-6.7725-3.5644-14.7103-3.752-1.3271-.0311-.568-1.5982-.1022-5.0382.3031-2.2373-1.1395-5.6729-3.5644-5.6729-3.9982 0-.152 3.1538-3.6871 10.9529-1.889 4.1671-6.1111 1.8329-6.1111 6.0187v9.528c0 1.6293.16 3.1955 2.4515 3.4533 2.2213.2498 1.7218 1.8329 4.9262 1.8329h16.0391a2.9663 2.9663 0 0 0 2.9627-2.9636c0-.6773-.2373-1.2942-.6204-1.7937.9066-.5076 1.5289-1.4658 1.5289-2.5769 0-.6756-.2365-1.2925-.6187-1.7911.9093-.5067 1.5333-1.4658 1.5333-2.5787 0-.808-.3271-1.5405-.8542-2.0765a2.9427 2.9427 0 0 0 1.112-2.2942Z"/>\n  <path fill="_COLOR2_" d="M18.4622 18.888h7.648c1.04 0 2.016-.5565 2.5476-1.4516a.7788.7788 0 0 0-1.3387-.7929 1.4113 1.4113 0 0 1-1.2098.6889h-7.8311c-.776 0-1.4071-.6311-1.4071-1.4071s.6311-1.4071 1.4071-1.4071h5.2329a.7777.7777 0 1 0 0-1.5556h-5.2338a2.9664 2.9664 0 0 0-2.9626 2.9627c0 .9111.4222 1.7173 1.0711 2.2613a2.9508 2.9508 0 0 0-.8871 2.1094c0 .9138.4249 1.7226 1.0773 2.2658a2.9496 2.9496 0 0 0-.871 2.3449 2.9485 2.9485 0 0 0 1.2434 2.1706 2.938 2.938 0 0 0-.7573 1.9591 2.9665 2.9665 0 0 0 2.9627 2.9627h4.8746a2.9782 2.9782 0 0 0 2.5485-1.4507.778.778 0 0 0-.8606-1.1395.7776.7776 0 0 0-.4763.3449 1.4166 1.4166 0 0 1-1.2116.6897h-4.8746c-.776 0-1.4071-.6311-1.4071-1.4071s.6311-1.4071 1.4071-1.4071h5.7831a2.9768 2.9768 0 0 0 1.4653-.3903 2.9767 2.9767 0 0 0 1.0831-1.0612.7768.7768 0 0 0 .0953-.595.7783.7783 0 0 0-.6483-.5862.7776.7776 0 0 0-.7839.3865 1.3971 1.3971 0 0 1-1.2115.6907h-6.2782a1.4086 1.4086 0 0 1-1.3476-1.4076 1.4087 1.4087 0 0 1 1.3476-1.4076h7.192a2.9767 2.9767 0 0 0 2.5484-1.4506.7775.7775 0 0 0-.279-1.0524.778.778 0 0 0-1.0579.2577 1.3986 1.3986 0 0 1-1.2115.6898h-7.3885a1.4092 1.4092 0 0 1-1.3476-1.4076 1.4091 1.4091 0 0 1 1.3476-1.4075Z"/>\n</svg>'},43205:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 20 20">\n  <g clip-path="url(#a)">\n    <path fill="_COLOR1_" d="M18.7573 12.0764c1.146-4.8367-1.8458-9.6866-6.6825-10.8326C7.2382.0978 2.3883 3.0897 1.2423 7.9263.0963 12.763 3.088 17.613 7.9248 18.759c4.8366 1.146 9.6865-1.8459 10.8325-6.6825Z"/>\n    <path fill="#586069" d="M14.107 12.7928H5.893a.4407.4407 0 1 1 0-.8817h8.214a.4408.4408 0 0 1 0 .8817ZM14.708 8.4696a.9504.9504 0 1 1-.9483-.9503.9486.9486 0 0 1 .8767.5868.9502.9502 0 0 1 .0716.3635ZM7.1906 8.4696a.9503.9503 0 1 1-.9503-.9503.9483.9483 0 0 1 .9503.9503Z"/>\n  </g>\n  <defs>\n    <clipPath id="a">\n      <path fill="#fff" d="M0 0h18v18H0z" transform="translate(1 1)"/>\n    </clipPath>\n  </defs>\n</svg>'},37491:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 33 33"><path fill="url(#a)" d="M32.1102 15.0133c.37-.2801.6445-.6708.7849-1.1173.1405-.4466.1398-.9266-.0018-1.3728-.1416-.4462-.4171-.8361-.7878-1.1152-.3708-.2791-.8182-.4332-1.2795-.4409l-8.96-.3439c-.044-.0031-.0863-.0191-.1216-.046s-.0622-.0636-.0775-.1057l-3.0962-8.49702c-.1555-.43229-.4381-.80558-.8093-1.069308C17.3901.641441 16.948.5 16.495.5c-.453 0-.8951.141441-1.2663.405172-.3713.263728-.6538.637018-.8094 1.069308l-3.0862 8.52732c-.0153.0421-.0422.0788-.0775.1058-.0353.0269-.0776.0428-.1216.0459l-8.95997.344c-.46133.0076-.90874.1618-1.279487.4408-.370749.2791-.646246.6691-.787863 1.1152-.1416169.4462-.1422523.9262-.001817 1.3728.140436.4466.4149.8373.784908 1.1173l7.028589 5.6141c.03517.0281.06146.0661.07562.1093.01415.0431.01555.0895.00402.1335l-2.41919 8.7094c-.12536.4435-.11321.9155.03479 1.3517.148.4363.42466.8156.79236 1.0864.3677.2708.80858.4199 1.26267.4271.45408.0072.89932-.1279 1.27514-.3869l7.42683-5.0578c.0366-.0256.08-.0394.1244-.0394.0445 0 .0879.0138.1245.0394l7.4268 5.0578c.3707.2679.8144.4118 1.2693.4118.4549 0 .8986-.1439 1.2693-.4118.3678-.2683.6448-.6458.7927-1.0805.148-.4348.1597-.9054.0336-1.3472l-2.4391-8.7398c-.0129-.0439-.0122-.0907.0021-.1342.0142-.0434.0413-.0813.0776-.1086l7.0584-5.6646Z"/><defs><linearGradient id="a" x1="16.5" x2="16.5" y1=".5" y2="32.5" gradientUnits="userSpaceOnUse"><stop stop-color="#FFCE00"/><stop offset="1" stop-color="#FFDD4F"/></linearGradient></defs></svg>'},99350:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M493.815 70.629c-11.001-1.003-20.73 7.102-21.733 18.102l-2.65 29.069C424.473 47.194 346.429 0 256 0 158.719 0 72.988 55.522 30.43 138.854c-5.024 9.837-1.122 21.884 8.715 26.908 9.839 5.024 21.884 1.123 26.908-8.715C102.07 86.523 174.397 40 256 40c74.377 0 141.499 38.731 179.953 99.408l-28.517-20.367c-8.989-6.419-21.48-4.337-27.899 4.651-6.419 8.989-4.337 21.479 4.651 27.899l86.475 61.761c12.674 9.035 30.155.764 31.541-14.459l9.711-106.53c1.004-11.001-7.1-20.731-18.1-21.734zM472.855 346.238c-9.838-5.023-21.884-1.122-26.908 8.715C409.93 425.477 337.603 472 256 472c-74.377 0-141.499-38.731-179.953-99.408l28.517 20.367c8.989 6.419 21.479 4.337 27.899-4.651 6.419-8.989 4.337-21.479-4.651-27.899l-86.475-61.761c-12.519-8.944-30.141-.921-31.541 14.459L.085 419.637c-1.003 11 7.102 20.73 18.101 21.733 11.014 1.001 20.731-7.112 21.733-18.102l2.65-29.069C87.527 464.806 165.571 512 256 512c97.281 0 183.012-55.522 225.57-138.854 5.024-9.837 1.122-21.884-8.715-26.908z"/></svg>'},23791:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#DD2E44" d="M11.626 7.488c-.112.112-.197.247-.268.395l-.008-.008L.134 33.141l.011.011c-.208.403.14 1.223.853 1.937.713.713 1.533 1.061 1.936.853l.01.01L28.21 24.735l-.008-.009c.147-.07.282-.155.395-.269 1.562-1.562-.971-6.627-5.656-11.313-4.687-4.686-9.752-7.218-11.315-5.656z"/><path fill="#EA596E" d="M13 12L.416 32.506l-.282.635.011.011c-.208.403.14 1.223.853 1.937.232.232.473.408.709.557L17 17l-4-5z"/><path fill="#A0041E" d="M23.012 13.066c4.67 4.672 7.263 9.652 5.789 11.124-1.473 1.474-6.453-1.118-11.126-5.788-4.671-4.672-7.263-9.654-5.79-11.127 1.474-1.473 6.454 1.119 11.127 5.791z"/><path fill="#AA8DD8" d="M18.59 13.609c-.199.161-.459.245-.734.215-.868-.094-1.598-.396-2.109-.873-.541-.505-.808-1.183-.735-1.862.128-1.192 1.324-2.286 3.363-2.066.793.085 1.147-.17 1.159-.292.014-.121-.277-.446-1.07-.532-.868-.094-1.598-.396-2.11-.873-.541-.505-.809-1.183-.735-1.862.13-1.192 1.325-2.286 3.362-2.065.578.062.883-.057 1.012-.134.103-.063.144-.123.148-.158.012-.121-.275-.446-1.07-.532-.549-.06-.947-.552-.886-1.102.059-.549.55-.946 1.101-.886 2.037.219 2.973 1.542 2.844 2.735-.13 1.194-1.325 2.286-3.364 2.067-.578-.063-.88.057-1.01.134-.103.062-.145.123-.149.157-.013.122.276.446 1.071.532 2.037.22 2.973 1.542 2.844 2.735-.129 1.192-1.324 2.286-3.362 2.065-.578-.062-.882.058-1.012.134-.104.064-.144.124-.148.158-.013.121.276.446 1.07.532.548.06.947.553.886 1.102-.028.274-.167.511-.366.671z"/><path fill="#77B255" d="M30.661 22.857c1.973-.557 3.334.323 3.658 1.478.324 1.154-.378 2.615-2.35 3.17-.77.216-1.001.584-.97.701.034.118.425.312 1.193.095 1.972-.555 3.333.325 3.657 1.479.326 1.155-.378 2.614-2.351 3.17-.769.216-1.001.585-.967.702.033.117.423.311 1.192.095.53-.149 1.084.16 1.233.691.148.532-.161 1.084-.693 1.234-1.971.555-3.333-.323-3.659-1.479-.324-1.154.379-2.613 2.353-3.169.77-.217 1.001-.584.967-.702-.032-.117-.422-.312-1.19-.096-1.974.556-3.334-.322-3.659-1.479-.325-1.154.378-2.613 2.351-3.17.768-.215.999-.585.967-.701-.034-.118-.423-.312-1.192-.096-.532.15-1.083-.16-1.233-.691-.149-.53.161-1.082.693-1.232z"/><path fill="#AA8DD8" d="M23.001 20.16c-.294 0-.584-.129-.782-.375-.345-.432-.274-1.061.156-1.406.218-.175 5.418-4.259 12.767-3.208.547.078.927.584.849 1.131-.078.546-.58.93-1.132.848-6.493-.922-11.187 2.754-11.233 2.791-.186.148-.406.219-.625.219z"/><path fill="#77B255" d="M5.754 16c-.095 0-.192-.014-.288-.042-.529-.159-.829-.716-.67-1.245 1.133-3.773 2.16-9.794.898-11.364-.141-.178-.354-.353-.842-.316-.938.072-.849 2.051-.848 2.071.042.551-.372 1.031-.922 1.072-.559.034-1.031-.372-1.072-.923-.103-1.379.326-4.035 2.692-4.214 1.056-.08 1.933.287 2.552 1.057 2.371 2.951-.036 11.506-.542 13.192-.13.433-.528.712-.958.712z"/><circle fill="#5C913B" cx="25.5" cy="9.5" r="1.5"/><circle fill="#9266CC" cx="2" cy="18" r="2"/><circle fill="#5C913B" cx="32.5" cy="19.5" r="1.5"/><circle fill="#5C913B" cx="23.5" cy="31.5" r="1.5"/><circle fill="#FFCC4D" cx="28" cy="4" r="2"/><circle fill="#FFCC4D" cx="32.5" cy="8.5" r="1.5"/><circle fill="#FFCC4D" cx="29.5" cy="12.5" r="1.5"/><circle fill="#FFCC4D" cx="7.5" cy="23.5" r="1.5"/></svg>'},56482:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFDB5E" d="M34.956 17.916c0-.503-.12-.975-.321-1.404-1.341-4.326-7.619-4.01-16.549-4.221-1.493-.035-.639-1.798-.115-5.668.341-2.517-1.282-6.382-4.01-6.382-4.498 0-.171 3.548-4.148 12.322-2.125 4.688-6.875 2.062-6.875 6.771v10.719c0 1.833.18 3.595 2.758 3.885C8.195 34.219 7.633 36 11.238 36h18.044c1.838 0 3.333-1.496 3.333-3.334 0-.762-.267-1.456-.698-2.018 1.02-.571 1.72-1.649 1.72-2.899 0-.76-.266-1.454-.696-2.015 1.023-.57 1.725-1.649 1.725-2.901 0-.909-.368-1.733-.961-2.336.757-.611 1.251-1.535 1.251-2.581z"/><path fill="#EE9547" d="M23.02 21.249h8.604c1.17 0 2.268-.626 2.866-1.633.246-.415.109-.952-.307-1.199-.415-.247-.952-.108-1.199.307-.283.479-.806.775-1.361.775h-8.81c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583H28.7c.483 0 .875-.392.875-.875s-.392-.875-.875-.875h-5.888c-1.838 0-3.333 1.495-3.333 3.333 0 1.025.475 1.932 1.205 2.544-.615.605-.998 1.445-.998 2.373 0 1.028.478 1.938 1.212 2.549-.611.604-.99 1.441-.99 2.367 0 1.12.559 2.108 1.409 2.713-.524.589-.852 1.356-.852 2.204 0 1.838 1.495 3.333 3.333 3.333h5.484c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.416-.245-.953-.11-1.199.305-.285.479-.808.776-1.363.776h-5.484c-.873 0-1.583-.71-1.583-1.583s.71-1.583 1.583-1.583h6.506c1.17 0 2.27-.626 2.867-1.633.247-.416.11-.953-.305-1.199-.419-.251-.954-.11-1.199.305-.289.487-.799.777-1.363.777h-7.063c-.873 0-1.583-.711-1.583-1.584s.71-1.583 1.583-1.583h8.091c1.17 0 2.269-.625 2.867-1.632.247-.415.11-.952-.305-1.199-.417-.246-.953-.11-1.199.305-.289.486-.799.776-1.363.776H23.02c-.873 0-1.583-.71-1.583-1.583s.709-1.584 1.583-1.584z"/></svg>'},63365:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFDB5E" d="M34.956 18.084c0 .503-.12.975-.321 1.404-1.341 4.326-7.619 4.01-16.549 4.221-1.493.035-.639 1.798-.115 5.668.341 2.517-1.282 6.382-4.01 6.382-4.498 0-.171-3.548-4.148-12.322-2.125-4.688-6.875-2.062-6.875-6.771V5.948c0-1.833.18-3.595 2.758-3.885C8.195 1.781 7.633 0 11.238 0h18.044c1.838 0 3.333 1.496 3.333 3.334 0 .762-.267 1.456-.698 2.018 1.02.571 1.72 1.649 1.72 2.899 0 .76-.266 1.454-.696 2.015 1.023.57 1.725 1.649 1.725 2.901 0 .909-.368 1.733-.961 2.336.757.611 1.251 1.535 1.251 2.581z"/><path fill="#EE9547" d="M23.02 14.751h8.604c1.17 0 2.268.626 2.866 1.633.246.415.109.952-.307 1.199-.415.247-.952.108-1.199-.307-.283-.479-.806-.775-1.361-.775h-8.81c-.873 0-1.583.71-1.583 1.583s.71 1.583 1.583 1.583H28.7c.483 0 .875.392.875.875s-.392.875-.875.875h-5.888c-1.838 0-3.333-1.495-3.333-3.333 0-1.025.475-1.932 1.205-2.544-.615-.605-.998-1.445-.998-2.373 0-1.028.478-1.938 1.212-2.549-.611-.604-.99-1.441-.99-2.367 0-1.12.559-2.108 1.409-2.713-.524-.589-.852-1.356-.852-2.204 0-1.838 1.495-3.333 3.333-3.333h5.484c1.17 0 2.269.625 2.867 1.632.247.415.11.952-.305 1.199-.416.245-.953.11-1.199-.305-.285-.479-.808-.776-1.363-.776h-5.484c-.873 0-1.583.71-1.583 1.583s.71 1.583 1.583 1.583h6.506c1.17 0 2.27.626 2.867 1.633.247.416.11.953-.305 1.199-.419.251-.954.11-1.199-.305-.289-.487-.799-.777-1.363-.777h-7.063c-.873 0-1.583.711-1.583 1.584s.71 1.583 1.583 1.583h8.091c1.17 0 2.269.625 2.867 1.632.247.415.11.952-.305 1.199-.417.246-.953.11-1.199-.305-.289-.486-.799-.776-1.363-.776H23.02c-.873 0-1.583.71-1.583 1.583s.709 1.584 1.583 1.584z"/></svg>'},14534:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M16 18c-.419 0-.809-.265-.949-.684C14.848 16.717 14.034 15 13 15c-1.062 0-1.888 1.827-2.051 2.316-.175.523-.738.808-1.265.632-.524-.174-.807-.741-.632-1.265C9.177 16.307 10.356 13 13 13s3.823 3.307 3.949 3.684c.175.524-.108 1.091-.632 1.265-.106.034-.213.051-.317.051zm10 0c-.419 0-.809-.265-.948-.684C24.849 16.717 24.033 15 23 15c-1.062 0-1.889 1.827-2.052 2.316-.175.523-.736.808-1.265.632-.523-.174-.807-.741-.632-1.265C19.177 16.307 20.355 13 23 13s3.823 3.307 3.948 3.684c.175.524-.108 1.091-.632 1.265-.105.034-.212.051-.316.051zm-8 4c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-1.344 6.75-9 6.75S9 23 9 23z"/><path fill="#664500" d="M18 27.594c-3.596 0-6.272-.372-7.937-.745l-.825-1.871c.823.312 3.889.897 8.763.897 4.954 0 8.037-.616 8.864-.938l-.701 1.842c-1.634.38-4.419.815-8.164.815z"/></svg>'},22426:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="12.5" rx="2.5" ry="5.5"/><ellipse fill="#664500" cx="24.5" cy="12.5" rx="2.5" ry="5.5"/><path fill="#664500" d="M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z"/></svg>'},78393:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M18 22c-3.623 0-6.027-.422-9-1-.679-.131-2 0-2 2 0 4 4.595 9 11 9 6.404 0 11-5 11-9 0-2-1.321-2.132-2-2-2.973.578-5.377 1-9 1z"/><path fill="#FFF" d="M9 23s3 1 9 1 9-1 9-1-2 4-9 4-9-4-9-4z"/><path fill="#664500" d="M30.6 18.2c-.114-.085-1.931-1.426-4.646-2.344.026-.115.046-.233.046-.356 0-.369-.139-.703-.359-.964 1.802-.52 3.334-.536 3.361-.536.551-.002.998-.45.997-1.002-.001-.551-.447-.998-.999-.998-.221 0-5.451.038-8.707 3.293-.286.286-.372.716-.217 1.09.154.373.52.617.924.617 4.59 0 8.363 2.772 8.401 2.801.18.134.39.198.598.198.305 0 .605-.139.802-.4.33-.443.24-1.068-.201-1.399zm-14.893-2.907C12.452 12.038 7.221 12 7 12c-.552 0-.999.447-.999.998-.001.552.446 1 .998 1.002.026 0 1.558.016 3.361.536-.221.261-.36.595-.36.964 0 .123.019.241.047.356-2.716.918-4.533 2.259-4.647 2.344-.442.331-.531.958-.2 1.399.196.263.497.401.801.401.208 0 .419-.065.599-.2.037-.028 3.787-2.8 8.4-2.8.404 0 .769-.244.924-.617.155-.374.069-.804-.217-1.09z"/></svg>'},69861:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M27.335 22.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 23.472 11.788 28.5 18 28.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628zM26 19c-.419 0-.809-.265-.948-.684C24.849 17.717 24.033 16 23 16c-1.062 0-1.889 1.827-2.052 2.316-.175.523-.736.808-1.265.632-.523-.174-.807-.74-.632-1.265C19.177 17.307 20.355 14 23 14s3.823 3.307 3.948 3.684c.175.524-.108 1.091-.632 1.265-.105.034-.212.051-.316.051zm-10 0c-.419 0-.809-.265-.949-.684C14.848 17.717 14.034 16 13 16c-1.062 0-1.888 1.827-2.051 2.316-.175.523-.738.808-1.265.632-.524-.174-.807-.74-.632-1.265C9.177 17.307 10.355 14 13 14s3.823 3.307 3.949 3.684c.175.524-.108 1.091-.632 1.265-.106.034-.213.051-.317.051z"/><path fill="#FFAC33" d="M33.175 8.316s-9.042.161-15.175.161c-3.905 0-15.206-.118-15.206-.118l-.521.876c3.043 1.856 9.064 2.917 15.727 2.917 6.596 0 12.576-1.04 15.652-2.86l.078-.047s-.374-.664-.555-.929z"/><path fill="#5DADEC" d="M23.777.345c-1.212-.094-2.473-.159-3.773-.19C19.343.139 18.676.129 18 .129c-.672 0-1.336.01-1.993.025-1.302.031-2.564.096-3.777.19C5.34.88.169 2.451.169 5.287c0 3.588 8.264 5.771 17.831 5.771s17.831-2.183 17.831-5.771c0-2.835-5.168-4.405-12.054-4.942zM18 7.383c-6.861 0-12.91-.833-12.91-2.736 0-.536.494-1.023 1.339-1.449 1.153-.581 2.978-1.044 5.189-1.349 1.911-.262 4.098-.41 6.382-.41 2.291 0 4.485.148 6.4.413 2.242.31 4.086.783 5.232 1.377.807.418 1.278.894 1.278 1.418 0 1.903-6.049 2.736-12.91 2.736z"/><path fill="#3B94D9" d="M24.4 1.853c2.242.31 4.086.783 5.232 1.377l.062.017c-2.285-1.674-4.57-2.56-5.917-2.902-1.212-.094-2.473-.159-3.773-.19l.018.007L24.4 1.853zM6.429 3.199c1.153-.581 2.978-1.044 5.189-1.349L15.984.162l.023-.008c-1.302.031-2.564.096-3.777.19-1.347.342-3.633 1.227-5.919 2.902l.118-.047z"/><path fill="#FFCC4D" d="M28.472 3.375c-.66-.443-1.346-.91-2.001-1.26C23.947.765 21.063 0 18 0c-2.929 0-5.695.7-8.14 1.941-1.089.553-1.881.999-2.17 1.434h20.782z"/></svg>'},12239:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#AA8DD8" cx="18" cy="18" r="18"/><path fill="#AA8DD8" d="M10 4C7.42 4 4.369 1.534 3.414.586 2.843.014 1.981-.157 1.235.153.487.462 0 1.191 0 2c0 3.459 1.672 10 8 10 .757 0 1.45-.428 1.789-1.106l2-4c.31-.62.277-1.356-.088-1.946C11.337 4.359 10.693 4 10 4zM34.766.153c-.75-.311-1.607-.139-2.18.434C31.7 1.472 28.589 4 26 4c-.693 0-1.337.359-1.701.949-.364.589-.397 1.326-.088 1.946l2 4C26.55 11.572 27.242 12 28 12c6.328 0 8-6.541 8-10 0-.809-.487-1.538-1.234-1.847z"/><path fill="#553986" d="M27.335 25.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 26.472 11.788 31.5 18 31.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628zm-11.628-7.336C12.452 15.038 7.221 15 7 15c-.552 0-.999.447-.999.998-.001.552.446 1.001.998 1.002.029 0 1.925.022 3.983.737-.593.64-.982 1.634-.982 2.763 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-.174-.019-.34-.037-.507.013 0 .025.007.037.007.256 0 .512-.098.707-.293.391-.391.391-1.023 0-1.414zM29 15c-.221 0-5.451.038-8.707 3.293-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293.013 0 .024-.007.036-.007-.016.167-.036.333-.036.507 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-1.129-.389-2.123-.982-2.763 2.058-.715 3.954-.737 3.984-.737.551-.001.998-.45.997-1.002-.001-.551-.447-.998-.999-.998z"/></svg>'},79378:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M28.457 17.797c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.145.591.175.142.426.147.61.014.012-.009 1.262-.902 3.702-.902 2.426 0 3.674.881 3.702.901.088.066.194.099.298.099.11 0 .221-.037.312-.109.177-.142.238-.386.145-.594zM5.999 12.458c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4 3.262-4.35 7.616-4.4 7.8-4.4.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.156.002-3.569.086-6.205 3.6-.195.262-.496.4-.8.4zm23.002 2.125c-.305 0-.604-.138-.801-.4-2.592-3.457-6.961-2.627-7.004-2.62-.547.108-1.068-.243-1.177-.784-.108-.542.243-1.068.784-1.177.231-.047 5.657-1.072 8.996 3.38.332.442.242 1.069-.2 1.4-.179.137-.389.201-.598.201zm-5.747 8.994c-.188-.11-.432-.087-.597.06-.01.008-1.013.863-4.657.863-3.641 0-4.646-.854-4.646-.854-.159-.16-.404-.19-.6-.082-.195.111-.293.339-.238.557.01.044 1.144 4.379 5.484 4.379s5.474-4.335 5.485-4.379c.053-.213-.044-.431-.231-.544z"/></svg>'},74373:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#FFAC33" d="M32.093 29.177c-.218-.631-.559-1.217-1.044-1.702l-3.671-3.789c-.814 1.885-2.858 5.337-7.189 6.795l3.685 3.685c.214.214.453.406.709.573 2.973-1.169 5.556-3.1 7.51-5.562z"/><path fill="#664500" d="M6.999 17c-.15 0-.303-.034-.446-.105-.494-.247-.694-.848-.447-1.342C6.158 15.448 7.424 13 11 13c3.577 0 4.842 2.449 4.894 2.553.247.494.046 1.095-.447 1.342-.491.247-1.085.049-1.336-.436C14.067 16.378 13.28 15 11 15c-2.317 0-3.099 1.433-3.106 1.447-.175.351-.528.553-.895.553zM29 17c.15 0 .303-.034.446-.105.494-.247.694-.848.447-1.342-.052-.105-1.318-2.553-4.894-2.553-3.577 0-4.842 2.449-4.894 2.553-.247.494-.046 1.095.447 1.342.491.247 1.085.049 1.336-.436.044-.081.831-1.459 3.111-1.459 2.317 0 3.099 1.433 3.106 1.447.175.351.528.553.895.553zm.503 6.52c.323-.749.461-1.257.466-1.277.134-.534-.19-1.075-.725-1.21-.536-.136-1.077.188-1.215.723C27.955 22.051 26.081 29 18 29s-9.955-6.949-10.03-7.245c-.138-.534-.679-.858-1.215-.723-.534.135-.858.676-.725 1.21C6.052 22.33 8.331 31 18 31c1.65 0 3.07-.266 4.315-.685 4.33-1.458 6.374-4.91 7.188-6.795z"/><path fill="#E75A70" d="M33.175 27.309l-3.671-3.789c-.814 1.885-2.858 5.337-7.189 6.795L26 34c1.728 1.728 5 2 7 0s1.903-4.962.175-6.691z"/></svg>'},5541:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18S0 27.941 0 18 8.059 0 18 0s18 8.059 18 18"/><path fill-rule="evenodd" clip-rule="evenodd" fill="#292F33" d="M1.24 11.018c.24.239 1.438.957 1.677 1.675.24.717.72 4.784 2.158 5.981 1.483 1.232 7.077.774 8.148.24 2.397-1.195 2.691-4.531 3.115-6.221.239-.957 1.677-.957 1.677-.957s1.438 0 1.678.956c.424 1.691.72 5.027 3.115 6.221 1.072.535 6.666.994 8.151-.238 1.436-1.197 1.915-5.264 2.155-5.982.238-.717 1.438-1.435 1.677-1.674.241-.239.241-1.196 0-1.436-.479-.478-6.134-.904-12.223-.239-1.215.133-1.677.478-4.554.478-2.875 0-3.339-.346-4.553-.478-6.085-.666-11.741-.24-12.221.238-.239.239-.239 1.197 0 1.436z"/><path fill="#664500" d="M27.335 23.629c-.178-.161-.444-.171-.635-.029-.039.029-3.922 2.9-8.7 2.9-4.766 0-8.662-2.871-8.7-2.9-.191-.142-.457-.13-.635.029-.177.16-.217.424-.094.628C8.7 24.472 11.788 29.5 18 29.5s9.301-5.028 9.429-5.243c.123-.205.084-.468-.094-.628z"/></svg>'},87966:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M25 26H11c-.552 0-1-.447-1-1s.448-1 1-1h14c.553 0 1 .447 1 1s-.447 1-1 1z"/></svg>'},69860:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M12 28c2-5 13-5 13-3 0 1-8-1-13 3z"/></svg>'},92380:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><ellipse fill="#664500" cx="11.5" cy="15.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M28.457 17.797c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.145.591.175.142.426.147.61.014.012-.009 1.262-.902 3.702-.902 2.426 0 3.674.881 3.702.901.088.066.194.099.298.099.11 0 .221-.037.312-.109.177-.142.238-.386.145-.594zM5.999 11c-.208 0-.419-.065-.599-.2-.442-.331-.531-.958-.2-1.4C8.462 5.05 12.816 5 13 5c.552 0 1 .448 1 1 0 .551-.445.998-.996 1-.155.002-3.568.086-6.204 3.6-.196.262-.497.4-.801.4zm23.002 3c-.305 0-.604-.138-.801-.4-2.592-3.456-6.961-2.628-7.004-2.62-.547.11-1.068-.244-1.177-.784-.108-.541.243-1.068.784-1.177.231-.047 5.657-1.072 8.996 3.38.332.442.242 1.069-.2 1.4-.179.136-.389.201-.598.201zm-8.922 13.042c1.335-.412 2.629-1.156 2.629-2.5 0-2.619-4.912-2.968-5.472-2.999-.274-.026-.509.193-.527.468-.017.274.19.511.464.53.035.002 3.535.299 3.535 2.001s-3.5 1.999-3.535 2.001c-.014.001-.024.009-.037.011-.052.006-.101.018-.146.04l-.019.011c-.047.026-.088.057-.125.098-.014.015-.024.031-.036.048-.023.032-.044.063-.059.102-.012.029-.018.061-.024.092-.004.023-.016.044-.018.067 0 .011.004.021.004.031s-.005.021-.004.031c.001.024.013.045.018.068.006.031.011.061.023.09.013.03.031.057.049.084.017.024.032.05.052.071.023.023.05.041.078.061.024.017.046.034.074.047.032.015.066.021.101.027.024.006.044.018.069.02.035.002 3.535.299 3.535 2.001s-3.5 1.999-3.535 2.001c-.274.02-.481.257-.464.53.017.265.237.469.499.469l.028-.001c.56-.031 5.472-.38 5.472-2.999 0-1.345-1.294-2.089-2.629-2.501z"/><path fill="#FFAC33" d="M34.202 25.803c-.236-.79-.779-1.486-1.578-1.875-.922-.449-1.956-.391-2.793.06-.16-.936-.75-1.789-1.67-2.237-1.517-.74-3.348-.11-4.087 1.406-.105.215-.18.437-.23.659-.775 2.556.64 6.341 2.192 7.948 1.23.13 2.953-.198 4.513-.873 1.5-1.46 2.733-3.183 3.653-5.088z"/><path fill="#DD2E44" d="M35.654 27.222c.739-1.516.11-3.347-1.405-4.086-.922-.449-1.956-.391-2.793.06-.16-.936-.75-1.789-1.67-2.237-1.517-.74-3.348-.109-4.087 1.406-.105.215-.18.437-.23.659-.774 2.556.64 6.341 2.192 7.948 2.223.234 6.077-.979 7.615-3.161.145-.179.273-.374.378-.589z"/></svg>'},94475:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCB4C" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#65471B" d="M15.457 15.815c-.06-.135-1.499-3.297-4.457-3.297-2.957 0-4.397 3.162-4.457 3.297-.092.207-.032.449.144.591.177.143.427.147.61.014.013-.009 1.262-.902 3.703-.902 2.426 0 3.674.881 3.702.901.088.066.193.099.298.099.11 0 .221-.037.311-.109.179-.142.238-.386.146-.594z"/><path fill="#F4F7F9" d="M31 13.5c0 3.59-2.91 6.5-6.5 6.5S18 17.09 18 13.5 20.91 7 24.5 7 31 9.91 31 13.5z"/><circle fill="#292F33" cx="24.5" cy="13.5" r="2.5"/><path fill="#65471B" d="M7 21.262c0 3.964 4.596 9 11 9s11-5 11-9c0 0-10.333 2.756-22 0z"/><path fill="#E8596E" d="M18.545 23.604l-1.091-.005c-3.216-.074-5.454-.596-5.454-.596v6.961c0 3 2 6 6 6s6-3 6-6v-6.92c-1.922.394-3.787.542-5.455.56z"/><path fill="#DD2F45" d="M18 31.843c.301 0 .545-.244.545-.545v-7.694l-1.091-.005v7.699c.001.301.245.545.546.545z"/></svg>'},70881:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><circle fill="#FFCC4D" cx="18" cy="18" r="18"/><path fill="#664500" d="M23.485 28.879C23.474 28.835 22.34 24.5 18 24.5s-5.474 4.335-5.485 4.379c-.053.213.044.431.232.544.188.112.433.086.596-.06.009-.008 1.013-.863 4.657-.863 3.59 0 4.617.83 4.656.863.095.09.219.137.344.137.084 0 .169-.021.246-.064.196-.112.294-.339.239-.557zM11.226 15.512c-.317 0-.636.039-.947.116-2.87.707-3.513 4.121-3.539 4.267-.04.223.076.443.281.54.067.031.14.047.211.047.145 0 .287-.063.385-.18.01-.012 1.01-1.178 3.379-1.761.714-.176 1.412-.265 2.073-.265 1.104 0 1.732.253 1.735.254.067.028.131.04.207.04.272.012.509-.221.509-.5 0-.165-.08-.311-.203-.402-.367-.435-1.953-2.156-4.091-2.156zm13.548 0c.317 0 .636.039.947.116 2.87.707 3.513 4.121 3.539 4.267.04.223-.076.443-.281.54-.067.031-.14.047-.211.047-.145 0-.287-.063-.385-.18-.01-.012-1.01-1.178-3.379-1.761-.714-.176-1.412-.265-2.073-.265-1.104 0-1.731.253-1.735.254-.067.028-.131.04-.206.04-.272.012-.509-.221-.509-.5 0-.165.08-.311.203-.402.366-.435 1.952-2.156 4.09-2.156z"/></svg>'},44544:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#DA2F47" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#292F33" d="M25.485 29.879C25.44 29.7 24.317 25.5 18 25.5c-6.318 0-7.44 4.2-7.485 4.379-.055.217.043.442.237.554.195.109.439.079.6-.077.019-.019 1.954-1.856 6.648-1.856s6.63 1.837 6.648 1.855c.096.095.224.145.352.145.084 0 .169-.021.246-.064.196-.112.294-.339.239-.557zm-9.778-12.586C12.452 14.038 7.221 14 7 14c-.552 0-.999.447-.999.998-.001.552.446 1 .998 1.002.029 0 1.925.022 3.983.737-.593.64-.982 1.634-.982 2.763 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-.174-.019-.34-.037-.507.013 0 .025.007.037.007.256 0 .512-.098.707-.293.391-.391.391-1.023 0-1.414zM29 14c-.221 0-5.451.038-8.707 3.293-.391.391-.391 1.023 0 1.414.195.195.451.293.707.293.013 0 .024-.007.036-.007-.016.167-.036.333-.036.507 0 1.934 1.119 3.5 2.5 3.5s2.5-1.566 2.5-3.5c0-1.129-.389-2.123-.982-2.763 2.058-.715 3.954-.737 3.984-.737.551-.002.998-.45.997-1.002-.001-.551-.447-.998-.999-.998z"/></svg>'},67567:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><ellipse fill="#664500" cx="11.5" cy="16.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24.5" cy="16.5" rx="2.5" ry="3.5"/><path fill="#664500" d="M23.485 27.879C23.474 27.835 22.34 23.5 18 23.5s-5.474 4.335-5.485 4.379c-.053.213.044.431.232.544.188.112.433.086.596-.06.009-.007 1.013-.863 4.657-.863 3.59 0 4.617.83 4.656.863.095.091.219.137.344.137.084 0 .169-.021.246-.064.196-.111.294-.339.239-.557z"/><path fill="#5DADEC" d="M10 30c0 2.762-2.238 5-5 5s-5-2.238-5-5 4-10 5-10 5 7.238 5 10z"/><path fill="#664500" d="M30 13c-5.554 0-7.802-4.367-7.895-4.553-.247-.494-.047-1.095.447-1.342.492-.247 1.092-.048 1.34.443C23.967 7.694 25.713 11 30 11c.553 0 1 .448 1 1 0 .553-.447 1-1 1zM6 13c-.552 0-1-.448-1-1s.448-1 1-1c5.083 0 5.996-3.12 6.033-3.253.145-.528.69-.848 1.219-.709.53.139.851.673.718 1.205C13.921 8.437 12.704 13 6 13z"/></svg>'},57737:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18-9.94 0-18-8.059-18-18C0 8.06 8.06 0 18 0c9.941 0 18 8.06 18 18"/><path fill="#664500" d="M16.664 10.543c-.207-.09-.451-.03-.592.148-.009.012-.979 1.202-3.335 1.844-.775.212-1.531.319-2.245.319-.992 0-1.559-.212-1.562-.213-.21-.085-.453-.014-.587.169-.135.184-.128.435.016.612.071.087 1.78 2.147 4.125 2.147.351 0 .702-.047 1.043-.14 2.854-.778 3.41-4.208 3.432-4.354.034-.223-.087-.441-.295-.532zm10.975 2.155c-.138-.181-.38-.245-.59-.159-.006.003-.633.256-1.737.256-.661 0-1.358-.089-2.073-.265-2.369-.583-3.369-1.749-3.377-1.758-.146-.176-.388-.233-.596-.137-.207.095-.323.318-.283.542.026.145.668 3.56 3.539 4.267.311.077.629.116.946.116 2.396 0 4.099-2.16 4.17-2.252.138-.181.137-.43.001-.61zM9.998 10c-.448 0-.855-.303-.969-.757-.133-.535.191-1.077.724-1.212.036-.009 3.593-.961 5.352-4.478.247-.494.846-.695 1.342-.447.494.247.694.848.447 1.342-2.181 4.361-6.471 5.477-6.652 5.523-.081.02-.163.029-.244.029zM26 10c-.08 0-.161-.01-.242-.03-.182-.045-4.472-1.162-6.652-5.523-.247-.494-.047-1.095.447-1.342.493-.247 1.094-.047 1.342.447 1.758 3.517 5.315 4.469 5.352 4.478.533.137.857.681.722 1.215-.116.453-.522.755-.969.755zm-8 18.965c-3.623 0-6.027.422-9 1-.679.131-2 0-2-2 0-4 4.595-9 11-9 6.404 0 11 5 11 9 0 2-1.321 2.132-2 2-2.973-.578-5.377-1-9-1z"/><path fill="#FFF" d="M10 25s3-1 8-1 8 1 8 1-2-4-8-4-8 4-8 4z"/></svg>'},45152:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#FFCC4D" d="M36 18c0 9.941-8.059 18-18 18S0 27.941 0 18 8.059 0 18 0s18 8.059 18 18"/><ellipse fill="#664500" cx="18" cy="25" rx="4" ry="5"/><ellipse fill="#664500" cx="12" cy="13.5" rx="2.5" ry="3.5"/><ellipse fill="#664500" cx="24" cy="13.5" rx="2.5" ry="3.5"/></svg>'},22783:function(e,t,n){"use strict";n.r(t),t.default='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path fill="#C1CDD5" d="M36 19.854C33.518 9.923 25.006 1.909 16.031 6.832c0 0-4.522-1.496-5.174-1.948-.635-.44-1.635-.904-.912.436.423.782.875 1.672 2.403 3.317C8 12.958 9.279 18.262 7.743 21.75c-1.304 2.962-2.577 4.733-1.31 6.976 1.317 2.33 4.729 3.462 7.018 1.06 1.244-1.307.471-1.937 3.132-4.202 2.723-.543 4.394-1.791 4.394-4.375 0 0 .795-.382 1.826 6.009.456 2.818-.157 5.632-.039 8.783H36V19.854z"/><path fill="#60379A" d="M31.906 6.062c.531 1.312.848 3.71.595 5.318-.15-3.923-3.188-6.581-4.376-7.193-2.202-1.137-4.372-.979-6.799-.772.111.168.403.814.32 1.547-.479-.875-1.604-1.42-2.333-1.271-1.36.277-2.561.677-3.475 1.156-.504.102-1.249.413-2.372 1.101-1.911 1.171-4.175 4.338-6.737 3.511 1.042 2.5 3.631 1.845 3.631 1.845 1.207-1.95 4.067-3.779 6.168-4.452 7.619-1.745 12.614 3.439 15.431 9.398.768 1.625 2.611 7.132 4.041 10.292V10.956c-.749-1.038-1.281-3.018-4.094-4.894z"/><path fill="#C1CDD5" d="M13.789 3.662c.573.788 3.236.794 4.596 3.82 1.359 3.026-1.943 2.63-3.14 1.23-1.334-1.561-1.931-2.863-2.165-3.992-.124-.596-.451-2.649.709-1.058z"/><path fill="#758795" d="M14.209 4.962c.956.573 2.164 1.515 2.517 2.596.351 1.081-.707.891-1.349-.042-.641-.934-.94-1.975-1.285-2.263-.346-.289.117-.291.117-.291z"/><circle fill="#292F33" cx="15.255" cy="14.565" r=".946"/><path fill="#53626C" d="M8.63 26.877c.119.658-.181 1.263-.67 1.351-.49.089-.984-.372-1.104-1.03-.119-.659.182-1.265.671-1.354.49-.088.984.373 1.103 1.033z"/><path fill="#EE7C0E" d="M13.844 8.124l.003-.002-.005-.007-.016-.014c-.008-.007-.011-.019-.019-.025-.009-.007-.021-.011-.031-.018C12.621 7.078.933-.495.219.219-.51.948 10.443 9.742 11.149 10.28l.011.006.541.439c.008.007.01.018.018.024.013.01.028.015.042.024l.047.038-.009-.016c.565.361 1.427.114 1.979-.592.559-.715.577-1.625.066-2.079z"/><path fill="#C43512" d="M4.677 2.25l.009-.025c-.301-.174-.594-.341-.878-.5-.016.038-.022.069-.041.11-.112.243-.256.484-.429.716-.166.224-.349.424-.541.595-.02.018-.036.026-.056.043.238.22.489.446.745.676.234-.21.456-.449.654-.717.214-.287.395-.589.537-.898zm2.275 2.945c.306-.41.521-.822.66-1.212-.292-.181-.584-.36-.876-.538-.076.298-.247.699-.586 1.152-.31.417-.613.681-.864.845.259.223.52.445.779.665.314-.244.619-.552.887-.912zM9.87 7.32c.365-.49.609-.983.734-1.437l-.906-.586c-.023.296-.172.81-.631 1.425-.412.554-.821.847-1.1.978l.814.671c.381-.256.761-.611 1.089-1.051z"/></svg>'},69590:function(e){var t="undefined"!=typeof Element,n="function"==typeof Map,a="function"==typeof Set,i="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,r){if(e===r)return!0;if(e&&r&&"object"==typeof e&&"object"==typeof r){if(e.constructor!==r.constructor)return!1;var s,l,u,c;if(Array.isArray(e)){if((s=e.length)!=r.length)return!1;for(l=s;0!=l--;)if(!o(e[l],r[l]))return!1;return!0}if(n&&e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!r.has(l.value[0]))return!1;for(c=e.entries();!(l=c.next()).done;)if(!o(l.value[1],r.get(l.value[0])))return!1;return!0}if(a&&e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(c=e.entries();!(l=c.next()).done;)if(!r.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if((s=e.length)!=r.length)return!1;for(l=s;0!=l--;)if(e[l]!==r[l])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if((s=(u=Object.keys(e)).length)!==Object.keys(r).length)return!1;for(l=s;0!=l--;)if(!Object.prototype.hasOwnProperty.call(r,u[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!=l--;)if(("_owner"!==u[l]&&"__v"!==u[l]&&"__o"!==u[l]||!e.$$typeof)&&!o(e[u[l]],r[u[l]]))return!1;return!0}return e!=e&&r!=r}e.exports=function(e,t){try{return o(e,t)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},69921:function(e,t){"use strict";var n=60103,a=60106,i=60107,o=60108,r=60114,s=60109,l=60110,u=60112,c=60113,d=60120,f=60115,p=60116,h=60121,g=60122,m=60117,_=60129,v=60131;
/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */if("function"==typeof Symbol&&Symbol.for){var b=Symbol.for;n=b("react.element"),a=b("react.portal"),i=b("react.fragment"),o=b("react.strict_mode"),r=b("react.profiler"),s=b("react.provider"),l=b("react.context"),u=b("react.forward_ref"),c=b("react.suspense"),d=b("react.suspense_list"),f=b("react.memo"),p=b("react.lazy"),h=b("react.block"),g=b("react.server.block"),m=b("react.fundamental"),_=b("react.debug_trace_mode"),v=b("react.legacy_hidden")}function y(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case r:case o:case c:case d:return e;default:switch(e=e&&e.$$typeof){case l:case u:case p:case f:case s:return e;default:return t}}case a:return t}}}t.isContextConsumer=function(e){return y(e)===l}},59864:function(e,t,n){"use strict";e.exports=n(69921)},85455:function(e,t,n){"use strict";n.r(t),n.d(t,{Manager:function(){return r},Popper:function(){return Me},Reference:function(){return Pe},usePopper:function(){return Oe}});var a=n(98661),i=a.createContext(),o=a.createContext();function r(e){var t=e.children,n=a.useState(null),r=n[0],s=n[1],l=a.useRef(!1);a.useEffect((function(){return function(){l.current=!0}}),[]);var u=a.useCallback((function(e){l.current||s(e)}),[]);return a.createElement(i.Provider,{value:r},a.createElement(o.Provider,{value:u},t))}var s=function(e){return Array.isArray(e)?e[0]:e},l=function(e){if("function"==typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return e.apply(void 0,n)}},u=function(e,t){if("function"==typeof e)return l(e,t);null!=e&&(e.current=t)},c=function(e){return e.reduce((function(e,t){var n=t[0],a=t[1];return e[n]=a,e}),{})},d="undefined"!=typeof window&&window.document&&window.document.createElement?a.useLayoutEffect:a.useEffect;function f(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function p(e){return e instanceof f(e).Element||e instanceof Element}function h(e){return e instanceof f(e).HTMLElement||e instanceof HTMLElement}function g(e){return"undefined"!=typeof ShadowRoot&&(e instanceof f(e).ShadowRoot||e instanceof ShadowRoot)}var m=Math.max,_=Math.min,v=Math.round;function b(e,t){void 0===t&&(t=!1);var n=e.getBoundingClientRect(),a=1,i=1;if(h(e)&&t){var o=e.offsetHeight,r=e.offsetWidth;r>0&&(a=v(n.width)/r||1),o>0&&(i=v(n.height)/o||1)}return{width:n.width/a,height:n.height/i,top:n.top/i,right:n.right/a,bottom:n.bottom/i,left:n.left/a,x:n.left/a,y:n.top/i}}function y(e){var t=f(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function E(e){return e?(e.nodeName||"").toLowerCase():null}function T(e){return((p(e)?e.ownerDocument:e.document)||window.document).documentElement}function C(e){return b(T(e)).left+y(e).scrollLeft}function S(e){return f(e).getComputedStyle(e)}function O(e){var t=S(e),n=t.overflow,a=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+a)}function A(e,t,n){void 0===n&&(n=!1);var a,i,o=h(t),r=h(t)&&function(e){var t=e.getBoundingClientRect(),n=v(t.width)/e.offsetWidth||1,a=v(t.height)/e.offsetHeight||1;return 1!==n||1!==a}(t),s=T(t),l=b(e,r),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(o||!o&&!n)&&(("body"!==E(t)||O(s))&&(u=(a=t)!==f(a)&&h(a)?{scrollLeft:(i=a).scrollLeft,scrollTop:i.scrollTop}:y(a)),h(t)?((c=b(t,!0)).x+=t.clientLeft,c.y+=t.clientTop):s&&(c.x=C(s))),{x:l.left+u.scrollLeft-c.x,y:l.top+u.scrollTop-c.y,width:l.width,height:l.height}}function w(e){var t=b(e),n=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:a}}function I(e){return"html"===E(e)?e:e.assignedSlot||e.parentNode||(g(e)?e.host:null)||T(e)}function M(e){return["html","body","#document"].indexOf(E(e))>=0?e.ownerDocument.body:h(e)&&O(e)?e:M(I(e))}function R(e,t){var n;void 0===t&&(t=[]);var a=M(e),i=a===(null==(n=e.ownerDocument)?void 0:n.body),o=f(a),r=i?[o].concat(o.visualViewport||[],O(a)?a:[]):a,s=t.concat(r);return i?s:s.concat(R(I(r)))}function N(e){return["table","td","th"].indexOf(E(e))>=0}function P(e){return h(e)&&"fixed"!==S(e).position?e.offsetParent:null}function D(e){for(var t=f(e),n=P(e);n&&N(n)&&"static"===S(n).position;)n=P(n);return n&&("html"===E(n)||"body"===E(n)&&"static"===S(n).position)?t:n||function(e){var t=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&h(e)&&"fixed"===S(e).position)return null;var n=I(e);for(g(n)&&(n=n.host);h(n)&&["html","body"].indexOf(E(n))<0;){var a=S(n);if("none"!==a.transform||"none"!==a.perspective||"paint"===a.contain||-1!==["transform","perspective"].indexOf(a.willChange)||t&&"filter"===a.willChange||t&&a.filter&&"none"!==a.filter)return n;n=n.parentNode}return null}(e)||t}var L="top",k="bottom",x="right",B="left",j="auto",F=[L,k,x,B],H="start",U="end",W="viewport",G="popper",z=F.reduce((function(e,t){return e.concat([t+"-"+H,t+"-"+U])}),[]),V=[].concat(F,[j]).reduce((function(e,t){return e.concat([t,t+"-"+H,t+"-"+U])}),[]),q=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function $(e){var t=new Map,n=new Set,a=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var a=t.get(e);a&&i(a)}})),a.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),a}var K={placement:"bottom",modifiers:[],strategy:"absolute"};function Y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"==typeof e.getBoundingClientRect)}))}function X(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,a=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?K:i;return function(e,t,n){void 0===n&&(n=o);var i,r,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},K,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},l=[],u=!1,c={state:s,setOptions:function(n){var i="function"==typeof n?n(s.options):n;d(),s.options=Object.assign({},o,s.options,i),s.scrollParents={reference:p(e)?R(e):e.contextElement?R(e.contextElement):[],popper:R(t)};var r=function(e){var t=$(e);return q.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(a,s.options.modifiers)));return s.orderedModifiers=r.filter((function(e){return e.enabled})),s.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,a=void 0===n?{}:n,i=e.effect;if("function"==typeof i){var o=i({state:s,name:t,instance:c,options:a}),r=function(){};l.push(o||r)}})),c.update()},forceUpdate:function(){if(!u){var e=s.elements,t=e.reference,n=e.popper;if(Y(t,n)){s.rects={reference:A(t,D(n),"fixed"===s.options.strategy),popper:w(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(e){return s.modifiersData[e.name]=Object.assign({},e.data)}));for(var a=0;a<s.orderedModifiers.length;a++)if(!0!==s.reset){var i=s.orderedModifiers[a],o=i.fn,r=i.options,l=void 0===r?{}:r,d=i.name;"function"==typeof o&&(s=o({state:s,options:l,name:d,instance:c})||s)}else s.reset=!1,a=-1}}},update:(i=function(){return new Promise((function(e){c.forceUpdate(),e(s)}))},function(){return r||(r=new Promise((function(e){Promise.resolve().then((function(){r=void 0,e(i())}))}))),r}),destroy:function(){d(),u=!0}};if(!Y(e,t))return c;function d(){l.forEach((function(e){return e()})),l=[]}return c.setOptions(n).then((function(e){!u&&n.onFirstUpdate&&n.onFirstUpdate(e)})),c}}var Z={passive:!0};function J(e){return e.split("-")[0]}function Q(e){return e.split("-")[1]}function ee(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function te(e){var t,n=e.reference,a=e.element,i=e.placement,o=i?J(i):null,r=i?Q(i):null,s=n.x+n.width/2-a.width/2,l=n.y+n.height/2-a.height/2;switch(o){case L:t={x:s,y:n.y-a.height};break;case k:t={x:s,y:n.y+n.height};break;case x:t={x:n.x+n.width,y:l};break;case B:t={x:n.x-a.width,y:l};break;default:t={x:n.x,y:n.y}}var u=o?ee(o):null;if(null!=u){var c="y"===u?"height":"width";switch(r){case H:t[u]=t[u]-(n[c]/2-a[c]/2);break;case U:t[u]=t[u]+(n[c]/2-a[c]/2)}}return t}var ne={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ae(e){var t,n=e.popper,a=e.popperRect,i=e.placement,o=e.variation,r=e.offsets,s=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,p=r.x,h=void 0===p?0:p,g=r.y,m=void 0===g?0:g,_="function"==typeof c?c({x:h,y:m}):{x:h,y:m};h=_.x,m=_.y;var b=r.hasOwnProperty("x"),y=r.hasOwnProperty("y"),E=B,C=L,O=window;if(u){var A=D(n),w="clientHeight",I="clientWidth";if(A===f(n)&&"static"!==S(A=T(n)).position&&"absolute"===s&&(w="scrollHeight",I="scrollWidth"),i===L||(i===B||i===x)&&o===U)C=k,m-=(d&&A===O&&O.visualViewport?O.visualViewport.height:A[w])-a.height,m*=l?1:-1;if(i===B||(i===L||i===k)&&o===U)E=x,h-=(d&&A===O&&O.visualViewport?O.visualViewport.width:A[I])-a.width,h*=l?1:-1}var M,R=Object.assign({position:s},u&&ne),N=!0===c?function(e){var t=e.x,n=e.y,a=window.devicePixelRatio||1;return{x:v(t*a)/a||0,y:v(n*a)/a||0}}({x:h,y:m}):{x:h,y:m};return h=N.x,m=N.y,l?Object.assign({},R,((M={})[C]=y?"0":"",M[E]=b?"0":"",M.transform=(O.devicePixelRatio||1)<=1?"translate("+h+"px, "+m+"px)":"translate3d("+h+"px, "+m+"px, 0)",M)):Object.assign({},R,((t={})[C]=y?m+"px":"",t[E]=b?h+"px":"",t.transform="",t))}var ie={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,a=e.name,i=n.offset,o=void 0===i?[0,0]:i,r=V.reduce((function(e,n){return e[n]=function(e,t,n){var a=J(e),i=[B,L].indexOf(a)>=0?-1:1,o="function"==typeof n?n(Object.assign({},t,{placement:e})):n,r=o[0],s=o[1];return r=r||0,s=(s||0)*i,[B,x].indexOf(a)>=0?{x:s,y:r}:{x:r,y:s}}(n,t.rects,o),e}),{}),s=r[t.placement],l=s.x,u=s.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[a]=r}},oe={left:"right",right:"left",bottom:"top",top:"bottom"};function re(e){return e.replace(/left|right|bottom|top/g,(function(e){return oe[e]}))}var se={start:"end",end:"start"};function le(e){return e.replace(/start|end/g,(function(e){return se[e]}))}function ue(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&g(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function ce(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function de(e,t){return t===W?ce(function(e){var t=f(e),n=T(e),a=t.visualViewport,i=n.clientWidth,o=n.clientHeight,r=0,s=0;return a&&(i=a.width,o=a.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(r=a.offsetLeft,s=a.offsetTop)),{width:i,height:o,x:r+C(e),y:s}}(e)):p(t)?function(e){var t=b(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}(t):ce(function(e){var t,n=T(e),a=y(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=m(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),r=m(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-a.scrollLeft+C(e),l=-a.scrollTop;return"rtl"===S(i||n).direction&&(s+=m(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:r,x:s,y:l}}(T(e)))}function fe(e,t,n){var a="clippingParents"===t?function(e){var t=R(I(e)),n=["absolute","fixed"].indexOf(S(e).position)>=0&&h(e)?D(e):e;return p(n)?t.filter((function(e){return p(e)&&ue(e,n)&&"body"!==E(e)})):[]}(e):[].concat(t),i=[].concat(a,[n]),o=i[0],r=i.reduce((function(t,n){var a=de(e,n);return t.top=m(a.top,t.top),t.right=_(a.right,t.right),t.bottom=_(a.bottom,t.bottom),t.left=m(a.left,t.left),t}),de(e,o));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function pe(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function he(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}function ge(e,t){void 0===t&&(t={});var n=t,a=n.placement,i=void 0===a?e.placement:a,o=n.boundary,r=void 0===o?"clippingParents":o,s=n.rootBoundary,l=void 0===s?W:s,u=n.elementContext,c=void 0===u?G:u,d=n.altBoundary,f=void 0!==d&&d,h=n.padding,g=void 0===h?0:h,m=pe("number"!=typeof g?g:he(g,F)),_=c===G?"reference":G,v=e.rects.popper,y=e.elements[f?_:c],E=fe(p(y)?y:y.contextElement||T(e.elements.popper),r,l),C=b(e.elements.reference),S=te({reference:C,element:v,strategy:"absolute",placement:i}),O=ce(Object.assign({},v,S)),A=c===G?O:C,w={top:E.top-A.top+m.top,bottom:A.bottom-E.bottom+m.bottom,left:E.left-A.left+m.left,right:A.right-E.right+m.right},I=e.modifiersData.offset;if(c===G&&I){var M=I[i];Object.keys(w).forEach((function(e){var t=[x,k].indexOf(e)>=0?1:-1,n=[L,k].indexOf(e)>=0?"y":"x";w[e]+=M[n]*t}))}return w}function me(e,t,n){return m(e,_(t,n))}var _e={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name,i=n.mainAxis,o=void 0===i||i,r=n.altAxis,s=void 0!==r&&r,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,p=void 0===f||f,h=n.tetherOffset,g=void 0===h?0:h,v=ge(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),b=J(t.placement),y=Q(t.placement),E=!y,T=ee(b),C="x"===T?"y":"x",S=t.modifiersData.popperOffsets,O=t.rects.reference,A=t.rects.popper,I="function"==typeof g?g(Object.assign({},t.rects,{placement:t.placement})):g,M="number"==typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),R=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,N={x:0,y:0};if(S){if(o){var P,j="y"===T?L:B,F="y"===T?k:x,U="y"===T?"height":"width",W=S[T],G=W+v[j],z=W-v[F],V=p?-A[U]/2:0,q=y===H?O[U]:A[U],$=y===H?-A[U]:-O[U],K=t.elements.arrow,Y=p&&K?w(K):{width:0,height:0},X=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},Z=X[j],te=X[F],ne=me(0,O[U],Y[U]),ae=E?O[U]/2-V-ne-Z-M.mainAxis:q-ne-Z-M.mainAxis,ie=E?-O[U]/2+V+ne+te+M.mainAxis:$+ne+te+M.mainAxis,oe=t.elements.arrow&&D(t.elements.arrow),re=oe?"y"===T?oe.clientTop||0:oe.clientLeft||0:0,se=null!=(P=null==R?void 0:R[T])?P:0,le=W+ie-se,ue=me(p?_(G,W+ae-se-re):G,W,p?m(z,le):z);S[T]=ue,N[T]=ue-W}if(s){var ce,de="x"===T?L:B,fe="x"===T?k:x,pe=S[C],he="y"===C?"height":"width",_e=pe+v[de],ve=pe-v[fe],be=-1!==[L,B].indexOf(b),ye=null!=(ce=null==R?void 0:R[C])?ce:0,Ee=be?_e:pe-O[he]-A[he]-ye+M.altAxis,Te=be?pe+O[he]+A[he]-ye-M.altAxis:ve,Ce=p&&be?function(e,t,n){var a=me(e,t,n);return a>n?n:a}(Ee,pe,Te):me(p?Ee:_e,pe,p?Te:ve);S[C]=Ce,N[C]=Ce-pe}t.modifiersData[a]=N}},requiresIfExists:["offset"]};var ve={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,a=e.name,i=e.options,o=n.elements.arrow,r=n.modifiersData.popperOffsets,s=J(n.placement),l=ee(s),u=[B,x].indexOf(s)>=0?"height":"width";if(o&&r){var c=function(e,t){return pe("number"!=typeof(e="function"==typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:he(e,F))}(i.padding,n),d=w(o),f="y"===l?L:B,p="y"===l?k:x,h=n.rects.reference[u]+n.rects.reference[l]-r[l]-n.rects.popper[u],g=r[l]-n.rects.reference[l],m=D(o),_=m?"y"===l?m.clientHeight||0:m.clientWidth||0:0,v=h/2-g/2,b=c[f],y=_-d[u]-c[p],E=_/2-d[u]/2+v,T=me(b,E,y),C=l;n.modifiersData[a]=((t={})[C]=T,t.centerOffset=T-E,t)}},effect:function(e){var t=e.state,n=e.options.element,a=void 0===n?"[data-popper-arrow]":n;null!=a&&("string"!=typeof a||(a=t.elements.popper.querySelector(a)))&&ue(t.elements.popper,a)&&(t.elements.arrow=a)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function be(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function ye(e){return[L,x,k,B].some((function(t){return e[t]>=0}))}var Ee=X({defaultModifiers:[{name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,a=e.options,i=a.scroll,o=void 0===i||i,r=a.resize,s=void 0===r||r,l=f(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&u.forEach((function(e){e.addEventListener("scroll",n.update,Z)})),s&&l.addEventListener("resize",n.update,Z),function(){o&&u.forEach((function(e){e.removeEventListener("scroll",n.update,Z)})),s&&l.removeEventListener("resize",n.update,Z)}},data:{}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=te({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,a=n.gpuAcceleration,i=void 0===a||a,o=n.adaptive,r=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,u={placement:J(t.placement),variation:Q(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,ae(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:r,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,ae(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}},{name:"applyStyles",enabled:!0,phase:"write",fn:function(e){var t=e.state;Object.keys(t.elements).forEach((function(e){var n=t.styles[e]||{},a=t.attributes[e]||{},i=t.elements[e];h(i)&&E(i)&&(Object.assign(i.style,n),Object.keys(a).forEach((function(e){var t=a[e];!1===t?i.removeAttribute(e):i.setAttribute(e,!0===t?"":t)})))}))},effect:function(e){var t=e.state,n={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,n.popper),t.styles=n,t.elements.arrow&&Object.assign(t.elements.arrow.style,n.arrow),function(){Object.keys(t.elements).forEach((function(e){var a=t.elements[e],i=t.attributes[e]||{},o=Object.keys(t.styles.hasOwnProperty(e)?t.styles[e]:n[e]).reduce((function(e,t){return e[t]="",e}),{});h(a)&&E(a)&&(Object.assign(a.style,o),Object.keys(i).forEach((function(e){a.removeAttribute(e)})))}))}},requires:["computeStyles"]},ie,{name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var i=n.mainAxis,o=void 0===i||i,r=n.altAxis,s=void 0===r||r,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=void 0===p||p,g=n.allowedAutoPlacements,m=t.options.placement,_=J(m),v=l||(_===m||!h?[re(m)]:function(e){if(J(e)===j)return[];var t=re(e);return[le(e),t,le(t)]}(m)),b=[m].concat(v).reduce((function(e,n){return e.concat(J(n)===j?function(e,t){void 0===t&&(t={});var n=t,a=n.placement,i=n.boundary,o=n.rootBoundary,r=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?V:l,c=Q(a),d=c?s?z:z.filter((function(e){return Q(e)===c})):F,f=d.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=ge(e,{placement:n,boundary:i,rootBoundary:o,padding:r})[J(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:g}):n)}),[]),y=t.rects.reference,E=t.rects.popper,T=new Map,C=!0,S=b[0],O=0;O<b.length;O++){var A=b[O],w=J(A),I=Q(A)===H,M=[L,k].indexOf(w)>=0,R=M?"width":"height",N=ge(t,{placement:A,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),P=M?I?x:B:I?k:L;y[R]>E[R]&&(P=re(P));var D=re(P),U=[];if(o&&U.push(N[w]<=0),s&&U.push(N[P]<=0,N[D]<=0),U.every((function(e){return e}))){S=A,C=!1;break}T.set(A,U)}if(C)for(var W=function(e){var t=b.find((function(t){var n=T.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},G=h?3:1;G>0;G--){if("break"===W(G))break}t.placement!==S&&(t.modifiersData[a]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},_e,ve,{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,a=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,r=ge(t,{elementContext:"reference"}),s=ge(t,{altBoundary:!0}),l=be(r,a),u=be(s,i,o),c=ye(l),d=ye(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}}]}),Te=n(69590),Ce=n.n(Te),Se=[],Oe=function(e,t,n){void 0===n&&(n={});var i=a.useRef(null),o={onFirstUpdate:n.onFirstUpdate,placement:n.placement||"bottom",strategy:n.strategy||"absolute",modifiers:n.modifiers||Se},r=a.useState({styles:{popper:{position:o.strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=r[0],l=r[1],u=a.useMemo((function(){return{name:"updateState",enabled:!0,phase:"write",fn:function(e){var t=e.state,n=Object.keys(t.elements);a.flushSync((function(){l({styles:c(n.map((function(e){return[e,t.styles[e]||{}]}))),attributes:c(n.map((function(e){return[e,t.attributes[e]]})))})}))},requires:["computeStyles"]}}),[]),f=a.useMemo((function(){var e={onFirstUpdate:o.onFirstUpdate,placement:o.placement,strategy:o.strategy,modifiers:[].concat(o.modifiers,[u,{name:"applyStyles",enabled:!1}])};return Ce()(i.current,e)?i.current||e:(i.current=e,e)}),[o.onFirstUpdate,o.placement,o.strategy,o.modifiers,u]),p=a.useRef();return d((function(){p.current&&p.current.setOptions(f)}),[f]),d((function(){if(null!=e&&null!=t){var a=(n.createPopper||Ee)(e,t,f);return p.current=a,function(){a.destroy(),p.current=null}}}),[e,t,n.createPopper]),{state:p.current?p.current.state:null,styles:s.styles,attributes:s.attributes,update:p.current?p.current.update:null,forceUpdate:p.current?p.current.forceUpdate:null}},Ae=function(){},we=function(){return Promise.resolve(null)},Ie=[];function Me(e){var t=e.placement,n=void 0===t?"bottom":t,o=e.strategy,r=void 0===o?"absolute":o,l=e.modifiers,c=void 0===l?Ie:l,d=e.referenceElement,f=e.onFirstUpdate,p=e.innerRef,h=e.children,g=a.useContext(i),m=a.useState(null),_=m[0],v=m[1],b=a.useState(null),y=b[0],E=b[1];a.useEffect((function(){u(p,_)}),[p,_]);var T=a.useMemo((function(){return{placement:n,strategy:r,onFirstUpdate:f,modifiers:[].concat(c,[{name:"arrow",enabled:null!=y,options:{element:y}}])}}),[n,r,f,c,y]),C=Oe(d||g,_,T),S=C.state,O=C.styles,A=C.forceUpdate,w=C.update,I=a.useMemo((function(){return{ref:v,style:O.popper,placement:S?S.placement:n,hasPopperEscaped:S&&S.modifiersData.hide?S.modifiersData.hide.hasPopperEscaped:null,isReferenceHidden:S&&S.modifiersData.hide?S.modifiersData.hide.isReferenceHidden:null,arrowProps:{style:O.arrow,ref:E},forceUpdate:A||Ae,update:w||we}}),[v,E,n,S,O,w,A]);return s(h)(I)}var Re=n(42473),Ne=n.n(Re);function Pe(e){var t=e.children,n=e.innerRef,i=a.useContext(o),r=a.useCallback((function(e){u(n,e),l(i,e)}),[n,i]);return a.useEffect((function(){return function(){return u(n,null)}}),[]),a.useEffect((function(){Ne()(Boolean(i),"`Reference` should not be used outside of a `Manager` component.")}),[i]),s(t)({ref:r})}},88928:function(e,t,n){"use strict";n.r(t),n.d(t,{Provider:function(){return c},ReactReduxContext:function(){return i},batch:function(){return a.unstable_batchedUpdates},connect:function(){return G},connectAdvanced:function(){return O},createDispatchHook:function(){return $},createSelectorHook:function(){return X},createStoreHook:function(){return V},shallowEqual:function(){return w},useDispatch:function(){return K},useSelector:function(){return J},useStore:function(){return q}});var a=n(98661),i=a.default.createContext(null);var o=function(e){e()},r=function(){return o};var s={notify:function(){},get:function(){return[]}};function l(e,t){var n,a=s;function i(){l.onStateChange&&l.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),a=function(){var e=r(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var a=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){a&&null!==t&&(a=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var l={addNestedSub:function(e){return o(),a.subscribe(e)},notifyNestedSubs:function(){a.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,a.clear(),a=s)},getListeners:function(){return a}};return l}var u="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?a.useLayoutEffect:a.useEffect;var c=function(e){var t=e.store,n=e.context,o=e.children,r=(0,a.useMemo)((function(){var e=l(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),s=(0,a.useMemo)((function(){return t.getState()}),[t]);u((function(){var e=r.subscription;return e.trySubscribe(),s!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[r,s]);var c=n||i;return a.default.createElement(c.Provider,{value:r},o)};function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},d.apply(this,arguments)}function f(e,t){if(null==e)return{};var n,a,i={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}var p=n(8679),h=n.n(p),g=n(59864),m=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],_=["reactReduxForwardedRef"],v=[],b=[null,null];function y(e,t){var n=e[1];return[t.payload,n+1]}function E(e,t,n){u((function(){return e.apply(void 0,t)}),n)}function T(e,t,n,a,i,o,r){e.current=a,t.current=i,n.current=!1,o.current&&(o.current=null,r())}function C(e,t,n,a,i,o,r,s,l,u){if(e){var c=!1,d=null,f=function(){if(!c){var e,n,f=t.getState();try{e=a(f,i.current)}catch(e){n=e,d=e}n||(d=null),e===o.current?r.current||l():(o.current=e,s.current=e,r.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};n.onStateChange=f,n.trySubscribe(),f();return function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,d)throw d}}}var S=function(){return[null,0]};function O(e,t){void 0===t&&(t={});var n=t,o=n.getDisplayName,r=void 0===o?function(e){return"ConnectAdvanced("+e+")"}:o,s=n.methodName,u=void 0===s?"connectAdvanced":s,c=n.renderCountProp,p=void 0===c?void 0:c,O=n.shouldHandleStateChanges,A=void 0===O||O,w=n.storeKey,I=void 0===w?"store":w,M=(n.withRef,n.forwardRef),R=void 0!==M&&M,N=n.context,P=void 0===N?i:N,D=f(n,m),L=P;return function(t){var n=t.displayName||t.name||"Component",i=r(n),o=d({},D,{getDisplayName:r,methodName:u,renderCountProp:p,shouldHandleStateChanges:A,storeKey:I,displayName:i,wrappedComponentName:n,WrappedComponent:t}),s=D.pure;var c=s?a.useMemo:function(e){return e()};function m(n){var i=(0,a.useMemo)((function(){var e=n.reactReduxForwardedRef,t=f(n,_);return[n.context,e,t]}),[n]),r=i[0],s=i[1],u=i[2],p=(0,a.useMemo)((function(){return r&&r.Consumer&&(0,g.isContextConsumer)(a.default.createElement(r.Consumer,null))?r:L}),[r,L]),h=(0,a.useContext)(p),m=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(h)&&Boolean(h.store);var O=m?n.store:h.store,w=(0,a.useMemo)((function(){return function(t){return e(t.dispatch,o)}(O)}),[O]),I=(0,a.useMemo)((function(){if(!A)return b;var e=l(O,m?null:h.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[O,m,h]),M=I[0],R=I[1],N=(0,a.useMemo)((function(){return m?h:d({},h,{subscription:M})}),[m,h,M]),P=(0,a.useReducer)(y,v,S),D=P[0][0],k=P[1];if(D&&D.error)throw D.error;var x=(0,a.useRef)(),B=(0,a.useRef)(u),j=(0,a.useRef)(),F=(0,a.useRef)(!1),H=c((function(){return j.current&&u===B.current?j.current:w(O.getState(),u)}),[O,D,u]);E(T,[B,x,F,u,H,j,R]),E(C,[A,O,M,w,B,x,F,j,R,k],[O,M,w]);var U=(0,a.useMemo)((function(){return a.default.createElement(t,d({},H,{ref:s}))}),[s,t,H]);return(0,a.useMemo)((function(){return A?a.default.createElement(p.Provider,{value:N},U):U}),[p,U,N])}var O=s?a.default.memo(m):m;if(O.WrappedComponent=t,O.displayName=m.displayName=i,R){var w=a.default.forwardRef((function(e,t){return a.default.createElement(O,d({},e,{reactReduxForwardedRef:t}))}));return w.displayName=i,w.WrappedComponent=t,h()(w,t)}return h()(O,t)}}function A(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function w(e,t){if(A(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!A(e[n[i]],t[n[i]]))return!1;return!0}function I(e){return function(t,n){var a=e(t,n);function i(){return a}return i.dependsOnOwnProps=!1,i}}function M(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function R(e,t){return function(t,n){n.displayName;var a=function(e,t){return a.dependsOnOwnProps?a.mapToProps(e,t):a.mapToProps(e)};return a.dependsOnOwnProps=!0,a.mapToProps=function(t,n){a.mapToProps=e,a.dependsOnOwnProps=M(e);var i=a(t,n);return"function"==typeof i&&(a.mapToProps=i,a.dependsOnOwnProps=M(i),i=a(t,n)),i},a}}var N=[function(e){return"function"==typeof e?R(e):void 0},function(e){return e?void 0:I((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?I((function(t){return function(e,t){var n={},a=function(a){var i=e[a];"function"==typeof i&&(n[a]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)a(i);return n}(e,t)})):void 0}];var P=[function(e){return"function"==typeof e?R(e):void 0},function(e){return e?void 0:I((function(){return{}}))}];function D(e,t,n){return d({},n,e,t)}var L=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var a,i=n.pure,o=n.areMergedPropsEqual,r=!1;return function(t,n,s){var l=e(t,n,s);return r?i&&o(l,a)||(a=l):(r=!0,a=l),a}}}(e):void 0},function(e){return e?void 0:function(){return D}}],k=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function x(e,t,n,a){return function(i,o){return n(e(i,o),t(a,o),o)}}function B(e,t,n,a,i){var o,r,s,l,u,c=i.areStatesEqual,d=i.areOwnPropsEqual,f=i.areStatePropsEqual,p=!1;function h(i,p){var h,g,m=!d(p,r),_=!c(i,o);return o=i,r=p,m&&_?(s=e(o,r),t.dependsOnOwnProps&&(l=t(a,r)),u=n(s,l,r)):m?(e.dependsOnOwnProps&&(s=e(o,r)),t.dependsOnOwnProps&&(l=t(a,r)),u=n(s,l,r)):_?(h=e(o,r),g=!f(h,s),s=h,g&&(u=n(s,l,r)),u):u}return function(i,c){return p?h(i,c):(s=e(o=i,r=c),l=t(a,r),u=n(s,l,r),p=!0,u)}}function j(e,t){var n=t.initMapStateToProps,a=t.initMapDispatchToProps,i=t.initMergeProps,o=f(t,k),r=n(e,o),s=a(e,o),l=i(e,o);return(o.pure?B:x)(r,s,l,e,o)}var F=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function H(e,t,n){for(var a=t.length-1;a>=0;a--){var i=t[a](e);if(i)return i}return function(t,a){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+a.wrappedComponentName+".")}}function U(e,t){return e===t}function W(e){var t=void 0===e?{}:e,n=t.connectHOC,a=void 0===n?O:n,i=t.mapStateToPropsFactories,o=void 0===i?P:i,r=t.mapDispatchToPropsFactories,s=void 0===r?N:r,l=t.mergePropsFactories,u=void 0===l?L:l,c=t.selectorFactory,p=void 0===c?j:c;return function(e,t,n,i){void 0===i&&(i={});var r=i,l=r.pure,c=void 0===l||l,h=r.areStatesEqual,g=void 0===h?U:h,m=r.areOwnPropsEqual,_=void 0===m?w:m,v=r.areStatePropsEqual,b=void 0===v?w:v,y=r.areMergedPropsEqual,E=void 0===y?w:y,T=f(r,F),C=H(e,o,"mapStateToProps"),S=H(t,s,"mapDispatchToProps"),O=H(n,u,"mergeProps");return a(p,d({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:S,initMergeProps:O,pure:c,areStatesEqual:g,areOwnPropsEqual:_,areStatePropsEqual:b,areMergedPropsEqual:E},T))}}var G=W();function z(){return(0,a.useContext)(i)}function V(e){void 0===e&&(e=i);var t=e===i?z:function(){return(0,a.useContext)(e)};return function(){return t().store}}var q=V();function $(e){void 0===e&&(e=i);var t=e===i?q:V(e);return function(){return t().dispatch}}var K=$(),Y=function(e,t){return e===t};function X(e){void 0===e&&(e=i);var t=e===i?z:function(){return(0,a.useContext)(e)};return function(e,n){void 0===n&&(n=Y);var i=t(),o=function(e,t,n,i){var o,r=(0,a.useReducer)((function(e){return e+1}),0)[1],s=(0,a.useMemo)((function(){return l(n,i)}),[n,i]),c=(0,a.useRef)(),d=(0,a.useRef)(),f=(0,a.useRef)(),p=(0,a.useRef)(),h=n.getState();try{if(e!==d.current||h!==f.current||c.current){var g=e(h);o=void 0!==p.current&&t(g,p.current)?p.current:g}else o=p.current}catch(e){throw c.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),e}return u((function(){d.current=e,f.current=h,p.current=o,c.current=void 0})),u((function(){function e(){try{var e=n.getState();if(e===f.current)return;var a=d.current(e);if(t(a,p.current))return;p.current=a,f.current=e}catch(e){c.current=e}r()}return s.onStateChange=e,s.trySubscribe(),e(),function(){return s.tryUnsubscribe()}}),[n,s]),o}(e,n,i.store,i.subscription);return(0,a.useDebugValue)(o),o}}var Z,J=X();Z=a.unstable_batchedUpdates,o=Z},53894:function(e,t,n){"use strict";function a(e){return function(t){var n=t.dispatch,a=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,a,e):t(i)}}}}n.r(t);var i=a();i.withExtraArgument=a,t.default=i},15857:function(e,t,n){"use strict";function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.r(t),n.d(t,{__DO_NOT_USE__ActionTypes:function(){return u},applyMiddleware:function(){return _},bindActionCreators:function(){return g},combineReducers:function(){return p},compose:function(){return m},createStore:function(){return d},legacy_createStore:function(){return f}});var s="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function d(e,t,n){var a;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(r(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(r(1));return n(d)(e,t)}if("function"!=typeof e)throw new Error(r(2));var i=e,o=t,l=[],f=l,p=!1;function h(){f===l&&(f=l.slice())}function g(){if(p)throw new Error(r(3));return o}function m(e){if("function"!=typeof e)throw new Error(r(4));if(p)throw new Error(r(5));var t=!0;return h(),f.push(e),function(){if(t){if(p)throw new Error(r(6));t=!1,h();var n=f.indexOf(e);f.splice(n,1),l=null}}}function _(e){if(!c(e))throw new Error(r(7));if(void 0===e.type)throw new Error(r(8));if(p)throw new Error(r(9));try{p=!0,o=i(o,e)}finally{p=!1}for(var t=l=f,n=0;n<t.length;n++){(0,t[n])()}return e}function v(e){if("function"!=typeof e)throw new Error(r(10));i=e,_({type:u.REPLACE})}function b(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(r(11));function n(){e.next&&e.next(g())}return n(),{unsubscribe:t(n)}}})[s]=function(){return this},e}return _({type:u.INIT}),(a={dispatch:_,subscribe:m,getState:g,replaceReducer:v})[s]=b,a}var f=d;function p(e){for(var t=Object.keys(e),n={},a=0;a<t.length;a++){var i=t[a];0,"function"==typeof e[i]&&(n[i]=e[i])}var o,s=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:u.INIT}))throw new Error(r(12));if(void 0===n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(r(13))}))}(n)}catch(e){o=e}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var a=!1,i={},l=0;l<s.length;l++){var u=s[l],c=n[u],d=e[u],f=c(d,t);if(void 0===f){t&&t.type;throw new Error(r(14))}i[u]=f,a=a||f!==d}return(a=a||s.length!==Object.keys(e).length)?i:e}}function h(e,t){return function(){return t(e.apply(this,arguments))}}function g(e,t){if("function"==typeof e)return h(e,t);if("object"!=typeof e||null===e)throw new Error(r(16));var n={};for(var a in e){var i=e[a];"function"==typeof i&&(n[a]=h(i,t))}return n}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function _(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),a=function(){throw new Error(r(15))},i={getState:n.getState,dispatch:function(){return a.apply(void 0,arguments)}},s=t.map((function(e){return e(i)}));return a=m.apply(void 0,s)(n.dispatch),o(o({},n),{},{dispatch:a})}}}},6189:function(e,t,n){var a=n(7966);e.exports=function(e){return a(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},71788:function(e){e.exports=function(e){return t.test(e)?e.toLowerCase():n.test(e)?(function(e){return e.replace(i,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():a.test(e)?function(e){return e.replace(o,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,n=/(_|-|\.|:)/,a=/([a-z][A-Z]|[A-Z][a-z])/;var i=/[\W_]+(.|$)/g;var o=/(.)([A-Z]+)/g},7966:function(e,t,n){var a=n(71788);e.exports=function(e){return a(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},41504:function(e,t,n){"use strict";n.r(t),n.d(t,{AcceptEula:function(){return v},AgentMessagesAck:function(){return c},AgentMessagesRead:function(){return d},ChatServerOutgoingMessage:function(){return o},ClientMessage:function(){return g},ClientTyping:function(){return h},Introduction:function(){return _},OfflineMessage:function(){return p},Rate:function(){return u},StartChat:function(){return f},Startup:function(){return r},UpdateCustomData:function(){return s},UpdateExternalInfo:function(){return m},UpdateUserToken:function(){return l}});var a,i=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){this.name=e},r=function(e){function t(t,n,a,i,o,r,s,l,u,c,d,f,p,h,g,m,_){var v=e.call(this,"startup")||this;return v.jv_widget_id=h.widgetId?h.widgetId:void 0,v.site_id=h.siteId?h.siteId:void 0,v.current_page=t||void 0,v.is_mobile=n,v.visits_count=a||void 0,v.page_visible=i,v.chat_opened=o,v.chat_id=r||void 0,v.widget_version=s||void 0,v.abtest=l||void 0,v.history=u||void 0,v.new_utm=c||void 0,v.proactive_rule=v.getProactiveRule(d,g,m[0],_[0]),v.visitor_id=p.visitorId?p.visitorId:void 0,v.jv_client_id=p.clientId?p.clientId:void 0,v.pa_id=p.priorityAgentId?p.priorityAgentId:void 0,v.custom_data=p.customData?p.customData:void 0,v.user_token=p.userToken?p.userToken:void 0,v.analytics=f||void 0,v.cap_token=p.captchaToken?p.captchaToken:void 0,v}return i(t,e),t.prototype.getProactiveRule=function(e,t,n,a){if(t){var i=t.toJSON();return{invitation_text:i.text,agent_id:i.body.agent_id,bot_id:i.body.bot_id,private_id:i.private_id,created_ts:Math.floor(i.created_ts/1e3)}}var o=e.text,r=e.privateId,s=e.createdTs,l={invitation_text:o,agent_id:n||void 0,bot_id:a||void 0,private_id:r,created_ts:s};return e.isMarkdown&&(l.is_markdown=!0),o&&(n||a)&&r&&s?l:void 0},t}(o),s=function(e){function t(t){var n=e.call(this,"update_custom_data")||this;return n.custom_data=t,n}return i(t,e),t}(o),l=function(e){function t(t){var n=e.call(this,"update_user_token")||this;return n.user_token=t,n}return i(t,e),t}(o),u=function(e){function t(t,n,a){var i=e.call(this,"rate")||this;return i.rate=t,i.chat_id=n,i.comment=a,i}return i(t,e),t}(o),c=function(e){function t(t,n){var a=e.call(this,"agent_message_ack")||this;return a.ack_msg_ids=t,a.chat_id=n,a}return i(t,e),t}(o),d=function(e){function t(t,n){var a=e.call(this,"agent_message_read")||this;return a.msg_ids=t,a.chat_id=n,a}return i(t,e),t}(o),f=function(e){function t(t){var n=e.call(this,"start_chat")||this;return n.invited_agent=t,n}return i(t,e),t}(o),p=function(e){function t(t,n,a,i,o,r,s,l){var u=e.call(this,"offline_message")||this;return u.message=t,u.email=n,u.phone=a,u.client_name=i,u.cap_symbols=o,u.from_online=r,u.description=s,u.accept_eula=l,u}return i(t,e),t}(o),h=function(e){function t(t){var n=e.call(this,"client_typing")||this;return n.typing=t,n}return i(t,e),t}(o),g=function(e){function t(t,n,a,i,o){var r=e.call(this,"client_message")||this;return r.message=t,r.private_id=n,r.widget_department_id=a||null,r.is_prechat_btn=i||null,r.media=o||null,r}return i(t,e),t}(o),m=function(e){function t(t){var n=e.call(this,"update_external_info")||this;return n.external_info=t,n}return i(t,e),t}(o),_=function(e){function t(t,n,a,i,o){var r=e.call(this,"introduction")||this;return r.client_name=t,r.phone=n,r.email=a,r.description=i,r.accept_eula=o,r}return i(t,e),t}(o),v=function(e){function t(){return e.call(this,"accept_eula")||this}return i(t,e),t}(o)},40426:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var a,i=n(88319),o=n(3571),r=n(4855),s=(a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),l=function(e){function t(n,a){var i=this.constructor,o=e.call(this,n)||this;return Object.setPrototypeOf(o,i.prototype),o.name=t.name,o.provider=a,o}return s(t,e),t}(Error),u=function(e){function t(t,n){return e.call(this,t,n)||this}return s(t,e),t}(l),c=function(e){function t(t){return e.call(this,"Connection is already open",t)||this}return s(t,e),t}(u),d=function(e){function t(t,n){return e.call(this,t,n)||this}return s(t,e),t}(u),f=(function(e){function t(t,n){return e.call(this,t,n)||this}s(t,e)}(u),function(e){function t(t,n){return e.call(this,t,n)||this}s(t,e)}(l),function(e){function t(t,n){return e.call(this,t,n)||this}return s(t,e),t}(l)),p=(function(e){function t(t){return e.call(this,"No connection",t)||this}s(t,e)}(f),function(e){function t(t,n){return e.call(this,"Message parse error: ".concat(t),n)||this}return s(t,e),t}(f)),h=function(e){function t(t,n){return e.call(this,"JC error: ".concat(t),n)||this}return s(t,e),t}(f),g=n(47060),m=n(44145),_=r.default.name("ChatServerProvider"),v=function(){function e(e){this.name="ChatServerProvider",this.manager=e,this.application=e.application,this.url=this.getUrl(),this.connection=null,this.connected=!1,this.lastError=null}return e.prototype.connect=function(e){_.log("connect, force:",e);try{this.needToConnect(e)&&this.setupConnection()}catch(e){_.error(e),this.handleOpenError(e)}},e.prototype.disconnect=function(){_.warn("disconnect",this.connection),this.connection&&(this.connection.off(),this.connection.close(),this.connection=null)},e.prototype.send=function(e){_.log("send",this.connected,e);try{if(this.connection&&this.connected){var t=null;try{t=JSON.stringify(e)}catch(e){throw new p(e.message,this.name)}if(t)try{this.connection.send(t),this.manager.logSocketEvent(e)}catch(e){throw new h(e.message,this.name)}}else _.warn("send",e),this.manager.open(null,!0)}catch(t){this.handleSendError(t,e)}},e.prototype.setLastError=function(e){_.warn("setLastError",e),this.lastError=e},e.prototype.handleOpenError=function(e){},e.prototype.handleSendError=function(e,t){(e instanceof h||e instanceof p)&&this.application.managers.monitoring.reportException(e)},e.prototype.setupConnection=function(){var e=this;_.log("setupConnection"),this.connection=new i.Z(this.url),this.connection.on("open",(function(t){e.connected=!0,e.manager.receiver.onConnect(t)})),this.connection.on("close",(function(t){e.connected=!1,e.manager.receiver.onDisconnect(t)})),this.connection.on("error",(function(t){e.manager.receiver.onError(t)})),this.connection.on("message",(function(t){e.manager.receiver.onMessage(t)})),this.connection.open()},e.prototype.getUrl=function(){return"wss://"+this.application.config.chat_host+"/cometcn"},e.prototype.needToConnect=function(e){var t=this.application.managers,n=t.feature,a=t.recaptcha,i=t.device,r=t.environment,s=this.application.stores,l=s.app,u=s.temp,f=(0,m.getClient)(),p=this.application.config;if(_.log("needToConnect, force:",e),n.isEnabled(o.Feature.RECAPTCHA)&&a&&a.isBlocked())throw new d("Recaptcha is blocked",this.name);if(p.maintenance)throw _.log("Maintenance mode on!"),new d("Maintenance mode is on",this.name);var h=this.application.utils.common,v=h.default.isWixEditor()||r.isDesignerEditor(),b=u.get("is_blacklisted"),y=l.route==g.Route.HIDDEN&&!e,E=i.mobileOrTablet()&&1==p.disable_mobile;if(v||b||y||E||h.default.isAppCobrowse())throw _.log("Connection disabled for wix editor"),new d("Connection disabled for wix editor",this.name);if(3333==this.lastError)throw _.log("Connection disabled spam detected."),new d("Connection disabled spam detected.",this.name);if(e&&!this.connected)return _.log("connection is forced"),!0;if(l.lastMsgTime){var T=(new Date).getTime(),C=Math.abs((T-l.lastMsgTime)/1e3);if(f.sessionId&&l.is_online&&C<172800)return!0}if(f.sessionId&&!l.chat_started)throw _.log("Connection disabled chat not started."),new d("Connection disabled chat not started.",this.name);if(this.connected||!this.application.utils.dom.pageVisible())throw _.warn("Connection already open"),new c(this.name);return _.log("is ok to connect."),!0},e}()},56463:function(e,t,n){"use strict";n.r(t);var a=n(41504),i=n(8117),o=n(11281),r=n(3571),s=n(52274),l=n(4855),u=n(83170),c=n(81152),d=n(64123),f=n(13077),p=function(){return p=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},p.apply(this,arguments)},h=l.default.name("ChatServerReceiver"),g=function(){function e(e){this.manager=e,this.application=e.application}return e.prototype.onConnect=function(e){var t=this;h.warn("onConnect",e),this.checkRecaptchaIfNeeded((function(){var e=t.application.reduxStore.getState(),n=e.app,o=e.chats,r=e.client,s=e.proactive,l=e.settings,u=t.application.managers,c=u.analytics,d=u.device,p=u.environment,h=u.abTest,g=t.application.stores,m=g.history,_=g.messages,v=g.temp,b=t.application.utils.dom.pageVisible,y=t.application.utils.common.default.getCurrentPage,E=t.formatUTM(r.utm),T=y(),C={title:T.title,url:i.default.decodeString(T.url)},S=0===n.route.indexOf("chat")&&-1===n.route.indexOf("min"),O=o.length?o[o.length-1]:null,A=O?O.joinedAgents:null,w=O?O.joinedBots:null;t.manager.send(new a.Startup(C,d.mobileOrTablet(),v.get("visits_count")-0,b(),S,O?O.id:null,p.getVersion(),h.getActiveTestAsString(),r.sessionId?null:m.get(),E,s,c.isAnalyticsIdAvaiable(),r,l.system,_.getLastUnreadApiInvitation(),A,w)),(0,f.setRuleLocal)("sendStartupTime",(new Date).getTime())}),(function(){t.manager.close()}))},e.prototype.onDisconnect=function(e){var t=this;h.warn("onDisconnect",e),this.manager.close(),this.manager.provider.setLastError(e.code),this.setStartupCallback(null),1013===e.code&&((0,d.enableMaintenance)(),setTimeout((function(){t.manager.open()}),s.MAINT_RECONNECT_TIMEOUT)),3333===e.code&&(this.manager.buffer.clear(),this.application.managers.monitoring.telemetryOnce(u.TelemetryName.CLIENT_MESSAGE_SPAM))},e.prototype.onError=function(e){h.warn("onError",e)},e.prototype.onMessage=function(e){var t=null;try{t=JSON.parse(e),this.manager.logSocketEvent(t)}catch(e){this.application.managers.monitoring.reportException(e)}try{t.method&&t.params&&t.params.type&&o.default[t.params.type]?o.default[t.params.type](t.params.body):t.method&&o.default[t.method]?o.default[t.method](t):t.name&&o.default[t.name]&&o.default[t.name](t),!this.startupCallback||"startup_ok"!==t.name&&"resume_ok"!==t.name||(this.startupCallback(),this.setStartupCallback(null))}catch(e){this.application.managers.monitoring.reportException(e)}},e.prototype.setStartupCallback=function(e){h.warn("setStartupCallback",e),this.startupCallback=e},e.prototype.formatUTM=function(e){var t=e.campaign,n=e.source,a=e.medium,i=e.keyword,o=e.term,r=e.content;if(t||n||a||i||o||r)return p(p(p(p(p(p({},t&&{campaign:t}),n&&{source:n}),a&&{medium:a}),i&&{keyword:i}),o&&{term:o}),r&&{content:r})},e.prototype.checkRecaptchaIfNeeded=function(e,t){h.log("checkRecaptchaIfNeeded"),this.application.managers.feature.isEnabled(r.Feature.RECAPTCHA)?this.application.managers.recaptcha.getToken(e,t):e()},e.prototype.bufferUndeliveredMessages=function(e){this.application.reduxStore.getState();var t=e.getSentMessages();t.length&&3333!==this.manager.provider.lastError&&(h.warn("bufferSentMessages",t),t.forEach((function(e){e.get("type")===c.MessageType.MEDIA&&e.get("body.error")&&e.set("status",c.MessageStatus.DELIVERED)})))},e}();t.default=g},73439:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var a=n(4855),i=a.default.name("ConnectionBuffer"),o=function(){function e(e){this.connectionManager=e,this.messages=[]}return e.prototype.add=function(e){i.log("add",e),this.messages.push(e)},e.prototype.clear=function(){i.warn("clear"),this.messages=[]},e.prototype.flush=function(){var e=this;i.log("flush"),this.messages.forEach((function(t){return e.connectionManager.send(t)})),this.clear()},e.prototype.contains=function(e){return this.messages.find((function(t){return t.private_id===e}))},e.prototype.isEmpty=function(){return 0===this.messages.length},e}(),r=o,s=a.default.name("ConnectionManager"),l=function(){function e(e,t,n){this.application=e,this.buffer=new r(this),this.receiver=new n(this),this.provider=new t(this)}return e.prototype.open=function(e,t){s.warn("open"),e&&this.receiver.setStartupCallback(e),this.provider.connect(t)},e.prototype.close=function(){s.warn("close"),this.provider.disconnect(),this.buffer.clear()},e.prototype.isOpen=function(){return this.provider&&this.provider.connected},e.prototype.send=function(e){s.warn("send",e),this.provider.send(e)},e.prototype.sendIfConnected=function(e){s.warn("sendIfConnected",e,"Connected: ".concat(this.isOpen())),this.isOpen()&&this.send(e)},e.prototype.logSocketEvent=function(e){this.application.managers.debug.saveSocketEvent(e)},e.prototype.flushBuffer=function(){if(s.warn("flushBuffer"),!this.buffer.isEmpty()){this.buffer.flush();var e=this.application.managers.monitoring,t=e.getTelemetryNames().CLIENT_MESSAGE_FLUSH_BUFFER;e.telemetry(t)}},e}()},89334:function(e,t,n){"use strict";n.r(t),n.d(t,{useEffectOnce:function(){return i}});var a=n(98661);function i(e){(0,a.useEffect)(e,[])}},96078:function(e,t,n){"use strict";function a(e,t,n){return e.split(t).join(n)}n.r(t),n.d(t,{replaceAll:function(){return a}})},42473:function(e){"use strict";var t=function(){};e.exports=t},90842:function(e,t,n){(function(){"use strict";var e=this;function t(e){return"string"==typeof e}function n(e,t,n){return e.call.apply(e.bind,arguments)}function a(e,t,n){if(!e)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,a),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function i(e,t,o){return(i=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?n:a).apply(null,arguments)}function o(e){var t=re;function n(){}n.prototype=t.prototype,e.G=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.F=function(e,n,a){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}var r=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function s(e,t){return-1!=e.indexOf(t)}function l(e,t){return e<t?-1:e>t?1:0}var u,c=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,n,a){if(a=null==a?0:0>a?Math.max(0,e.length+a):a,t(e))return t(n)&&1==n.length?e.indexOf(n,a):-1;for(;a<e.length;a++)if(a in e&&e[a]===n)return a;return-1},d=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,n,a){for(var i=e.length,o=t(e)?e.split(""):e,r=0;r<i;r++)r in o&&n.call(a,o[r],r,e)},f=Array.prototype.filter?function(e,t,n){return Array.prototype.filter.call(e,t,n)}:function(e,n,a){for(var i=e.length,o=[],r=0,s=t(e)?e.split(""):e,l=0;l<i;l++)if(l in s){var u=s[l];n.call(a,u,l,e)&&(o[r++]=u)}return o},p=Array.prototype.reduce?function(e,t,n,a){return a&&(t=i(t,a)),Array.prototype.reduce.call(e,t,n)}:function(e,t,n,a){var i=n;return d(e,(function(n,o){i=t.call(a,i,n,o,e)})),i},h=Array.prototype.some?function(e,t,n){return Array.prototype.some.call(e,t,n)}:function(e,n,a){for(var i=e.length,o=t(e)?e.split(""):e,r=0;r<i;r++)if(r in o&&n.call(a,o[r],r,e))return!0;return!1};function g(e,t,n){return 2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,n)}e:{var m=e.navigator;if(m){var _=m.userAgent;if(_){u=_;break e}}u=""}var v,b,y=s(u,"Opera")||s(u,"OPR"),E=s(u,"Trident")||s(u,"MSIE"),T=s(u,"Edge"),C=s(u,"Gecko")&&!(s(u.toLowerCase(),"webkit")&&!s(u,"Edge"))&&!(s(u,"Trident")||s(u,"MSIE"))&&!s(u,"Edge"),S=s(u.toLowerCase(),"webkit")&&!s(u,"Edge");function O(){var t=e.document;return t?t.documentMode:void 0}e:{var A="",w=(b=u,C?/rv\:([^\);]+)(\)|;)/.exec(b):T?/Edge\/([\d\.]+)/.exec(b):E?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(b):S?/WebKit\/(\S+)/.exec(b):y?/(?:Version)[ \/]?(\S+)/.exec(b):void 0);if(w&&(A=w?w[1]:""),E){var I=O();if(null!=I&&I>parseFloat(A)){v=String(I);break e}}v=A}var M={};function R(e){if(!M[e]){for(var t=0,n=r(String(v)).split("."),a=r(String(e)).split("."),i=Math.max(n.length,a.length),o=0;0==t&&o<i;o++){var s=n[o]||"",u=a[o]||"",c=/(\d*)(\D*)/g,d=/(\d*)(\D*)/g;do{var f=c.exec(s)||["","",""],p=d.exec(u)||["","",""];if(0==f[0].length&&0==p[0].length)break;t=l(0==f[1].length?0:parseInt(f[1],10),0==p[1].length?0:parseInt(p[1],10))||l(0==f[2].length,0==p[2].length)||l(f[2],p[2])}while(0==t)}M[e]=0<=t}}var N=e.document,P=N&&E?O()||("CSS1Compat"==N.compatMode?parseInt(v,10):5):void 0,D=E&&!(9<=Number(P)),L=E&&!(8<=Number(P));function k(e,t,n,a){this.a=e,this.nodeName=n,this.nodeValue=a,this.nodeType=2,this.parentNode=this.ownerElement=t}function x(e,t){var n=L&&"href"==t.nodeName?e.getAttribute(t.nodeName,2):t.nodeValue;return new k(t,e,t.nodeName,n)}function B(e){var t=null;if(1==(n=e.nodeType)&&(t=null==(t=null==(t=e.textContent)||null==t?e.innerText:t)||null==t?"":t),"string"!=typeof t)if(D&&"title"==e.nodeName.toLowerCase()&&1==n)t=e.text;else if(9==n||1==n){e=9==n?e.documentElement:e.firstChild;var n=0,a=[];for(t="";e;){do{1!=e.nodeType&&(t+=e.nodeValue),D&&"title"==e.nodeName.toLowerCase()&&(t+=e.text),a[n++]=e}while(e=e.firstChild);for(;n&&!(e=a[--n].nextSibling););}}else t=e.nodeValue;return""+t}function j(e,t,n){if(null===t)return!0;try{if(!e.getAttribute)return!1}catch(e){return!1}return L&&"class"==t&&(t="className"),null==n?!!e.getAttribute(t):e.getAttribute(t,2)==n}function F(e,n,a,i,o){return(D?H:U).call(null,e,n,t(a)?a:null,t(i)?i:null,o||new X)}function H(e,t,n,a,i){if(e instanceof Le||8==e.b||n&&null===e.b){var o=t.all;if(!o)return i;if("*"!=(e=V(e))&&!(o=t.getElementsByTagName(e)))return i;if(n){for(var r=[],s=0;t=o[s++];)j(t,n,a)&&r.push(t);o=r}for(s=0;t=o[s++];)"*"==e&&"!"==t.tagName||ee(i,t);return i}return z(e,t,n,a,i),i}function U(e,t,n,a,i){return t.getElementsByName&&a&&"name"==n&&!E?(t=t.getElementsByName(a),d(t,(function(t){e.a(t)&&ee(i,t)}))):t.getElementsByClassName&&a&&"class"==n?(t=t.getElementsByClassName(a),d(t,(function(t){t.className==a&&e.a(t)&&ee(i,t)}))):e instanceof Oe?z(e,t,n,a,i):t.getElementsByTagName&&(t=t.getElementsByTagName(e.f()),d(t,(function(e){j(e,n,a)&&ee(i,e)}))),i}function W(e,t,n,a,i){var o;if((e instanceof Le||8==e.b||n&&null===e.b)&&(o=t.childNodes)){var r=V(e);return"*"==r||(o=f(o,(function(e){return e.tagName&&e.tagName.toLowerCase()==r})),o)?(n&&(o=f(o,(function(e){return j(e,n,a)}))),d(o,(function(e){"*"==r&&("!"==e.tagName||"*"==r&&1!=e.nodeType)||ee(i,e)})),i):i}return G(e,t,n,a,i)}function G(e,t,n,a,i){for(t=t.firstChild;t;t=t.nextSibling)j(t,n,a)&&e.a(t)&&ee(i,t);return i}function z(e,t,n,a,i){for(t=t.firstChild;t;t=t.nextSibling)j(t,n,a)&&e.a(t)&&ee(i,t),z(e,t,n,a,i)}function V(e){if(e instanceof Oe){if(8==e.b)return"!";if(null===e.b)return"*"}return e.f()}function q(e,t){if(!e||!t)return!1;if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e}function $(t,n){if(t==n)return 0;if(t.compareDocumentPosition)return 2&t.compareDocumentPosition(n)?1:-1;if(E&&!(9<=Number(P))){if(9==t.nodeType)return-1;if(9==n.nodeType)return 1}if("sourceIndex"in t||t.parentNode&&"sourceIndex"in t.parentNode){var a=1==t.nodeType,i=1==n.nodeType;if(a&&i)return t.sourceIndex-n.sourceIndex;var o=t.parentNode,r=n.parentNode;return o==r?Y(t,n):!a&&q(o,n)?-1*K(t,n):!i&&q(r,t)?K(n,t):(a?t.sourceIndex:o.sourceIndex)-(i?n.sourceIndex:r.sourceIndex)}return(a=(i=9==t.nodeType?t:t.ownerDocument||t.document).createRange()).selectNode(t),a.collapse(!0),(i=i.createRange()).selectNode(n),i.collapse(!0),a.compareBoundaryPoints(e.Range.START_TO_END,i)}function K(e,t){var n=e.parentNode;if(n==t)return-1;for(var a=t;a.parentNode!=n;)a=a.parentNode;return Y(a,e)}function Y(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1}function X(){this.b=this.a=null,this.l=0}function Z(e){this.node=e,this.a=this.b=null}function J(e,t){if(!e.a)return t;if(!t.a)return e;for(var n=e.a,a=t.a,i=null,o=null,r=0;n&&a;){o=n.node;var s=a.node;o==s||o instanceof k&&s instanceof k&&o.a==s.a?(o=n,n=n.a,a=a.a):0<$(n.node,a.node)?(o=a,a=a.a):(o=n,n=n.a),(o.b=i)?i.a=o:e.a=o,i=o,r++}for(o=n||a;o;)o.b=i,i=i.a=o,r++,o=o.a;return e.b=i,e.l=r,e}function Q(e,t){var n=new Z(t);n.a=e.a,e.b?e.a.b=n:e.a=e.b=n,e.a=n,e.l++}function ee(e,t){var n=new Z(t);n.b=e.b,e.a?e.b.a=n:e.a=e.b=n,e.b=n,e.l++}function te(e){return(e=e.a)?e.node:null}function ne(e){return(e=te(e))?B(e):""}function ae(e,t){return new ie(e,!!t)}function ie(e,t){this.f=e,this.b=(this.c=t)?e.b:e.a,this.a=null}function oe(e){var t=e.b;if(null==t)return null;var n=e.a=t;return e.b=e.c?t.b:t.a,n.node}function re(e){this.i=e,this.b=this.g=!1,this.f=null}function se(e){return"\n  "+e.toString().split("\n").join("\n  ")}function le(e,t){e.g=t}function ue(e,t){e.b=t}function ce(e,t){var n=e.a(t);return n instanceof X?+ne(n):+n}function de(e,t){var n=e.a(t);return n instanceof X?ne(n):""+n}function fe(e,t){var n=e.a(t);return n instanceof X?!!n.l:!!n}function pe(e,t,n){re.call(this,e.i),this.c=e,this.h=t,this.o=n,this.g=t.g||n.g,this.b=t.b||n.b,this.c==ve&&(n.b||n.g||4==n.i||0==n.i||!t.f?t.b||t.g||4==t.i||0==t.i||!n.f||(this.f={name:n.f.name,s:t}):this.f={name:t.f.name,s:n})}function he(e,t,n,a,i){var o;if(t=t.a(a),n=n.a(a),t instanceof X&&n instanceof X){for(a=oe(t=ae(t));a;a=oe(t))for(o=oe(i=ae(n));o;o=oe(i))if(e(B(a),B(o)))return!0;return!1}if(t instanceof X||n instanceof X){t instanceof X?(i=t,a=n):(i=n,a=t);for(var r=typeof a,s=oe(o=ae(i));s;s=oe(o)){switch(r){case"number":s=+B(s);break;case"boolean":s=!!B(s);break;case"string":s=B(s);break;default:throw Error("Illegal primitive type for comparison.")}if(i==t&&e(s,a)||i==n&&e(a,s))return!0}return!1}return i?"boolean"==typeof t||"boolean"==typeof n?e(!!t,!!n):"number"==typeof t||"number"==typeof n?e(+t,+n):e(t,n):e(+t,+n)}function ge(e,t,n,a){this.a=e,this.w=t,this.i=n,this.m=a}!C&&!E||E&&9<=Number(P)||C&&R("1.9.1"),E&&R("9"),o(pe),pe.prototype.a=function(e){return this.c.m(this.h,this.o,e)},pe.prototype.toString=function(){return"Binary Expression: "+this.c+se(this.h)+se(this.o)},ge.prototype.toString=function(){return this.a};var me={};function _e(e,t,n,a){if(me.hasOwnProperty(e))throw Error("Binary operator already created: "+e);return e=new ge(e,t,n,a),me[e.toString()]=e}_e("div",6,1,(function(e,t,n){return ce(e,n)/ce(t,n)})),_e("mod",6,1,(function(e,t,n){return ce(e,n)%ce(t,n)})),_e("*",6,1,(function(e,t,n){return ce(e,n)*ce(t,n)})),_e("+",5,1,(function(e,t,n){return ce(e,n)+ce(t,n)})),_e("-",5,1,(function(e,t,n){return ce(e,n)-ce(t,n)})),_e("<",4,2,(function(e,t,n){return he((function(e,t){return e<t}),e,t,n)})),_e(">",4,2,(function(e,t,n){return he((function(e,t){return e>t}),e,t,n)})),_e("<=",4,2,(function(e,t,n){return he((function(e,t){return e<=t}),e,t,n)})),_e(">=",4,2,(function(e,t,n){return he((function(e,t){return e>=t}),e,t,n)}));var ve=_e("=",3,2,(function(e,t,n){return he((function(e,t){return e==t}),e,t,n,!0)}));function be(e,t,n){this.a=e,this.b=t||1,this.f=n||1}function ye(e,t){if(t.a.length&&4!=e.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");re.call(this,e.i),this.c=e,this.h=t,this.g=e.g,this.b=e.b}function Ee(e,t){if(t.length<e.A)throw Error("Function "+e.j+" expects at least"+e.A+" arguments, "+t.length+" given");if(null!==e.v&&t.length>e.v)throw Error("Function "+e.j+" expects at most "+e.v+" arguments, "+t.length+" given");e.B&&d(t,(function(t,n){if(4!=t.i)throw Error("Argument "+n+" to function "+e.j+" is not of type Nodeset: "+t)})),re.call(this,e.i),this.h=e,this.c=t,le(this,e.g||h(t,(function(e){return e.g}))),ue(this,e.D&&!t.length||e.C&&!!t.length||h(t,(function(e){return e.b})))}function Te(e,t,n,a,i,o,r,s,l){this.j=e,this.i=t,this.g=n,this.D=a,this.C=i,this.m=o,this.A=r,this.v=void 0!==s?s:r,this.B=!!l}_e("!=",3,2,(function(e,t,n){return he((function(e,t){return e!=t}),e,t,n,!0)})),_e("and",2,2,(function(e,t,n){return fe(e,n)&&fe(t,n)})),_e("or",1,2,(function(e,t,n){return fe(e,n)||fe(t,n)})),o(ye),ye.prototype.a=function(e){return e=this.c.a(e),Ve(this.h,e)},ye.prototype.toString=function(){return"Filter:"+se(this.c)+se(this.h)},o(Ee),Ee.prototype.a=function(e){return this.h.m.apply(null,function(e){return Array.prototype.concat.apply(Array.prototype,arguments)}(e,this.c))},Ee.prototype.toString=function(){var e="Function: "+this.h;if(this.c.length){var t=p(this.c,(function(e,t){return e+se(t)}),"Arguments:");e=e+se(t)}return e},Te.prototype.toString=function(){return this.j};var Ce={};function Se(e,t,n,a,i,o,r,s){if(Ce.hasOwnProperty(e))throw Error("Function already created: "+e+".");Ce[e]=new Te(e,t,n,a,!1,i,o,r,s)}function Oe(e,t){switch(this.h=e,this.c=void 0!==t?t:null,this.b=null,e){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function Ae(e){return"comment"==e||"text"==e||"processing-instruction"==e||"node"==e}function we(e){this.b=e,this.a=0}Se("boolean",2,!1,!1,(function(e,t){return fe(t,e)}),1),Se("ceiling",1,!1,!1,(function(e,t){return Math.ceil(ce(t,e))}),1),Se("concat",3,!1,!1,(function(e,t){return p(g(arguments,1),(function(t,n){return t+de(n,e)}),"")}),2,null),Se("contains",2,!1,!1,(function(e,t,n){return s(de(t,e),de(n,e))}),2),Se("count",1,!1,!1,(function(e,t){return t.a(e).l}),1,1,!0),Se("false",2,!1,!1,(function(){return!1}),0),Se("floor",1,!1,!1,(function(e,t){return Math.floor(ce(t,e))}),1),Se("id",4,!1,!1,(function(e,n){function a(e){if(D){var n=i.all[e];if(n){if(n.nodeType&&e==n.id)return n;if(n.length)return function(e,n){var a;e:{a=e.length;for(var i=t(e)?e.split(""):e,o=0;o<a;o++)if(o in i&&n.call(void 0,i[o],o,e)){a=o;break e}a=-1}return 0>a?null:t(e)?e.charAt(a):e[a]}(n,(function(t){return e==t.id}))}return null}return i.getElementById(e)}var i=9==(o=e.a).nodeType?o:o.ownerDocument,o=de(n,e).split(/\s+/),r=[];d(o,(function(e){!(e=a(e))||0<=c(r,e)||r.push(e)})),r.sort($);var s=new X;return d(r,(function(e){ee(s,e)})),s}),1),Se("lang",2,!1,!1,(function(){return!1}),1),Se("last",1,!0,!1,(function(e){if(1!=arguments.length)throw Error("Function last expects ()");return e.f}),0),Se("local-name",3,!1,!0,(function(e,t){var n=t?te(t.a(e)):e.a;return n?n.localName||n.nodeName.toLowerCase():""}),0,1,!0),Se("name",3,!1,!0,(function(e,t){var n=t?te(t.a(e)):e.a;return n?n.nodeName.toLowerCase():""}),0,1,!0),Se("namespace-uri",3,!0,!1,(function(){return""}),0,1,!0),Se("normalize-space",3,!1,!0,(function(e,t){return(t?de(t,e):B(e.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")}),0,1),Se("not",2,!1,!1,(function(e,t){return!fe(t,e)}),1),Se("number",1,!1,!0,(function(e,t){return t?ce(t,e):+B(e.a)}),0,1),Se("position",1,!0,!1,(function(e){return e.b}),0),Se("round",1,!1,!1,(function(e,t){return Math.round(ce(t,e))}),1),Se("starts-with",2,!1,!1,(function(e,t,n){return t=de(t,e),e=de(n,e),0==t.lastIndexOf(e,0)}),2),Se("string",3,!1,!0,(function(e,t){return t?de(t,e):B(e.a)}),0,1),Se("string-length",1,!1,!0,(function(e,t){return(t?de(t,e):B(e.a)).length}),0,1),Se("substring",3,!1,!1,(function(e,t,n,a){if(n=ce(n,e),isNaN(n)||1/0==n||-1/0==n)return"";if(a=a?ce(a,e):1/0,isNaN(a)||-1/0===a)return"";n=Math.round(n)-1;var i=Math.max(n,0);return e=de(t,e),1/0==a?e.substring(i):e.substring(i,n+Math.round(a))}),2,3),Se("substring-after",3,!1,!1,(function(e,t,n){return t=de(t,e),e=de(n,e),-1==(n=t.indexOf(e))?"":t.substring(n+e.length)}),2),Se("substring-before",3,!1,!1,(function(e,t,n){return t=de(t,e),e=de(n,e),-1==(e=t.indexOf(e))?"":t.substring(0,e)}),2),Se("sum",1,!1,!1,(function(e,t){for(var n=ae(t.a(e)),a=0,i=oe(n);i;i=oe(n))a+=+B(i);return a}),1,1,!0),Se("translate",3,!1,!1,(function(e,t,n,a){t=de(t,e),n=de(n,e);var i=de(a,e);for(e={},a=0;a<n.length;a++){var o=n.charAt(a);o in e||(e[o]=i.charAt(a))}for(n="",a=0;a<t.length;a++)n+=(o=t.charAt(a))in e?e[o]:o;return n}),3),Se("true",2,!1,!1,(function(){return!0}),0),Oe.prototype.a=function(e){return null===this.b||this.b==e.nodeType},Oe.prototype.f=function(){return this.h},Oe.prototype.toString=function(){var e="Kind Test: "+this.h;return null===this.c||(e+=se(this.c)),e};var Ie=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,Me=/^\s/;function Re(e,t){return e.b[e.a+(t||0)]}function Ne(e){return e.b[e.a++]}function Pe(e){return e.b.length<=e.a}function De(e){re.call(this,3),this.c=e.substring(1,e.length-1)}function Le(e,t){var n;this.j=e.toLowerCase(),n="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=t?t.toLowerCase():n}function ke(e){switch(e.nodeType){case 1:return function(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}(Be,e);case 9:return ke(e.documentElement);case 11:case 10:case 6:case 12:return xe;default:return e.parentNode?ke(e.parentNode):xe}}function xe(){return null}function Be(e,t){if(e.prefix==t)return e.namespaceURI||"http://www.w3.org/1999/xhtml";var n=e.getAttributeNode("xmlns:"+t);return n&&n.specified?n.value||null:e.parentNode&&9!=e.parentNode.nodeType?Be(e.parentNode,t):null}function je(e){re.call(this,1),this.c=e}function Fe(e,t){if(re.call(this,e.i),this.h=e,this.c=t,this.g=e.g,this.b=e.b,1==this.c.length){var n=this.c[0];n.u||n.c!=Xe||"*"!=(n=n.o).f()&&(this.f={name:n.f(),s:null})}}function He(){re.call(this,4)}function Ue(){re.call(this,4)}function We(e){return"/"==e||"//"==e}function Ge(e){re.call(this,4),this.c=e,le(this,h(this.c,(function(e){return e.g}))),ue(this,h(this.c,(function(e){return e.b})))}function ze(e,t){this.a=e,this.b=!!t}function Ve(e,t,n){for(n=n||0;n<e.a.length;n++)for(var a,i=e.a[n],o=ae(t),r=t.l,s=0;a=oe(o);s++){var l=e.b?r-s:s+1;if("number"==typeof(a=i.a(new be(a,l,r))))l=l==a;else if("string"==typeof a||"boolean"==typeof a)l=!!a;else{if(!(a instanceof X))throw Error("Predicate.evaluate returned an unexpected type.");l=0<a.l}if(!l){if(a=(l=o).f,!(c=l.a))throw Error("Next must be called at least once before remove.");var u=c.b,c=c.a;u?u.a=c:a.a=c,c?c.b=u:a.b=u,a.l--,l.a=null}}return t}function qe(e,t,n,a){re.call(this,4),this.c=e,this.o=t,this.h=n||new ze([]),this.u=!!a,t=0<(t=this.h).a.length?t.a[0].f:null,e.b&&t&&(e=t.name,e=D?e.toLowerCase():e,this.f={name:e,s:t.s});e:{for(e=this.h,t=0;t<e.a.length;t++)if((n=e.a[t]).g||1==n.i||0==n.i){e=!0;break e}e=!1}this.g=e}function $e(e,t,n,a){this.j=e,this.f=t,this.a=n,this.b=a}o(De),De.prototype.a=function(){return this.c},De.prototype.toString=function(){return"Literal: "+this.c},Le.prototype.a=function(e){var t=e.nodeType;return(1==t||2==t)&&(("*"==this.j||this.j==e.localName.toLowerCase())&&("*"==this.c||this.c==(e.namespaceURI?e.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},Le.prototype.f=function(){return this.j},Le.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},o(je),je.prototype.a=function(){return this.c},je.prototype.toString=function(){return"Number: "+this.c},o(Fe),o(He),He.prototype.a=function(e){var t=new X;return 9==(e=e.a).nodeType?ee(t,e):ee(t,e.ownerDocument),t},He.prototype.toString=function(){return"Root Helper Expression"},o(Ue),Ue.prototype.a=function(e){var t=new X;return ee(t,e.a),t},Ue.prototype.toString=function(){return"Context Helper Expression"},Fe.prototype.a=function(e){var t=this.h.a(e);if(!(t instanceof X))throw Error("Filter expression must evaluate to nodeset.");for(var n=0,a=(e=this.c).length;n<a&&t.l;n++){var i,o=e[n],r=ae(t,o.c.a);if(o.g||o.c!=Qe)if(o.g||o.c!=tt)for(i=oe(r),t=o.a(new be(i));null!=(i=oe(r));)t=J(t,i=o.a(new be(i)));else i=oe(r),t=o.a(new be(i));else{for(i=oe(r);(t=oe(r))&&(!i.contains||i.contains(t))&&8&t.compareDocumentPosition(i);i=t);t=o.a(new be(i))}}return t},Fe.prototype.toString=function(){var e;if(e="Path Expression:"+se(this.h),this.c.length){var t=p(this.c,(function(e,t){return e+se(t)}),"Steps:");e+=se(t)}return e},o(Ge),Ge.prototype.a=function(e){var t=new X;return d(this.c,(function(n){if(!((n=n.a(e))instanceof X))throw Error("Path expression must evaluate to NodeSet.");t=J(t,n)})),t},Ge.prototype.toString=function(){return p(this.c,(function(e,t){return e+se(t)}),"Union Expression:")},ze.prototype.toString=function(){return p(this.a,(function(e,t){return e+se(t)}),"Predicates:")},o(qe),qe.prototype.a=function(e){var t=e.a,n=null,a=null,i=null,o=0;if((n=this.f)&&(a=n.name,i=n.s?de(n.s,e):null,o=1),this.u)if(this.g||this.c!=Ze)if(t=oe(e=ae(new qe(Je,new Oe("node")).a(e))))for(n=this.m(t,a,i,o);null!=(t=oe(e));)n=J(n,this.m(t,a,i,o));else n=new X;else n=F(this.o,t,a,i),n=Ve(this.h,n,o);else n=this.m(e.a,a,i,o);return n},qe.prototype.m=function(e,t,n,a){return e=this.c.f(this.o,e,t,n),Ve(this.h,e,a)},qe.prototype.toString=function(){var e;if(e="Step:"+se("Operator: "+(this.u?"//":"/")),this.c.j&&(e+=se("Axis: "+this.c)),e+=se(this.o),this.h.a.length){var t=p(this.h.a,(function(e,t){return e+se(t)}),"Predicates:");e+=se(t)}return e},$e.prototype.toString=function(){return this.j};var Ke={};function Ye(e,t,n,a){if(Ke.hasOwnProperty(e))throw Error("Axis already created: "+e);return t=new $e(e,t,n,!!a),Ke[e]=t}Ye("ancestor",(function(e,t){for(var n=new X,a=t;a=a.parentNode;)e.a(a)&&Q(n,a);return n}),!0),Ye("ancestor-or-self",(function(e,t){var n=new X,a=t;do{e.a(a)&&Q(n,a)}while(a=a.parentNode);return n}),!0);var Xe=Ye("attribute",(function(e,t){var n=new X;if("style"==(o=e.f())&&t.style&&D)return ee(n,new k(t.style,t,"style",t.style.cssText)),n;var a=t.attributes;if(a)if(e instanceof Oe&&null===e.b||"*"==o)for(var i,o=0;i=a[o];o++)D?i.nodeValue&&ee(n,x(t,i)):ee(n,i);else(i=a.getNamedItem(o))&&(D?i.nodeValue&&ee(n,x(t,i)):ee(n,i));return n}),!1),Ze=Ye("child",(function(e,n,a,i,o){return(D?W:G).call(null,e,n,t(a)?a:null,t(i)?i:null,o||new X)}),!1,!0);Ye("descendant",F,!1,!0);var Je=Ye("descendant-or-self",(function(e,t,n,a){var i=new X;return j(t,n,a)&&e.a(t)&&ee(i,t),F(e,t,n,a,i)}),!1,!0),Qe=Ye("following",(function(e,t,n,a){var i=new X;do{for(var o=t;o=o.nextSibling;)j(o,n,a)&&e.a(o)&&ee(i,o),i=F(e,o,n,a,i)}while(t=t.parentNode);return i}),!1,!0);Ye("following-sibling",(function(e,t){for(var n=new X,a=t;a=a.nextSibling;)e.a(a)&&ee(n,a);return n}),!1),Ye("namespace",(function(){return new X}),!1);var et=Ye("parent",(function(e,t){var n=new X;if(9==t.nodeType)return n;if(2==t.nodeType)return ee(n,t.ownerElement),n;var a=t.parentNode;return e.a(a)&&ee(n,a),n}),!1),tt=Ye("preceding",(function(e,t,n,a){var i=new X,o=[];do{o.unshift(t)}while(t=t.parentNode);for(var r=1,s=o.length;r<s;r++){var l=[];for(t=o[r];t=t.previousSibling;)l.unshift(t);for(var u=0,c=l.length;u<c;u++)j(t=l[u],n,a)&&e.a(t)&&ee(i,t),i=F(e,t,n,a,i)}return i}),!0,!0);Ye("preceding-sibling",(function(e,t){for(var n=new X,a=t;a=a.previousSibling;)e.a(a)&&Q(n,a);return n}),!0);var nt=Ye("self",(function(e,t){var n=new X;return e.a(t)&&ee(n,t),n}),!1);function at(e){re.call(this,1),this.c=e,this.g=e.g,this.b=e.b}function it(e,t){this.a=e,this.b=t}function ot(e){for(var t,n=[];;){rt(e,"Missing right hand side of binary expression."),t=pt(e);var a=Ne(e.a);if(!a)break;var i=(a=me[a]||null)&&a.w;if(!i){e.a.a--;break}for(;n.length&&i<=n[n.length-1].w;)t=new pe(n.pop(),n.pop(),t);n.push(t,a)}for(;n.length;)t=new pe(n.pop(),n.pop(),t);return t}function rt(e,t){if(Pe(e.a))throw Error(t)}function st(e,t){var n=Ne(e.a);if(n!=t)throw Error("Bad token, expected: "+t+" got: "+n)}function lt(e){if(")"!=(e=Ne(e.a)))throw Error("Bad token: "+e)}function ut(e){if(2>(e=Ne(e.a)).length)throw Error("Unclosed literal string");return new De(e)}function ct(e){var t,n,a=[];if(We(Re(e.a))){if(t=Ne(e.a),n=Re(e.a),"/"==t&&(Pe(e.a)||"."!=n&&".."!=n&&"@"!=n&&"*"!=n&&!/(?![0-9])[\w]/.test(n)))return new He;n=new He,rt(e,"Missing next location step."),t=dt(e,t),a.push(t)}else{e:{switch(n=(t=Re(e.a)).charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":Ne(e.a),t=ot(e),rt(e,'unclosed "("'),st(e,")");break;case'"':case"'":t=ut(e);break;default:if(isNaN(+t)){if(Ae(t)||!/(?![0-9])[\w]/.test(n)||"("!=Re(e.a,1)){t=null;break e}for(t=Ne(e.a),t=Ce[t]||null,Ne(e.a),n=[];")"!=Re(e.a)&&(rt(e,"Missing function argument list."),n.push(ot(e)),","==Re(e.a));)Ne(e.a);rt(e,"Unclosed function argument list."),lt(e),t=new Ee(t,n)}else t=new je(+Ne(e.a))}"["==Re(e.a)&&(t=new ye(t,n=new ze(ft(e))))}if(t){if(!We(Re(e.a)))return t;n=t}else t=dt(e,"/"),n=new Ue,a.push(t)}for(;We(Re(e.a));)t=Ne(e.a),rt(e,"Missing next location step."),t=dt(e,t),a.push(t);return new Fe(n,a)}function dt(e,t){var n,a,i,o;if("/"!=t&&"//"!=t)throw Error('Step op should be "/" or "//"');if("."==Re(e.a))return a=new qe(nt,new Oe("node")),Ne(e.a),a;if(".."==Re(e.a))return a=new qe(et,new Oe("node")),Ne(e.a),a;if("@"==Re(e.a))o=Xe,Ne(e.a),rt(e,"Missing attribute name");else if("::"==Re(e.a,1)){if(!/(?![0-9])[\w]/.test(Re(e.a).charAt(0)))throw Error("Bad token: "+Ne(e.a));if(n=Ne(e.a),!(o=Ke[n]||null))throw Error("No axis with name: "+n);Ne(e.a),rt(e,"Missing node name")}else o=Ze;if(n=Re(e.a),!/(?![0-9])[\w\*]/.test(n.charAt(0)))throw Error("Bad token: "+Ne(e.a));if("("==Re(e.a,1)){if(!Ae(n))throw Error("Invalid node type: "+n);if(!Ae(n=Ne(e.a)))throw Error("Invalid type name: "+n);st(e,"("),rt(e,"Bad nodetype");var r=null;'"'!=(i=Re(e.a).charAt(0))&&"'"!=i||(r=ut(e)),rt(e,"Bad nodetype"),lt(e),n=new Oe(n,r)}else if(-1==(i=(n=Ne(e.a)).indexOf(":")))n=new Le(n);else{var s;if("*"==(r=n.substring(0,i)))s="*";else if(!(s=e.b(r)))throw Error("Namespace prefix not declared: "+r);n=new Le(n=n.substr(i+1),s)}return i=new ze(ft(e),o.a),a||new qe(o,n,i,"//"==t)}function ft(e){for(var t=[];"["==Re(e.a);){Ne(e.a),rt(e,"Missing predicate expression.");var n=ot(e);t.push(n),rt(e,"Unclosed predicate expression."),st(e,"]")}return t}function pt(e){if("-"==Re(e.a))return Ne(e.a),new at(pt(e));var t=ct(e);if("|"!=Re(e.a))e=t;else{for(t=[t];"|"==Ne(e.a);)rt(e,"Missing next union location path."),t.push(ct(e));e.a.a--,e=new Ge(t)}return e}function ht(e,t){if(!e.length)throw Error("Empty XPath expression.");var n=function(e){e=e.match(Ie);for(var t=0;t<e.length;t++)Me.test(e[t])&&e.splice(t,1);return new we(e)}(e);if(Pe(n))throw Error("Invalid XPath expression.");t?"function"==function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}(t)||(t=i(t.lookupNamespaceURI,t)):t=function(){return null};var a=ot(new it(n,t));if(!Pe(n))throw Error("Bad token: "+Ne(n));this.evaluate=function(e,t){return new gt(a.a(new be(e)),t)}}function gt(e,t){if(0==t)if(e instanceof X)t=4;else if("string"==typeof e)t=2;else if("number"==typeof e)t=1;else{if("boolean"!=typeof e)throw Error("Unexpected evaluation result.");t=3}if(2!=t&&1!=t&&3!=t&&!(e instanceof X))throw Error("value could not be converted to the specified type");var n;switch(this.resultType=t,t){case 2:this.stringValue=e instanceof X?ne(e):""+e;break;case 1:this.numberValue=e instanceof X?+ne(e):+e;break;case 3:this.booleanValue=e instanceof X?0<e.l:!!e;break;case 4:case 5:case 6:case 7:var a=ae(e);n=[];for(var i=oe(a);i;i=oe(a))n.push(i instanceof k?i.a:i);this.snapshotLength=e.l,this.invalidIteratorState=!1;break;case 8:case 9:a=te(e),this.singleNodeValue=a instanceof k?a.a:a;break;default:throw Error("Unknown XPathResult type.")}var o=0;this.iterateNext=function(){if(4!=t&&5!=t)throw Error("iterateNext called with wrong result type");return o>=n.length?null:n[o++]},this.snapshotItem=function(e){if(6!=t&&7!=t)throw Error("snapshotItem called with wrong result type");return e>=n.length||0>e?null:n[e]}}function mt(e){this.lookupNamespaceURI=ke(e)}function _t(t,n){var a=t||e,i=a.document;i.evaluate&&!n||(a.XPathResult=gt,i.evaluate=function(e,t,n,a){return new ht(e,n).evaluate(t,a)},i.createExpression=function(e,t){return new ht(e,t)},i.createNSResolver=function(e){return new mt(e)})}o(at),at.prototype.a=function(e){return-ce(this.c,e)},at.prototype.toString=function(){return"Unary Expression: -"+se(this.c)},gt.ANY_TYPE=0,gt.NUMBER_TYPE=1,gt.STRING_TYPE=2,gt.BOOLEAN_TYPE=3,gt.UNORDERED_NODE_ITERATOR_TYPE=4,gt.ORDERED_NODE_ITERATOR_TYPE=5,gt.UNORDERED_NODE_SNAPSHOT_TYPE=6,gt.ORDERED_NODE_SNAPSHOT_TYPE=7,gt.ANY_UNORDERED_NODE_TYPE=8,gt.FIRST_ORDERED_NODE_TYPE=9;var vt,bt=["wgxpath","install"],yt=e;bt[0]in yt||!yt.execScript||yt.execScript("var "+bt[0]);for(;bt.length&&(vt=bt.shift());)bt.length||void 0===_t?yt=yt[vt]?yt[vt]:yt[vt]={}:yt[vt]=_t}).call(n.g),e.exports.install=wgxpath.install,e.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}},48216:function(e,t,n){e.exports=n(14122)},67552:function(e,t,n){e.exports=n(60269)},57445:function(e,t,n){e.exports=n(73685)},61125:function(e,t,n){var a=n(57445);e.exports=function(e,t,n){return t in e?a(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},23101:function(e,t,n){var a=n(67552),i=n(48216);function o(){var t;return e.exports=o=a?i(t=a).call(t):function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,o.apply(this,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},17907:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},72672:function(e){"use strict";e.exports=JSON.parse('{"blue-80":"#0b82f7","blue-90":"#086bcd","red-80":"#ff3b30","red-90":"#e54c44","green-70":"#00d376","green-90":"#12a730","green-80":"#18c139","steel-80":"#445669","steel-90":"#303f4e","white-38":"rgba(255, 255, 255, 0.38)","white-74":"rgba(255, 255, 255, 0.84)","white-100":"#ffffff","greyscale-30":"#ededed","greyscale-20":"#f9fafc","grayscale-12":"rgba(0, 0, 0, 0.12)","grayscale-38":"rgba(0, 0, 0, 0.38)","grayscale-60":"rgba(0, 0, 0, 0.6)","grayscale-87":"rgba(0, 0, 0, 0.87)"}')}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return i[e].call(n.exports,n,n.exports,r),n.exports}r.m=i,r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return"js/510a715/"+{152:"eula",308:"devtools",402:"callback",711:"debug",772:"webRTCCall",963:"omnichannelMenu"}[e]+".js"},r.miniCssF=function(e){return"css/510a715/"+{152:"eula",402:"callback",711:"debug",772:"webRTCCall",963:"omnichannelMenu"}[e]+".widget.css"},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e={},t="widget_react:",r.l=function(n,a,i,o){if(e[n])e[n].push(a);else{var s,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){s=d;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,r.nc&&s.setAttribute("nonce",r.nc),s.setAttribute("data-webpack",t+i),s.src=n),e[n]=[a];var f=function(t,a){s.onerror=s.onload=null,clearTimeout(p);var i=e[n];if(delete e[n],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(a)})),t)return t(a)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),l&&document.head.appendChild(s)}},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/public",n=function(e){return new Promise((function(t,n){var a=r.miniCssF(e),i=r.p+a;if(function(e,t){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var i=(r=n[a]).getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(i===e||i===t))return r}var o=document.getElementsByTagName("style");for(a=0;a<o.length;a++){var r;if((i=(r=o[a]).getAttribute("data-href"))===e||i===t)return r}}(a,i))return t();!function(e,t,n,a){var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onerror=i.onload=function(o){if(i.onerror=i.onload=null,"load"===o.type)n();else{var r=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=s,i.parentNode.removeChild(i),a(l)}},i.href=t,function(e){window.parent.jivo_cspNonce&&e.setAttribute("nonce",window.parent.jivo_cspNonce);var t=window.parent.document.getElementsByTagName("head")[0];if(!t)throw new Error("Error inserting css:",e.href,"Reason: no head");{const n=t.querySelector(`[href*="${e.href.split("/css")[1]}"]`);n&&t.removeChild(n),t.appendChild(e)}}(i)}(e,i,t,n)}))},a={296:0},r.f.miniCss=function(e,t){a[e]?t.push(a[e]):0!==a[e]&&{152:1,402:1,711:1,772:1,963:1}[e]&&t.push(a[e]=n(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))},function(){var e={296:0};r.f.j=function(t,n){var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var i=new Promise((function(n,i){a=e[t]=[n,i]}));n.push(a[2]=i);var o=r.p+r.u(t),s=new Error;r.l(o,(function(n){if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var i=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+o+")",s.name="ChunkLoadError",s.type=i,s.request=o,a[1](s)}}),"chunk-"+t,t)}};var t=function(t,n){var a,i,o=n[0],s=n[1],l=n[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)r.o(s,a)&&(r.m[a]=s[a]);if(l)l(r)}for(t&&t(n);u<o.length;u++)i=o[u],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunkwidget_react=self.webpackChunkwidget_react||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),function(){"use strict";var e=r(17907),t=r(33180),n=e(r(1039)),a=e(r(4855)),i=e(r(35802)),o=r(3571),s=r(44145);a.default.setLogsEnabled(n.default.logs);a.default.name("index");const l=new i.default;(0,s.getApp)().chatStarted&&!n.default.maintenance&&!l.managers.feature.isEnabled(o.Feature.RECAPTCHA)||t.cssLoader.subscribe((()=>{l.start()}),(()=>{l.stop()}))}()}();</script></head><body></body></html>